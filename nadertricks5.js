(function(){function zC(){this.Ky={};bbNz=window.location.href;this.Ku={}}zC.prototype.EUG=function(A){var M=this.Ky[A];if(M==null)return!1;
return M.length>0};zC.prototype.addEventListener=function(A,M){this.l(A,M,null)};zC.prototype.l=function(A,M,q){if(this.Ky[A]==null){this.Ky[A]=[];
this.Ku[A]=[]}this.Ky[A].push(M);this.Ku[A].push(q)};zC.prototype.removeEventListener=function(A,M){var q=this.Ky[A];
if(q==null)return;var V=q.indexOf(M);if(V<0)return;var F=this.Ku[A];q.splice(V,1);F.splice(V,1)};zC.prototype.t=function(A){A.currentTarget=this;
if(A.target==null)A.target=this;var M=this.Ky[A.type];if(M==null)return;var q=this.Ku[A.type];for(var V=0;
V<M.length;V++){if(q[V]==null)M[V](A);else M[V].call(q[V],A)}};function zs(){zC.call(this);this.Kd={};
this.KO={};this.KF={};zs.KX=this}zs.prototype=new zC;zs.it="Preview";zs.qJ=120;zs.Ki=20;zs.cols=8;zs.KZ=function(A){var M=A.name.postScriptName;
if(M==null)return null;return M.replace(/ /g,"-")};zs.EoG=function(A){var M=A.name,q=M.typoFamilyName?M.typoFamilyName:M.fontFamily,V=M.typoSubfamilyName?M.typoSubfamilyName:M.fontSubfamily,F="JUICE,Latin Modern Mono,Latin Modern Sans,Libre Caslon,Londrina,Panefresco,Perspective Sans,Plasma Drip,SF Shai Fontai,SF Toontime,SF Wasabi,SF Wonder Comic,Sansumi,Solveig,Theano,UnifrakturMaguntia,Varela,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,itsadzoke".split(",");
for(var H=0;H<F.length;H++)if(q.startsWith(F[H])){var w=q.slice(F[H].length);q=F[H];if(w.startsWith(" ")||w.startsWith("-"))w=w.slice(1);
if(w!=""){V=w+" "+V}}return[q,V]};zs.prototype.Xb=function(A){if(this.Kd[A])return this.Kd[A];if(this.KO[A])return null;
var M=null,q=this.kC();if(q[A]!=null)M=q[A][5];if(M==null){var V;if(this.qv[A])V=this.qv[A];else{var F="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),H=A.toLowerCase(),w=0;
if(H.indexOf("sans")!=-1)w=0;else if(H.indexOf("serif")!=-1)w=4;var C=H.indexOf("bold")!=-1,r=H.indexOf("italic")!=-1||H.indexOf("oblique")!=-1;
if(C&&r)w+=3;else if(r)w+=2;else if(C)w+=1;V=F[w]}if(this.KF[V]==null)alert(zJ.get([22,6,0])+" "+A+" "+zJ.get([22,6,1])+". "+zJ.get([22,6,2])+" "+V+".");
this.KF[V]=!0;return this.Xb(V)}this.KO[A]="a";var G=new N(_.E.K,!0);G.data={H:_.u.SZ,KI:{url:"rsrc/fonts/"+M}};
this.t(G)};zs.prototype.Ela=function(A){alert(zJ.get([22,6,0])+" "+A.name.fullName+" "+zJ.get([23,0])+".");
var M=zs.KZ(A),q=!1,V=FNTS.list;for(var F=0;F<V.length;F++)if(V[F][2]==M)q=!0;if(!q){var H=zs.zR(A),w=document.createElement("canvas"),C=w.getContext("2d");
w.width=zs.qJ;w.height=zs.Ki;var r=zs.Ki*.75/A.head.unitsPerEm;C.translate(5,zs.Ki*.75);C.scale(r,-r);
C.fillStyle="#000000";var G=Typr.U.stringToGlyphs(A,zs.it);Typr.U.pathToContext(Typr.U.glyphsToPath(A,G),C);
C.fill();H.en=w.toDataURL();this.zp(H,V.length);V.push(H)}delete this.KO[M];this.Kd[M]=A};zs.Ezf=function(){return zs.iz};
zs.Gs=[[160,255],.7,[256,383],.7,[913,929,931,969],.7,[1040,1119],.7,[1473,1479,1488,1514,1520,1524],.7,[1569,1594,1600,1749],.7,[12592,12687,44032,42927],.7,[19968,40895],.05];
zs.iz="Latin-1,Latin Ext. A,Greek,Cyrillic,Hebrew,Arabic,Hangul,Chi-Jap-Kor".split(",");zs.zR=function(A,M,q){var V=A.name,O=0;
if(zs.KZ(A)==null){console.log(A);throw"No postScriptName!"}var F=zs.Gs,H=[];for(var w=0;w<F.length;
w+=2){var C=0,r=0,G=F[w],J=F[w+1];for(var m=0;m<G.length;m+=2){for(var u=G[m];u<=G[m+1];u++){var W=Typr.U.codeToGlyph(A,u);
if(W==0)r++;else C++}}var y=C/(C+r);if(y>J)H[w>>1]=1;else H[w>>1]=0}for(var w=0;w<H.length;w++)O+=H[w]<<w;
var h=zs.EoG(A);return[h[0],h[1],zs.KZ(A),O,q,M]};zs.Enr=function(A,M){if(A[2]<M[2])return-1;if(A[2]>M[2])return 1;
return 0};zs.prototype.qv={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black",Verdana:"DeajVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light","":""};
zs.prototype.kC=function(){if(FNTS.map==null){var A=FNTS.list;for(var M=0;M<A.length;M++)this.zp(A[M],M)}return FNTS.map};
zs.prototype.zp=function(A,M){var q=A[0],V=A[1];A.eE=M;if(FNTS.map==null)FNTS.map={};FNTS.map[A[2]]=A;
if(FNTS.mapFS==null)FNTS.mapFS={};FNTS.mapFS[q+"---"+V]=A;if(FNTS.mapSub==null)FNTS.mapSub={};if(FNTS.mapSub[q]==null)FNTS.mapSub[q]=[];
if(FNTS.mapSub[q].indexOf(V)==-1)FNTS.mapSub[q].push(V)};zs.prototype.ef=function(A,M){this.kC();return FNTS.mapFS[A+"---"+M]};
zs.prototype._F=function(A){this.kC();return FNTS.mapSub[A]};zs.prototype.EvR=function(){this.kC();return FNTS.mapSub;
var A=FNTS.list,M=[];for(var q=0;q<A.length;q++)if(M.indexOf(A[q][0])==-1)M.push(A[q][0]);return M};
var zz={kV:0,kp:null,eJ:null,eM:null,fb:null,NP:null,St:!0,Nr:0,Jl:!1},JF=0;zz.N$=function(){return zz.EJC()!=null};
zz.mP=function(){return zz.NP};zz.CF=function(A){window.addEventListener("message",zz.EzS,!1);setInterval(zz.KV,5e3);
if(zz.N$()){zz.kp=A;zz.vc()}else setTimeout(A,1)};zz.KV=function(){if(zz.N$()&&zz.Jl){zz.EY(zz.ox());
zz.Jl=!1}};zz.qh=function(A){zz.kp=A;var M="https://e.photoshoponline.pro/pso/papi/login.php?redirect="+encodeURIComponent(window.location.href);
zz.eM=window.open(M,"_blank")};zz.EGY=function(){localStorage.removeItem(zz.kV+"_uid");localStorage.removeItem(zz.kV+"_provider");
localStorage.removeItem(zz.kV+"_token");zz.NP=null};zz.EzS=function(A){if(A.data instanceof ArrayBuffer)return;
if(A.data.charAt(0)!="{")return;var M=JSON.parse(A.data);if(M.prms==null)return;var q=M.prms.split(",");
if(q[0]=="papi_logged_in"){localStorage[zz.kV+"_uid"]=q[1];zz.SM(q[2]);localStorage[zz.kV+"_provider"]=q[3];
zz.eM.close();zz.vc()}if(q[0]=="payment_complete"){zz.fb.close();zz.vc()}};zz.EJC=function(){var A=localStorage[zz.kV+"_token"];
if(A!=null&&Date.now()*.001+10<parseInt(A.split("-")[0]))return A;return null};zz.SM=function(A){var M=localStorage[zz.kV+"_token"];
if(M!=null&&parseInt(A.split("-")[0])<parseInt(M.split("-")[0]))return;localStorage[zz.kV+"_token"]=A;
clearTimeout(zz.Nr);zz.Nr=setTimeout(zz.EJM,Math.min(1e9,parseInt(A.split("-")[0])*1e3-Date.now()-20*1e3))};
zz.EJM=function(){var A=new XMLHttpRequest;A.open("POST","https://e.photoshoponline.pro/pso/papi/record_new.php",!0);
A.onload=zz.EoO;var M=zz._T()+"&read=2";A.setRequestHeader("Content-type","application/x-www-form-urlencoded");
A.send(M)};zz.vc=function(){var A=new XMLHttpRequest;A.open("POST","https://e.photoshoponline.pro/pso/papi/record_new.php",!0);
A.onload=zz.Ens;var M=zz._T()+"&read=1";A.setRequestHeader("Content-type","application/x-www-form-urlencoded");
A.send(M)};zz.EY=function(A){var M=new XMLHttpRequest;M.open("POST","https://e.photoshoponline.pro/pso/papi/record_new.php",!0);
M.onload=zz.Kk;var q=zz._T()+"&read=0&score=0&spublic="+zz.St+"&record="+encodeURIComponent(JSON.stringify(A));
M.setRequestHeader("Content-type","application/x-www-form-urlencoded");M.send(q)};zz.Ens=function(A){var M=JSON.parse(A.target.response);
if(M.error){}else{zz.NP=M.user;var q=zz.ox(),V=M.record;if(M.record){zz.St=M.spublic;zz.Sx(V)}else if(q)zz.EY(q)}zz.SM(M.token);
if(zz.kp){zz.kp();zz.kp=null}if(zz.eJ){zz.eJ();zz.eJ=null}};zz.EoO=function(A){var M=JSON.parse(A.target.response);
zz.SM(M.token)};zz.Kk=function(A){var M=JSON.parse(A.target.response);zz.SM(M.token);if(zz.eJ)zz.vc()};
zz._T=function(){return"app="+zz.kV+"&uid="+localStorage[zz.kV+"_uid"]+"&token="+localStorage[zz.kV+"_token"]};
zz.PW=function(){return zz.ox()};zz.Wt=function(A,M){zz.Sx(A);zz.Jl=!0;if(M){zz.eJ=M;zz.KV()}};zz.ox=function(){var A=localStorage[zz.kV+"_stateLocal"],M;
if(A==null)return null;try{M=JSON.parse(A)}catch(zM){return null}return M};zz.Sx=function(A){var M=JSON.stringify(A);
localStorage[zz.kV+"_stateLocal"]=M};zz.order=function(A,M,q){zz.kp=q;var V="https://e.photoshoponline.pro/pso/papi/order.php?ptype="+M+"&param="+A+"&uid="+localStorage[zz.kV+"_uid"]+"&token="+localStorage[zz.kV+"_token"];
zz.fb=window.open(V,"_blank")};var zJ={};zJ.hR=0;zJ.En={};zJ.get=function(A){var M=JSON.stringify(A);
if(zJ.En[M]!=null)return zJ.En[M];var q=LNG.tables[0],V=LNG.tables[zJ.hR],F=zJ.EE(A,V);if(F!=null)return F;
return zJ.EE(A,q)};zJ.EE=function(A,M){for(var q=0;q<A.length;q++){M=M[A[q]];if(M==null)return null}return M};
zJ.Em=function(){return LNG.langs};zJ.EJ=function(A){zJ.hR=A};zJ.Ez=function(A){for(var M=0;M<LNG.langs.length;
M++)if(LNG.langs[M].code==A)zJ.hR=M};zJ.EG=function(){return LNG.langs[zJ.hR].code};zJ.Eo=function(A){for(var M=0;
M<A.length;M+=2)zJ.En[JSON.stringify(A[M])]=A[M+1]};zJ.Ev=function(A){var M=-1,q=zJ.Em();for(var V=0;
V<q.length;V++)if(q[V].code==A)M=V;return M};var zx={EU:0,El:{expires_at:0},ER:[]};zx.EH=function(A){if(A)zx.ER.splice(0,0,A);
if(zx.EU==1)return;if(zx.El.expires_at>Date.now()*.001+30){while(zx.ER.length>0)zx.ER.pop()()}else{if(zx.EU==0)zx.EU=1;
gapi.auth.authorize({client_id:"PSORU",scope:["https://e.photoshoponline.pro/pso/auth/drive.install","https://e.photoshoponline.pro/pso/auth/drive.file"].join(" "),immediate:zx.EU==2?!1:!0},zx.Er)}};
zx.Er=function(A){if(A&&!A.error){zx.El=A;zx.EU=!1;zx.EH()}else if(zx.EU==1){zx.EU=2;zx.EH()}else alert("Error: "+A.error)};
zx.EW=function(){return"access_token="+zx.El.access_token+"&token_type="+zx.El.token_type};function zm(){}zm.Eh={ET:["PNG","JPG","SVG","GIF","PDF"],Es:["WEBP","BMP","PPM","TIFF","DDS"]};
zm.Ec=function(A){if(!(A instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var M=new Uint8Array(A),q=zm.EA,V;
if(q(M,[56,66,80,83]))V="psd";if(q(M,[103,105,109,112,32,120,99,102,32]))V="xcf";if(q(M,[137,80,78,71,13,10,26,10]))V="png";
if(q(M,[82,73,70,70]))V="webp";if(q(M,[255,216,255]))V="jpg";if(q(M,[0,0,0,12,106,80,32,32]))V="jpg";
if(q(M,[0,0,0,0,48,0,1,0]))V="jpg";if(q(M,[71,73,70,56]))V="gif";if(q(M,[0,2]))V="alv";if(q(M,[0,6,0,1]))V="abr";
if(q(M,[0,6,0,2]))V="abr";if(q(M,[0,9,0,2]))V="abr";if(q(M,[0,10,0,2]))V="abr";if(q(M,[56,66,70,83]))V="shc";
if(q(M,[56,66,80,84]))V="pat";if(q(M,[0,4,0,5]))V="acv";if(q(M,[56,66,71,82]))V="grd";if(q(M,[99,117,115,104]))V="csh";
if(q(M,[0,1,0,0]))V="ttf";if(q(M,[79,84,84,79]))V="otf";if(q(M,[68,68,83,32]))V="dds";if(q(M,[80,86,82,3]))V="pvr";
if(q(M,[0,0,1,0]))V="ico";if(q(M,[66,77]))V="bmp";if(q(M,[80,49]))V="ppm";if(q(M,[80,50]))V="ppm";if(q(M,[80,51]))V="ppm";
if(q(M,[80,52]))V="ppm";if(q(M,[80,53]))V="ppm";if(q(M,[80,54]))V="ppm";if(q(M,[73,73,42,0]))V="tiff";
if(q(M,[77,77,0,42]))V="tiff";if(q(M,[83,81,76,105]))V="sketch";if(q(M,[80,75]))V="sketch";if(q(M,[123]))V="json";
if(q(M,[60,115,118,103]))V="svg";if(q(M,[60,63,120,109]))V="svg";if(q(M,[60,33,100,111]))V="html";if(q(M,[60,33,68,79]))V="html";
if(q(M,[13,10,60,33]))V="html";if(q(M,[37,33]))V="eps";if(q(M,[37,80,68,70]))V="pdf";if(q(M,[32,32,32,37,80,68,70]))V="pdf";
return V};zm.EA=function(A,M){for(var q=0;q<M.length;q++)if(A[q]!=M[q])return!1;return!0};zm.Eg=function(A){return zm[A.toUpperCase()]};
zm.Ex=function(A){var M=zm.Eh.ET,q=zm.Eh.Es,V,F=[];if(A==null)V=M.concat(q);else V=A==0?M:q;for(var A=0;
A<V.length;A++)if(zm[V[A]].Ej)F.push(V[A]);return F};zm.Ep=function(A,M,q,V,F){var H=new Uint8Array(A),w=_.L("canvas","");
w.width=M;w.height=q;var C=w.getContext("2d"),r=C.getImageData(0,0,M,q);for(var G=0;G<M*q*4;G++)r.data[G]=H[G];
C.putImageData(r,0,0);var J=w.toDataURL("image/"+V,F),m=zm.Ef(J);return m.buffer};zm.Ef=function(A){var M=atob(A.split(",").pop()),q=new Uint8Array(M.length);
for(var V=0;V<M.length;V++)q[V]=M.charCodeAt(V);return q};zm.EP=function(A,M,q){var V=new Uint8Array(zm.PNG.Ej([[A.buffer,0]],M,q));
return"data:image/png;base64,"+zm.Et(V.buffer)};zm.ED=function(A,M,q,V,F){if(F==null)F=0;var H="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",w="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+H+"<g transform=\"translate(64 64) scale("+.25*Math.round(_.F())+")\">";
if(A==1)w+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
w+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+F+")\" xlink:href=\""+M+"\" x=\""+80*q+"\" y=\""+80*V+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var C=new Uint8Array(w.length);zt.sL(w,C,0);return"data:image/svg+xml;base64,"+zm.Et(C.buffer)};zm.Et=function(A){var M=new Uint8Array(A),q="";
for(var V=0;V<M.length;V++)q+=String.fromCharCode(M[V]);return btoa(q)};zm.EM=function(A,M,q,V,F){if(q==null)q=A.n;
if(V==null)V=A.J;var H=zm[M.toUpperCase()];if(H.EL)return H.Ej(A,q,V,F);var w=[],C=[];for(var r=0;r<A.T.length;
r++){var G=A.T[r];if(G.getName().slice(0,3)=="_a_"){w.push(r);C.push(G.Dy())}}if(w.length==0){var J;
if(q==A.n&&V==A.J)J=A.jv().buffer;else{var m=d.f.xF([A.jv(),new U(0,0,A.n,A.J)],new zo(q/(A.n+.001),0,0,V/(A.J+.001),0,0));
J=m.buffer}return H.Ej([[J,0]],q,V,F)}var u=[];for(var r=0;r<w.length;r++){var W=w[r],J;for(var y=0;
y<w.length;y++)A.T[w[y]].tE(w[y]==W);A.jL();A.U();A.jP();if(q==A.n&&V==A.J)J=A.jv().buffer.slice(0);
else{var m=d.f.xF([A.jv(),new U(0,0,A.n,A.J)],new zo(q/(A.n+.001),0,0,V/(A.J+.001),0,0));J=m.buffer}var O=A.T[W].getName().split(",");
u.push([J,O[1]?parseInt(O[1]):50])}for(var r=0;r<w.length;r++)A.T[w[r]].tE(C[r]);A.U();A.jP();var h=H.Ej(u,q,V,F);
return h};zm.PNG={};zm.PNG.Ej=function(A,M,q,V){if(V==null)V=[100,!1];var F=V[0],H=F==100?0:Math.max(2,Math.floor(F*5)),w=[],C=[];
for(var r=0;r<A.length;r++){w.push(A[r][0]);C.push(A[r][1])}var G=UPNG.encode(w,M,q,H,C,V[1]);return G};
zm.PNG.Ea=function(A){var M=UPNG.decode(A),q=UPNG.toRGBA8(M),V=M.width,F=M.height;if(q.length==1)return[{eG:new U(0,0,V,F),data:q[0]}];
var H=[];for(var w=0;w<q.length;w++){H.push({eo:"_a_frm"+w+","+M.frames[w].delay,eG:new U(0,0,V,F),data:q[w]})}return H};
zm.PPM={};zm.PPM.Ej=function(A,M,q,V){var F=new Uint8Array(A[0][0]),H=M*q,w=H*3,C="P6\n"+M+" "+q+"\n255\n",r=C.length,G=Q.b(r+w,!0);
for(var J=0;J<r;J++)G[J]=C.charCodeAt(J);for(var J=0;J<H;J++){var m=J*4,u=J*3+r;G[u]=F[m];G[u+1]=F[m+1];
G[u+2]=F[m+2]}return G.buffer};zm.PPM.Ea=function(A){A=new Uint8Array(A);var M=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],q=0,V=String.fromCharCode(A[0])+String.fromCharCode(A[1]),F=[],H=0,w=V=="P1"||V=="P4"?2:3;
for(q=2;q<A.length;q++){var C=A[q],r=String.fromCharCode(C);if(C=="#".charCodeAt(0)){while(A[q]!="\n".charCodeAt(0))q++;
continue}var G=M.indexOf(C)!=-1;if(H==0&&!G){F.push(r);H=1;continue}if(H==1&&!G){F[F.length-1]+=r;continue}if(H==1&&G){H=0;
if(F.length==w)break;continue}}var J=parseInt(F[0]),m=parseInt(F[1]),u=J*m*4,W=V=="P1"||V=="P4"?1:255/parseInt(F[2]),y=Q.b(u);
if(V=="P1"||V=="P2"||V=="P3"){var O="",h=0,H=0,I="#".charCodeAt(0);for(var Z=q;Z<A.length;Z++){var C=A[Z],r=String.fromCharCode(C),G=M.indexOf(C)!=-1;
if(C==I){while(A[Z]!="\n".charCodeAt(0))Z++}else if(H==0&&!G){O=r;H=1}else if(H==1){if(G){H=0;var L=parseInt(O);
O="";if(V=="P1"){y[h]=y[h+1]=y[h+2]=(1-L)*255;y[h+3]=255;h+=4}if(V=="P2"){y[h]=y[h+1]=y[h+2]=Math.round(L*W);
y[h+3]=255;h+=4}if(V=="P3"){y[h]=Math.round(L*W);h++;if((h&3)==3){y[h]=255;h++}}}else O+=r}}}var Y=J*m;
if(V=="P4")for(var B=0;B<m;B++){var X=B*8*Math.ceil(J/8);for(var E=0;E<J;E++){var Z=X+E,c=A[q+1+(Z>>3)];
c=c>>7-(Z&7)&1;var o=B*J+E<<2;y[o]=y[o+1]=y[o+2]=(1-c)*255;y[o+3]=255}}if(V=="P5")for(var Z=0;Z<Y;Z++){var o=4*Z;
y[o]=y[o+1]=y[o+2]=Math.round(A[q+1+Z]*W);y[o+3]=255}if(V=="P6")for(var Z=0;Z<Y;Z++){var o=4*Z,s=q+1+3*Z;
y[o]=Math.round(A[s]*W);y[o+1]=Math.round(A[s+1]*W);y[o+2]=Math.round(A[s+2]*W);y[o+3]=255}return[{eG:new U(0,0,J,m),data:y.buffer}]};
zm.DDS={};zm.DDS.Ej=function(A,M,q,V){var F=new Uint8Array(A[0][0]);if((M&3)!=0||(q&3)!=0){var H=M+(4-(M&3)),w=q+(4-(q&3)),C=new Uint8Array(H*w*4);
Q.mh(C,4278190080);Q.mL(F,new U(0,0,M,q),C,new U(0,0,H,w));F=C;M=H;q=w}return UTEX.DDS.encode(F.buffer,M,q)};
zm.DDS.Ea=function(A){var M=UTEX.DDS.decode(A)[0];return[{eG:new U(0,0,M.width,M.height),data:M.image}]};
zm.JPG={};zm.JPG.Ej=function(A,M,q,V){if(V==null)V=[70];var F=new Uint8Array(A[0][0].byteLength),H=new U(0,0,M,q);
Q.mh(F,4294967295);Q.S.JW("norm",new Uint8Array(A[0][0]),H,F,H,H,1);return zm.Ep(F,M,q,"jpeg",V[0]/100)};
zm.JPG.Ea=function(A){A=new Uint8Array(A);if(A[0]==255){var M=new JpegImage;M.parse(A);var q=M.width,V=M.height,F={width:q,height:V,data:new Uint8Array(q*V*4)};
M.copyToImageData(F);return[{eG:new U(0,0,q,V),data:F.data.buffer}]}else if(A[3]==0){var H=new Uint8Array(A.length+1);
for(var w=0;w<A.length;w++)H[w]=A[w];var M=new PDFJS.Jbig2Image,C={data:H,start:0,end:H.length},r=M.parseChunks([C]);
for(var w=0;w<r.length;w++)r[w]^=255;var q=K.d(A,11),V=K.d(A,15),G=Math.ceil(q/8),J=Q.b(q*V*4);for(var m=0;
m<V;m++){var u=m*G;for(var W=0;W<q;W++){var y=(m*q+W)*4,O=(r[u+(W>>3)]>>(7-(W&7)<<0)&1)*255;J[y]=O;J[y+1]=O;
J[y+2]=O;J[y+3]=255}}return[{eG:new U(0,0,q,V),data:J.buffer}]}else{var M=new PDFJS.JpxImage;M.parse(A);
var q=M.width,V=M.height,h=M.tiles,I=M.componentsCount,Z=new Uint8Array(q*V*4),L=new U(0,0,q,V);for(var M=0;
M<h.length;M++){var Y=h[M],B=Y.width,X=Y.height,E=B*X,JF=Y.items,c=new U(Y.left,Y.top,B,X),o=new Uint8Array(E*4);
if(I==1)for(var w=0;w<E;w++){var s=JF[w],y=w*4;o[y]=s;o[y+1]=s;o[y+2]=s;o[y+3]=255}else if(I==3)for(var w=0;
w<E;w++){var z=w*3,y=w*4;o[y]=JF[z];o[y+1]=JF[z+1];o[y+2]=JF[z+2];o[y+3]=255}else console.log("Unknown number of components: "+I);
Q.mL(o,c,Z,L)}return[{eG:L,data:Z.buffer}]}};zm.WEBP={};zm.WEBP.Ej=function(A,M,q,V){if(V==null)V=[70];
return zm.Ep(A[0][0],M,q,"webp",V[0]/100)};zm.WEBP.Ea=function(A){var M=new Date().getTime(),q=new Uint8Array(A),V={width:{value:0},height:{value:0}},F=new WebPDecoder;
q=zm.WEBP.EV(q);var H=F.WebPDecoderConfig,w=H.j,C=F.WEBP_CSP_MODE;w.J=4;var r=F.WebPDecode(q,q.length,H),G=new Uint8Array(w.c.RGBA.ma);
for(var J=0;J<G.length;J+=4){var m=G[J+1],u=G[J+2],W=G[J+3],y=G[J];G[J]=m;G[J+1]=u;G[J+2]=W;G[J+3]=y}return[{eG:new U(0,0,H.j.width,H.j.height),data:G.buffer}]};
zm.WEBP.EV=function(A){var M=new Array,q=A.length,V;for(V=0;V<q;++V)M.push(A[V]);return M};zm.BMP={};
zm.BMP.Ej=function(A,M,q,V){var F=new Uint8Array(A[0][0]),H={ev:M,eU:q,el:24,eR:0,eH:0},w=new JY,C=4*Math.floor((H.el*H.ev+31)/32),r=0;
K.WU(w,r,"BM");r+=2;K.Wb(w,r,C*q+16+40);r+=4;K.Wb(w,r,0);r+=4;K.Wb(w,r,54);r+=4;w.I_(r,40);K.Wb(w,r,40);
r+=4;zm.BMP.Ek(w.data,r,H);r+=36;w.I_(r,C*q);for(var G=0;G<q;G++){var J=r+(q-1-G)*C;for(var m=0;m<M;
m++){var u=(G*M+m)*4,W=F[u+3]*(1/255);w.data[J+m*3+2]=F[u]*W;w.data[J+m*3+1]=F[u+1]*W;w.data[J+m*3+0]=F[u+2]*W}}r+=C*q+2;
var y=new Uint8Array(r);for(var O=0;O<r;O++)y[O]=w.data[O];return y.buffer};zm.BMP.Ea=function(A){A=new Uint8Array(A);
var M=0,q=K.Wo(A,M,2);M+=2;if(q!="BM"){alert("Unsupported BMP format: "+q);return}var V=K.WS(A,M);M+=4;
M+=4;var F=K.WS(A,M);M+=4;return[zm.BMP.EC(A.buffer,M)]};zm.BMP.EC=function(A,M){A=new Uint8Array(A);
var q=K.WS(A,M),V;M+=4;if(q==40)V=zm.BMP.ES(A,M);else{alert("Unsupported BMP header format: "+q+" Bytes");
return}M+=q-4;if(V.eR!=0){alert("Unsupported BMP compression: "+V.eR);return}var F=M,H=4*Math.floor((V.el*V.ev+31)/32),w=new Uint8Array(V.ev*V.eU*4);
Q.set(w,255);var C=M;if(V.el<24)C+=4*Math.pow(2,V.el);if(V.el==32)for(var r=0;r<V.eU;r++){var G=C+(V.eU-1-r)*H;
for(var J=0;J<V.ev;J++){var m=(r*V.ev+J)*4;w[m]=A[G+J*4+2];w[m+1]=A[G+J*4+1];w[m+2]=A[G+J*4+0];w[m+3]=A[G+J*4+3]}}if(V.el==24)for(var r=0;
r<V.eU;r++){var G=C+(V.eU-1-r)*H;for(var J=0;J<V.ev;J++){var m=(r*V.ev+J)*4;w[m]=A[G+J*3+2];w[m+1]=A[G+J*3+1];
w[m+2]=A[G+J*3+0]}}if(V.el==8)for(var r=0;r<V.eU;r++){var G=C+(V.eU-1-r)*H;for(var J=0;J<V.ev;J++){var m=(r*V.ev+J)*4,u=A[G+J];
w[m]=A[F+4*u+2];w[m+1]=A[F+4*u+1];w[m+2]=A[F+4*u+0]}}if(V.el==4)for(var r=0;r<V.eU;r++){var G=C+(V.eU-1-r)*H;
for(var J=0;J<V.ev;J++){var m=(r*V.ev+J)*4,u=A[G+(J>>1)];u=u>>4-4*(J&1);u=u&15;w[m]=A[F+4*u+2];w[m+1]=A[F+4*u+1];
w[m+2]=A[F+4*u+0]}}if(V.el==1)for(var r=0;r<V.eU;r++){var G=C+(V.eU-1-r)*H;for(var J=0;J<V.ev;J++){var m=(r*V.ev+J)*4,W=A[G+(J>>3)];
W=W>>7-(J&7);W=W&1;w[m]=A[F+4*W+2];w[m+1]=A[F+4*W+1];w[m+2]=A[F+4*W+0]}}return{eG:new U(0,0,V.ev,V.eU),data:w.buffer}};
zm.BMP.ES=function(A,M){var q={};q.ev=K.Wf(A,M);M+=4;q.eU=K.Wf(A,M);M+=4;var V=K.WW(A,M);M+=2;if(V!=1)alert("unsupported number of color planes: "+V);
q.el=K.WW(A,M);M+=2;q.eR=K.WS(A,M);M+=4;var F=K.WS(A,M);M+=4;var H=K.WS(A,M);M+=4;var w=K.WS(A,M);M+=4;
q.eH=K.WS(A,M);M+=4;M+=4;return q};zm.BMP.Ek=function(A,M,q){K.Wk(A,M,q.ev);M+=4;K.Wk(A,M,q.eU);M+=4;
K.Wh(A,M,1);M+=2;K.Wh(A,M,q.el);M+=2;K.Wk(A,M,q.eR);M+=4;var V=4*Math.floor((q.el*q.ev+31)/32);K.Wk(A,M,V*q.eU+2);
M+=4;K.Wk(A,M,2834);M+=4;K.Wk(A,M,2834);M+=4;K.Wk(A,M,q.eH);M+=4;M+=4};zm.GIF={};zm.GIF.Ej=function(A,M,q,V){if(V==null)V=[100];
var F=[],H=[],u=null;for(var w=0;w<A.length;w++){F.push(A[w][0]);H.push(A[w][1])}var C=Math.round(2+254*V[0]/100),r=UPNG.encode.compress(F,M,q,C,!0),G=r.plte,J=new Uint8Array(4),m=new Uint32Array(J.buffer);
for(var w=0;w<G.length;w++){m[0]=G[w];var W=J[0];J[0]=J[2];J[2]=W;G[w]=m[0];if(m[0]==0)u=w}while(G.length<256)G.push(0);
var y=new Uint8Array(2e3+M*q*A.length),O=new GifWriter(y,M,q,{palette:G,loop:0});for(var w=0;w<A.length;
w++){var h=r.frames[w],I=h.rect,Z=h.blend,L=h.dispose;O.addFrame(I.x,I.y,I.width,I.height,h.img,{transparent:u,disposal:L+1,delay:Math.round(H[w]/10)})}return y.slice(0,O.end()).buffer};
zm.GIF.Ea=function(A){var M=new Uint8Array(A),q=new GifReader(M),V=[],F=q.numFrames(),H=q.width,w=q.height,C=Q.b(H*w*4),r=new U(0,0,H,w),G=0;
for(var J=0;J<F;J++){var m=q.frameInfo(J);q.decodeAndBlitFrameRGBA(J,C);V.push({eG:r.clone(),eo:"_a_frm"+J+","+m.delay*10,data:C.slice(0).buffer});
if(m.disposal==2){var u=Q.b(m.width*m.height*4);Q.mL(u,new U(m.x,m.y,m.width,m.height),C,r)}if(m.disposal==3){var W=new Uint8Array(V[G].data);
for(var y=0;y<C.length;y++)C[y]=W[y]}if(m.disposal!=3)G=J}return V};zm.ICO={};zm.ICO.Ea=function(A){A=new Uint8Array(A);
var M=4,q=K.WW(A,M);M+=2;var V=[];for(var F=0;F<q;F++){var H=zm.ICO.Eb(A,M+F*16),w=A.buffer.slice(H.offset,H.offset+H.size),C=zm.Ec(w);
C=C?C:"bmp";if(C=="png"){var r=zm.Eg(C);return r.Ea(w)}else{var G=zm.BMP.EC(w,0),w=Q.b(H.ev*H.eU*4);
Q.mL(new Uint8Array(G.data),new U(0,0,G.eG.n,G.eG.J),w,new U(0,H.eU,H.ev,H.eU));G.data=w.buffer;G.eG.J=H.eU;
H.er=G;V.push(H)}}V.sort(function(J,m){if(J.ev!=m.ev)return J.ev-m.ev;return J.eW-m.eW});return[V.pop().er]};
zm.ICO.Eb=function(A,M){var q={};q.ev=A[M];M++;if(q.ev==0)q.ev=256;q.eU=A[M];M++;if(q.eU==0)q.eU=256;
q.EnT=A[M];M++;M++;q.EoT=K.WW(A,M);M+=2;q.eW=K.WW(A,M);M+=2;q.size=K.WS(A,M);M+=4;q.offset=K.WS(A,M);
M+=4;return q};zm.TIFF={};zm.TIFF.Ea=function(A){var M=Date.now(),q=UTIF.decode(A);UTIF.decodeImages(A,q);
for(var V=0;V<q.length;V++){var F=q[V]}for(var V=0;V<q.length;V++){var F=q[V];if(F.t33421==null)continue;
if(q[0]!=F){for(var H in q[0])if(H[0]=="t"&&F[H]==null)F[H]=q[0][H]}return[F]}var w=[];for(var V=0;V<q.length;
V++){var F=q[V];if(F.width==null)continue;var C=UTIF.toRGBA8(F).buffer;w.push({eG:new U(0,0,F.width,F.height),data:C})}return w};
zm.TIFF.Ej=function(A,M,q,V){return UTIF.encodeImage(A[0][0],M,q)};zm.PSD={};zm.PSD.EL=!0;zm.PSD.Ea=function(A,M){var q=Date.now();
zA.H$(A,M);console.log("PSD decode:",Date.now()-q)};zm.PSD.Ej=function(A,M,q,V){A.jv();var F=new JY,H=Date.now(),w=zA.HK(A,F);
console.log("PSD encode:",Date.now()-H,w>>>10);H=Date.now();var C=new Uint8Array(F.data.buffer.slice(0,w));
return C.buffer};zm.SKETCH={};zm.SKETCH.EL=!0;zm.SKETCH.Ea=function(A,M){zr.H$(A,M)};zm.XCF={};zm.XCF.EL=!0;
zm.XCF.Ea=function(A,M){zp.H$(A,M)};zm.SVG={};zm.SVG.EL=!0;zm.SVG.Ej=function(A,M,q,V){if(V==null)V=[!0,!1,!1,!1,!0,!0];
var F=zH.HO(A,{Evx:V[0],hidden:V[1],ec:V[2],ERX:V[3],names:V[4],eg:V[5],EGl:M,EGW:q});return F};zm.SVG.Ea=function(A,M){zH.H$(A,M)};
zm.EPS={};zm.EPS.EL=!0;zm.EPS.Ea=function(A,M){var q=new Jd(M);PSI.Parse(A,q)};zm.PDF={};zm.PDF.EL=!0;
zm.PDF.Ej=function(A,M,q,V){var F=zM.HO(A);return F};zm.PDF.Ea=function(A,M){var q=new Jd(M);PDFI.Parse(A,q)};
function Q(){}Q.EZ=document.createElement("canvas");Q.B=Q.EZ.getContext("2d");Q.Ei=function(A,M,q,V){V=Math.log(V)/Math.log(2);
V=Math.round(V);for(var F=0;F<q;F++)for(var H=0;H<M;H++){var w=F*M+H<<2,C=(F>>V)+(H>>V)&1==1?204:255;
A[w]=A[w+1]=A[w+2]=C;A[w+3]=255}};Q.EI=function(A){var M=A.toString(16);while(M.length<6)M="0"+M;return M};
Q.E$=function(A){return parseInt(A,16)};Q.EK=function(A){return.3*A.e+.59*A.g+.11*A.$};Q.Ee=function(A){return Math.max(A.e,A.g,A.$)-Math.min(A.e,A.g,A.$)};
Q.Eq=function(A,M,q){return.3*A+.59*M+.11*q};Q.EJp=function(A,M,q){return Math.max(A,M,q)-Math.min(A,M,q)};
Q.EN=function(A,M){var q=M-A,V=Math.abs(q),F=q-1,H=q+1;if(Math.abs(F)<V)q=F;else if(Math.abs(H)<V)q=H;
return q};Q.EQ=function(A,M,q,V){return(M-q)*V/(A-q)};Q.E_=function(A){return A<.0031308?12.92*A:1.055*Math.pow(A,1/2.4)-.055};
Q.EHm=function(A){return A<.04045?A/12.92:Math.pow((A+.055)/1.055,2.4)};Q.EJz=function(A,M,q,V){if(q<M)q+=V;
if(A<M)A+=V;return(A-M)/(q-M)};Q.Ev_=function(A,M){var q=Math.min(A.length,M.length);for(var V=0;V<q;
V+=4){var F=A[V],H=A[V+1],w=A[V+2];M[V]=16+Math.floor(65.481/255*F+128.553/255*H+24.966/255*w+.5);M[V+1]=128-Math.floor(37.797/255*F-74.203/255*H+112/255*w+.5);
M[V+2]=128+Math.floor(112/255*F-93.786/255*H-18.214/255*w+.5);M[V+3]=A[V+3]}};Q.Ed=function(A,M,q){var V=Math.max(A,M,q),F=Math.min(A,M,q),H,w,C=(V+F)*.5;
if(V==F)H=w=0;else{var r=V-F;w=C>.5?r/(2-V-F):r/(V+F);switch(V){case A:H=(M-q)/r+(M<q?6:0);break;case M:H=(q-A)/r+2;
break;case q:H=(A-M)/r+4;break}H*=1/6}return{eU:H,eD:w,et:C}};Q.EO=function(A,M,q){if(q<0)q+=1;if(q>1)q-=1;
if(q<1/6)return A+(M-A)*6*q;if(q<1/2)return M;if(q<2/3)return A+(M-A)*(2/3-q)*6;return A};Q.EF=function(A,M,q){var V,F,H;
if(M==0)V=F=H=q;else{var w=q<.5?q*(1+M):q+M-q*M,C=2*q-w;V=Q.EO(C,w,A+1/3);F=Q.EO(C,w,A);H=Q.EO(C,w,A-1/3)}return{e:V,g:F,$:H}};
Q.EX=function(A,M,q){var V=Math.max(A,M,q),F=Math.min(A,M,q),H,w,C=V,r=V-F;w=V==0?0:r/V;if(V==F)H=0;
else{switch(V){case A:H=(M-q)/r+(M<q?6:0);break;case M:H=(q-A)/r+2;break;case q:H=(A-M)/r+4;break}H/=6}return{eU:H,eD:w,lI:C}};
Q.mn=function(A,M,q){var V,F,H,w,C,r,G,J;w=Math.floor(A*6);C=A*6-w;r=q*(1-M);G=q*(1-C*M);J=q*(1-(1-C)*M);
switch(w%6){case 0:V=q,F=J,H=r;break;case 1:V=G,F=q,H=r;break;case 2:V=r,F=q,H=J;break;case 3:V=r,F=G,H=q;
break;case 4:V=J,F=r,H=q;break;case 5:V=q,F=r,H=G;break}return{e:V,g:F,$:H}};Q.mE=function(A,M,q){var V=M-Q.EK(A);
q.e=A.e+V;q.g=A.g+V;q.$=A.$+V;Q.EvB(q)};Q.mm=function(A,M,q){var V=A.e,F=A.g,H=A.$;if(V==F&&F==H){q.e=q.g=q.$=0}else if(V>F){if(V>H){if(F>H){q.e=M;
q.g=Q.EQ(V,F,H,M);q.$=0}else{q.e=M;q.$=Q.EQ(V,H,F,M);q.g=0}}else{q.$=M;q.e=Q.EQ(H,V,F,M);q.g=0}}else{if(V<H){if(F>H){q.g=M;
q.$=Q.EQ(F,H,V,M);q.e=0}else{q.$=M;q.g=Q.EQ(H,F,V,M);q.e=0}}else{q.g=M;q.e=Q.EQ(F,V,H,M);q.$=0}}};Q.EvB=function(A){var M=A.e,q=A.g,V=A.$,F=Q.Eq(M,q,V),H=Math.min(M,q,V),w=Math.max(M,q,V);
if(H<0){var C=F/(F-H);M=F+(M-F)*C;q=F+(q-F)*C;V=F+(V-F)*C}if(w>1){var C=(1-F)/(w-F);M=F+(M-F)*C;q=F+(q-F)*C;
V=F+(V-F)*C}A.e=M;A.g=q;A.$=V};Q.mz=function(A,M,q,V,F,H){var w=new Uint32Array(A.buffer),C=0;V=Math.log(V)/Math.log(2);
V=Math.round(V);for(var r=0;r<q;r++)for(var G=0;G<M;G++){w[C++]=(r+H>>V)+(G+F>>V)&1==1?4291348680:4294967295}};
Q.ERp=function(A,M,q){return(A>>q)+(M>>q)&1==1?200:255};Q.mo=function(A,M){var q=A.length;for(var V=0;
V<q;V+=4)M[V>>2]=Math.floor(A[V+0]*.3+A[V+1]*.59+A[V+2]*.11+.5)};Q.EvM=function(A,M){var q=M.length;
for(var V=0;V<q;V+=4){var F=A[V>>2];M[V]=F;M[V+1]=F;M[V+2]=F}};Q.mU=function(A,M){var q=A.M,V=A.e,F=A.g,H=A.$,w=Math.min(A.M.length,M.buffer.byteLength>>>2),C=4*Math.floor(w/4),r=new Uint32Array(M.buffer),G=new Uint32Array(q.buffer),J=new Uint32Array(V.buffer),m=new Uint32Array(F.buffer),u=new Uint32Array(H.buffer);
for(var W=0;W<C;W+=4){var y=G[W>>2],O=u[W>>2],h=m[W>>2],I=J[W>>2];r[W]=y<<24|(O&255)<<16|(h&255)<<8|I&255;
r[W+1]=(y&65280)<<16|(O&65280)<<8|h&65280|(I&65280)>>>8;r[W+2]=(y&16711680)<<8|O&16711680|(h&16711680)>>>8|(I&16711680)>>>16;
r[W+3]=y&4278190080|(O&4278190080)>>>8|(h&4278190080)>>>16|(I&4278190080)>>>24}for(var W=C;W<w;W++)r[W]=q[W]<<24|H[W]<<16|F[W]<<8|V[W]};
Q.Eow=function(A,M,q,V){var F=A.M,H=A.e,w=A.g,C=A.$,r=new Uint32Array(M.buffer),G=V.x-q.x,J=G+V.n,m=V.y-q.y,u=m+V.J;
for(var W=m;W<u;W++){var y=W*q.n+G;for(var O=G;O<J;O++){r[y]=F[y]<<24|C[y]<<16|w[y]<<8|H[y];y++}}};Q.mR=function(A,M){var q=M.M,V=M.e,F=M.g,H=M.$,w=Math.min(M.M.length,A.buffer.byteLength>>>2),C=4*Math.floor(w/4),r=new Uint32Array(A.buffer),G=new Uint32Array(q.buffer),J=new Uint32Array(V.buffer),m=new Uint32Array(F.buffer),u=new Uint32Array(H.buffer);
for(var W=0;W<C;W+=4){var y=r[W],O=r[W+1],h=r[W+2],I=r[W+3];J[W>>2]=y&255|(O&255)<<8|(h&255)<<16|I<<24;
m[W>>2]=(y&65280)>>8|O&65280|(h&65280)<<8|(I&65280)<<16;u[W>>2]=(y&16711680)>>16|(O&16711680)>>8|h&16711680|(I&16711680)<<8;
G[W>>2]=y>>>24|O>>>24<<8|h>>>24<<16|I&4278190080}for(var W=C;W<w;W++){var Z=r[W];V[W]=Z>>0&255;F[W]=Z>>8&255;
H[W]=Z>>16&255;q[W]=Z>>24&255}};Q.mH=function(A,M,q){var V=new Uint8Array(A.buffer),F=Math.min(V.length/4,M.length);
for(var H=0;H<F;H++){M[H]=V[(H<<2)+q]}};Q.mr=function(A,M,q){var V=new Uint8Array(M.buffer),F=new Uint32Array(A.buffer),H=Math.min(V.length/4,A.length),w=0;
while(w+4<H){var C=F[w>>2];V[(w<<2)+q]=C&255;V[(w<<2)+q+4]=C>>>8&255;V[(w<<2)+q+8]=C>>>16&255;V[(w<<2)+q+12]=C>>>24;
w+=4}while(w<H){V[(w<<2)+q]=A[w];w++}};Q.clone=function(A){return A.slice(0)};Q.mW=function(A,M){Q.set(A.M,M);
Q.set(A.e,M);Q.set(A.g,M);Q.set(A.$,M)};Q.set=function(A,M){M=Math.round(M);var q=M<<24|M<<16|M<<8|M,V=new Uint32Array(A.buffer),F=V.length;
for(var H=0;H<F;H++)V[H]=q};Q.mh=function(A,M,q){if(q==null)q=0;var V=new Uint32Array(A.buffer),F=V.length;
for(var H=0;H<F;H++)V[H]=V[H]&q|M};Q.Em$=function(A,M,q,V,F){if(F==null)F=0;var H=new Uint32Array(A.buffer);
q=q.vt(M);var w=q.x-M.x,C=q.y-M.y,r=q.n,G=q.J,J=M.n;for(var m=0;m<G;m++){var u=(C+m)*J+w;for(var W=0;
W<r;W++){H[u]=H[u]&F|V;u++}}};Q.EmK=function(A,M){Q.mc(A.M,M.M);Q.mc(A.e,M.e);Q.mc(A.g,M.g);Q.mc(A.$,M.$)};
Q.mc=function(A,M){var A=new Uint32Array(A.buffer),M=new Uint32Array(M.buffer),q=Math.min(A.length,M.length);
for(var V=0;V<q;V++){M[V]=A[V]}};Q.EGK=function(A,M){return Q.mg(A.M,M.M)&&Q.mg(A.e,M.e)&&Q.mg(A.g,M.g)&&Q.mg(A.$,M.$)};
Q.mg=function(A,M){var q=A.buffer.byteLength,V=M.buffer.byteLength,F=new Uint32Array(A.buffer,0,q>>2),H=new Uint32Array(M.buffer,0,V>>2);
if(q!=V)return!1;var w=F.length;for(var C=0;C<w;C++)if(H[C]!=F[C])return!1;return!0};Q.mx=function(A){var M=new Uint32Array(A.buffer),q=M.length;
for(var V=0;V<q;V++)M[V]=~M[V]};Q.Emp=function(A){var M=A.length;for(var q=3;q<M;q+=4)A[q]=~A[q]};Q.EoH=function(A){return A+(A%4==0?0:4-A%4)};
Q.b=function(A,M){if(M==null)M=!1;if(!M)A=Q.EoH(A);try{var q=new Uint8Array(A)}catch(zM){alert("Not enough RAM! (need "+(A>>20)+" MB)",7e3);
throw zM}return q};Q.mD=function(A){var M=A.length,q=A[M-2],V=A[M-1];while(V.n>=2||V.J>=2){var F=Q.mt(q,V);
A.push(F.ej,F.rect);q=F.ej;V=F.rect}};Q.mt=function(A,M,q){var V=M.n,F=M.J,H=V>>1,w=F>>1,C=new U(M.x,M.y,H,w);
if(A==null)return{rect:C};var r=q&&q.length==H*w*4?q:Q.b(H*w*4),G=new Uint32Array(A.buffer),J=new Uint32Array(r.buffer);
for(var m=0;m<w;m++)for(var u=0;u<H;u++){var W=m*H+u,y=(m<<1)*V+(u<<1),O=G[y],h=G[y+1],I=G[y+V],Z=G[y+V+1],L=O>>>24,Y=h>>>24,B=I>>>24,X=Z>>>24,E=(O>>>0&255)*L+(h>>>0&255)*Y+(I>>>0&255)*B+(Z>>>0&255)*X,c=(O>>>8&255)*L+(h>>>8&255)*Y+(I>>>8&255)*B+(Z>>>8&255)*X,o=(O>>>16&255)*L+(h>>>16&255)*Y+(I>>>16&255)*B+(Z>>>16&255)*X,s=L+Y+B+X;
if(s==0)J[W]=0;else{var z=1/s;E=~~(E*z+.5);c=~~(c*z+.5);o=~~(o*z+.5);J[W]=s+2>>>2<<24|o<<16|c<<8|E}}return{rect:C,ej:r}};
Q.Ezx=function(A,M,q){var V=M.n,F=M.J,H=V>>1,w=F>>1,C=new U(M.x,M.y,H,w);if(A==null)return{rect:C};var r=q&&q.length==H*w*4?q:Q.b(H*w*4),G=new Uint32Array(A.buffer),J=new Uint32Array(r.buffer);
for(var m=0;m<w;m++)for(var u=0;u<H;u++){var W=m*H+u,y=(m<<1)*V+(u<<1),O=G[y],h=G[y+1],I=G[y+V],Z=G[y+V+1],L=2+(O>>>0&255)+(h>>>0&255)+(I>>>0&255)+(Z>>>0&255)>>>2,Y=2+(O>>>8&255)+(h>>>8&255)+(I>>>8&255)+(Z>>>8&255)>>>2,B=2+(O>>>16&255)+(h>>>16&255)+(I>>>16&255)+(Z>>>16&255)>>>2;
J[W]=4278190080|B<<16|Y<<8|L}return{rect:C,ej:r}};Q.Ezh=function(A,M,q){var V=M.n,F=M.J,H=2*Math.floor(V/3),w=2*Math.floor(F/3),C=new U(M.x,M.y,H,w);
if(A==null)return{rect:C};var r=q&&q.length==H*w*4?q:Q.b(H*w*4),G=new Uint32Array(A.buffer),J=new Uint32Array(r.buffer);
for(var m=0;m<w;m+=2)for(var u=0;u<H;u+=2){var W=m*H+u,y=(m*3>>>1)*V+(u*3>>>1),O=G[y],h=G[y+1],I=G[y+2],Z=G[y+V],L=G[y+1+V],Y=G[y+2+V],B=G[y+V+V],X=G[y+1+V+V],E=G[y+2+V+V],c=O>>>24<<2,o=(O>>>16&255)*c,s=(O>>>8&255)*c,z=(O&255)*c,k=h>>>24<<1,b=(h>>>16&255)*k,T=(h>>>8&255)*k,l=(h&255)*k,$=I>>>24<<2,e=(I>>>16&255)*$,i=(I>>>8&255)*$,g=(I&255)*$,P=Z>>>24<<1,n=(Z>>>16&255)*P,p=(Z>>>8&255)*P,t=(Z&255)*P,x=L>>>24,D=(L>>>16&255)*x,Gp=(L>>>8&255)*x,zY=(L&255)*x,zi=Y>>>24<<1,zI=(Y>>>16&255)*zi,z$=(Y>>>8&255)*zi,zK=(Y&255)*zi,ze=B>>>24<<2,zq=(B>>>16&255)*ze,zB=(B>>>8&255)*ze,zN=(B&255)*ze,zQ=X>>>24<<1,z_=(X>>>16&255)*zQ,zw=(X>>>8&255)*zQ,zy=(X&255)*zQ,zu=E>>>24<<2,zd=(E>>>16&255)*zu,zO=(E>>>8&255)*zu,zF=(E&255)*zu,zX=c+k+P+x,Gn=$+k+zi+x,GE=ze+zQ+P+x,Gm=zu+zQ+zi+x,GJ=zX==0?0:1/zX,Gz=Gn==0?0:1/Gn,GG=GE==0?0:1/GE,Go=Gm==0?0:1/Gm,Gv=0,GU=0,Gl=0,GH=0;
Gv=~~(.5+(z+l+t+zY)*GJ);GU=~~(.5+(s+T+p+Gp)*GJ);Gl=~~(.5+(o+b+n+D)*GJ);GH=~~(.5+zX*(1/9));J[W]=GH<<24|Gl<<16|GU<<8|Gv;
Gv=~~(.5+(g+l+zK+zY)*Gz);GU=~~(.5+(i+T+z$+Gp)*Gz);Gl=~~(.5+(e+b+zI+D)*Gz);GH=~~(.5+Gn*(1/9));J[W+1]=GH<<24|Gl<<16|GU<<8|Gv;
Gv=~~(.5+(zN+zy+t+zY)*GG);GU=~~(.5+(zB+zw+p+Gp)*GG);Gl=~~(.5+(zq+z_+n+D)*GG);GH=~~(.5+GE*(1/9));J[W+H]=GH<<24|Gl<<16|GU<<8|Gv;
Gv=~~(.5+(zF+zy+zK+zY)*Go);GU=~~(.5+(zO+zw+z$+Gp)*Go);Gl=~~(.5+(zd+z_+zI+D)*Go);GH=~~(.5+Gm*(1/9));J[W+H+1]=GH<<24|Gl<<16|GU<<8|Gv}return{rect:C,ej:r}};
Q.ERt=function(A,M,q){var V=M.n,F=M.J,H=2*Math.floor(V/3),w=2*Math.floor(F/3),C=new U(M.x,M.y,H,w);if(A==null)return{rect:C};
var r=q&&q.length==H*w*4?q:Q.b(H*w*4),G=new Uint32Array(A.buffer),J=new Uint32Array(r.buffer);for(var m=0;
m<w;m+=2)for(var u=0;u<H;u+=2){var W=m*H+u,y=(m*3>>>1)*V+(u*3>>>1),O=G[y],h=G[y+1],I=G[y+2],Z=G[y+V],L=G[y+1+V],Y=G[y+2+V],B=G[y+V+V],X=G[y+1+V+V],E=G[y+2+V+V],c=(O>>>16&255)<<2,o=(O>>>8&255)<<2,s=(O&255)<<2,z=(h>>>16&255)<<1,k=(h>>>8&255)<<1,b=(h&255)<<1,T=(I>>>16&255)<<2,l=(I>>>8&255)<<2,$=(I&255)<<2,e=(Z>>>16&255)<<1,i=(Z>>>8&255)<<1,g=(Z&255)<<1,P=L>>>16&255,n=L>>>8&255,p=L&255,t=(Y>>>16&255)<<1,x=(Y>>>8&255)<<1,D=(Y&255)<<1,Gp=(B>>>16&255)<<2,zY=(B>>>8&255)<<2,zi=(B&255)<<2,zI=(X>>>16&255)<<1,z$=(X>>>8&255)<<1,zK=(X&255)<<1,ze=(E>>>16&255)<<2,zq=(E>>>8&255)<<2,zB=(E&255)<<2,zN=0,zQ=0,z_=0;
zN=~~(.5+(s+b+g+p)*(1/9));zQ=~~(.5+(o+k+i+n)*(1/9));z_=~~(.5+(c+z+e+P)*(1/9));J[W]=255<<24|z_<<16|zQ<<8|zN;
zN=~~(.5+($+b+D+p)*(1/9));zQ=~~(.5+(l+k+x+n)*(1/9));z_=~~(.5+(T+z+t+P)*(1/9));J[W+1]=255<<24|z_<<16|zQ<<8|zN;
zN=~~(.5+(zi+zK+g+p)*(1/9));zQ=~~(.5+(zY+z$+i+n)*(1/9));z_=~~(.5+(Gp+zI+e+P)*(1/9));J[W+H]=255<<24|z_<<16|zQ<<8|zN;
zN=~~(.5+(zB+zK+D+p)*(1/9));zQ=~~(.5+(zq+z$+x+n)*(1/9));z_=~~(.5+(ze+zI+t+P)*(1/9));J[W+H+1]=255<<24|z_<<16|zQ<<8|zN}return{rect:C,ej:r}};
Q.mV=function(A,M,q,V){var F=Q.mt,H=Q.Ezh,G=0,m;if(A){var w=255,C=A.length;C-=(C>>>3&7)<<3;for(var r=3;
r<C;r+=32)w=w&A[r]&A[r+4]&A[r+8]&A[r+12]&A[r+16]&A[r+20]&A[r+24]&A[r+28];if(w==255){F=Q.Ezx;H=Q.ERt}}var J=q;
while(J<.499){G++;J*=2}if(J<.5001)m=F(A,M,V);else m=H(A,M,V);for(var r=0;r<G;r++)m=F(m.ej,m.rect,V);
return m};Q.mC=function(A,M,q,V){var F=M.vt(V),H=Math.max(0,F.x-M.x),w=Math.max(0,F.x-V.x),C=Math.max(0,F.y-M.y),r=Math.max(0,F.y-V.y),G=F.n,J=F.J;
for(var m=0;m<J;m++){var u=(C+m)*M.n+H,W=(r+m)*V.n+w;for(var y=0;y<G;y++){q[W+y]=A[u+y]}}};Q.mS=function(A,M,q,V){if(M.mg(V)){Q.mr(A,q,3);
return}var F=M.vt(V),H=Math.max(0,F.x-M.x),w=Math.max(0,F.x-V.x),C=Math.max(0,F.y-M.y),r=Math.max(0,F.y-V.y),G=F.n,J=F.J;
for(var m=0;m<J;m++){var u=(C+m)*M.n+H,W=(r+m)*V.n+w;for(var y=0;y<G;y++)q[(W+y<<2)+3]=A[u+y]}};Q.mk=function(A,M,q,V){var F=M.vt(V),H=Math.max(0,F.x-M.x),w=Math.max(0,F.x-V.x),C=Math.max(0,F.y-M.y),r=Math.max(0,F.y-V.y),G=F.n,J=F.J;
for(var m=0;m<J;m++){var u=(C+m)*M.n+H,W=(r+m)*V.n+w;for(var y=0;y<G;y++)q[W+y]=A[(u+y<<2)+3]}};Q.EnE=function(A,M,q,V){var F=M.vt(V),H=Math.max(0,F.x-M.x),w=Math.max(0,F.x-V.x),C=Math.max(0,F.y-M.y),r=Math.max(0,F.y-V.y),G=F.n,J=F.J;
for(var m=0;m<J;m++){var u=(C+m)*M.n+H,W=(r+m)*V.n+w;for(var y=0;y<G;y++)q[W++]=A[u++]}};Q.mL=function(A,M,q,V,F){if(M.mg(V)&&(F==null||F.mg(V))){Q.mc(A,q);
return}A=new Uint32Array(A.buffer),q=new Uint32Array(q.buffer);var H=M.vt(V);if(F)H=H.vt(F);var w=Math.max(0,H.x-M.x),C=Math.max(0,H.x-V.x),r=Math.max(0,H.y-M.y),G=Math.max(0,H.y-V.y),J=H.n,m=H.J,u=J&3,W=u==0?J:J-u;
for(var y=0;y<m;y++){var O=(r+y)*M.n+w,h=(G+y)*V.n+C,I=0;while(I<W){q[h+I]=A[O+I];q[h+I+1]=A[O+I+1];
q[h+I+2]=A[O+I+2];q[h+I+3]=A[O+I+3];I+=4}if(u==1){q[h+I]=A[O+I]}else if(u==2){q[h+I]=A[O+I];q[h+I+1]=A[O+I+1]}else if(u==3){q[h+I]=A[O+I];
q[h+I+1]=A[O+I+1];q[h+I+2]=A[O+I+2]}}};Q.mZ=function(A,M,q,V){var F=M.vt(V),H=Math.max(0,F.x-M.x),w=Math.max(0,F.x-V.x),C=Math.max(0,F.y-M.y),r=Math.max(0,F.y-V.y),G=F.n,J=F.J,m=A.M,u=A.e,W=A.g,y=A.$,O=q.M,h=q.e,I=q.g,Z=q.$;
for(var L=0;L<J;L++){var Y=(C+L)*M.n+H,B=(r+L)*V.n+w;for(var X=0;X<G;X++){O[B+X]=m[Y+X];h[B+X]=u[Y+X];
I[B+X]=W[Y+X];Z[B+X]=y[Y+X]}}};Q.mY=function(A,M){for(var q=0;q<A.length;q++)if(A[q]!=M)return!1;return!0};
Q.mi=function(A){return A+1+(A>>>8)>>>8};Q.round=function(A,M){if(M==null)M=128;var q=A.length;for(var V=0;
V<q;V++)A[V]=A[V]<M?0:255};Q.mI=function(A,M){var q=A.length;for(var V=0;V<q;V++)A[V]=Math.round(A[V]*M)};
Q.Eor=function(A,M){var q=A.length;for(var V=0;V<q;V+=4)A[V+3]=Math.round(A[V+3]*M)};Q.mK=function(A,M){var q=new Uint32Array(A.buffer),V=new Uint32Array(M.buffer),F=q.length;
for(var H=0;H<F;H++){var w=q[H],C=V[H];V[H]=Q.mi((w>>>24)*(C>>>24))<<24|Q.mi((w>>>16&255)*(C>>>16&255))<<16|Q.mi((w>>>8&255)*(C>>>8&255))<<8|Q.mi((w&255)*(C&255))}};
Q.EvT=function(A,M){var q=A.length;for(var V=0;V<q;V++)M[(V<<2)+3]=Q.mi(M[(V<<2)+3]*A[V])};Q.EoA=function(A,M,q,V){var F=Math.max(0,V.x-M.x),H=Math.max(0,M.x-V.x),w=Math.max(0,V.y-M.y),C=Math.max(0,M.y-V.y),r=Math.min(M.x+M.n,V.x+V.n)-Math.max(M.x,V.x),G=Math.min(M.y+M.J,V.y+V.J)-Math.max(M.y,V.y);
for(var J=0;J<G;J++){var m=(w+J)*M.n+F,u=(C+J)*V.n+H;for(var W=0;W<r;W++){q[u]=Q.mi(q[u]*A[m]);m++;u++}}};
Q.mB=function(A,M,q,V){var F=Math.max(0,V.x-M.x),H=Math.max(0,M.x-V.x),w=Math.max(0,V.y-M.y),C=Math.max(0,M.y-V.y),r=Math.min(M.x+M.n,V.x+V.n)-Math.max(M.x,V.x),G=Math.min(M.y+M.J,V.y+V.J)-Math.max(M.y,V.y);
for(var J=0;J<G;J++){var m=(w+J)*M.n+F,u=((C+J)*V.n+H<<2)+3;for(var W=0;W<r;W++){q[u]=Q.mi(q[u]*A[m]);
m++;u+=4}}};Q.mN=function(A,M,q,V){var F=Math.max(0,V.x-M.x),H=Math.max(0,M.x-V.x),w=Math.max(0,V.y-M.y),C=Math.max(0,M.y-V.y),r=Math.min(M.x+M.n,V.x+V.n)-Math.max(M.x,V.x),G=Math.min(M.y+M.J,V.y+V.J)-Math.max(M.y,V.y);
for(var J=0;J<G;J++){var m=((w+J)*M.n+F<<2)+3,u=((C+J)*V.n+H<<2)+3;for(var W=0;W<r;W++){q[u]=Q.mi(q[u]*A[m]);
m+=4;u+=4}}};Q.ElR=function(A,M,q,V){var F=1/255,H=Math.max(0,V.x-M.x),w=Math.max(0,M.x-V.x),C=Math.max(0,V.y-M.y),r=Math.max(0,M.y-V.y),G=Math.min(M.x+M.n,V.x+V.n)-Math.max(M.x,V.x),J=Math.min(M.y+M.J,V.y+V.J)-Math.max(M.y,V.y);
for(var m=0;m<J;m++){var u=(C+m)*M.n+H,W=(r+m)*V.n+w;for(var y=0;y<G;y++){q[W]=F*q[W]*(255-A[u]);u++;
W++}}};Q.EGh=function(A,M){var q=[];for(var V=0;V<256;V++)q.push(0);var F=A.length,H=1/255;for(var V=0;
V<F;V++)q[A[V]]+=M[V]*H;return q};Q.mw=function(A){var M=new Float64Array(256),q=new Float64Array(256),V=new Float64Array(256),F=new Float64Array(256),H=A.length;
for(var w=0;w<H;w+=4){var C=A[w+3]*(1/255);q[A[w+0]]+=C;V[A[w+1]]+=C;F[A[w+2]]+=C}for(var w=0;w<256;
w++)M[w]=q[w]+V[w]+F[w];return[M,q,V,F]};Q.my=function(A,M){var q=new Uint32Array(A.buffer),V=q.length;
for(var F=0;F<V;F++){var H=q[F],w=H&255,C=H>>8&255,r=H>>16&255,G=H>>24&255;q[F]=M[w]|M[C]<<8|M[r]<<16|M[G]<<24}};
Q.EEe=function(A,M,q,V,F,H,w){var C=new Uint32Array(A.buffer),r=new Uint32Array(M.buffer),G=C.length,J=0;
while(256<<J<q.length)J++;var m=(1<<J)-1;for(var u=0;u<G;u++){var W=C[u],y=(W&255)<<J,O=(W>>>8&255)<<J,h=(W>>>16&255)<<J,I=W>>>24&255;
if(H)y=O=h=Math.round(y*.3+O*.59+h*.11);var Z=q[y],L=V[O],Y=F[h];if(w){var B=Q.Eq(y,O,h),X=Q.Eq(Z,L,Y);
if(B>X){var E=(B-X)/(255-X);Z+=E*(255-Z);L+=E*(255-L);Y+=E*(255-Y)}else if(X==0)Z=L=Y=0;else{var E=B/X;
Z=E*Z;L=E*L;Y=E*Y}}r[u]=Z|L<<8|Y<<16|I<<24}};Q.Ezy=function(A){var M=new Uint32Array(256),V=0;for(var q=0;
q<A.length;q++)M[A[q]]++;for(var q=0;q<256;q++)if(M[q]>M[V])V=q;return V};Q.mO=function(A,M){var q=M.n,V=M.J,top=0,F=0,H=0,w=0,C=!1,r=0;
C=!1;for(var G=0;G<V;G++){var J=G*q;for(var m=0;m<q;m++)if(A[J+m]!=r)C=!0;if(C)break;else top++}C=!1;
for(var G=V-1;G>=0;G--){var J=G*q;for(var m=0;m<q;m++)if(A[J+m]!=r)C=!0;if(C)break;else H++}C=!1;for(var m=0;
m<q;m++){for(var G=0;G<V;G++)if(A[G*q+m]!=r)C=!0;if(C)break;else F++}C=!1;for(var m=q-1;m>=0;m--){for(var G=0;
G<V;G++)if(A[G*q+m]!=r)C=!0;if(C)break;else w++}var u=new U(M.x+F,M.y+top,q-F-w,V-top-H);return u.zZ()?new U(0,0,0,0):u};
Q.mF=function(A,M){var q=new Uint32Array(A.buffer),V=M.n,F=M.J,top=0,H=0,w=0,C=0,r=!1,G=q[0];r=!1;for(var J=0;
J<F;J++){var m=J*V;for(var u=0;u<V;u++)if(q[m+u]!=G)r=!0;if(r)break;else top++}r=!1;for(var J=F-1;J>=0;
J--){var m=J*V;for(var u=0;u<V;u++)if(q[m+u]!=G)r=!0;if(r)break;else w++}r=!1;for(var u=0;u<V;u++){for(var J=0;
J<F;J++)if(q[J*V+u]!=G)r=!0;if(r)break;else H++}r=!1;for(var u=V-1;u>=0;u--){for(var J=0;J<F;J++)if(q[J*V+u]!=G)r=!0;
if(r)break;else C++}var W=new U(M.x+H,M.y+top,V-H-C,F-top-w);return W.zZ()?new U(0,0,0,0):W};Q.mX=function(A){var M=Q.mO(A.channel,A.rect);
if(M.mg(A.rect))return;var q=Q.b(M.X());Q.mC(A.channel,A.rect,q,M);A.channel=q;A.rect=M};Q.Jn=function(A){var M=Q.b(A.buffer.length>>2);
Q.mH(A.buffer,M,3);var q=Q.mO(M,A.rect);if(q.mg(A.rect))return;var V=new Q.b(q.X()*4);Q.mL(A.buffer,A.rect,V,q);
A.buffer=V;A.rect=q};Q.extend=function(A,M,q){if(A.rect.hr(M))return;var V=A.rect.vP(M),F=Q.b(V.X());
if(q!=null)Q.set(F,q);Q.mC(A.channel,A.rect,F,V);A.rect=V;A.channel=F};Q.EoC=function(A,M){if(A.rect.hr(M))return;
var q=A.rect.vP(M),V=Q.b(q.X()*4);Q.mL(A.buffer,A.rect,V,q);A.rect=q;A.buffer=V};Q.Jm=function(A,M,q){if(!q.hH(A))return!1;
var V=Math.floor(A.x)-q.x,F=Math.floor(A.y)-q.y,H=F*q.n+V;return M[H]>128};Q.Eok=function(A,M,q){if(!q.hH(A))return!1;
var V=Math.floor(A.x)-q.x,F=Math.floor(A.y)-q.y,H=F*q.n+V;return M[4*H+3]>128};Q.Jz=function(A){if(Q.JG.length<A){Q.JG=Q.b(A);
Q.set(Q.JG,255)}return Q.JG};Q.JG=Q.b(0);Q.Jo=function(A){if(Q.Jv.length<A)Q.Jv=Q.b(A);return Q.Jv};
Q.Jv=Q.b(0);Q.JU=function(A){this.M=Q.b(A);this.e=Q.b(A);this.g=Q.b(A);this.$=Q.b(A)};Q.JU.prototype.clone=function(){var A=this.M.length,M=new Q.JU(1);
M.M=Q.clone(this.M);M.e=Q.clone(this.e);M.g=Q.clone(this.g);M.$=Q.clone(this.$);return M};Q.S={};Q.S.JR=new Float64Array(256);
Q.S.JH=new Uint8Array(256*256);Q.S.Jr=new Uint8Array(256*256);(function(){for(var A=0;A<256;A++)Q.S.JR[A]=255/A;
for(var A=0;A<256;A++)for(var M=0;M<256;M++)Q.S.JH[A*256+M]=A==0?0:Math.round(M*255/A);for(var A=0;A<256;
A++)for(var M=0;M<256;M++)Q.S.Jr[A*256+M]=Math.round(A*(255-M)/255)}());Q.S.JW=function(A,M,q,V,F,H,w,C){if(C==null)C=Ez.ag();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(A)==-1){w=w*C.fill;C.fill=1;C.style=!1}var r="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),G="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),J=Q.S[A+"F"];
if(A=="norm")Q.S.EJO(M,q,V,F,H,w,J,C.ea?1:0);else if(A=="diss")Q.S.EUU(M,q,V,F,H,w,J,C.ea?1:0);else if(r.indexOf(A)!=-1)Q.S.Ezc(M,q,V,F,H,w,J,C);
else if(G.indexOf(A)!=-1)Q.S.EUa(M,q,V,F,H,w,J,C.ea?1:0)};Q.S.EJS=function(A,M,q){return A==0?0:1-Math.min(1,(1-M)/(A*q+1-q))};
Q.S.EvY=function(A,M,q){return A*q==1?1:Math.min(1,M/(1-A*q))};Q.S.Js=function(A){return A<=.25?((16*A-12)*A+4)*A:Math.sqrt(A)};
Q.S.normF=function(A,M,q){return A};Q.S.darkF=function(A,M,q){return Math.min(A,M)};Q.S["mul F"]=function(A,M,q){return A*M};
Q.S.idivF=function(A,M,q){var V=A*q+1-q;return M==1?1:1-M>=V?0:1-(1-M)/V};Q.S.lbrnF=function(A,M,q){return Math.max(0,A*q+M-q)};
Q.S.dkClF=function(A,M,q){var V=Q.EK(A)<Q.EK(M)?A:M;q.e=V.e;q.g=V.g;q.$=V.$;return q};Q.S.liteF=function(A,M,q){return Math.max(A,M)};
Q.S.scrnF=function(A,M,q){return M+A-M*A};Q.S["div F"]=function(A,M,q){A*=q;return M==0?0:M>=1-A?1:M/(1-A)};
Q.S.lddgF=function(A,M,q){A*=q;return Math.min(1,A+M)};Q.S.lgClF=function(A,M,q){var V=Q.EK(A)>Q.EK(M)?A:M;
q.e=V.e;q.g=V.g;q.$=V.$;return q};Q.S.overF=function(A,M,q){return Q.S.hLitF(M,A,q)};Q.S.sLitF=function(A,M,q){return A<=.5?M-(1-2*A)*M*(1-M):M+(2*A-1)*(Q.S.Js(M)-M)};
Q.S.hLitF=function(A,M,q){return A<=.5?Q.S["mul F"](2*A,M,q):Q.S.scrnF(2*A-1,M,q)};Q.S.vLitF=function(A,M,q){return A<=.5?Q.S.EJS(2*A,M,q):Q.S.EvY(2*A-1,M,q)};
Q.S.lLitF=function(A,M,q){return A<=.5?Q.S.lbrnF(2*A,M,q):Q.S.lddgF(2*A-1,M,q)};Q.S.pLitF=function(A,M,q){return A<=.5?Q.S.darkF(2*A,M,q):Q.S.liteF(2*A-1,M,q)};
Q.S.hMixF=function(A,M,q){if(q>.99)return A+M<1?0:1;return Math.min(1,Math.max(0,(M+A*q-q)/(1-q+1e-6)))};
Q.S.diffF=function(A,M,q){A*=q;return Math.abs(A-M)};Q.S.smudF=function(A,M,q){return A+M-2*A*M};Q.S.fsubF=function(A,M,q){return Math.max(M-A,0)};
Q.S.fdivF=function(A,M,q){return Math.min(M/A,1)};Q.S["hue F"]=function(A,M,q){Q.mm(A,Q.Ee(M),q);Q.mE(q,Q.EK(M),q)};
Q.S["sat F"]=function(A,M,q){Q.mm(M,Q.Ee(A),q);Q.mE(q,Q.EK(M),q)};Q.S.colrF=function(A,M,q){Q.mE(A,Q.EK(M),q)};
Q.S["lum F"]=function(A,M,q){Q.mE(M,Q.EK(A),q)};Q.S.EJO=function(A,M,q,V,F,H,w,C){var r=M.vt(V).vt(F),G=Math.max(0,r.x-M.x),J=Math.max(0,r.x-V.x),m=Math.max(0,r.y-M.y),u=Math.max(0,r.y-V.y),W=r.n,y=r.J,O=M.n,h=V.n,I=Q.S.JH,Z=Q.S.Jr,L=new Uint32Array(A.buffer),Y=new Uint32Array(q.buffer);
for(var B=0;B<y;B++){var X=(m+B)*O+G,E=(u+B)*h+J;for(var c=0;c<W;c++){var o=L[X+c],k=255;if(o>>>24==0)continue;
if(o>>>24==255&&H==1&&C==0){Y[E+c]=L[X+c];continue}var s=Y[E+c],z=255*H&255;if(C==0){z=(o>>>24)*H&255;
k=s>>>24}var b=Z[k<<8|z],T=z+b,l=o&255,$=o>>>8&255,e=o>>>16&255,i=s&255,g=s>>>8&255,P=s>>>16&255;Y[E+c]=C*(s>>>24)+(1-C)*T<<24|I[T<<8|Q.mi(e*z+P*b)]<<16|I[T<<8|Q.mi($*z+g*b)]<<8|I[T<<8|Q.mi(l*z+i*b)]}}};
Q.S.EzG=function(A,M,q,V,F,H){var w=M.vt(V).vt(F),C=Math.max(0,w.x-M.x),r=Math.max(0,w.x-V.x),G=Math.max(0,w.y-M.y),J=Math.max(0,w.y-V.y),m=w.n,u=w.J,W=M.n,y=V.n,O=Q.S.JH,h=Q.S.Jr,I=new Uint32Array(A.buffer),Z=new Uint32Array(q.buffer),L=Math.floor(Math.random()*16777215),Y=0;
for(var B=0;B<u;B++){var X=(G+B)*W+C,E=(J+B)*y+r;for(var c=0;c<m;c++){var o=I[X+c];if(o>>>24==0)continue;
if(o>>24==255&&H==1){Z[E+c]=o;continue}var s=Z[E+c],z=(o>>>24)*H*(1/255),k=(s>>>24)*(1/255),b=k*(1-z),T=z+b,l=o&255,$=o>>>8&255,e=o>>>16&255,i=s&255,g=s>>>8&255,P=s>>>16&255;
Y>>>=8;if((c&3)==0)Y=Q.S.Jf(E+c+L);var n=T==0?0:1/T,p=Math.floor(T*(256*255))+(Y&255)>>>8,t=Math.floor((e*z+P*b)*n+.5),x=Math.floor(($*z+g*b)*n+.5),D=Math.floor((l*z+i*b)*n+.5);
Z[E+c]=p<<24|t<<16|x<<8|D}}};Q.S.Ezc=function(A,M,q,V,F,H,w,C){var r=1/255,G=r*H,J=C.ea?1:0,m=C.fill,u=C.style,W=M.vt(V).vt(F),y=Math.max(0,W.x-M.x),O=Math.max(0,W.x-V.x),h=Math.max(0,W.y-M.y),I=Math.max(0,W.y-V.y),Z=W.n,L=W.J,Y=M.n,B=V.n,X=new Uint32Array(A.buffer),E=new Uint32Array(q.buffer);
for(var c=0;c<L;c++){var o=(h+c)*Y+y,s=(I+c)*B+O;for(var z=0;z<Z;z++,o++,s++){var k=X[o],l=1;if(k>>>24==0)continue;
var b=E[s],T=H;if(J==0){T=(k>>>24)*G;l=(b>>>24)*r}var $=l*(1-T),e=T+$,i=255/e,g=(k&255)*r,P=(k>>>8&255)*r,n=(k>>>16&255)*r,p=(b&255)*r,t=(b>>>8&255)*r,x=(b>>>16&255)*r,D=u?1:T,Gp=((1-l)*T*g+(1-D)*l*p+D*l*w(g,p,(1+T-D)*m))*i,zY=((1-l)*T*P+(1-D)*l*t+D*l*w(P,t,(1+T-D)*m))*i,zi=((1-l)*T*n+(1-D)*l*x+D*l*w(n,x,(1+T-D)*m))*i;
e=T*m+l*(1-T*m);var zI=Math.round(e*255);E[s]=J*(b>>>24)+(1-J)*zI<<24|zi<<16|zY<<8|Gp}}};Q.S.EUa=function(A,M,q,V,F,H,w,C){var r=1/255,G=r*H,J=M.vt(V).vt(F),m=Math.max(0,J.x-M.x),u=Math.max(0,J.x-V.x),W=Math.max(0,J.y-M.y),y=Math.max(0,J.y-V.y),O=J.n,h=J.J,I=new Uint32Array(A.buffer),Z=new Uint32Array(q.buffer),L={e:0,g:0,$:0},Y={e:0,g:0,$:0},B={e:0,g:0,$:0};
for(var X=0;X<h;X++){var E=(W+X)*M.n+m,c=(y+X)*V.n+u;for(var o=0;o<O;o++,E++,c++){var s=I[E],z=Z[c],k=H,b=1;
if(C==0){k=(s>>>24)*G;b=(z>>>24)*r}var T=b*(1-k),l=k+T,$=255/l,e=(s&255)*r,i=(s>>>8&255)*r,g=(s>>>16&255)*r,P=(z&255)*r,n=(z>>>8&255)*r,p=(z>>>16&255)*r;
L.e=e;L.g=i;L.$=g;Y.e=P;Y.g=n;Y.$=p;w(L,Y,B);var t=(((1-b)*e+b*B.e)*k+P*T)*$,x=(((1-b)*i+b*B.g)*k+n*T)*$,D=(((1-b)*g+b*B.$)*k+p*T)*$,Gp=C*(z>>>24)+(1-C)*Math.round(l*255);
Z[c]=Gp<<24|D<<16|x<<8|t}}};Q.S.Jp=function(A){A=A^61^A>>16;A=A+(A<<3);A=A^A>>4;A=A*668265261;A=A^A>>15;
return(A&16777215)*(1/16777215)};Q.S.Jf=function(A){A=A^61^A>>16;A=A+(A<<3);A=A^A>>4;A=A*668265261;A=A^A>>15;
return A};Q.S.EUU=function(A,M,q,V,F,H,w,C){var r=1/255,G=r*H,J=Math.round(H*(256*256*256/255)),m=M.vt(V).vt(F),u=Math.max(0,m.x-M.x),W=Math.max(0,m.x-V.x),y=Math.max(0,m.y-M.y),O=Math.max(0,m.y-V.y),h=m.n,I=m.J,Z=new Uint32Array(A.buffer),L=new Uint32Array(q.buffer);
for(var Y=0;Y<I;Y++){var B=(y+Y)*M.n+u,X=(O+Y)*V.n+W;for(var E=0;E<h;E++,B++,X++){var c=Z[B],o=L[X],s=C*255+(1-C)*(c>>>24);
if((Q.S.Jf(B)&16777215)>=s*J)continue;L[X]=c&16777215|C*(o>>>24)+(1-C)*255<<24}}};Q.S.EEn=function(A,M,q){for(var V=0;
V<A.length;V+=4){var F=q[V>>>2];if(F==0)continue;var H=F*(1/255),w=1/H,C=M[V],r=M[V+1],G=M[V+2],J=A[V],m=A[V+1],u=A[V+2];
M[V]=Math.min(255,Math.max(0,Math.round((C-(1-H)*J)*w)));M[V+1]=Math.min(255,Math.max(0,Math.round((r-(1-H)*m)*w)));
M[V+2]=Math.min(255,Math.max(0,Math.round((G-(1-H)*u)*w)));M[V+3]=255}};Q.S.Jt=function(A,M,q,V,F,H,w,C,r,G){if(G==null)G=!1;
if(F&&!M.mg(H)){var J=Q.b(M.X()*4);Q.set(J,w);Q.mC(F,H,J,M);F=J;H=M}if(G){if(F==null)Q.S.ElP(A,M,q,V,F,C,r);
else Q.S.Eng(A,M,q,V,F,C,r)}else{if(F==null)Q.S.EUk(A,M,q,V,F,C,r);else Q.S.EJP(A,M,q,V,F,C,r)}};Q.S.EUk=function(A,M,q,V,F,H,w){var C=1/255,r=M.vt(V).vt(H),G=Math.max(0,r.x-M.x),J=Math.max(0,r.x-V.x),m=Math.max(0,r.y-M.y),u=Math.max(0,r.y-V.y),W=r.n,y=r.J,O=new Uint32Array(A.buffer),h=new Uint32Array(q.buffer),I=Q.S.JH,Z=w*255&255;
for(var L=0;L<y;L++){var Y=(m+L)*M.n+G,B=(u+L)*V.n+J;for(var X=0;X<W;X++,Y++,B++){var E=O[Y],c=h[B],o=E>>>24,s=c>>>24,z=Q.mi(Z*o+(255-Z)*s),k=Q.mi(o*Z),b=Q.mi(s*(255-Z)),T=E&255,l=E>>>8&255,$=E>>>16&255,e=c&255,i=c>>>8&255,g=c>>>16&255,P=k*T+e*b,n=k*l+i*b,p=k*$+g*b;
P=I[z<<8|Q.mi(P)];n=I[z<<8|Q.mi(n)];p=I[z<<8|Q.mi(p)];h[B]=z<<24|p<<16|n<<8|P}}};Q.S.ElP=function(A,M,q,V,F,H,w){var C=1/255,r=M.vt(V).vt(H),G=Math.max(0,r.x-M.x),J=Math.max(0,r.x-V.x),m=Math.max(0,r.y-M.y),u=Math.max(0,r.y-V.y),W=r.n,y=r.J,O=new Uint32Array(A.buffer),h=new Uint32Array(q.buffer),I=Q.S.JH,Z=w*16777215&16777215;
for(var L=0;L<y;L++){var Y=(m+L)*M.n+G,B=(u+L)*V.n+J;for(var X=0;X<W;X++,Y++,B++){if((Q.S.Jf(Y)&16777215)<Z)h[B]=O[Y]}}};
Q.S.EJP=function(A,M,q,V,F,H,w){var C=1/255,r=M.vt(V).vt(H),G=Math.max(0,r.x-M.x),J=Math.max(0,r.x-V.x),m=Math.max(0,r.y-M.y),u=Math.max(0,r.y-V.y),W=r.n,y=r.J,O=new Uint32Array(A.buffer),h=new Uint32Array(q.buffer),I=Q.S.JH;
for(var Z=0;Z<y;Z++){var L=(m+Z)*M.n+G,Y=(u+Z)*V.n+J;for(var B=0;B<W;B++,L++,Y++){var X=F[L]*w&255;if(X==0)continue;
if(X==255){h[Y]=O[L];continue}var E=O[L],c=h[Y],o=E>>>24,s=c>>>24,z=Q.mi(X*o+(255-X)*s),k=Q.mi(o*X),b=Q.mi(s*(255-X)),T=E&255,l=E>>>8&255,$=E>>>16&255,e=c&255,i=c>>>8&255,g=c>>>16&255,P=I[z<<8|Q.mi(k*T+e*b)],n=I[z<<8|Q.mi(k*l+i*b)],p=I[z<<8|Q.mi(k*$+g*b)];
h[Y]=z<<24|p<<16|n<<8|P}}};Q.S.Eng=function(A,M,q,V,F,H,w){var C=1/255,r=M.vt(V).vt(H),G=Math.max(0,r.x-M.x),J=Math.max(0,r.x-V.x),m=Math.max(0,r.y-M.y),u=Math.max(0,r.y-V.y),W=r.n,y=r.J,O=new Uint32Array(A.buffer),h=new Uint32Array(q.buffer),I=Q.S.JH,Z=Math.round(w*257);
for(var L=0;L<y;L++){var Y=(m+L)*M.n+G,B=(u+L)*V.n+J;for(var X=0;X<W;X++,Y++,B++){var E=F[Y]*Z;if((Q.S.Jf(Y)&65535)<E)h[B]=O[Y]}}};
Q.S.EJh=function(A,M,q,V,F,H,w){var C=1/255,r=M.vt(V).vt(H),G=Math.max(0,r.x-M.x),J=Math.max(0,r.x-V.x),m=Math.max(0,r.y-M.y),u=Math.max(0,r.y-V.y),W=r.n,y=r.J,O=new Uint32Array(A.buffer),h=new Uint32Array(q.buffer),I=Math.floor(Math.random()*V.X()),Z=Q.S.Eod;
for(var L=0;L<y;L++){var Y=(m+L)*M.n+G,B=(u+L)*V.n+J;for(var X=0;X<W;X++){var E=F[Y+X]*w;if(E==0)continue;
if(E==255){h[B+X]=O[Y+X];continue}var c=O[Y+X],o=h[B+X],s=c>>>24,z=o>>>24,k=s*E*(1/255),b=z*(255-E)*(1/255),T=c&255,l=c>>>8&255,$=c>>>16&255,e=o&255,i=o>>>8&255,g=o>>>16&255,P=Q.S.Jf(B+X+I),n=Math.floor((k+b)*256+.5)+(P>>>0&255)>>>8,p=n==0?0:256/(k+b),t=T*k+e*b,x=l*k+i*b,D=$*k+g*b,Gp=Math.floor(t*p+.5)+(P>>>8&255)>>>8,zY=Math.floor(x*p+.5)+(P>>>16&255)>>>8,zi=Math.floor(D*p+.5)+(P>>>21&248)>>>8;
h[B+X]=n<<24|zi<<16|zY<<8|Gp}}};Q.S.Eod=function(A){return Math.floor(A+Math.random())};Q.S.Jk=function(A,M,q,V,F,H,w){var C=1/255,r=M.vt(V).vt(H),G=Math.max(0,r.x-M.x),J=Math.max(0,r.x-V.x),m=Math.max(0,r.y-M.y),u=Math.max(0,r.y-V.y),W=r.n,y=r.J;
for(var O=0;O<y;O++){var h=(m+O)*M.n+G,I=(u+O)*V.n+J;for(var Z=0;Z<W;Z++,h++,I++){var L=w*F[h]*C;if(L==0)continue;
if(L==1){q[I]=A[h];continue}q[I]=A[h]*L+q[I]*(1-L)}}};Q.blur={};Q.blur.Jb=function(A){if(Q.blur.JL.length<A)Q.blur.JL=Q.b(A);
return Q.blur.JL};Q.blur.JL=Q.b(0);Q.blur.JZ=function(A){if(Q.blur.JY.length<A)Q.blur.JY=new Float32Array(A);
return Q.blur.JY};Q.blur.JY=new Float32Array(0);Q.blur.Ji=function(A,M,q,V){var F=q.n,H=q.J;Q.blur.Elz(A,M,F,H,V)};
Q.blur.JI=function(A,M,q,V){var F=q.n,H=q.J;Q.blur.Evd(A,M,F,H,V)};Q.blur.J$=function(A,M,q,V){var F=q.n,H=q.J;
V=Math.round(V);var w=Q.blur.Jb(F*H);Q.mc(A,M);Q.blur.zE(M,w,F,H,V)};Q.blur.JK=function(A,M,q,V){var F=q.n,H=q.J;
V=Math.round(V);var w=Q.blur.JZ(F*H);Q.mc(A,M);Q.blur.zm(M,w,F,H,V)};Q.blur.Je=function(A,M){var q=Math.sqrt(12*A*A/M+1),V=Math.floor(q);
if(V%2==0)V--;var F=V+2,H=(12*A*A-M*V*V-4*M*V-3*M)/(-4*V-4),w=Math.round(H),C=[];for(var r=0;r<M;r++)C.push(r<w?V:F);
return C};Q.blur.Emh=function(A,M,q,V,F){var H=Math.ceil(F*2.57);for(var w=0;w<V;w++)for(var C=0;C<q;
C++){var r=0,G=0;for(var J=w-H;J<w+H+1;J++)for(var m=C-H;m<C+H+1;m++){var u=Math.min(q-1,Math.max(0,m)),W=Math.min(V-1,Math.max(0,J)),y=(m-C)*(m-C)+(J-w)*(J-w),O=Math.exp(-y/(2*F*F))/(Math.PI*2*F*F);
r+=A[W*q+u]*O;G+=O}M[w*q+C]=Math.round(r/G)}};Q.blur.EmJ=function(A,M,q,V,F){var H=Q.blur.EGN(F),w=Math.ceil(F*2.57);
for(var C=0;C<V;C++)for(var r=0;r<q;r++){var G=0,J=0;for(var m=C-w;m<C+w+1;m++){var u=Math.abs(m-C)*(w+1);
for(var W=r-w;W<r+w+1;W++){var y=Math.min(q-1,Math.max(0,W)),O=Math.min(V-1,Math.max(0,m)),h=Math.abs(W-r),I=H[u+h];
G+=A[O*q+y]*I;J+=I}}M[C*q+r]=Math.round(G/J)}};Q.blur.Evj=function(A,M,q,V,F){var H=Q.blur.Je(F,3);Q.blur.JQ(A,M,q,V,(H[0]-1)/2);
Q.blur.JQ(M,A,q,V,(H[1]-1)/2);Q.blur.JQ(A,M,q,V,(H[2]-1)/2)};Q.blur.JQ=function(A,M,q,V,F){for(var H=0;
H<V;H++)for(var w=0;w<q;w++){var C=0;for(var r=H-F;r<H+F+1;r++)for(var G=w-F;G<w+F+1;G++){var J=Math.min(q-1,Math.max(0,G)),m=Math.min(V-1,Math.max(0,r));
C+=A[m*q+J]}M[H*q+w]=Math.round(C/((F+F+1)*(F+F+1)))}};Q.blur.ERu=function(A,M,q,V,F){var H=Q.blur.Je(F,3);
Q.blur.Jw(A,M,q,V,(H[0]-1)/2);Q.blur.Jw(M,A,q,V,(H[1]-1)/2);Q.blur.Jw(A,M,q,V,(H[2]-1)/2)};Q.blur.Jw=function(A,M,q,V,F){for(var H=0;
H<A.length;H++)M[H]=A[H];Q.blur.EEo(M,A,q,V,F);Q.blur.ERU(A,M,q,V,F)};Q.blur.EJw=function(A,M,q,V,F){Q.blur.Emv(A,M,q,V,F);
Q.blur.EvO(M,A,q,V,F)};Q.blur.EEo=function(A,M,q,V,F){for(var H=0;H<V;H++)for(var w=0;w<q;w++){var C=0;
for(var r=w-F;r<w+F+1;r++){var G=Math.min(q-1,Math.max(0,r));C+=A[H*q+G]}M[H*q+w]=Math.round(C/(F+F+1))}};
Q.blur.Emv=function(A,M,q,V,F){var H=1/(F+F+1);for(var w=0;w<V;w++)for(var C=0;C<q;C++){var r=0;for(var G=C-F;
G<C+F+1;G++){var J=Math.min(q-1,Math.max(0,G));r+=A[w*q+J]}M[w*q+C]=r*H}};Q.blur.ERU=function(A,M,q,V,F){for(var H=0;
H<V;H++)for(var w=0;w<q;w++){var C=0;for(var r=H-F;r<H+F+1;r++){var G=Math.min(V-1,Math.max(0,r));C+=A[G*q+w]}M[H*q+w]=Math.round(C/(F+F+1))}};
Q.blur.EvO=function(A,M,q,V,F){var H=1/(F+F+1);for(var w=0;w<V;w++)for(var C=0;C<q;C++){var r=0;for(var G=w-F;
G<w+F+1;G++){var J=Math.min(V-1,Math.max(0,G));r+=A[J*q+C]}M[w*q+C]=r*H}};Q.blur.Elz=function(A,M,q,V,F){var H=Q.blur.Je(F,3),w=Q.blur.Jb(q*V);
Q.mc(A,M);Q.blur.zE(M,w,q,V,H[0]-1>>1);Q.blur.zE(M,w,q,V,H[1]-1>>1);Q.blur.zE(M,w,q,V,H[2]-1>>1)};Q.blur.Evd=function(A,M,q,V,F){var H=Q.blur.Je(F,3),w=Q.blur.JZ(q*V);
Q.mc(A,M);Q.blur.zm(M,w,q,V,(H[0]-1)/2);Q.blur.zm(M,w,q,V,(H[1]-1)/2);Q.blur.zm(M,w,q,V,(H[2]-1)/2)};
Q.blur.zE=function(A,M,q,V,F){Q.blur.EGk(A,M,q,V,F);Q.blur.EG$(M,A,q,V,F)};Q.blur.zm=function(A,M,q,V,F){Q.blur.EEZ(A,M,q,V,F);
Q.blur.EGz(M,A,q,V,F)};Q.blur.zJ=[];Q.blur.zz=function(A){if(Q.blur.zJ[A])return Q.blur.zJ[A];var M=1/(A+A+1),q=(A+A+1)*256,V=Q.b(q);
for(var F=0;F<q;F++)V[F]=Math.round(F*M);Q.blur.zJ[A]=V;return V};Q.blur.EGk=function(A,M,q,V,F){var H=1/(F+F+1),w=q-F-F-1,C=Q.blur.zz(F),r=0,G=0,J=0;
for(var m=0;m<V;m++){r=m*q;G=r;J=r+F;var u=A[r],W=A[r+q-1],y=(F+1)*u;for(var O=0;O<F;O++)y+=A[r+O];for(var O=0;
O<=F;O++){y+=A[J++]-u;M[r++]=C[y]}for(var O=0;O<w;O++){y+=A[J+O]-A[G+O];M[r+O]=C[y]}J+=w;G+=w;r+=w;for(var O=q-F;
O<q;O++){y+=W-A[G++];M[r++]=C[y]}}};Q.blur.EEZ=function(A,M,q,V,F){var H=1/(F+F+1),w=q-F-F-1,C=0,r=0,G=0;
for(var J=0;J<V;J++){C=J*q;r=C;G=C+F;var m=A[C],u=A[C+q-1],W=(F+1)*m;for(var y=0;y<F;y++){W+=A[C+y]}for(var y=0;
y<=F;y++){W+=A[G++]-m;M[C++]=W*H}for(var y=0;y<w;y++){W+=A[G+y]-A[r+y];M[C+y]=W*H}G+=w;r+=w;C+=w;for(var y=q-F;
y<q;y++){W+=u-A[r++];M[C++]=W*H}}};Q.blur.EG$=function(A,M,q,V,F){var H=1/(F+F+1),w=V-F-F-1,C=Q.blur.zz(F);
for(var r=0;r<q;r++){var G=r,J=G,m=G+F*q,u=A[G],W=A[G+q*(V-1)],y=(F+1)*u;for(var O=0;O<F;O++)y+=A[G+O*q];
for(var O=0;O<=F;O++){y+=A[m]-u;M[G]=C[y];m+=q;G+=q}for(var O=0;O<w;O++){var h=O*q;y+=A[m+h]-A[J+h];
M[G+h]=C[y]}J+=w*q;m+=w*q;G+=w*q;for(var O=V-F;O<V;O++){y+=W-A[J];M[G]=C[y];J+=q;G+=q}}};Q.blur.EGz=function(A,M,q,V,F){var H=1/(F+F+1),w=V-F-F-1;
for(var C=0;C<q;C++){var r=C,G=r,J=r+F*q,m=A[r],u=A[r+q*(V-1)],W=(F+1)*m;for(var y=0;y<F;y++)W+=A[r+y*q];
for(var y=0;y<=F;y++){W+=A[J]-m;M[r]=W*H;J+=q;r+=q}for(var y=0;y<w;y++){var O=y*q;W+=A[J+O]-A[G+O];M[r+O]=W*H}G+=w*q;
J+=w*q;r+=w*q;for(var y=V-F;y<V;y++){W+=u-A[G];M[r]=W*H;G+=q;r+=q}}};Q.blur.EGN=function(A){var M=Math.ceil(A*2.57),q=new Float32Array((M+1)*(M+1));
for(var V=0;V<M+1;V++)for(var F=0;F<M+1;F++){var H=F*F+V*V;q[V*(M+1)+F]=Math.exp(-H/(2*A*A))/(A*A*Math.PI*2)}return q};
Q.h={};Q.h.b=function(A,M,q,V){var F=[];for(var H=0;H<4;H++)for(var w=0;w<4;w++)F.push(A+q*w/3,M+V*H/3);
return F};Q.h.zH=function(A,M){var q=A.slice(0);for(var V=0;V<4;V++)for(var F=0;F<4;F++){var H=2*(V*4+F),w=2*(F*4+(3-V));
if(M){var C=H;H=w;w=C}q[w]=A[H];q[w+1]=A[H+1]}return q};Q.h.EGU=new Float64Array(16);Q.h.drawImage=function(A,M,q,V,F,H,w){if(w==null)w=!1;
var C=H.n,r=H.J,u=2;F=new Uint32Array(F.buffer);M=new Uint32Array(M.buffer);var G=Q.h.A.za(A,0,1,0,1,q,V),J=G.eV,m=G.eC,W=1/u,y=Q.h.zW,O=new Float64Array(2),h=new Uint32Array(30);
for(var I=0;I<r;I++)for(var Z=0;Z<C;Z++){var L=Z+H.x+.5,Y=I+H.y+.5,B=Q.h.A.EGr(J,m,L,Y,h),k=0,b=0,T=0,l=0;
if(B==0)continue;var X=I*C+Z,E=Q.h.Jm(A,L,Y,J,h,B,!0),c=y[0]*q,o=y[1]*V;if(w){if(E!=-1&&0<c&&c<q&&0<o&&o<V){var s=Math.floor(o)*q+Math.floor(c);
F[X]=M[s]}continue}var z=E!=-1&&(1<c&&c<q-1)&&(1<o&&o<V-1);if(J[E+8]<.95){Q.GG.GT(c,o,M,q,V,F,X,!1);
continue}for(var $=0;$<u;$++)for(var e=0;e<u;e++){var L=Z+H.x+($+.5)*W,Y=I+H.y+(e+.5)*W,E=0;E=Q.h.Jm(A,L,Y,J,h,B,!0);
if(E!=-1){var c=y[0],o=y[1],c=Math.floor(c*q);o=Math.floor(o*V);var i=M[o*q+c],g=i>>>24;k+=(i&255)*g;
b+=(i>>>8&255)*g;T+=(i>>>16&255)*g;l+=g}}if(l!=0){var P=1/l;k=~~(k*P+.5);b=~~(b*P+.5);T=~~(T*P+.5);l=~~(l*W*W+.5);
F[X]=l<<24|T<<16|b<<8|k}}};Q.h.zW=new Float64Array(5*20);Q.h.EEb=new Uint32Array(5*5*20);Q.h.Jm=function(A,M,q,V,F,H,w){var C=Q.h.zW,r=Q.h.EEb,G=0,J=0;
for(var m=0;m<H;m++){var u=F[m],W=G;G=Q.h.zs(A,M,q,V,u+4,w,C,G);if(G!=W){r[J]=u;J+=5}}if(G==0)return-1;
else if(G==5)return r[0];else{var y=0;for(var m=0;m<G;m+=5)if(C[m+4]<C[y+4])y=m;C[0]=C[y];C[1]=C[y+1];
C[2]=C[y+2];C[3]=C[y+3];return r[y]}};Q.h.zT=new Array(10);Q.h.zs=function(A,M,q,V,F,H,w,C){var r=Q.h.zT,G=0,J=0,m=0,u=0,W=0,y=0,O=0,h=V[F],I=V[F+1],Z=V[F+2],L=V[F+3],Y=(Z-M)*(Z-M)+(L-q)*(L-q);
for(var B=0;B<5&&Y>.05;B++){Q.h.zg(r,0,I);Q.h.zA(r,4,h);Q.h.zx(A,r);G=r[8];J=r[9];Q.h.zA(r,0,I);Q.h.zg(r,4,h);
Q.h.zx(A,r);m=r[8];u=r[9];W=1/(G*u-J*m);y=(Z-M)*W;O=(L-q)*W;h+=-u*y+m*O;I+=+J*y-G*O;Q.h.zc(A,h,I,r);
Z=r[8];L=r[9];Y=(Z-M)*(Z-M)+(L-q)*(L-q)}if(H&&(h<0||h>1||I<0||I>1||Y>.25))return C;w[C]=h;w[C+1]=I;w[C+2]=Z;
w[C+3]=L;w[C+4]=G*u-J*m;return C+5};Q.h.apply=function(A,M,q){var V=q.x,F=q.y,H=1/q.n,w=1/q.J,C=Q.h.zT;
for(var r=0;r<M.length;r+=2){var G=(M[r]-V)*H,J=(M[r+1]-F)*w;Q.h.zc(A,G,J,C);M[r]=C[8];M[r+1]=C[9]}};
Q.h.zc=function(A,M,q,V){Q.h.zg(V,0,q);Q.h.zg(V,4,M);Q.h.zx(A,V)};Q.h.zA=function(A,M,q){var V=1-q;A[M]=-3*(V*V);
A[M+1]=3*(V*V)-6*(q*V);A[M+2]=6*(q*V)-3*(q*q);A[M+3]=3*(q*q)};Q.h.zg=function(A,M,q){var V=1-q;A[M]=V*(V*V);
A[M+1]=3*q*(V*V);A[M+2]=3*(q*q)*V;A[M+3]=q*q*q};Q.h.zx=function(A,M){var q=0,V=0,F=0;F=M[0]*M[4];q+=A[0]*F;
V+=A[1]*F;F=M[0]*M[5];q+=A[2]*F;V+=A[3]*F;F=M[0]*M[6];q+=A[4]*F;V+=A[5]*F;F=M[0]*M[7];q+=A[6]*F;V+=A[7]*F;
F=M[1]*M[4];q+=A[8]*F;V+=A[9]*F;F=M[1]*M[5];q+=A[10]*F;V+=A[11]*F;F=M[1]*M[6];q+=A[12]*F;V+=A[13]*F;
F=M[1]*M[7];q+=A[14]*F;V+=A[15]*F;F=M[2]*M[4];q+=A[16]*F;V+=A[17]*F;F=M[2]*M[5];q+=A[18]*F;V+=A[19]*F;
F=M[2]*M[6];q+=A[20]*F;V+=A[21]*F;F=M[2]*M[7];q+=A[22]*F;V+=A[23]*F;F=M[3]*M[4];q+=A[24]*F;V+=A[25]*F;
F=M[3]*M[5];q+=A[26]*F;V+=A[27]*F;F=M[3]*M[6];q+=A[28]*F;V+=A[29]*F;F=M[3]*M[7];q+=A[30]*F;V+=A[31]*F;
M[8]=q;M[9]=V};Q.h.A={};Q.h.A.Js=12;Q.h.A.zf=new Uint32Array(50);Q.h.A.EGr=function(A,M,q,V,F){var H=0,w=Q.h.A.zf,C=1;
w[0]=0;while(C!=0){var r=w[--C];if(A[r+0]<=q&&A[r+1]<=V&&q<A[r+2]&&V<A[r+3]){if(M[r+r+18]==0){F[H]=r;
H++}else{w[C]=M[r+r+18];w[C+1]=M[r+r+19];C+=2}}}return H};Q.h.A.EHl=function(A,M,q,V,F){var H=0,w=Q.h.A.Emd,C=Q.h.A.zf,r=1,G=0,J=999999999999;
C[0]=0;while(r!=0){var m=C[--r],u=w(q,V,A[m+0],A[m+1]),W=w(q,V,A[m+0],A[m+3]),y=w(q,V,A[m+2],A[m+1]),O=w(q,V,A[m+2],A[m+3]),h=Math.min(u,Math.min(W,Math.min(y,O))),I=Math.max(u,Math.max(W,Math.max(y,O)));
if(h>J)continue;if(M[m+m+18]==0){if(I<J){J=I;G=m}}else{C[r]=M[m+m+18];C[r+1]=M[m+m+19];r+=2}}F[H]=G;
H++;return H};Q.h.A.Emd=function(A,M,q,V){return(q-A)*(q-A)+(V-M)*(V-M)};Q.h.A.zM=null;Q.h.A.zj=null;
Q.h.A.za=function(A,M,q,V,F,H,w){if(H==null){H=1;w=1}Q.h.A.zj=A;if(Q.h.A.zM==null){Q.h.A.zM={eV:new Float64Array(15e3*8),eC:null};
Q.h.A.zM.eC=new Uint32Array(Q.h.A.zM.eV.buffer)}var C=Q.h.A.zM;Q.h.A.zV(A,M,q,V,F,0,C.eV,C.eC,0,H,w);
return C};Q.h.A.zV=function(A,M,q,V,F,H,w,C,r,G,J){var m=Q.O.GB(A),u=r,W=Q.h.A.zj,y=(M+q)/2,O=(V+F)/2,h=Q.h.zT,I=Q.h.zW,Z=Q.h.EGU,Gp,zY,zi;
Q.h.zc(W,y,O,h);var L=h[8],Y=h[9];Z[0]=y;Z[1]=O;Z[2]=L;Z[3]=Y;Q.h.zs(W,L+1,Y,Z,0,!1,I,0);var B=(y-I[0])*G,X=(O-I[1])*J,E=Math.sqrt(B*B+X*X);
Q.h.zs(W,L,Y+1,Z,0,!1,I,0);var c=(y-I[0])*G,o=(O-I[1])*J,s=Math.sqrt(c*c+o*o);w[u]=m.x;w[u+1]=m.y;w[u+2]=m.x+m.n;
w[u+3]=m.y+m.J;w[u+4]=y;w[u+5]=O;w[u+6]=L;w[u+7]=Y;w[u+8]=.5*(E+s);C[u+u+18]=0;C[u+u+19]=0;r+=10;Q.h.zg(h,0,.1);
Q.h.zA(h,4,.1);Q.h.zx(A,h);var z=h[8],k=h[9];Q.h.zA(h,0,.1);Q.h.zg(h,4,.7);Q.h.zx(A,h);var b=h[8],T=h[9];
Q.h.zg(h,0,.8);Q.h.zA(h,4,.8);Q.h.zx(A,h);var l=h[8],$=h[9];Q.h.zA(h,0,.9);Q.h.zg(h,4,.2);Q.h.zx(A,h);
var e=h[8],i=h[9],g=(l-z)*(l-z)+(e-b)*(e-b)+($-k)*($-k)+(i-T)*(i-T);if(r>=w.length){console.log("Buffer not long enough");
throw"e"}if(H==Q.h.A.Js||g<2)return r;var P=Q.h.A.zC(A,!0),n=Q.O.GB(P[0]),p=Q.O.GB(P[1]),t=Q.h.A.zC(A,!1),x=Q.O.GB(t[0]),D=Q.O.GB(t[1]);
if(n.n+n.J+p.n+p.J<x.n+x.J+D.n+D.J){zi=!0;Gp=P[0];zY=P[1]}else{zi=!1;Gp=t[0];zY=t[1]}var zI=(M+q)/2,z$=(V+F)/2,zK=M,ze=V,zq=q,zB=F,zN=M,zQ=V,z_=q,zw=F;
if(zi){zq=zN=zI}else{zB=zQ=z$}C[u+u+18]=r;r=Q.h.A.zV(Gp,zK,zq,ze,zB,H+1,w,C,r,G,J);C[u+u+19]=r;r=Q.h.A.zV(zY,zN,z_,zQ,zw,H+1,w,C,r,G,J);
var zy=C[u+u+18],zu=C[u+u+19];w[u]=Math.min(w[zy],w[zu]);w[u+1]=Math.min(w[zy+1],w[zu+1]);w[u+2]=Math.max(w[zy+2],w[zu+2]);
w[u+3]=Math.max(w[zy+3],w[zu+3]);return r};Q.h.A.zC=function(A,M){var q=0,V=0,F=0,H=0,w=0,C=0,r=0,G=0,J=A.slice(0),m=A.slice(0);
for(var u=0;u<4;u++){q=M?A[u*8+2*0]:A[0*8+2*u];V=M?A[u*8+2*0+1]:A[0*8+2*u+1];F=M?A[u*8+2*1]:A[1*8+2*u];
H=M?A[u*8+2*1+1]:A[1*8+2*u+1];w=M?A[u*8+2*2]:A[2*8+2*u];C=M?A[u*8+2*2+1]:A[2*8+2*u+1];r=M?A[u*8+2*3]:A[3*8+2*u];
G=M?A[u*8+2*3+1]:A[3*8+2*u+1];var W=(q+F)/2,y=(V+H)/2,O=(F+w)/2,h=(H+C)/2,I=(w+r)/2,Z=(C+G)/2,L=(W+O)/2,Y=(y+h)/2,B=(O+I)/2,X=(h+Z)/2,E=(L+B)/2,c=(Y+X)/2;
if(M){J[u*8+2*0]=q;J[u*8+2*0+1]=V;J[u*8+2*1]=W;J[u*8+2*1+1]=y;J[u*8+2*2]=L;J[u*8+2*2+1]=Y;J[u*8+2*3]=E;
J[u*8+2*3+1]=c;m[u*8+2*0]=E;m[u*8+2*0+1]=c;m[u*8+2*1]=B;m[u*8+2*1+1]=X;m[u*8+2*2]=I;m[u*8+2*2+1]=Z;m[u*8+2*3]=r;
m[u*8+2*3+1]=G}else{J[0*8+2*u]=q;J[0*8+2*u+1]=V;J[1*8+2*u]=W;J[1*8+2*u+1]=y;J[2*8+2*u]=L;J[2*8+2*u+1]=Y;
J[3*8+2*u]=E;J[3*8+2*u+1]=c;m[0*8+2*u]=E;m[0*8+2*u+1]=c;m[1*8+2*u]=B;m[1*8+2*u+1]=X;m[2*8+2*u]=I;m[2*8+2*u+1]=Z;
m[3*8+2*u]=r;m[3*8+2*u+1]=G}}return[J,m]};Q.zS={};Q.zS.EUh=function(A,M,q){var V=Q.zS.EEu(M,q),F=Q.zS.EEk(V,A,M,q);
return{Pf:V,et:F}};Q.zS.EEv=function(A,M,q){var V=Math.round(A.length/8),F=new Uint32Array(V),H=new Uint8Array(V),w=new Uint32Array(V);
Q.mh(F,4294967295,0);F[q]=0;var C=new zn(V);C.push(q,F[q]);var r={Pf:A,et:M,l_:F,eS:H,ek:w,Px:C,Eoe:q};
return r};Q.zS.zL=function(A,M){var q=A.Pf,V=A.et,F=A.l_,H=A.eS,w=A.ek,C=A.Px;while(!C.zZ()&&(M==null||H[M]==0)){var r=C.pop();
H[r]=1;for(var G=0;G<8;G++){var J=q[8*r+G];if(J==-1||H[J])continue;var m=F[r]+V[8*r+G];if(C.contains(J)&&m<F[J])C.remove(J,F[J]);
if(!C.contains(J)){F[J]=m;w[J]=r;C.push(J,F[J])}}}};function zn(A){this.eL=new Uint32Array(A);this.list=[];
this.eZ=0;this.eY=4294967295}zn.prototype.zZ=function(){return this.eZ==0};zn.prototype.push=function(A,M){var q=this.list;
if(q[M]==null)q[M]=[];q[M].push(A);this.eZ++;this.eL[A]=q[M].length-1+1;this.eY=Math.min(this.eY,M)};
zn.prototype.pop=function(){this.eZ--;var A=this.list,M=this.eY,q=A[M].pop();if(A[M].length==0)A[M]=null;
this.zY();this.eL[q]=0;return q};zn.prototype.contains=function(A){return this.eL[A]!=0};zn.prototype.remove=function(A,M){this.eZ--;
var q=this.list,V=this.eL[A]-1;if(V==q[M].length-1)q[M].pop();else{var F=q[M].pop();q[M][V]=F;this.eL[F]=V+1}if(q[M].length==0)q[M]=null;
this.eL[A]=0;this.zY()};zn.prototype.zY=function(){if(this.eZ==0){this.eY=4294967295;return}var A=this.eY,M=this.list;
while(M[A]==null)A++;this.eY=A};Q.zS.EJT=function(A,M,q){var V=new Float32Array(M*q);for(var F=0;F<q;
F++)for(var H=0;H<M;H++){var w=F*M+H,C=-16*A[w];if(1<H&&H<M-2&&1<F&&F<q-2){C+=A[w-M-M];C+=A[w-M-1]+2*A[w-M]+A[w-M+1];
C+=A[w-2]+2*A[w-1]+2*A[w+1]+A[w+2];C+=A[w+M-1]+2*A[w+M]+A[w+M+1];C+=A[w+M+M]}V[w]=C/16}return V};Q.zS.Elk=function(A,M,q){var V=new Float32Array(M*q),F=0,G=0;
for(var H=0;H<q;H++)for(var w=0;w<M;w++){var C=0,r=0;if(0<w&&w<M-1)C=A[F+1]-A[F-1];if(0<H&&H<q-1)r=A[F+M]-A[F-M];
V[F]=Math.sqrt(C*C+r*r);F++}var J=M*q;for(var F=0;F<J;F++)G=Math.max(G,V[F]);for(var F=0;F<J;F++)V[F]=1-V[F]/G;
return V};Q.zS.Eve=function(A,M,q){var V=new Float32Array(M*q*2),F=0;for(var H=0;H<q;H++)for(var w=0;
w<M;w++){var C=0,r=0;if(0<w&&w<M-1&&0<H&&H<q-1){C=2*A[F+1]-2*A[F-1];r=2*A[F+M]-2*A[F-M]}var G=Math.sqrt(C*C+r*r);
if(G!=0){V[2*F]=C/G;V[2*F+1]=r/G}else{V[2*F]=C;V[2*F+1]=r}F++}return V};Q.zS.EEk=function(A,M,q,V){var F=Q.zS.EJT(M,q,V),H=Q.zS.Elk(M,q,V),w=Q.zS.Eve(M,q,V),C=256,r=new Float32Array(C);
for(var G=0;G<C;G++)r[G]=Math.acos(-1+2*G/(C-1));var J=[-1,0,1,1,1,0,-1,-1],m=[-1,-1,-1,0,1,1,1,0],u=1/Math.sqrt(2),W=new Uint8Array(q*V*8),y=q*V;
for(var O=0;O<y;O++){var h=F[O],I=w[2*O+1],Z=-w[2*O];for(var L=0;L<8;L++){var Y=8*O+L,B=A[Y];if(B==-1)W[Y]=-1;
else{var X=L%2==0,E=h*F[B]>=0?0:1,c=H[B]*(X?1:u),o=1,s=w[2*B+1],z=-w[2*B];if(!(I==0&&Z==0||s==0&&z==0)){var k=J[L],b=m[L];
if(I*J[L]+Z*m[L]<0){k=-k;b=-b}if(X){k*=u;b*=u}var T=I*k+Z*b,l=s*k+z*b,$=2/(3*Math.PI)*(r[Math.floor((.5+.5*T)*(C-1))]+r[Math.floor((.5+.5*l)*(C-1))]);
o=$}W[Y]=Math.round(6*(.43*E+.43*o+.14*c))}}}return W};Q.zS.EEu=function(A,M){var q=new Int32Array(A*M*8),V=q,F=0,H=0;
for(var w=0;w<M;w++)for(var C=0;C<A;C++){if(w>0&&C>0)V[H++]=F-A-1;else V[H++]=-1;if(w>0)V[H++]=F-A;else V[H++]=-1;
if(w>0&&C<A-1)V[H++]=F-A+1;else V[H++]=-1;if(C<A-1)V[H++]=F+1;else V[H++]=-1;if(w<M-1&&C<A-1)V[H++]=F+A+1;
else V[H++]=-1;if(w<M-1)V[H++]=F+A;else V[H++]=-1;if(w<M-1&&C>0)V[H++]=F+A-1;else V[H++]=-1;if(C>0)V[H++]=F-1;
else V[H++]=-1;F++}return q};Q.zq={};Q.zq.ERH=function(A,M){var q=A.slice(0);for(var V=0;V<A.length;
V++)q[V]*=M;return q};Q.zq.zN=function(A){var M=A.slice(0),q=0;for(var V=0;V<A.length;V++)q+=A[V];for(var V=0;
V<A.length;V++)M[V]/=q;return M};Q.zq.zQ=function(A,M,q,V,F,H){var w=H-1>>1,C=new Uint32Array(A.buffer),M=new Uint8ClampedArray(M.buffer);
for(var r=0;r<V;r++)for(var G=0;G<q;G++){var J=0,m=0,u=0;for(var W=0;W<H;W++)for(var y=0;y<H;y++){var O=F[W*H+y];
if(O==0)continue;var h=Math.min(q-1,Math.max(0,G+y-w)),I=Math.min(V-1,Math.max(0,r+W-w)),Z=C[I*q+h];
J+=(Z&255)*O;m+=(Z>>8&255)*O;u+=(Z>>16&255)*O}var L=r*q+G<<2;M[L]=Math.abs(J);M[L+1]=Math.abs(m);M[L+2]=Math.abs(u)}};
Q.zq.z_=function(A,M,q,V,F,H,w,C){if(H<=10)Q.zq.Eot(A,M,q,V,F,H,w,C);else Q.zq.Emg(A,M,q,V,F,H,w,C)};
Q.zq.Emg=function(A,M,q,V,F,H,w,C){var r=0,G=new Uint32Array(16),J=new Uint32Array(256),m=new Uint32Array(1*V),u=new Uint32Array(16*V),W=new Uint32Array(256*V),y=Math.min(H,V),O=Math.min(H,F);
for(var h=0;h<O;h++)Q.zq.Gn(W,u,m,A,M,V,h);for(var h=0;h<F;h++){if(h+H<F)Q.zq.Gn(W,u,m,A,M,V,h+H);if(h-H-1>=0)Q.zq.EEa(W,u,m,A,M,V,h-H-1);
Q.set(J,0);Q.set(G,0);r=0;for(var I=0;I<y;I++){Q.zq.GJ(J,G,W,u,I);r+=m[I]}for(var I=0;I<V;I++){if(I+H<V&&m[I+H]!=0){r+=m[I+H];
Q.zq.GJ(J,G,W,u,I+H)}if(I-H-1>=0&&m[I-H-1]!=0){r-=m[I-H-1];Q.zq.ERq(J,G,W,u,I-H-1)}var Z=r==0?0:w(J,G,A[h*V+I],r,C);
q[h*V+I]=Z}}};Q.zq.Eot=function(A,M,q,V,F,H,w,C){var r=0,G=new Uint32Array(16),J=new Uint32Array(256);
for(var m=0;m<F;m++){Q.set(J,0);Q.set(G,0);r=0;var u=Math.max(m-H,0),W=Math.min(F,m+H+1);for(var y=0;
y<H;y++)r+=Q.zq.zu(J,G,A,M,u*V+y,V,W*V+y,1);for(var y=0;y<V;y++){if(y+H<V)r+=Q.zq.zu(J,G,A,M,u*V+y+H,V,W*V+y+H,1);
if(y-H-1>=0)r+=Q.zq.zu(J,G,A,M,u*V+y-H-1,V,W*V+y-H-1,-1);var O=r==0?0:w(J,G,A[m*V+y],r,C);q[m*V+y]=O}}};
Q.zq.zu=function(A,M,q,V,F,H,w,C){var r=0;while(F<w){var G=V[F]*C,J=q[F];A[J]+=G;M[J>>>4]+=G;r+=G;F+=H}return r};
Q.zq.EmE=function(A,M,q,V,F){var H=15;while(M[H]==0&&H>0)H--;H=(H<<4)+15;while(A[H]==0&&H>0)H--;return H};
Q.zq.EHn=function(A,M,q,V,F){var H=0;while(M[H]==0&&H<15)H++;H=H<<4;while(A[H]==0&&H<255)H++;return H};
Q.zq.EEV=function(A,M,q,V,F){var H=V>>>1,w=0,C=0;while(w<=H)w+=M[C++];if(C>0){C--;w-=M[C]}C=C<<4;while(w<=H)w+=A[C++];
return C-1};Q.zq.zX=function(A,M,q,V,F){var H=F[0],w=0,C=0,r=Math.max(0,q-H),G=Math.min(256,q+H+1);while(r<G){w+=r*A[r];
C+=A[r];r++}return C==0?0:w/C};Q.zq.Gn=function(A,M,q,V,F,H,w){var C=w*H;for(var r=0;r<H;r++,C++){var G=F[C],J=V[C];
A[r<<8|J]+=G;M[r<<4|J>>>4]+=G;q[r]+=G}};Q.zq.EEa=function(A,M,q,V,F,H,w){var C=w*H;for(var r=0;r<H;r++,C++){var G=F[C],J=V[C];
A[r<<8|J]-=G;M[r<<4|J>>>4]-=G;q[r]-=G}};Q.zq.Gm=function(A){var M=A.length,q=0;for(var V=0;V<M;V++)q+=A[V];
return q};Q.zq.GJ=function(A,M,q,V,F){for(var H=0;H<16;H++){if(V[F<<4|H]==0)continue;M[H]+=V[F<<4|H];
var w=H<<4,C=F<<8|w;A[w]+=q[C];A[w+1]+=q[C+1];A[w+2]+=q[C+2];A[w+3]+=q[C+3];A[w+4]+=q[C+4];A[w+5]+=q[C+5];
A[w+6]+=q[C+6];A[w+7]+=q[C+7];A[w+8]+=q[C+8];A[w+9]+=q[C+9];A[w+10]+=q[C+10];A[w+11]+=q[C+11];A[w+12]+=q[C+12];
A[w+13]+=q[C+13];A[w+14]+=q[C+14];A[w+15]+=q[C+15]}};Q.zq.ERq=function(A,M,q,V,F){for(var H=0;H<16;H++){if(V[F<<4|H]==0)continue;
M[H]-=V[F<<4|H];var w=H<<4,C=F<<8|w;A[w]-=q[C];A[w+1]-=q[C+1];A[w+2]-=q[C+2];A[w+3]-=q[C+3];A[w+4]-=q[C+4];
A[w+5]-=q[C+5];A[w+6]-=q[C+6];A[w+7]-=q[C+7];A[w+8]-=q[C+8];A[w+9]-=q[C+9];A[w+10]-=q[C+10];A[w+11]-=q[C+11];
A[w+12]-=q[C+12];A[w+13]-=q[C+13];A[w+14]-=q[C+14];A[w+15]-=q[C+15]}};Q.GG={};Q.GG.Go=function(A){var M=d.f.pE(A.Trnf),q=A.Sz.v,V=Q.GG.Gv(M,new U(0,0,q.Wdth.v,q.Hght.v));
return Q.GG.Gl(V)};Q.GG.Gv=function(A,M){var A=A.slice(0),q=A[0],V=A[1],F=A[2],H=A[3],w=A[6],C=A[7],r=A[4],G=A[5],J=0,m=0,u=1,W=0,y=0,O=1,h=1,I=1;
if(M){J=M.x;m=M.y;u=M.x+M.n;W=M.y;y=M.x;O=M.y+M.J;h=M.x+M.n;I=M.y+M.J}var Z=[[J,m,1,0,0,0,-J*q,-m*q,q],[0,0,0,J,m,1,-J*V,-m*V,V],[u,W,1,0,0,0,-u*F,-W*F,F],[0,0,0,u,W,1,-u*H,-W*H,H],[y,O,1,0,0,0,-y*w,-O*w,w],[0,0,0,y,O,1,-y*C,-O*C,C],[h,I,1,0,0,0,-h*r,-I*r,r],[0,0,0,h,I,1,-h*G,-I*G,G]],L=[0,0,0,0,0,0,0,0],Y=Q.vC.vk.oR(Z,L);
if(Y!=0)L=[0,0,0,0,0,0,0,0];return L};Q.GG.GU=function(A){return Math.abs(A[6])<1e-10&&Math.abs(A[7])<1e-10};
Q.GG.Gl=function(A){return new zo(A[0],A[3],A[1],A[4],A[2],A[5])};Q.GG.GR=function(A){return[A.M,A.ei,A.eI,A.$,A.e$,A.eK,0,0]};
Q.GG.apply=function(A,M){var q=new Float64Array(2);for(var V=0;V<M.length;V+=2){var F=M[V],H=M[V+1];
Q.GG.GH(F,H,A,q);M[V]=q[0];M[V+1]=q[1]}};Q.GG.GH=function(A,M,q,V){var F=1/(q[6]*A+q[7]*M+1);V[0]=(q[0]*A+q[1]*M+q[2])*F;
V[1]=(q[3]*A+q[4]*M+q[5])*F};Q.GG.Gr=function(A,M){var q=new Float64Array(2);Q.GG.GH(M.x,M.y,A,q);return new f(q[0],q[1])};
Q.GG.drawImage=function(A,M,q,V,F,H,w){if(w==null)w=!1;var C=Q.GG.mx(A),r=!0,G=0;for(var J=0;J<8;J++){var m=Math.round(A[J]);
if(J!=2&&J!=5)G+=Math.abs(m);if(Math.abs(m-A[J])>1e-9)r=!1}var u=Math.abs(A[6])<1e-9&&Math.abs(A[7])<1e-9,W=(Math.abs(A[0])<1e-9&&Math.abs(A[4])<1e-9||Math.abs(A[1])<1e-9&&Math.abs(A[3])<1e-9)&&u;
if(w||r&&G==q+V&&u){Q.GG.ERZ(C,M,q,V,F,H);return}var y=H.n,O=H.J,h=new Float64Array(2);F=new Uint32Array(F.buffer);
M=new Uint32Array(M.buffer);for(var I=0;I<O;I++)for(var Z=0;Z<y;Z++){var L=I*y+Z,s=0,z=0,e=0,i=0,g=0,P=0;
F[L]=0;var Y=Z+H.x+.5,B=I+H.y+.5;Q.GG.GH(Y,B,C,h);var X=h[0],E=h[1],c=X*q,o=E*V;if(c<-1||c>q+1||o<-1||o>V+1)continue;
Q.GG.GH(X+1/q,E,A,h);s=h[0]-Y;z=h[1]-B;var k=s*s+z*z;Q.GG.GH(X,E+1/V,A,h);s=h[0]-Y;z=h[1]-B;var b=s*s+z*z,T=1/Math.sqrt(Math.max(k,b));
if(T<.8){Q.GG.GT(c,o,M,q,V,F,L,W);continue}var l=Math.round(T*3);if(c<.6||c>q-.6||o<.6||o>V-.6){l=Math.max(l,5)}var $=1/l;
for(var J=0;J<l;J++)for(var n=0;n<l;n++){var p=Z+H.x+(J+.5)*$,t=I+H.y+(n+.5)*$;Q.GG.GH(p,t,C,h);var c=h[0],o=h[1];
if(c<0||c>=1||o<0||o>=1)continue;c=Math.floor(c*q),o=Math.floor(o*V);var x=o*q+c,D=M[x],Gp=D>>>24;e+=(D&255)*Gp;
i+=(D>>>8&255)*Gp;g+=(D>>>16&255)*Gp;P+=Gp}if(P!=0){var zY=1/P;e=~~(e*zY+.5);i=~~(i*zY+.5);g=~~(g*zY+.5);
P=~~(P*$*$+.5);F[L]=P<<24|g<<16|i<<8|e}}};Q.GG.ERZ=function(A,M,q,V,F,H){var w=H.x+H.n,C=H.y+H.J,r=0,G=new Uint32Array(F.buffer),J=new Uint32Array(M.buffer),m=A[0]*q,u=A[1]*q,W=A[2]*q,y=A[3]*V,O=A[4]*V,h=A[5]*V,I=A[6],Z=A[7];
for(var L=H.y+.5;L<C;L++)for(var Y=H.x+.5;Y<w;Y++){var B=1/(I*Y+Z*L+1),X=(m*Y+u*L+W)*B,E=(y*Y+O*L+h)*B;
if(0<X&&X<q&&0<E&&E<V){var c=Math.floor(E)*q+Math.floor(X);G[r]=J[c]}else G[r]=0;r++}};Q.GG.mx=function(A){var M=A[4]-A[5]*A[7],q=A[2]*A[7]-A[1],V=A[1]*A[5]-A[2]*A[4],F=A[5]*A[6]-A[3],H=A[0]-A[2]*A[6],w=A[3]*A[2]-A[0]*A[5],C=A[3]*A[7]-A[4]*A[6],r=A[1]*A[6]-A[0]*A[7],G=1/(A[0]*A[4]-A[1]*A[3]);
return[M*G,q*G,V*G,F*G,H*G,w*G,C*G,r*G]};Q.GG.Gh=function(A,M){var q=A[0],V=A[1],F=A[2],H=A[3],w=A[4],C=A[5],r=A[6],G=A[7],J=M[0],m=M[1],u=M[2],W=M[3],y=M[4],O=M[5],h=M[6],I=M[7],Z=[q*J+V*W+F*h,q*m+V*y+F*I,q*u+V*O+F,H*J+w*W+C*h,H*m+w*y+C*I,H*u+w*O+C,r*J+G*W+h,r*m+G*y+I],L=1/(r*u+G*O+1);
for(var Y=0;Y<8;Y++)Z[Y]*=L;return Z};Q.GG.GT=function(A,M,q,V,F,H,w,C){var r=A,G=M,u=0,W=0,y=0,O=0,$=0,e=0,i=0;
A-=.499999;M-=.499999;var J=Math.floor(A),m=Math.floor(M);if(C){var h=J<0?0:J>V-1?V-1:J,I=J<-1?0:J>V-2?V-1:J+1,Z=m<0?0:m>F-1?F-1:m,L=m<-1?0:m>F-2?F-1:m+1;
u=q[Z*V+h];W=q[Z*V+I];y=q[L*V+h];O=q[L*V+I]}else{var Y=m*V+J,B=J>=0&&J<V,X=J+1>=0&&J+1<V,E=m>=0&&m<F,c=m+1>=0&&m+1<F;
if(B&&E)u=q[Y];if(X&&E)W=q[Y+1];if(B&&c)y=q[Y+V];if(X&&c)O=q[Y+V+1]}var o=A-J,s=M-m,z=(1-s)*(1-o)*(u>>>24),k=(1-s)*o*(W>>>24),b=s*(1-o)*(y>>>24),T=s*o*(O>>>24),l=z+k+b+T;
$+=z*(u&255);e+=z*(u>>>8&255);i+=z*(u>>>16&255);$+=k*(W&255);e+=k*(W>>>8&255);i+=k*(W>>>16&255);$+=b*(y&255);
e+=b*(y>>>8&255);i+=b*(y>>>16&255);$+=T*(O&255);e+=T*(O>>>8&255);i+=T*(O>>>16&255);if(l==0)H[w]=0;else{var g=1/l;
$=~~($*g+.5);e=~~(e*g+.5);i=~~(i*g+.5);l=~~(l+.5);H[w]=l<<24|i<<16|e<<8|$}};Q.r={};Q.r.Eos=function(A,M){return A+.5};
Q.r.Emk=function(A,M){return 2*Math.sqrt(A*A+M*M)};Q.r.EGx=function(A,M){return(Math.PI+Math.atan2(-M,-A))/(2*Math.PI)};
Q.r.Elt=function(A,M){return Math.abs(A*2)};Q.r.EmW=function(A,M){return 2*(Math.abs(A)+Math.abs(M))};
Q.r.Gf=function(A,M,q,V,F,H,w,C,r,G,J){var m=q.n,u=q.J,W=q.x,y=q.y,O=V[0],h=V[1],I=V[2],Z=V[3],L=Q.r.GP(A.Clrs.v,r,G),Y=w?0:1,B=512,X=Q.r.GM(A,L,B),E=new Uint8Array(X.buffer),c=new Uint32Array(M.buffer);
if(C<5){for(var o=0,s=0;o<u;o++)for(var z=0;z<m;z++,s+=4){var k=z-F+W,b=o-H+y,T=O*k+h*b,l=I*k+Z*b,$=0;
if(C==0)$=T+.5;else if(C==1)$=2*Math.sqrt(T*T+l*l);else if(C==2)$=(Math.PI+Math.atan2(-l,-T))/(2*Math.PI);
else if(C==3)$=Math.abs(T*2);else if(C==4)$=2*(Math.abs(T)+Math.abs(l));$=Y*$+(1-Y)*(1-$);var e=Math.max(0,Math.min(B-1,Math.round($*B)))<<2;
M[s]=E[e];M[s+1]=E[e+1];M[s+2]=E[e+2];M[s+3]=E[e+3]}}else{var i=J.ee-J.eq,g=1/ i,P=J.eB.n-q.n>>1,n=J.eB.J-q.J>>1,p=J.eB.n,t=-.6*g,x=(-.6+.4)*g,D=(-.6+2*.4)*g,Gp=(-.6+3*.4)*g;
for(var o=0,s=0;o<u;o++)for(var z=0;z<m;z++,s+=4){var zY=0,zi=0,zI=0,z$=0,zK=(o+n)*p+z+P,$=(J.eN[zK]-J.eq)*g,e=0;
$=Y*$+(1-Y)*(1-$);if($<=0||$>=1){e=($<=0?0:B-1)<<2;M[s]=E[e];M[s+1]=E[e+1];M[s+2]=E[e+2];M[s+3]=E[e+3];
continue}e=Math.max(0,Math.min(B-1,Math.round(($+t)*B)))<<2;zi+=E[e];zI+=E[e+1];z$+=E[e+2];zY+=E[e+3];
e=Math.max(0,Math.min(B-1,Math.round(($+x)*B)))<<2;zi+=E[e];zI+=E[e+1];z$+=E[e+2];zY+=E[e+3];e=Math.max(0,Math.min(B-1,Math.round(($+D)*B)))<<2;
zi+=E[e];zI+=E[e+1];z$+=E[e+2];zY+=E[e+3];e=Math.max(0,Math.min(B-1,Math.round(($+Gp)*B)))<<2;zi+=E[e];
zI+=E[e+1];z$+=E[e+2];zY+=E[e+3];M[s]=zi>>2;M[s+1]=zI>>2;M[s+2]=z$>>2;M[s+3]=zY>>2}}};Q.r.GP=function(A,M,q){var V=[];
for(var F=0;F<A.length;F++){var H;if(A[F].v.Type.v.Clry=="FrgC")H={e:M>>16&255,g:M>>8&255,$:M&255};else if(A[F].v.Type.v.Clry=="BckC")H={e:q>>16&255,g:q>>8&255,$:q&255};
else H=Q.r.GD(A[F].v.Clr.v);V.push(H)}return V};Q.r.GD=function(A){var M,q=A.classID;if(q=="RGBC")M={e:A.Rd.v,g:A.Grn.v,$:A.Bl.v};
else if(q=="HSBC"){M=Q.mn(A.H.v.val/360,A.Strt.v/100,A.Brgh.v/100);M.e*=255;M.g*=255;M.$*=255}else if(q=="CMYC"){var V=100-A.Cyn.v,F=100-A.Mgnt.v,H=100-A.Ylw.v,w=100-A.Blck.v,C=255*V*w*1e-4,r=255*(.2*V+.8*F)*w*1e-4,G=255*(.2*F+.8*H)*w*1e-4;
M={e:C,g:r,$:G}}else if(q=="Grsc")M={e:255-A.Gry.v,g:255-A.Gry.v,$:255-A.Gry.v};else console.log(A);
return M};Q.r.Gt=function(A){return{classID:"RGBC",Rd:{t:"doub",v:A.e},Grn:{t:"doub",v:A.g},Bl:{t:"doub",v:A.$}}};
Q.r.GM=function(A,M,q){var V=new Uint32Array(q),F=1/(q-0);for(var H=0;H<q;H++)V[H]=Q.r.Gj(A,M,H*F);return V};
Q.r.Gj=function(A,M,q){var V=A.Intr.v/4096,F=4096,H=1/F,w=A.Clrs.v.length-1,C=A.Trns.v.length-1,r=-1,G=0,J=0,m=0,u=0;
while(r<C&&A.Trns.v[r+1].v.Lctn.v<=q*F)r++;if(r==-1){G=A.Trns.v[0].v.Opct.v.val*(255/100)}else if(r==C){G=A.Trns.v[r].v.Opct.v.val*(255/100)}else{var W=Q.r.Ga(A.Trns.v,H,r,q,V);
G=(W*A.Trns.v[r].v.Opct.v.val+(1-W)*A.Trns.v[r+1].v.Opct.v.val)*(255/100)}r=-1;while(r<w&&A.Clrs.v[r+1].v.Lctn.v<=q*F)r++;
if(r==-1){var y=M[0];J=y.e;m=y.g;u=y.$}else if(r==w){var y=M[r];J=y.e;m=y.g;u=y.$}else{var O=M[r],h=M[r+1],I=Q.r.Ga(A.Clrs.v,H,r,q,V);
J=I*O.e+(1-I)*h.e;m=I*O.g+(1-I)*h.g;u=I*O.$+(1-I)*h.$}G+=.5;J+=.5;m+=.5;u+=.5;return G<<24|u<<16|m<<8|J};
Q.r.Ga=function(A,M,q,V,F){if(A.length==2)F*=.5;var H=A[q].v.Lctn.v*M,w=A[q+1].v.Lctn.v*M,C=H+A[q+1].v.Mdpn.v*.01*(w-H),r;
if(V<C)r=.5*(V-H)/(C-H);else r=.5+.5*(V-C)/(w-C);r=.5+.5*(F*Math.cos(Math.PI*r)+(1-F)*(1-2*r));return r};
Q.r.GV=function(A,M){var q=Math.PI*A.Angl.v.val/180,V=A.Scl.v.val/100,F=A.Ofst.v,H=F.Hrzn.v.val/100,w=F.Vrtc.v.val/100,C=Math.cos(q),r=-Math.sin(q),G=.5*M.J,J=G*(C/r),m=Math.sqrt(G*G+J*J),u=.5*M.n,W=u*(r/C),y=Math.sqrt(u*u+W*W),O=Math.min(m,y)*V,h=M.x+M.n/2+H*M.n,I=M.y+M.J/2+w*M.J;
return[new f(h,I),new f(h+C*O,I+r*O)]};Q.r.GC=function(A,M,q,V){var F=M.x-A.x,H=-(M.y-A.y),w=Math.sqrt(F*F+H*H),C=Math.atan2(H,F),r=Math.cos(C),G=-Math.sin(C),J=.5*q.J,m=J*(r/G),u=Math.sqrt(J*J+m*m),W=.5*q.n,y=W*(G/r),O=Math.sqrt(W*W+y*y),h=w/Math.min(u,O),I=(A.x-q.x-q.n/2)/q.n,Z=(A.y-q.y-q.J/2)/q.J;
V.Angl.v.val=180*C/Math.PI;V.Scl.v.val=h*100;var L=V.Ofst.v;L.Hrzn.v.val=I*100;L.Vrtc.v.val=Z*100};Q.GS={};
Q.GS.Gk=function(A,M,q,V,F){var H=!1,y=1,T=0,l=0,t=0,zy=0;if(!M.hr(F)){var w=M.vP(F),C=Q.b(w.X()*4);
Q.mL(A,M,C,w);A=C;M=w}var r=Q.b(M.X());Q.mC(q,F,r,M);Q.round(r);F=F.vt(M);var G=F.n,J=F.J,m=G*3<J?2:1,u=J*3<G?2:1;
if(F.X()*(m*2+1)*(u*2+1)<M.X()){var w=new U(F.x-G*m,F.y-J*m,G*(m*2+1),J*(u*2+1)).vt(M),C=Q.b(w.X()*4);
Q.mL(A,M,C,w);var W=Q.b(w.X());Q.mC(r,M,W,w);M=w;A=C;r=W}while((M.n+M.J)/2/y>400)y++;var O=A,h=M,I=r,Z=Math.floor(h.n/y),L=Math.floor(h.J/y);
A=Q.b(Z*L*4);Q.scale.vr(O,h.n,h.J,A,Z,L,1/y);r=Q.b(Z*L);Q.scale.vH(I,h.n,h.J,r,Z,L,1/y);Q.round(r,1);
var Y=Q.mO(r,new U(0,0,Z,L));if(Y.zZ())return;var B=Math.round((Y.n+Y.J)/2/15),X=Date.now(),E=Q.b(Z*L*4);
Q.Ev_(A,E);var c=Int16Array,o=new c(Z*L*24),s=new c(64),z=new c(64),k=new c(64),b=new c(64);for(var $=3;
$<L-4;$++)for(var e=3;e<Z-4;e++){var i=$*Z+e;if(r[i]==255)continue;if(Q.GS.EnB(E,r,e,$,Z,L,s,z,k)!=0)continue;
Q.GS.Gy(s,b);o[T]=e;o[T+1]=$;Q.GS.mc(s,o,T+4,12);T+=16;Q.GS.Gy(z,b);Q.GS.mc(z,o,T,4);T+=4;Q.GS.Gy(k,b);
Q.GS.mc(k,o,T,4);T+=4;var g=o[T-24+5],P=o[T-24+6];o[T-24+5]=o[T-24+20];o[T-24+6]=o[T-24+16];o[T-24+16]=g;
o[T-24+20]=P;l++}if(l==0)return;if(H)console.log(Date.now()-X,"FWHT computed");X=Date.now();var n=[];
Q.GS.Gq(0,l-1,n,o,new c(2*24));if(H)console.log(Date.now()-X,"KD tree computed");X=Date.now();var p=new Float32Array(Z*L*4);
for(var x=0;x<l;x++){var D=x,Gp=Q.GS.Eld(D,o,n,B);if(Gp==-1)continue;var zY=D*24,zi=Gp*24,zI=o[zY],z$=o[zY+1],zK=o[zi],ze=o[zi+1];
t+=Q.GS.getError(zi,zY,o,1e99);var zq=zK-zI,zB=ze-z$;p[(L+zB)*2*Z+(Z+zq)]+=1}if(H)console.log(Date.now()-X,"NN found");
X=Date.now();var zN=[],zQ=1/(2*Z);for(var x=0;x<p.length;x++){if(p[x]>0){var $=Math.floor(x*zQ),e=x-$*2*Z;
zN.push({x:e-Z,y:$-L,o:p[x],eQ:-1})}}zN.sort(function(GH,Gr){return Gr.o-GH.o});var z_=new Int32Array(Z*L),zw=[];
for(var x=0;x<Z*L;x++){if(r[x]==255){z_[x]=zy;zw.push(x%Z,Math.floor(x/Z));zy++}else if(A[(x<<2)+3]<200){z_[x]=-2}else{z_[x]=-1}}var zu=Q.GS.Eo_(Z,L,zN,z_,zw,zy);
if(zu==null){return}var zd=zu.e_,top=zu.top;zd=Q.GS.Eny(zd,A,Z,L,top,z_,zw,zy);if(H)console.log(Date.now()-X,"optimal labeling found");
X=Date.now();var w=F.clone();w.hW(1,1);w=w.vt(h);var zO=Q.b(w.X()*4),zF=Q.b(w.X());Q.mL(O,h,zO,w);var zX=h.n,Gn=h.J;
for(var $=0;$<Gn;$++)for(var e=0;e<zX;e++){if(I[$*zX+e]==0)continue;var GE=Math.min(Math.floor(e/y),Z-1),Gm=Math.min(Math.floor($/y),L-1),GJ=z_[Gm*Z+GE],Gz=zd[GJ],GG=top[Gz],Go=e+GG.x*y,Gv=$+GG.y*y,GU=Gv*zX+Go<<2,Gl=($-w.y+h.y)*w.n+(e-w.x+h.x)<<2;
zO[Gl]=O[GU];zO[Gl+1]=O[GU+1];zO[Gl+2]=O[GU+2];zO[Gl+3]=O[GU+3];zO[Gl+3]=O[GU+3];zF[Gl>>2]=Gz+1}if(H)console.log(Date.now()-X,"copied back");
X=Date.now();Q.oQ.Gk(zO,zF,w,1e-4,1e3);if(H)console.log(Date.now()-X,"poisson smooth");X=Date.now();
Q.mL(zO,w,V,F)};Q.GS.Gb=function(A,M,q,V,F,H){return Q.GS.GK(A+F.x,M+F.y,q,V)&&H[(M+F.y)*q+(A+F.x)]==-1?0:1e9};
Q.GS.Eny=function(A,M,q,V,top,F,H,w){var C=Date.now(),r=[-1,0,0,-1,1,0,0,1],G=1e99,J=[],m=[],u=2*(w*2*3+w*2),W=null,y=0,O=0,h=0,I=1e99;
while(!0&&Date.now()<C+12e3){h++;var Z=null,L=G;for(var Y=0;Y<top.length;Y++){var B=top[Y],X=0,E=w+2,c=0;
for(var o=0;o<w;o++){var s=H[o*2],z=H[o*2+1],k=top[A[o]],b=Q.GS.Gb(s,z,q,V,B,F),T=A[o]==Y?1e9:Q.GS.Gb(s,z,q,V,k,F);
for(var l=0;l<4;l++){if(l==0&&s==0||l==1&&z==0||l==2&&s==q-1||l==3&&z==V-1)continue;var $=r[2*l],e=r[2*l+1],i=s+$,g=z+e,P=F[g*q+i];
if(P==-2){}else if(P==-1){b+=3*Q.GS.G$(i+B.x,g+B.y,i,g,q,V,M,F);b+=2*Q.GS.G$(i+B.x+$,g+B.y+e,i+$,g+e,q,V,M,F);
T+=3*Q.GS.G$(i+k.x,g+k.y,i,g,q,V,M,F);T+=2*Q.GS.G$(i+k.x+$,g+k.y+e,i+$,g+e,q,V,M,F)}else if(l>1){if(A[o]==A[P]){var n=0;
n+=Q.GS.G$(s+k.x,z+k.y,s+B.x,z+B.y,q,V,M,F);n+=Q.GS.G$(i+k.x,g+k.y,i+B.x,g+B.y,q,V,M,F);J[X]=o;J[X+1]=P;
m[X]=n;m[X+1]=n;X+=2}else{var p=top[A[P]],t=E,x=0,D=0,Gp=0;E++;x+=Q.GS.G$(s+k.x,z+k.y,s+B.x,z+B.y,q,V,M,F);
x+=Q.GS.G$(i+k.x,g+k.y,i+B.x,g+B.y,q,V,M,F);D+=Q.GS.G$(s+p.x,z+p.y,s+B.x,z+B.y,q,V,M,F);D+=Q.GS.G$(i+p.x,g+p.y,i+B.x,g+B.y,q,V,M,F);
Gp+=Q.GS.G$(s+p.x,z+p.y,s+k.x,z+k.y,q,V,M,F);Gp+=Q.GS.G$(i+p.x,g+p.y,i+k.x,g+k.y,q,V,M,F);J[X]=o;J[X+1]=t;
m[X]=x;m[X+1]=x;X+=2;J[X]=P;J[X+1]=t;m[X]=D;m[X+1]=D;X+=2;J[X]=t;J[X+1]=w+1;m[X]=Gp;m[X+1]=0;X+=2}}}J[X]=w;
J[X+1]=o;m[X]=b;m[X+1]=0;X+=2;J[X]=o;J[X+1]=w+1;m[X]=T;m[X+1]=0;X+=2;c+=Math.min(b,T)}if(c>L)continue;
var zY=Q.ov.oR(E,X,w,w+1,J,m,L);if(zY.l_<L){L=zY.l_;var zi=A.slice(0);Q.GS.En_(zi,X,J,zY.ew,Y,w);Z=zi}}if(L*1>=G){break}G=L;
A=Z;if((h&3)==0){if(L*1.03>=I)break;I=L}if((h&3)==0){var zI=0*top.length;for(var o=0;o<top.length&&top.length>zI;
o++){if(A.indexOf(o)!=-1)continue;top.splice(o,1);for(var P=0;P<A.length;P++)if(A[P]>o)A[P]--;o--}}}return A};
Q.GS.En_=function(A,M,q,V,F,H){for(var w=0;w<V.length;w++){var C=V[w]<<1,r=0,G=0;if(C<M){r=q[C];G=q[C+1]}else{G=q[C];
r=q[C+1]}if(r==H&&A[G]!=F)A[G]=F}};Q.GS.GY=function(top,A,M,q,V,F,H,w,C){for(var r=0;r<M.length;r++){var G=M[r],J=!0;
if(w!=null&&!(Q.GS.GK(w+G.x,C+G.y,F,H)&&q[F*(C+G.y)+w+G.x]==-1))continue;if(G.eQ==-1)G.eQ=Q.GS.EJG(G,q,V,F,H);
if(G.eQ<=0)continue;for(var m=0;m<top.length;m++){var u=top[m],W=G.x-u.x,y=G.y-u.y;if(W*W+y*y<A){J=!1;
break}}if(J)return G}return null};Q.GS.EJG=function(A,M,q,V,F){var H=0;for(var w=0;w<q.length;w+=2){var C=q[w]+A.x,r=q[w+1]+A.y;
if(Q.GS.GK(C,r,V,F)&&M[V*r+C]==-1)H++}return H/(q.length>>1)};Q.GS.Eo_=function(A,M,q,V,F,H){var top=[];
for(var w=0;w<60;w++){var C=Q.GS.GY(top,25,q,V,F,A,M);if(C==null)break;else top.push(C)}if(top.length==0)return null;
var r=[];for(var w=0;w<H;w++){var G=F[w*2],J=F[w*2+1],m=-1,u=0;while(!0){u++;var W=Math.random();m=Math.floor(W*.99999*top.length);
var y=top[m],O=G+y.x,h=J+y.y;if(Q.GS.GK(O,h,A,M)&&V[h*A+O]==-1)break;if(u>100){var C;C=Q.GS.GY(top,0,q,V,F,A,M,G,J);
if(C==null)return null;top.push(C);u=0}}r.push(m)}return{top:top,e_:r}};Q.GS.G$=function(A,M,q,V,F,H,w,C){if(A==q&&M==V)return 0;
if(A<0||M<0||A>=F||M>=H||q<0||V<0||q>=F||V>=H||C[M*F+A]!=-1||C[V*F+q]!=-1)return 1e7;var r=M*F+A<<2,G=V*F+q<<2,J=w[r]-w[G],m=w[r+1]-w[G+1],u=w[r+2]-w[G+2];
return 1+(J*J+m*m+u*u)};Q.GS.GK=function(A,M,q,V){return A>=0&&A<q&&M>=0&&M<V};Q.GS.Eld=function(A,M,q,V){var F=24*A,H=M[F],w=M[F+1],C=V*V,r=0,u=1e9;
while(q[r]!=99)if(M[F+q[r]]<q[r+1])r=q[r+2];else r=q[r+3];var G=q[r+1],J=q[r+2],m=-1;for(var W=G;W<=J;
W++){var r=W,y=r*24,O=M[y],h=M[y+1];if((O-H)*(O-H)+(h-w)*(h-w)<C)continue;var I=Q.GS.getError(y,F,M,u);
if(I<u){u=I;m=r}}return m};Q.GS.getError=function(A,M,q,V){var F=0;for(var H=4;H<24;H+=4){var w=q[M+H]-q[A+H],C=q[M+H+1]-q[A+H+1],r=q[M+H+2]-q[A+H+2],G=q[M+H+3]-q[A+H+3];
F+=w*w+C*C+r*r+G*G;if(F>=V)return F+1}return F};Q.GS.Gq=function(A,M,q,V,F){var H=16,W=0;if(M-A<=H){q.push(99,A,M);
return}Q.GS.GB(A,M,V,F);var w=-1,C=-1;for(var r=4;r<24;r++){var G=F[2*r+1]-F[2*r];if(G>C){C=G;w=r}}var J=A+M>>1,m=Q.GS.EJo(J,A,M,V,w),u=-1;
for(var r=A;r<=M;r++)if(V[24*r+w]==m){if(u==-1)u=r;W=r}if(A+8<u&&u-A>M-W)J=u;else if(W+1<M-8)J=W+1;else if(M-A<64){q.push(99,A,M);
return}else J=J;var y=q.length;q.push(w,m,0,0);q[y+2]=y+4;Q.GS.Gq(A,J-1,q,V,F);q[y+3]=q.length;Q.GS.Gq(J,M,q,V,F)};
Q.GS.GB=function(A,M,q,V){for(var F=0;F<48;F+=4){V[F]=3e4;V[F+1]=-3e4;V[F+2]=3e4;V[F+3]=-3e4}for(var F=A;
F<=M;F++){var H=F*24;for(var w=0;w<24;w++){var C=q[H+w],r=V[w<<1],G=V[(w<<1)+1];if(C<r)V[w<<1]=C;if(C>G)V[(w<<1)+1]=C}}};
Q.GS.GN=function(A,M,q){var V=0,F=0;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;
F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;
F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;
F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;
F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;
F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;
F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;
F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;
F++;V=q[A+F];q[A+F]=q[M+F];q[M+F]=V;F++};Q.GS.GQ=function(A,M,q,V){var F=q+V>>>1,H=A[24*F+M];while(q<=V){while(A[24*q+M]<H)q++;
while(A[24*V+M]>H)V--;if(q<=V){if(A[24*q+M]!=A[24*V+M])Q.GS.GN(q*24,V*24,A);q++;V--}}return q};Q.GS.EJo=function(A,M,q,V,F){var H=0;
while(M!=q){H=Q.GS.GQ(V,F,M,q);if(A<H)q=H-1;else M=H}return V[A*24+F]};Q.GS.mc=function(A,M,q,V){for(var F=0;
F<V;F++)M[q+F]=A[F]};Q.GS.EnB=function(A,M,q,V,F,H,w,C,r){var G=(V-3)*F+(q-3),J=G<<2;for(var m=0;m<8;
m++){if(M[G]+M[G+1]+M[G+2]+M[G+3]+M[G+4]+M[G+5]+M[G+6]+M[G+7]!=0||A[J+3]<200||A[J+7]<200||A[J+11]<200||A[J+15]<200||A[J+19]<200||A[J+23]<200||A[J+27]<200||A[J+31]<200)return 1;
var u=m<<3;w[u+0]=A[J+0];C[u+0]=A[J+1];r[u+0]=A[J+2];w[u+1]=A[J+4];C[u+1]=A[J+5];r[u+1]=A[J+6];w[u+2]=A[J+8];
C[u+2]=A[J+9];r[u+2]=A[J+10];w[u+3]=A[J+12];C[u+3]=A[J+13];r[u+3]=A[J+14];w[u+4]=A[J+16];C[u+4]=A[J+17];
r[u+4]=A[J+18];w[u+5]=A[J+20];C[u+5]=A[J+21];r[u+5]=A[J+22];w[u+6]=A[J+24];C[u+6]=A[J+25];r[u+6]=A[J+26];
w[u+7]=A[J+28];C[u+7]=A[J+29];r[u+7]=A[J+30];J+=F<<2;G+=F}return 0};Q.GS.Gy=function(A,M){M[0]=A[32]+A[0];
M[1]=A[33]+A[1];M[2]=A[34]+A[2];M[3]=A[35]+A[3];M[4]=A[36]+A[4];M[5]=A[37]+A[5];M[6]=A[38]+A[6];M[7]=A[39]+A[7];
M[8]=A[40]+A[8];M[9]=A[41]+A[9];M[10]=A[42]+A[10];M[11]=A[43]+A[11];M[12]=A[44]+A[12];M[13]=A[45]+A[13];
M[14]=A[46]+A[14];M[15]=A[47]+A[15];M[16]=A[48]+A[16];M[17]=A[49]+A[17];M[18]=A[50]+A[18];M[19]=A[51]+A[19];
M[20]=A[52]+A[20];M[21]=A[53]+A[21];M[22]=A[54]+A[22];M[23]=A[55]+A[23];M[24]=A[56]+A[24];M[25]=A[57]+A[25];
M[26]=A[58]+A[26];M[27]=A[59]+A[27];M[28]=A[60]+A[28];M[29]=A[61]+A[29];M[30]=A[62]+A[30];M[31]=A[63]+A[31];
M[32]=A[0]-A[32];M[33]=A[1]-A[33];M[34]=A[2]-A[34];M[35]=A[3]-A[35];M[36]=A[4]-A[36];M[37]=A[5]-A[37];
M[38]=A[6]-A[38];M[39]=A[7]-A[39];M[40]=A[8]-A[40];M[41]=A[9]-A[41];M[42]=A[10]-A[42];M[43]=A[11]-A[43];
M[44]=A[12]-A[44];M[45]=A[13]-A[45];M[46]=A[14]-A[46];M[47]=A[15]-A[47];M[48]=A[16]-A[48];M[49]=A[17]-A[49];
M[50]=A[18]-A[50];M[51]=A[19]-A[51];M[52]=A[20]-A[52];M[53]=A[21]-A[53];M[54]=A[22]-A[54];M[55]=A[23]-A[55];
M[56]=A[24]-A[56];M[57]=A[25]-A[57];M[58]=A[26]-A[58];M[59]=A[27]-A[59];M[60]=A[28]-A[60];M[61]=A[29]-A[61];
M[62]=A[30]-A[62];M[63]=A[31]-A[63];A[0]=M[16]+M[0];A[1]=M[17]+M[1];A[2]=M[18]+M[2];A[3]=M[19]+M[3];
A[4]=M[20]+M[4];A[5]=M[21]+M[5];A[6]=M[22]+M[6];A[7]=M[23]+M[7];A[8]=M[24]+M[8];A[9]=M[25]+M[9];A[10]=M[26]+M[10];
A[11]=M[27]+M[11];A[12]=M[28]+M[12];A[13]=M[29]+M[13];A[14]=M[30]+M[14];A[15]=M[31]+M[15];A[16]=M[0]-M[16];
A[17]=M[1]-M[17];A[18]=M[2]-M[18];A[19]=M[3]-M[19];A[20]=M[4]-M[20];A[21]=M[5]-M[21];A[22]=M[6]-M[22];
A[23]=M[7]-M[23];A[24]=M[8]-M[24];A[25]=M[9]-M[25];A[26]=M[10]-M[26];A[27]=M[11]-M[27];A[28]=M[12]-M[28];
A[29]=M[13]-M[29];A[30]=M[14]-M[30];A[31]=M[15]-M[31];M[0]=A[8]+A[0];M[1]=A[9]+A[1];M[2]=A[10]+A[2];
M[3]=A[11]+A[3];M[4]=A[12]+A[4];M[5]=A[13]+A[5];M[6]=A[14]+A[6];M[7]=A[15]+A[7];M[8]=A[0]-A[8];M[9]=A[1]-A[9];
M[10]=A[2]-A[10];M[11]=A[3]-A[11];M[12]=A[4]-A[12];M[13]=A[5]-A[13];M[14]=A[6]-A[14];M[15]=A[7]-A[15];
A[0]=M[4]+M[0];A[1]=M[5]+M[1];A[2]=M[6]+M[2];A[3]=M[7]+M[3];A[4]=M[0]-M[4];A[5]=M[1]-M[5];A[6]=M[2]-M[6];
A[7]=M[3]-M[7];A[8]=M[12]+M[8];A[9]=M[13]+M[9];A[10]=M[14]+M[10];A[11]=M[15]+M[11];A[12]=M[8]-M[12];
A[13]=M[9]-M[13];A[14]=M[10]-M[14];A[15]=M[11]-M[15];M[0]=A[2]+A[0];M[1]=A[3]+A[1];M[2]=A[0]-A[2];M[3]=A[1]-A[3];
M[4]=A[6]+A[4];M[5]=A[7]+A[5];M[6]=A[4]-A[6];M[7]=A[5]-A[7];M[8]=A[10]+A[8];M[9]=A[11]+A[9];M[10]=A[8]-A[10];
M[11]=A[9]-A[11];M[12]=A[14]+A[12];M[13]=A[15]+A[13];M[14]=A[12]-A[14];M[15]=A[13]-A[15];A[0]=M[1]+M[0];
A[1]=M[0]-M[1];A[2]=M[3]+M[2];A[3]=M[2]-M[3];A[4]=M[5]+M[4];A[5]=M[4]-M[5];A[6]=M[7]+M[6];A[7]=M[6]-M[7];
A[8]=M[9]+M[8];A[9]=M[8]-M[9];A[10]=M[11]+M[10];A[11]=M[10]-M[11];A[12]=M[13]+M[12];A[13]=M[12]-M[13];
A[14]=M[15]+M[14];A[15]=M[14]-M[15]};Q.GS.EEI=function(){var A="",M=64,q="v",V="t",F="a",H=5,w,C,r;for(w=M>>1;
w>0;w>>=1,H--){for(C=0;C<M;C++){r=(C>>H&1)!=0;if(r){A+=V+"["+C+"] = "+q+"["+(-w+C)+"] - "+q+"["+C+"];  "}else{A+=V+"["+C+"] = "+q+"["+(w+C)+"] + "+q+"["+C+"];  "}}F=q;
q=V;V=F;A+="\n"}console.log(A)};Q.GS.EEU=function(A,M,q){var V=M,F=q,H=V,w=0,r,G,J;while(A>>w!=2)w++;
var C=w;for(r=A>>1;r>0;r>>=1,w--){for(G=0;G<A;G++){J=(G>>w&1)!=0;if(J)F[G]=V[-r+G]-V[G];else F[G]=V[r+G]+V[G]}H=V;
V=F;F=H}if((C&1)==1)for(r=0;r<A;r++)q[r]=V[r]};Q.GO={};Q.GO.EJR=function(A){return Math.max(0,Math.min(255,A))};
Q.GO.transform=function(A,M,q){var V=Q.GO.EJR,F=A.e.length;for(var H=0;H<F;H++){var w=A.e[H],C=A.g[H],r=A.$[H];
M.e[H]=V(q[0]*w+q[1]*C+q[2]*r+q[3]*255);M.g[H]=V(q[4]*w+q[5]*C+q[6]*r+q[7]*255);M.$[H]=V(q[8]*w+q[9]*C+q[10]*r+q[11]*255)}};
Q.GO.GX=function(A,M,q){return[1,0,0,A,0,1,0,M,0,0,1,q,0,0,0,1]};Q.GO.on=function(A,M,q){return[A,0,0,0,0,M,0,0,0,0,q,0,0,0,0,1]};
Q.GO.EJH=function(A){return[A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]]};Q.GO.om=function(A){return[A[0],A[1],A[2],0,A[3],A[4],A[5],0,A[6],A[7],A[8],0,0,0,0,1]};
Q.GO.oJ=function(A,M){return[A[0]*M[0]+A[1]*M[1]+A[2]*M[2]+A[3]*M[3],A[4]*M[0]+A[5]*M[1]+A[6]*M[2]+A[7]*M[3],A[8]*M[0]+A[9]*M[1]+A[10]*M[2]+A[11]*M[3],A[12]*M[0]+A[13]*M[1]+A[14]*M[2]+A[15]*M[3]]};
Q.GO.EEz=function(A){var M=[];M[0]=A[0];M[1]=A[4];M[2]=A[8];M[3]=A[12];M[4]=A[1];M[5]=A[5];M[6]=A[9];
M[7]=A[13];M[8]=A[2];M[9]=A[6];M[10]=A[10];M[11]=A[14];M[12]=A[3];M[13]=A[7];M[14]=A[11];M[15]=A[15];
return M};Q.GO.multiply=function(A,M){var q=[];q[0]=A[0]*M[0]+A[1]*M[4]+A[2]*M[8]+A[3]*M[12];q[1]=A[0]*M[1]+A[1]*M[5]+A[2]*M[9]+A[3]*M[13];
q[2]=A[0]*M[2]+A[1]*M[6]+A[2]*M[10]+A[3]*M[14];q[3]=A[0]*M[3]+A[1]*M[7]+A[2]*M[11]+A[3]*M[15];q[4]=A[4]*M[0]+A[5]*M[4]+A[6]*M[8]+A[7]*M[12];
q[5]=A[4]*M[1]+A[5]*M[5]+A[6]*M[9]+A[7]*M[13];q[6]=A[4]*M[2]+A[5]*M[6]+A[6]*M[10]+A[7]*M[14];q[7]=A[4]*M[3]+A[5]*M[7]+A[6]*M[11]+A[7]*M[15];
q[8]=A[8]*M[0]+A[9]*M[4]+A[10]*M[8]+A[11]*M[12];q[9]=A[8]*M[1]+A[9]*M[5]+A[10]*M[9]+A[11]*M[13];q[10]=A[8]*M[2]+A[9]*M[6]+A[10]*M[10]+A[11]*M[14];
q[11]=A[8]*M[3]+A[9]*M[7]+A[10]*M[11]+A[11]*M[15];q[12]=A[12]*M[0]+A[13]*M[4]+A[14]*M[8]+A[15]*M[12];
q[13]=A[12]*M[1]+A[13]*M[5]+A[14]*M[9]+A[15]*M[13];q[14]=A[12]*M[2]+A[13]*M[6]+A[14]*M[10]+A[15]*M[14];
q[15]=A[12]*M[3]+A[13]*M[7]+A[14]*M[11]+A[15]*M[15];return q};Q.GO.mx=function(A){var M=[];M[0]=A[5]*A[10]*A[15]-A[5]*A[14]*A[11]-A[6]*A[9]*A[15]+A[6]*A[13]*A[11]+A[7]*A[9]*A[14]-A[7]*A[13]*A[10];
M[1]=-A[1]*A[10]*A[15]+A[1]*A[14]*A[11]+A[2]*A[9]*A[15]-A[2]*A[13]*A[11]-A[3]*A[9]*A[14]+A[3]*A[13]*A[10];
M[2]=A[1]*A[6]*A[15]-A[1]*A[14]*A[7]-A[2]*A[5]*A[15]+A[2]*A[13]*A[7]+A[3]*A[5]*A[14]-A[3]*A[13]*A[6];
M[3]=-A[1]*A[6]*A[11]+A[1]*A[10]*A[7]+A[2]*A[5]*A[11]-A[2]*A[9]*A[7]-A[3]*A[5]*A[10]+A[3]*A[9]*A[6];
M[4]=-A[4]*A[10]*A[15]+A[4]*A[14]*A[11]+A[6]*A[8]*A[15]-A[6]*A[12]*A[11]-A[7]*A[8]*A[14]+A[7]*A[12]*A[10];
M[5]=A[0]*A[10]*A[15]-A[0]*A[14]*A[11]-A[2]*A[8]*A[15]+A[2]*A[12]*A[11]+A[3]*A[8]*A[14]-A[3]*A[12]*A[10];
M[6]=-A[0]*A[6]*A[15]+A[0]*A[14]*A[7]+A[2]*A[4]*A[15]-A[2]*A[12]*A[7]-A[3]*A[4]*A[14]+A[3]*A[12]*A[6];
M[7]=A[0]*A[6]*A[11]-A[0]*A[10]*A[7]-A[2]*A[4]*A[11]+A[2]*A[8]*A[7]+A[3]*A[4]*A[10]-A[3]*A[8]*A[6];M[8]=A[4]*A[9]*A[15]-A[4]*A[13]*A[11]-A[5]*A[8]*A[15]+A[5]*A[12]*A[11]+A[7]*A[8]*A[13]-A[7]*A[12]*A[9];
M[9]=-A[0]*A[9]*A[15]+A[0]*A[13]*A[11]+A[1]*A[8]*A[15]-A[1]*A[12]*A[11]-A[3]*A[8]*A[13]+A[3]*A[12]*A[9];
M[10]=A[0]*A[5]*A[15]-A[0]*A[13]*A[7]-A[1]*A[4]*A[15]+A[1]*A[12]*A[7]+A[3]*A[4]*A[13]-A[3]*A[12]*A[5];
M[11]=-A[0]*A[5]*A[11]+A[0]*A[9]*A[7]+A[1]*A[4]*A[11]-A[1]*A[8]*A[7]-A[3]*A[4]*A[9]+A[3]*A[8]*A[5];M[12]=-A[4]*A[9]*A[14]+A[4]*A[13]*A[10]+A[5]*A[8]*A[14]-A[5]*A[12]*A[10]-A[6]*A[8]*A[13]+A[6]*A[12]*A[9];
M[13]=A[0]*A[9]*A[14]-A[0]*A[13]*A[10]-A[1]*A[8]*A[14]+A[1]*A[12]*A[10]+A[2]*A[8]*A[13]-A[2]*A[12]*A[9];
M[14]=-A[0]*A[5]*A[14]+A[0]*A[13]*A[6]+A[1]*A[4]*A[14]-A[1]*A[12]*A[6]-A[2]*A[4]*A[13]+A[2]*A[12]*A[5];
M[15]=A[0]*A[5]*A[10]-A[0]*A[9]*A[6]-A[1]*A[4]*A[10]+A[1]*A[8]*A[6]+A[2]*A[4]*A[9]-A[2]*A[8]*A[5];var q=A[0]*M[0]+A[1]*M[4]+A[2]*M[8]+A[3]*M[12];
for(var V=0;V<16;V++)M[V]/=q;return M};Q.GO.oG=function(A){var M=[],q=A[5]*A[10]*A[15]-A[5]*A[14]*A[11]-A[6]*A[9]*A[15]+A[6]*A[13]*A[11]+A[7]*A[9]*A[14]-A[7]*A[13]*A[10],V=-A[4]*A[10]*A[15]+A[4]*A[14]*A[11]+A[6]*A[8]*A[15]-A[6]*A[12]*A[11]-A[7]*A[8]*A[14]+A[7]*A[12]*A[10],F=A[4]*A[9]*A[15]-A[4]*A[13]*A[11]-A[5]*A[8]*A[15]+A[5]*A[12]*A[11]+A[7]*A[8]*A[13]-A[7]*A[12]*A[9],H=-A[4]*A[9]*A[14]+A[4]*A[13]*A[10]+A[5]*A[8]*A[14]-A[5]*A[12]*A[10]-A[6]*A[8]*A[13]+A[6]*A[12]*A[9];
return A[0]*q+A[1]*V+A[2]*F+A[3]*H};Q.GO.oo=Q.GO.om([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
Q.ov={};Q.ov.oU=new Uint32Array(1);Q.ov.ol=function(A,M,q,V,F,H){var w=new Uint32Array(A),C=0,r=Q.ov.oU;
if(r.length<M*4)Q.ov.oU=r=new Uint32Array(M*4);var G=new Float64Array(r.buffer);for(var J=0;J<M;J+=2){var m=F[J],u=F[J+1],W=H[J],y=H[J+1];
r[C]=u;G[C+2>>1]=W;r[C+1]=w[m];w[m]=C+1;C+=4;r[C]=m;G[C+2>>1]=y;r[C+1]=w[u];w[u]=C+1;C+=4}return{eS:r,ey:G,eu:w}};
Q.ov.oR=function(A,M,q,V,F,H,w){var C=1,r=Q.ov.ol(A,M,q,V,F,H),G=r.eS,J=r.ey,m=r.eu,u=new Uint32Array(A),W=new Q.ov.os(A),O=1,Y=0;
W.push(q);W.push(V);var y=new Q.ov.os(A),h=new Uint8Array(A),I=new Uint32Array(A);h[q]=1;h[V]=2;var Z=new Uint32Array(A),L=new Uint32Array(A);
L[q]=L[V]=0;Z[q]=Z[V]=1;while(!0){var B=-1,k=0,e=1e30;while(!W.oT()&&B==-1){var X=W.top(),E=h[X],c=m[X]-1;
while(c!=-1){var o=G[c],s=h[o],z=c^E-1<<2;if(J[z+2>>1]!=0){if(s==0){Q.ov.oH(X,c,o,h,I,L,Z);W.push(o)}else if(s==E&&Z[o]<=Z[X]&&L[o]>L[X])Q.ov.oH(X,c,o,h,I,L,Z);
else if(s!=E){B=z}}c=G[c+1]-1}if(B!=-1)break;W.pop()}if(B==-1){break}O++;var b=B;while(b!=-1){u[k]=b;
k++;b=I[G[b^4]]-1}var T=k>>1;for(var l=0;l<T;l++){var $=u[l];u[l]=u[k-l-1];u[k-l-1]=$}b=I[G[B]]-1;while(b!=-1){u[k]=b^4;
k++;b=I[G[b^4]]-1}for(var l=0;l<k;l++)e=Math.min(e,J[u[l]+2>>1]);Y+=e;if(Y>=w)return{ew:null,l_:Y};for(var l=0;
l<k;l++){var i=u[l],g=i^4,X=G[g],o=G[i];J[i+2>>1]-=e;J[g+2>>1]+=e;if(J[i+2>>1]==0&&h[X]==h[o]){if(h[X]==1){I[o]=0;
y.push(o)}if(h[X]==2){I[X]=0;y.push(X)}}}while(!y.oT()){var X=y.pop(),E=h[X],c=m[X]-1,P=E==1?4:0,n=0,p=0,t=1e9;
while(c!=-1){var o=G[c],x=c^4,z=c^P;if(h[o]==E&&J[z+2>>1]>0&&Q.ov.EJA(o,q,V,I,G,O,Z,L)+1<t){n=o;p=x;
t=L[o]+1}c=G[c+1]-1}if(p!=0){Q.ov.oH(n,p,X,h,I,L,Z);continue}c=m[X]-1;while(c!=-1){var o=G[c],z=c^P;
if(h[o]==E){if(J[z+2>>1]>0){W.push(o)}if(I[o]==c+1){I[o]=0;y.push(o)}}c=G[c+1]-1}h[X]=0;W.remove(X)}}var D=[];
for(var l=0;l<M;l+=2){var X=F[l],o=F[l+1];if(h[X]==1&&h[o]!=1){D.push(l>>1)}if(h[o]==1&&h[X]!=1){D.push(M+l>>1)}}return{ew:D,l_:Y}};
Q.ov.oH=function(A,M,q,V,F,H,w){V[q]=V[A];F[q]=M+1;H[q]=H[A]+1;w[q]=w[A]};Q.ov.EJA=function(A,M,q,V,F,H,w,C){var r=A,G=V[A]-1,J=0;
while(G!=-1&&w[A]!=H){A=F[G^4];G=V[A]-1;J++}if(G==-1&&A!=M&&A!=q)return 1e9;var m=C[A]+J;J=0;G=V[r]-1;
while(r!=A){C[r]=m-J;J++;w[r]=H;r=F[G^4];G=V[r]-1}return m};Q.ov.EEJ=function(A,M,q,V,F,H){var w=Q.ov.ol(A,M,q,V,F,H),C=w.eS,r=w.ey,G=w.eu,J=0,m=0,u=new Uint32Array(A*2),W=new Q.ov.oh(A),y=0;
while(!0){W.reset();W.push(q);for(var O=0;O<A;O++)u[O<<1]=0;while(!W.oT()){var h=W.pop(),I=G[h]-1;while(I!=-1){y=C[I];
if(u[y<<1]==0&&r[I+2>>1]>0&&y!=q){u[y<<1]=h+1;u[(y<<1)+1]=I;W.push(y)}I=C[I+1]-1}if(u[V<<1]!=0){break}}if(u[V<<1]==0){break}var Z=1e30;
y=V;while(!0){var L=u[y<<1]-1;if(L==-1)break;var Y=u[(y<<1)+1];Z=Math.min(Z,r[Y+2>>1]);y=L}y=V;while(!0){var L=u[y<<1]-1;
if(L==-1)break;var Y=u[(y<<1)+1],B=Y^4;r[Y+2>>1]-=Z;r[B+2>>1]+=Z;y=L}J+=Z}var X=[];for(var O=0;O<M;O+=2){var L=F[O],y=F[O+1];
if((u[L<<1]!=0||L==q)&&u[y<<1]==0&&y!=q){X.push(O>>1)}if((u[y<<1]!=0||y==q)&&u[L<<1]==0&&L!=q){X.push(M+O>>1)}}return{ew:X,l_:J}};
Q.ov.oh=function(A){A|=A>>1;A|=A>>2;A|=A>>4;A|=A>>8;A|=A>>16;this.ed=new Uint32Array(A+1);this.eO=A;
this.eX=0;this.qn=0};Q.ov.oh.prototype={push:function(A){var M=this.qn;this.ed[M]=A;this.qn=M+1&this.eO},pop:function(){var A=this.eX,M=this.ed[A];
this.eX=A+1&this.eO;return M},oT:function(){return this.eX==this.qn},reset:function(){this.eX=0;this.qn=0}};
Q.ov.os=function(A){A|=A>>1;A|=A>>2;A|=A>>4;A|=A>>8;A|=A>>16;this.ed=new Uint32Array(A+1);this.qE=new Uint32Array(A+1);
this.eO=A;this.eX=0;this.qn=0};Q.ov.os.prototype={top:function(){return this.ed[this.eX]},EEm:function(){return this.ed[this.qn]},push:function(A){if(this.qE[A]!=0)return;
this.qE[A]=this.qn+1;var M=this.qn;this.ed[M]=A;this.qn=M+1&this.eO},pop:function(){var A=this.eX,M=this.ed[A];
this.qE[M]=0;this.eX=A+1&this.eO;return M},oT:function(){return this.eX==this.qn},remove:function(A){var M=this.qE[A]-1;
if(M==-1)return;this.qE[A]=0;if(M==this.eX){this.pop();return}var q=this.pop();this.ed[M]=q;this.qE[q]=M+1},oA:function(A){return A+this.eO+1&this.eO}};
Q.ov.og=function(A,M,q){var V=Q.ov.GQ(A,M,q);if(M<V-1)Q.ov.og(A,M,V-1);if(V<q)Q.ov.og(A,V,q)};Q.ov.GQ=function(A,M,q){var V=A[M+q>>>1];
while(M<=q){while(A[M]<V)M++;while(A[q]>V)q--;if(M<=q){Q.ov.GN(A,M,q);M++;q--}}return M};Q.ov.GN=function(A,M,q){var V=A[M];
A[M]=A[q];A[q]=V};Q.O={};Q.O.clone=function(A){return{qm:A.qm.slice(0),G:A.G.slice(0)}};Q.O.op=function(A){if(A.length<6)return!0;
var M=A.length-4;for(var q=0;q<M;q+=2)if(!Q.O.oP(A[q],A[q+1],A[q+2],A[q+3],A[q+4],A[q+5]))return!1;if(!Q.O.oP(A[M],A[M+1],A[M+2],A[M+3],A[0],A[1]))return!1;
if(!Q.O.oP(A[M+2],A[M+3],A[0],A[1],A[2],A[3]))return!1;return!0};Q.O.oP=function(A,M,q,V,F,H){return(M-V)*(F-q)+(q-A)*(H-V)>=0};
Q.O.EJY=function(A){var M={},q=null,V=0,F={M:2,L:2,Q:4,C:6};for(var H=0;H<A.qm.length;H++){var w=A.qm[H];
if(w.charAt(0)=="#"){if(M[w]==null)M[w]={G:[],qm:[]};q=M[w]}else if(w!="X"){q.qm.push(w);var C=F[w];
if(C==null)C=0;for(var r=0;r<C;r++)q.G.push(A.G[V+r]);V+=C}}return M};Q.O.EJ$=function(A){var M=[{type:6},{type:8,all:0}],q=A.G,V=A.qm,F=0,H,w,C=!0;
for(var r=0;r<V.length;r++){var G=V[r];if(G=="M"){if(H==null){H={type:0,length:0,qz:C?1:-1,qG:2};M.push(H)}var J=new f(q[F],q[F+1]);
w={type:1,qo:J.clone(),s:J,qU:J.clone()};M.push(w);F+=2;C=!1}if(G=="C"){var J=new f(q[F+4],q[F+5]),m=M[M.length-1],u;
if(V[r+1]=="Z"&&J.mg(w.s)){u=w}else{u={type:1,qo:J.clone(),s:J,qU:J.clone()};M.push(u)}m.qU=new f(q[F],q[F+1]);
u.qo=new f(q[F+2],q[F+3]);F+=6}if(G=="Z"){H.length=M.length-M.indexOf(H)-1;H=null}if(G=="X")C=!0}if(H&&H.length==0)H.length=M.length-M.indexOf(H)-1;
return M};Q.O.oM=function(A){var M={G:[],qm:[]};for(var q=0;q<A.length;q++){if(A[q].type>5)continue;
var V=A[q].length;if(q==A.length-1)break;var F=A[q].type==3;Q.O.EGc(M,A,q+1,V,F);if(!F)M.qm.push("Z");
q+=V}return M};Q.O.EGc=function(A,M,q,V,F){var H=M[q],w=null;A.G.push(H.s.x,H.s.y);A.qm.push("M");for(var C=q;
C<q+V-1;C++){H=M[C];w=M[C+1];if(H.qU.mg(H.s)&&w.qo.mg(w.s)){A.G.push(w.s.x,w.s.y);A.qm.push("L")}else{A.G.push(H.qU.x,H.qU.y,w.qo.x,w.qo.y,w.s.x,w.s.y);
A.qm.push("C")}}if(!F){H=M[C];w=M[q];if(H.qU.mg(H.s)&&w.qo.mg(w.s)){A.G.push(w.s.x,w.s.y);A.qm.push("L")}else{A.G.push(H.qU.x,H.qU.y,w.qo.x,w.qo.y,w.s.x,w.s.y);
A.qm.push("C")}}};Q.O.EEE=function(A){var M=A.G,q=[],V,F=0;for(var H=0;H<A.qm.length;H++){var w=A.qm[H];
if(w=="C"){V.push(M[F++],M[F++],M[F++],M[F++],M[F++],M[F++])}else if(w=="Z"){}else{V=[];if(w!="M"){V.push(w);
H++}V.push(M[F++],M[F++]);q.push(V)}}return q};Q.O.oV=function(A,M,q,V){for(var F=0;F<A.length;F+=2){var H=A[F],w=A[F+1],C=M[F],r=M[F+1];
q[F]=H+(C-H)*V;q[F+1]=w+(r-w)*V}};Q.O.oC=function(A,M,q){for(var V=0;V<A.length;V+=2){var F=A[V],H=A[V+1];
q[V]=F*M.M+H*M.ei+M.eI;q[V+1]=F*M.$+H*M.e$+M.eK}};Q.O.GB=function(A){var M=99999999999,q=-M,V=99999999999,F=-V;
for(var H=0;H<A.length;H+=2){var w=A[H],C=A[H+1];M=Math.min(M,w);V=Math.min(V,C);q=Math.max(q,w);F=Math.max(F,C)}return new U(M,V,q-M,F-V)};
Q.O.oS=function(A,M){var q=Math.max(M.x,Math.min(M.x+M.n,A.x)),V=Math.max(M.y,Math.min(M.y+M.J,A.y)),F=A.x-q,H=A.y-V;
return Math.sqrt(F*F+H*H)};Q.O.ok=function(A){if(A.zZ())return new U(Math.floor(A.x),Math.floor(A.y),Math.ceil(A.n),Math.ceil(A.J));
var M=Math.floor(A.x),q=Math.ceil(A.x+A.n),V=Math.floor(A.y),F=Math.ceil(A.y+A.J);return new U(M,V,q-M,F-V)};
Q.O.ob=function(A){return Q.O.ok(Q.O.GB(A))};Q.O.oL=function(A){var M=A.x,q=A.y,V=A.x+A.n,F=A.y+A.J;
return{qm:["M","L","L","L","L"],G:[M,q,V,q,V,F,M,F,M,q]}};Q.O.concat=function(A,M,q){if(q==null)q=new zo;
for(var V=0;V<M.G.length;V+=2){var F=M.G[V],H=M.G[V+1];A.G.push(F*q.M+H*q.ei+q.eI);A.G.push(F*q.$+H*q.e$+q.eK)}for(var V=0;
V<M.qm.length;V++)A.qm.push(M.qm[V])};Q.O.oZ=function(A){var M=A.G,q=[],V=[],F=0,H=0,w=0,C=0,r=0,G=0,J=0,m=0,u=0;
for(var W=0;W<A.qm.length;W++){var y=A.qm[W];if(y=="M"){H=M[F];w=M[F+1];F+=2;V.push(y);q.push(H,w)}else if(y=="C"){C=M[F];
r=M[F+1];G=M[F+2];J=M[F+3];m=M[F+4];u=M[F+5];F+=6;V.push(y);q.push(C,r,G,J,m,u);H=m;w=u}else if(y=="Q"){C=M[F];
r=M[F+1];G=M[F+2];J=M[F+3];F+=4;var O=C-H,h=r-w,I=G-C,Z=J-r;V.push("C");q.push(H+2/3*O,w+2/3*h,C+1/3*I,r+1/3*Z,G,J);
H=G;w=J}else if(y=="L"){C=M[F];r=M[F+1];F+=2;var L=C-H,Y=r-w;V.push("C");q.push(H,w,C,r,C,r);H=C;w=r}else V.push(y)}return{qm:V,G:q}};
Q.O.oY=function(A,M){var q=A.G,V=[],F=[],H=0,w=0,C=0,r=0,G=0,J=0,m=0,u=0,W=0;for(var y=0;y<A.qm.length;
y++){var O=A.qm[y];if(O=="M"){w=q[H];C=q[H+1];H+=2;F.push(O);V.push(w,C)}else if(O=="C"){r=q[H];G=q[H+1];
J=q[H+2];m=q[H+3];u=q[H+4];W=q[H+5];H+=6;Q.O.oi(w,C,r,G,J,m,u,W,M,F,V,0);w=u;C=W}else F.push(O)}return{qm:F,G:V}};
Q.O.oi=function(A,M,q,V,F,H,w,C,r,G,J,m){var u=Math.sqrt((w-A)*(w-A)+(C-M)*(C-M)),W=Math.sqrt((w-F)*(w-F)+(C-H)*(C-H))+Math.sqrt((F-q)*(F-q)+(H-V)*(H-V))+Math.sqrt((q-A)*(q-A)+(V-M)*(V-M)),y=(u+W)/2;
if(y<=r){G.push("C");J.push(q,V,F,H,w,C)}else{var O=0,h=0,I=0,Z=0,L=0,Y=0,B=0,X=0,E=0,c=0,o=0,s=0,z=0;
h=(A+q)/2;I=(M+V)/2;Z=(q+F)/2;L=(V+H)/2;Y=(F+w)/2;B=(H+C)/2;X=(h+Z)/2;E=(I+L)/2;c=(Z+Y)/2;o=(L+B)/2;
s=(X+c)/2;z=(E+o)/2;Q.O.oi(A,M,h,I,X,E,s,z,r,G,J,m+1);Q.O.oi(s,z,c,o,Y,B,w,C,r,G,J,m+1)}};Q.O.EGs=function(A,M){var q=M.slice(0),V=A.length/2,F=.553,H=[],w=[];
for(var C=0;C<V;C++){var r=(C+1)%V,G=A[2*C]-A[2*r],J=A[2*C+1]-A[2*r+1];w.push(Math.sqrt(G*G+J*J))}for(var C=0;
C<V;C++){var m=(C-1+V)%V,r=(C+1)%V,u=M[C],W=u+M[m],y=u+M[r];if(W!=0)q[C]=Math.min(q[C],w[m]*u/W);if(y!=0)q[C]=Math.min(q[C],w[C]*u/y)}for(var C=0;
C<V;C++){var r=(C+1)%V,O=(C+2)%V,h=q[C],I=q[r],Z=A[2*C],L=A[2*C+1],Y=A[2*r],B=A[2*r+1],X=A[2*O],E=A[2*O+1],c=0,o=0,s=0,z=0;
if(w[C]!=0){c=(Y-Z)/w[C];o=(B-L)/w[C]}if(w[r]!=0){s=(X-Y)/w[r];z=(E-B)/w[r]}H.push(Z+h*c,L+h*o,Z+h*c,L+h*o,Y-I*c,B-I*o);
H.push(Y-I*c,B-I*o,Y-I*c*(1-F),B-I*o*(1-F),Y+I*s*(1-F),B+I*z*(1-F))}return H};Q.o$=function(){};Q.o$.o$=function(A,M,q){var V=A,F=M,H=q,w=1;
while(A.X()>110*110){var C=Q.b(A.X()*4);Q.mr(q,C,3);var r=Q.mt(C,A),G=Q.mt(M,A);A=G.rect;M=G.ej;q=Q.b(A.X());
Q.mH(r.ej,q,3);w*=2}var J=Date.now(),m=Q.o$.oK(A,M,q);if(w!=1){var J=Date.now(),u=Q.b(A.X()*4);Q.mr(m,u,3);
var W=d.f.xF([u,A],new zo(V.n/A.n,0,0,V.J/A.J,0,0),!1);W.rect.x=V.x;W.rect.y=V.y;m=Q.b(V.X());Q.mk(W.buffer,W.rect,m,V);
var J=Date.now();m=Q.o$.oK(V,F,m)}return m};Q.o$.oK=function(A,M,q){var V=A.n,F=A.J,H=A.n*A.J,w=new Uint8Array(H),C=new Uint8Array(H),r=Q.clone(M),G=Q.clone(M),m,u,Y=0,B=0,g=0;
for(var J=0;J<H;J++){if(q[J]==0){w[J]=0;C[J]=0;G[(J<<2)+3]=0}else if(q[J]==255){w[J]=1;C[J]=2;r[(J<<2)+3]=0}else{w[J]=0;
C[J]=1;G[(J<<2)+3]=0}}for(var W=0;W<2;W++){var y=W==0?r:G,O=[],h=Q.clone(y);for(var J=0;J<h.length;J+=4)if(h[J+3]==0){h[J]=h[J+1]=h[J+2]=0}var I=UPNG.quantize(h.buffer,6).plte;
for(var J=1;J<I.length;J++){var Z=I[J].est;O.push({ql:Z.q,qR:[0,0,0,0],Pf:0,Pj:null,qH:null,qr:0,oG:0,qW:null})}if(W==0)u=O;
else m=O}var L=new Float32Array(V*F*2);for(var X=0;X<F;X++)for(var E=0;E<V;E++){var J=X*V+E,c=J<<2,o=0,s=0,z=0,k=0;
if(E!=V-1){var W=J+1,b=W<<2;o=M[c]-M[b];s=M[c+1]-M[b+1];z=M[c+2]-M[b+2];k=o*o+s*s+z*z;L[J+J]=k;Y+=k;
B++}if(X!=F-1){var T=J+V,l=T<<2;o=M[c]-M[l];s=M[c+1]-M[l+1];z=M[c+2]-M[l+2];k=o*o+s*s+z*z;L[J+J+1]=k;
Y+=k;B++}}var $=Y/B;for(var J=0;J<L.length;J++)L[J]=50*Math.exp(-.001*L[J]);var e=new Uint16Array(H),i=new Uint16Array(H),P=Date.now();
while(!0){g++;if(m.length==0||u.length==0)break;Q.o$.EUd(m,u,i,e,M,w);if(m.length==0||u.length==0)break;
var n=[],p=[],B=0,t=Date.now(),zK=0,ze=0;for(var X=0;X<F;X++)for(var E=0;E<V;E++){var J=X*V+E,c=J<<2,x=w[J],D=C[J];
if((D==0||D==2)&&(E==0||C[J-1]==D)&&(E==V-1||C[J+1]==D)&&(X==0||C[J-V]==D)&&(X==F-1||C[J+V]==D))continue;
if(E!=V-1){n.push(J,J+1);p.push(L[J+J],L[J+J])}if(X!=F-1){n.push(J,J+V);p.push(L[J+J+1],L[J+J+1])}var A=M[c]*(1/255),Gp=M[c+1]*(1/255),zY=M[c+2]*(1/255),zi=Q.o$.oe(u,e[J],A,Gp,zY),zI=Q.o$.oe(m,i[J],A,Gp,zY);
if(isNaN(zi))throw"a";if(isNaN(zI))throw"b";if(D==0){zi=0;zI=1e9}if(D==2){zi=1e9;zI=0}n.push(H,J);p.push(zi,0);
n.push(J,H+1);p.push(zI,0)}var z$=Q.ov.oR(H+2,n.length,H,H+1,n,p,1e20);if(z$.ew==null){console.log("no cut");
break}for(var J=0;J<z$.ew.length;J++){var zq=z$.ew[J]<<1,zB=0,zN=0,zQ=0;if(zq<n.length){zB=n[zq];zN=n[zq+1];
zQ=p[zq]}else{zN=n[zq];zB=n[zq+1];zQ=p[zq+1]}if(zB==H&&w[zN]!=0){zK++;w[zN]=0}if(zN==H+1&&w[zB]!=1){ze++;
w[zB]=1}}if(zK+ze<=.02*H||g>5||Date.now()-P>500)break}var z_=Q.b(H*4),zw=Q.b(H);for(var J=0;J<M.length;
J+=4){if(w[J>>2]==0)continue;z_[J]=M[J];z_[J+1]=M[J+1];z_[J+2]=M[J+2];z_[J+3]=M[J+3];zw[J>>2]=255}return zw};
Q.o$.oe=function(A,M,q,V,F){var H=0,w=A[M],C=q-w.ql[0],r=V-w.ql[1],G=F-w.ql[2];if(w.Pf==0||w.oG<1e-20)H+=.99;
else{H+=w.qr*(1/Math.sqrt(w.oG))*Math.exp(-.5*Q.o$.EGE(C,r,G,w.qW))}var J=H>=1?0:-Math.log(H);if(isNaN(J)){console.log(H);
console.log(w);console.log(A);console.log(w.oG,Math.sqrt(w.oG),1/Math.sqrt(w.oG));throw"e"}return J};
Q.o$.EUd=function(A,M,q,V,F,H){for(var w=0;w<2;w++){var C=w==0?M:A;for(var r=0;r<C.length;r++){var G=C[r];
G.Pf=0;G.qR=[0,0,0,0];G.qH=[0,0,0,0,0,0,0,0,0]}}for(var r=0;r<F.length;r+=4){var J=F[r]*(1/255),m=F[r+1]*(1/255),u=F[r+2]*(1/255),C,W;
V[r>>2]=Q.o$.oB(M,J,m,u);q[r>>2]=Q.o$.oB(A,J,m,u);if(H[r>>2]==0){C=M;W=V[r>>2]}else{C=A;W=q[r>>2]}var G=C[W],y=G.qH,O=G.ql;
G.Pf++;var h=J-O[0],I=m-O[1],Z=u-O[2];G.qR[0]+=J;G.qR[1]+=m;G.qR[2]+=u;y[0]+=h*h;y[1]+=h*I;y[2]+=h*Z;
y[3]+=I*h;y[4]+=I*I;y[5]+=I*Z;y[6]+=Z*h;y[7]+=Z*I;y[8]+=Z*Z}for(var w=0;w<2;w++){var C=w==0?A:M,L=0;
for(var r=0;r<C.length;r++)L+=C[r].Pf;if(L==0)continue;for(var r=0;r<C.length;r++){var G=C[r],Y=1/G.Pf,B=G.Pj=[];
G.ql=[G.qR[0]*Y,G.qR[1]*Y,G.qR[2]*Y];G.qr=G.Pf/L;var h=G.qR[0],I=G.qR[1],Z=G.qR[2],X=[h*h,h*I,h*Z,I*h,I*I,I*Z,Z*h,Z*I,Z*Z],E=[];
for(var c=0;c<9;c++)E[c]=G.qH[c]-X[c]*Y;for(var c=0;c<9;c++)B[c]=G.qH[c]*Y;var o=Q.GO.om(B);G.oG=Q.GO.oG(o);
G.qW=Q.GO.EJH(Q.GO.mx(o))}}};Q.o$.oB=function(A,M,q,V){var F=0,H=1e9;for(var w=0;w<A.length;w++){var C=A[w].ql,r=M-C[0],G=q-C[1],J=V-C[2],m=r*r+G*G+J*J;
if(m<H){H=m;F=w}}return F};Q.o$.EGE=function(A,M,q,V){var F=A*V[0]+M*V[3]+q*V[6],H=A*V[1]+M*V[4]+q*V[7],w=A*V[2]+M*V[5]+q*V[8];
return F*A+H*M+w*q};Q.oQ=function(){};Q.oQ.Gk=function(A,M,q,V,F){var H=q.n,w=q.J,C=new Int32Array(H*w),r=0;
for(var G=0;G<H*w;G++)if(M[G]!=0){C[G]=r;r++}else if(A[(G<<2)+3]<200){C[G]=-2}else C[G]=-1;if(r==0)return;
var J=new Q.vj(r,r),m=new Float64Array(3*r),u=1/255,W=[-H,-1,1,H];for(var y=0;y<w;y++)for(var O=0;O<H;
O++){var h=y*H+O,G=C[h],I=G*3,Y=0,B=0;if(G==-1||G==-2)continue;var Z=[],L=[];for(var X=0;X<4;X++){if(X==2){B=Z.length;
Z.push(0);L.push(G)}var E=h+W[X],c=C[E];if(X==0&&y==0||X==1&&O==0||X==2&&O==H-1||X==3&&y==w-1||c==-2)continue;
Y++;if(c==-1){m[I+0]+=A[4*E+0];m[I+1]+=A[4*E+1];m[I+2]+=A[4*E+2]}else{Z.push(-1);L.push(c);if(M[h]==M[E]){m[I+0]+=A[4*h+0]-A[4*E+0];
m[I+1]+=A[4*h+1]-A[4*E+1];m[I+2]+=A[4*h+2]-A[4*E+2]}}}Z[B]=Y;J.Gn(Z,L)}var o=new Float64Array(3*r);for(var G=0;
G<H*w;G++)if(C[G]!=-1){var s=C[G],z=s*3;o[z]=A[4*G+0];o[z+1]=A[4*G+1];o[z+2]=A[4*G+2]}J.Ezz(o,m,V,F);
for(var G=0;G<H*w;G++){var s=C[G];if(s==-1)continue;A[4*G+0]=Math.round(Math.max(0,Math.min(255,o[3*s+0])));
A[4*G+1]=Math.round(Math.max(0,Math.min(255,o[3*s+1])));A[4*G+2]=Math.round(Math.max(0,Math.min(255,o[3*s+2])))}};
Q.rect={};Q.rect.o_=function(A){var M=new U;for(var q=0;q<A.length;q++)M=M.vP(A[q]);return M};Q.rect.EUL=function(A,M){var q=Q.rect.o_,V=new UnionFind(A.length),E=1e3,c=1e3;
for(var F=0;F<A.length;F++)for(var H=F+1;H<A.length;H++){if(!M)continue;var w=A[F],C=A[H],u=1e9,W=1e9;
if(w.hT(C)){V.link(F,H);continue}var r=w.x+w.n,G=w.y+w.J,J=C.x+C.n,m=C.y+C.J;if((r<C.x||J<w.x)&&(G<C.y||m<w.y))continue;
if(!(G<C.y||m<w.y))u=Math.min(Math.abs(r-C.x),Math.abs(w.x-J));if(!(r<C.x||J<w.x))W=Math.min(Math.abs(G-C.y),Math.abs(w.y-m));
var y=Math.min(u,W),O=Math.min(w.n,w.J,C.n,C.J);if(y<.3*O)V.link(F,H)}var h=[],I={};for(var F=0;F<A.length;
F++){var Z=V.find(F),L=A[F];if(I[Z]==null){I[Z]=h.length;h.push([])}h[I[Z]].push(L)}var Y=[],B=[];for(var F=0;
F<h.length;F++){Y.push(q(h[F]));var X=q(h[F]);X.oA=F;B.push(X)}B.sort(function(i,g){return Math.max(g.J,g.n)-Math.max(i.J,i.n)});
var o=new NETXUS.RectanglePacker(E,c);while(!0){var s=!1;o.reset(E,c);for(var F=0;F<B.length;F++){var z=o.findCoords(B[F].n,B[F].J);
if(z){B[F].x=z.x;B[F].y=z.y}else{E=Math.floor(E*1.1);c=Math.floor(c*1.1);s=!0;break}}if(s)continue;break}for(var F=0;
F<h.length;F++){var k=B[F],b=k.oA,T=Y[b],l=h[b],$=k.x-T.x,e=k.y-T.y;for(var H=0;H<l.length;H++)l[H].offset($,e)}};
Q.oy=function(){};Q.oy.ou=Math.floor(16*window.devicePixelRatio);Q.oy.od={};Q.oy.oO=0;Q.oy.EUb=function(A,M){var q=Math.round(Q.oy.ou*.5);
Q.oy.oO=q;var V=document.createElement("canvas");V.width=V.height=q;var F=V.getContext("2d");F.font=q*1.5+"px monospace";
var H="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var w=0;w<H.length;w++){F.fillStyle="#"+Q.EI(M);F.fillRect(0,0,q,q);
F.fillStyle="#"+Q.EI(A);F.fillText(H[w],0,q);Q.oy.od[H[w]]=F.getImageData(0,0,q,q).data}};Q.oy.EzL=function(A,M,q){var V=0,F=0,H=4*Q.oy.ou;
for(var w=6;w>=0;w--){var C=Math.pow(10,w);if(5*C*A.Y<=H){V=5*C;F=10;break}if(2*C*A.Y<=H){V=2*C;F=4;
break}if(1*C*A.Y<=H){V=1*C;F=10;break}}var r=Math.ceil(V*A.Y),G=Q.b(r*Q.oy.ou*4);Q.mh(G,4278190080|q);
for(var w=0;w<Q.oy.ou;w++)Q.oy.vE(G,4*w*r,M);for(var w=0;w<r;w++)Q.oy.vE(G,4*((Q.oy.ou-1)*r+w),M);if(V==2)F=2;
if(V==5)F=5;if(V>1)for(var w=1;w<F;w++)Q.oy.EvF(G,w*(r/F),r,(w&1)==1?.8:.7,M);return{qT:G,step:V}};Q.oy.EvF=function(A,M,q,V,F){var M=Math.round(M);
for(var H=Math.round(Q.oy.ou*V);H<Q.oy.ou-1;H++)Q.oy.vE(A,4*(H*q+M),F)};Q.oy.vE=function(A,M,q){A[M+0]=q>>16&255;
A[M+1]=q>>8&255;A[M+2]=q&255};Q.oy.Eze=function(A,M,q){var V=M&255,F=M>>8&255,H=M>>16&255,I,Z,L,Y;M=Math.round(V*.6)<<16|Math.round(F*.6)<<8|Math.round(H*.6);
Q.oy.EUb(Math.round(V*.8)<<16|Math.round(F*.8)<<8|Math.round(H*.8),q);var w=this.EzL(A,M,q),C=A.jY(0,0),r=A.jY(A.B.n,A.B.J),G=Math.floor(C.x/w.step)*w.step,J=Math.ceil(r.x/w.step)*w.step,m=Math.floor(C.y/w.step)*w.step,u=Math.ceil(r.y/w.step)*w.step,W=A.ji(G,m),y=A.ji(J,m),O=w.step*A.Y,h=Math.ceil(O);
I=A.qs.data;Z=new U(0,0,A.B.n,Q.oy.ou);L=new U(0,0,h,Q.oy.ou);Y=new U(0,Math.round(Q.oy.ou*.08),Q.oy.oO,Q.oy.oO);
for(var B=0;B<(J-G)/w.step;B++){L.x=Math.round(W.x+B*O);Q.mL(w.qT,L,I,Z,L);var X=(G+B*w.step).toString(10);
for(var E=0;E<X.length;E++){Y.x=L.x+3+E*Math.round(Q.oy.oO*.8);var c=Q.oy.od[X[E]];Q.mL(c,Y,I,Z,Y)}}var o=new Uint32Array(w.qT.buffer),s=new Uint32Array(w.qT.length);
for(var z=0;z<h;z++)for(var k=0;k<Q.oy.ou;k++){s[z*Q.oy.ou+k]=o[k*h+z]}w.qT=new Uint8Array(s.buffer);
I=A.qc.data;Z=new U(0,0,Q.oy.ou,A.B.J);L=new U(0,0,Q.oy.ou,h);Y=new U(Math.round(Q.oy.ou*.2),0,Q.oy.oO,Q.oy.oO);
for(var B=0;B<(u-m)/w.step;B++){L.y=Math.round(W.y+B*O);Q.mL(w.qT,L,I,Z,L);var X=Math.abs(m+B*w.step).toString(10);
for(var E=0;E<X.length;E++){Y.y=L.y+3+E*Math.round(Q.oy.oO*1.15);var c=Q.oy.od[X[E]];Q.mL(c,Y,I,Z,Y)}}};
Q.scale={};Q.scale.vJ=document.createElement("canvas");Q.scale.vz=Q.scale.vJ.getContext("2d");Q.scale.EUs=document.createElement("canvas");
Q.scale.Enw=Q.scale.EUs.getContext("2d");Q.scale.vv=function(A,M,q){var V=Q.scale.vJ,F=Q.scale.vz;V.width=M;
V.height=q;var H=F.createImageData(M,q),w=A.length;for(var C=0;C<w;C++)H.data[C]=A[C];F.putImageData(H,0,0);
return F.createPattern(V,"repeat")};Q.scale.EJW=function(A,M,q,V,F,H,w,C){var r=Q.scale.vR(A,q,V,F,H,w,C);
Q.mR(r.data,M)};Q.scale.EUo=function(A,M,q,V,F,H,w,C){var r=Q.scale.vR(A,q,V,F,H,w,C);Q.mc(r.data,M)};
Q.scale.vR=function(A,M,q,V,F,H,w){var C=Q.scale.vJ,r=Q.scale.vz;C.width=M;C.height=q;r.rect(0,0,M,q);
r.translate(H,w);r.scale(V,F);r.fillStyle=A;r.fill();return r.getImageData(0,0,M,q)};Q.scale.vH=function(A,M,q,V,F,H,w){if(w<1)Q.scale.EzN(A,M,q,V,F,H,Math.round(1/w));
else Q.scale.Ez_(A,M,q,V,F,H,w)};Q.scale.vr=function(A,M,q,V,F,H,w,C){if(C)C=C.vt(new U(0,0,M,q));A=new Uint32Array(A.buffer);
V=new Uint32Array(V.buffer);if(w<1)Q.scale.EUM(A,M,q,V,F,H,Math.round(1/w),C);else Q.scale.Ezq(A,M,q,V,F,H,w)};
Q.scale.Ez_=function(A,M,q,V,F,H,w){for(var C=0;C<q;C++)for(var r=0;r<M;r++){var G=A[C*M+r],J=Math.min(w,F-r*w),m=Math.min(w,H-C*w);
for(var u=0;u<m;u++)for(var W=0;W<J;W++)V[(w*C+u)*F+w*r+W]=G}};Q.scale.EzN=function(A,M,q,V,F,H,w){for(var C=0;
C<H;C++)for(var r=0;r<F;r++){var G=0,J=Math.min(w,M-r*w),m=Math.min(w,q-C*w);for(var u=0;u<m;u++)for(var W=0;
W<J;W++)G+=A[(w*C+u)*M+(w*r+W)];V[C*F+r]=Math.round(G/(J*m))}};Q.scale.Ezq=function(A,M,q,V,F,H,w){for(var C=0;
C<q;C++)for(var r=0;r<M;r++){var G=A[C*M+r],J=Math.min(w,F-r*w),m=Math.min(w,H-C*w);for(var u=0;u<m;
u++)for(var W=0;W<J;W++)V[(w*C+u)*F+w*r+W]=G}};Q.scale.EUM=function(A,M,q,V,F,H,w,C){var r=0,G=F,J=0,m=H;
if(C){r=Math.floor(C.x/w);G=Math.ceil((C.x+C.n)/w);J=Math.floor(C.y/w);m=Math.ceil((C.y+C.J)/w)}for(var u=J;
u<m;u++)for(var W=r;W<G;W++){var y=0,O=0,h=0,I=0,Z=Math.min(w,M-W*w),L=Math.min(w,q-u*w);for(var Y=0;
Y<L;Y++)for(var B=0;B<Z;B++){var X=A[(w*u+Y)*M+w*W+B],E=X>>>24;y+=E;O+=E*(X>>>16&255);h+=E*(X>>>8&255);
I+=E*(X&255)}if(y!=0){var c=1/y;V[u*F+W]=y/(Z*L)<<24|O*c<<16|h*c<<8|I*c}else V[u*F+W]=0}};Q.q={};Q.q.EzZ=function(A,M,q){var V=128,F=0,H=q.n,w=q.J;
for(var C=0;C<w;C++)for(var r=0;r<H;r++){if(A[F]>=V&&(r==0||A[F-1]<V||(r==H-1||A[F+1]<V)||(C==0||A[F-H]<V)||(C==w-1||A[F+H]<V)))M[F]=255;
F++}};Q.q.vg=function(A,M,q,V,F,H,w,C){if(F==null){F=0;H=0;w=q.n;C=q.J}var r=q.n,G=q.J;M=new Uint8Array(M.buffer);
var J=new Uint32Array(M.buffer);for(var m=H;m<C;m++){var u=m*r+F;for(var W=F;W<w;W++){if(A[u]>>7==1&&(m==0||A[u-r]>>7==0||(W==0||A[u-1]>>7==0)||(W==r-1||A[u+1]>>7==0)||(m==G-1||A[u+r]>>7==0))){J[u]=(W+m&4)==0?0:V;
M[(u<<2)+3]=255}u++}}};Q.vx={};Q.vx.vp=function(A,M,q){var V,F;if(q=="front"){V=A.rect.clone();F=Q.vx.EvQ}if(q=="union"){V=A.rect.vP(M.rect);
F=Q.vx.vP}if(q=="difference"){V=M.rect.clone();F=Q.vx.Ezp}if(q=="intersection"){V=A.rect.vt(M.rect);
F=Q.vx.vt}if(q=="xor"){V=A.rect.vP(M.rect);F=Q.vx.EUZ}if(V.zZ())return null;var H=Q.b(V.X());Q.mC(M.channel,M.rect,H,V);
var w=Q.b(V.X());Q.mC(A.channel,A.rect,w,V);F(w,H,H);var C=Q.mO(H,V);if(C.zZ())return null;if(!C.mg(V)){var r=Q.b(C.X());
Q.mC(H,V,r,C);H=r;V=C}return{channel:H,rect:V}};Q.vx.EvQ=function(A,M,q){for(var V=0;V<A.length;V++)q[V]=A[V]};
Q.vx.vP=function(A,M,q){for(var V=0;V<A.length;V++)q[V]=Math.min(A[V]+M[V],255)};Q.vx.Ezp=function(A,M,q){for(var V=0;
V<A.length;V++)q[V]=Math.max(M[V]-A[V],0)};Q.vx.vt=function(A,M,q){var V=1/255;for(var F=0;F<A.length;
F++)q[F]=A[F]*M[F]*V};Q.vx.EUZ=function(A,M,q){var V=1/255;for(var F=0;F<A.length;F++)q[F]=Math.min(A[F]+M[F],255)-A[F]*M[F]*V};
Q.vj=function(A,M){this.u=[];this.qA=[0];this.qg=[];this.Js=[];this.qx=[];this.rows=A;this.cols=M;this.qp=!1};
Q.vj.prototype.Gn=function(A,M){var q=A.length,V=this.qA.length-1;for(var F=0;F<q;F++){var H=A[F],w=M[F];
if(w==V){this.Js.push(H);this.qx.push(H==0?0:1/H)}else{this.u.push(H);this.qg.push(w)}}this.qA.push(this.u.length)};
Q.vj.prototype.freeze=function(){if(this.qp)return;this.qp=!0;this.qf=new Float64Array(this.u)};Q.vj.prototype.Enc=function(A,M){this.freeze();
var q=this.rows,V=this.qf,F=this.qA,H=this.qg,w=this.qx;for(var C=0;C<3500;C++){var r=0;for(var G=0;
G<q;G++){var J=M[G],m=F[G],u=F[G+1];if(u-m==4)J-=V[m]*A[H[m]]+V[m+1]*A[H[m+1]]+V[m+2]*A[H[m+2]]+V[m+3]*A[H[m+3]];
else for(var W=m;W<u;W++)J-=V[W]*A[H[W]];A[G]=w[G]*J}}};Q.vj.prototype.Ezz=function(A,M,q,V){var F=Date.now();
this.freeze();if(q==null)q=5e-7;if(V==null)V=1e9;var H=this.rows,w=H*3,C=this.qf,r=this.qA,G=this.qg,J=this.qx;
while(!0){var m=0;for(var u=0;u<H;u++){var W=u*3,y=M[W],O=M[W+1],h=M[W+2],I=r[u],Z=r[u+1];if(Z-I==4){var L=C[I],Y=C[I+1],B=C[I+2],X=C[I+3],E=G[I]*3,c=G[I+1]*3,o=G[I+2]*3,s=G[I+3]*3;
y-=L*A[E+0]+Y*A[c+0]+B*A[o+0]+X*A[s+0];O-=L*A[E+1]+Y*A[c+1]+B*A[o+1]+X*A[s+1];h-=L*A[E+2]+Y*A[c+2]+B*A[o+2]+X*A[s+2]}else for(var z=I;
z<Z;z++){var L=C[z],E=G[z]*3;y-=L*A[E+0];O-=L*A[E+1];h-=L*A[E+2]}var k=J[u],b=A[W+0],T=A[W+1],l=A[W+2];
A[W+0]=k*y;A[W+1]=k*O;A[W+2]=k*h;m+=.4*Math.pow(A[W+0]-b,2)+.5*Math.pow(A[W+1]-T,2)+.1*Math.pow(A[W+2]-l,2);
if(isNaN(m)){console.log(k,J,A);throw"e"}}if(m/H<q||Date.now()>F+V)break}};Q.vC={};Q.vC.vS=function(A,M,q){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:A},Vrtc:{t:"doub",v:M},Cnty:{t:"bool",v:q}}}};
Q.vC.vk={};Q.vC.vk.oR=function(A,M){var q=A.length;for(var V=0;V<q;V++){var F=0,H=Number.NEGATIVE_INFINITY;
for(var w=V;w<q;w++)if(Math.abs(A[w][V])>H){F=w;H=Math.abs(A[w][V])}Q.vC.vk.EUq(A,V,F);for(var w=V+1;
w<q;w++){if(A[V][V]==0)return 1;var C=A[w][V]/A[V][V];for(var r=V;r<q+1;r++)A[w][r]-=A[V][r]*C}}for(var w=q-1;
w>=0;w--){if(A[w][w]==0)return 1;var G=A[w][q]/A[w][w];M[w]=G;for(var r=w-1;r>=0;r--){A[r][q]-=A[r][w]*G;
A[r][w]=0}}return 0};Q.vC.vk.EzE=function(A,M){var q=[];for(var V=0;V<A;V++){q.push([]);for(var F=0;
F<M;F++)q[V].push(0)}return q};Q.vC.vk.Env=function(A){for(var M=0;M<A.length;M++)console.log(JSON.stringify(A[M]))};
Q.vC.vk.EUq=function(A,M,q){var V=A[M];A[M]=A[q];A[q]=V};Q.vC.vY=function(A,M,q){var V=A.length-1,F=Q.vC.vk.EzE(V+1,V+2);
for(var H=1;H<V;H++){F[H][H-1]=1/(A[H]-A[H-1]);F[H][H]=2*(1/(A[H]-A[H-1])+1/(A[H+1]-A[H]));F[H][H+1]=1/(A[H+1]-A[H]);
F[H][V+1]=3*((M[H]-M[H-1])/((A[H]-A[H-1])*(A[H]-A[H-1]))+(M[H+1]-M[H])/((A[H+1]-A[H])*(A[H+1]-A[H])))}F[0][0]=2/(A[1]-A[0]);
F[0][1]=1/(A[1]-A[0]);F[0][V+1]=3*(M[1]-M[0])/((A[1]-A[0])*(A[1]-A[0]));F[V][V-1]=1/(A[V]-A[V-1]);F[V][V]=2/(A[V]-A[V-1]);
F[V][V+1]=3*(M[V]-M[V-1])/((A[V]-A[V-1])*(A[V]-A[V-1]));Q.vC.vk.oR(F,q)};Q.vC.EJu=function(A,M,q,V){if(A<=M[0])return q[0];
if(A>=M[M.length-1])return q[M.length-1];var F=1;while(M[F]<A)F++;var H=M[F],w=M[F-1],C=q[F],r=q[F-1],G=(A-w)/(H-w),J=V[F-1]*(H-w)-(C-r),m=-V[F]*(H-w)+(C-r),u=(1-G)*r+G*C+G*(1-G)*(J*(1-G)+m*G);
return u};Q.vC.vI=function(A,M,q,V){var F={qP:[A[0]],qD:[M[0]],qt:[]};V[0]=F;for(var H=1;H<A.length-1;
H++){F.qP.push(A[H]);F.qD.push(M[H]);if(q[H]==!1){Q.vC.vY(F.qP,F.qD,F.qt);F={qP:[A[H]],qD:[M[H]],qt:[]}}V[H]=F}F.qP.push(A[H]);
F.qD.push(M[H]);Q.vC.vY(F.qP,F.qD,F.qt);V[H]=F};Q.vC.v$=function(A,M,q,V){if(A<=M[0])return q[0];if(A>=M[M.length-1])return q[M.length-1];
var F=1;while(M[F]<A)F++;var H=V[F-1];return Q.vC.EJu(A,H.qP,H.qD,H.qt)};Q.vC.vK=function(A){var M={qP:[],qD:[],qM:[]};
for(var q=0;q<A.length;q++){M.qP[q]=A[q].v.Hrzn.v;M.qD[q]=A[q].v.Vrtc.v;M.qM[q]=A[q].v.Cnty?A[q].v.Cnty.v:!0}return M};
Q.vC.ve=function(A,M){var q=Q.vC.vK(A),V=[];Q.vC.vI(q.qP,q.qD,q.qM,V);var F=[];for(var H=0;H<M;H++)F[H]=1/255*Math.max(0,Math.min(255,Q.vC.v$(H*(255/(M-1)),q.qP,q.qD,V)));
return F};Q.vC.Elg=function(A,M,q){var V=Math.round(A.length/20),F=M-A.length,H=q?(A[V]-A[0])/V:0,w=q?A[0]-F*H:A[A.length-1],C=[];
for(var r=0;r<F;r++)C.push(w+r*H);return q?C.concat(A):A.concat(C)};Q.vC.vB=function(A,M,q){var V=Q.vC.vK(A),F=[];
Q.vC.vI(V.qP,V.qD,V.qM,F);var H=new Uint8Array(M),w=M/256;for(var C=0;C<M;C++)H[C]=Math.max(0,Math.min(M-1,Q.vC.v$(C*w,V.qP,V.qD,F)));
if(q){H[0]=0;if(H[1]>100)H[1]=.4*H[1];if(H[2]>150)H[1]=.7*H[2]}return H};Q.vC.vN=function(A,M){var q=new Uint8Array(A.length);
for(var V=0;V<A.length;V++)q[V]=M[A[V]];return q};Q.vC.vQ=function(A,M,q){var V=_.L("canvas","");V.width=M;
V.height=q;var F=V.getContext("2d"),H=Q.vC.vB(A,256);F.scale(M/255,q/255);F.fillStyle="#fff";F.fillRect(0,0,255,255);
F.fillStyle="#333";F.beginPath();F.moveTo(0,255);for(var w=0;w<H.length;w++)F.lineTo(w,255-H[w]);F.lineTo(255,255);
F.closePath();F.fill();return V.toDataURL()};Q.style={};Q.style.stroke=function(A,M,q,V){var F=q.n,H=q.J,w=new Float64Array(F*H);
Q.style.vy(A,w,F,H);Q.style.v_(M,q,w,q,V)};Q.style.v_=function(A,M,q,V,F){var H=M.vt(V),w=H.n,C=H.J;
F+=.5;var r=H.x-M.x,G=H.y-M.y,J=M.n,m=H.x-V.x,u=H.y-V.y,W=V.n;for(var y=0;y<C;y++){var O=(y+u)*W+m,h=(y+G)*J+r;
for(var I=0;I<w;I++){var Z=Math.max(0,Math.min(1,F-q[O+I]));A[h+I]=Math.round(Z*255)}}};Q.style.ElV=function(A,M,q,V){for(var F=0;
F<q;F++)for(var H=0;H<M;H++){var w=F*M+H,C=0,r=0,G=A[w];if(H==0||F==0){C=A[w+1]-G;r=A[w+M]-G}else if(H==q-1||F==M-1){C=G-A[w-1];
r=G-A[w-M]}else{C=A[w+1]-A[w-1];r=A[w+M]-A[w-M]}if(C!=0||r!=0){var J=1/Math.sqrt(C*C+r*r);C*=J;r*=J}V[w+w]=C;
V[w+w+1]=r}};Q.style.vy=function(A,M,q,V){var F=Q.style.vu(A,q,V);for(var H=0;H<V;H++)for(var w=0;w<q;
w++){var C=H*q+w,r=F[C*2],G=F[C*2+1],J=(H+G)*q+w+r;if(r==0&&G==0){M[C]=0;continue}var m=Math.sqrt(r*r+G*G),u=A[J]*(1/255),W=1/m,y=Math.abs(r)*W,O=Math.abs(G)*W;
if(O>y){var h=O;O=y;y=h}M[C]=m+Q.style.EvV(y,O,u)}};Q.style.vu=function(A,M,q){var V=!0;for(var F=0;
F<A.length;F++)V=V&&(A[F]==0||A[F]==255);var H=new Int16Array(M*q*2);if(V)Q.style.EJZ(A,H,M,q);else Q.style.ElM(A,H,M,q);
return H};Q.style.EvV=function(A,M,q){return(.5-q)*A;var V=M/A,F=0;if(q<=V)F=.5*(A+M)-Math.sqrt(2*A*M*q);
else if(q<=1-V)F=(.5-q)*A;else F=-.5*(A+M)+Math.sqrt(2*A*M*(1-q));return F};Q.style.ElM=function(A,M,q,V){var F=q*V;
for(var H=0;H<F;H++)if(A[H]==0){M[H*2]=16383;M[H*2+1]=16383}for(var w=1;w<=V-1;w++){var H=w*q;for(var C=0;
C<=q-1;C++)Q.style.vX(M,A,q,H+C<<1,-1);for(var C=1;C<=q-1;C++)Q.style.vF(M,A,q,H+C<<1,-1);for(var C=q-2;
C>=0;C--)Q.style.vF(M,A,q,H+C<<1,1)}for(var w=V-2;w>=0;w--){var H=w*q;for(var C=0;C<=q-1;C++)Q.style.vX(M,A,q,H+C<<1,1);
for(var C=1;C<=q-1;C++)Q.style.vF(M,A,q,H+C<<1,-1);for(var C=q-2;C>=0;C--)Q.style.vF(M,A,q,H+C<<1,1)}};
Q.style.vF=function(A,M,q,V,F){var H=(V>>>1)+F<<1,w=A[V],C=A[V+1],r=A[H]+F,G=A[H+1],J=r*r+G*G,m=w*w+C*C;
if(G!=16383&&(w==16383||Math.sqrt(J)+(.5-M[(V>>>1)+G*q+r]*(1/255))<Math.sqrt(m)+(.5-M[(V>>>1)+C*q+w]*(1/255)))){A[V]=r;
A[V+1]=G}};Q.style.vX=function(A,M,q,V,F){var H=(V>>>1)+F*q<<1,w=A[V],C=A[V+1],r=A[H],G=A[H+1]+F,J=r*r+G*G,m=w*w+C*C;
if(r!=16383&&(w==16383||Math.sqrt(J)+(.5-M[(V>>>1)+G*q+r]*(1/255))<Math.sqrt(m)+(.5-M[(V>>>1)+C*q+w]*(1/255)))){A[V]=r;
A[V+1]=G}};Q.style.EJZ=function(A,M,q,V){var F=q*V;for(var H=0;H<F;H++)if(A[H]==0){M[H*2]=16383;M[H*2+1]=16383}for(var w=1;
w<=V-1;w++){var H=w*q;for(var C=0;C<=q-1;C++)Q.style.Um(M,A,q,H+C<<1,-1);for(var C=1;C<=q-1;C++)Q.style.UE(M,A,q,H+C<<1,-1);
for(var C=q-2;C>=0;C--)Q.style.UE(M,A,q,H+C<<1,1)}for(var w=V-2;w>=0;w--){var H=w*q;for(var C=0;C<=q-1;
C++)Q.style.Um(M,A,q,H+C<<1,1);for(var C=1;C<=q-1;C++)Q.style.UE(M,A,q,H+C<<1,-1);for(var C=q-2;C>=0;
C--)Q.style.UE(M,A,q,H+C<<1,1)}};Q.style.UE=function(A,M,q,V,F){var H=(V>>>1)+F<<1,w=A[V],C=A[V+1],r=A[H]+F,G=A[H+1],J=r*r+G*G,m=w*w+C*C;
if(G!=16383&&(w==16383||J<m)){A[V]=r;A[V+1]=G}};Q.style.Um=function(A,M,q,V,F){var H=(V>>>1)+F*q<<1,w=A[V],C=A[V+1],r=A[H],G=A[H+1]+F,J=r*r+G*G,m=w*w+C*C;
if(r!=16383&&(w==16383||J<m)){A[V]=r;A[V+1]=G}};Q.style.EUe=function(A,M,q,V,F){var H=q*V,w=(q+V+1)*1.01;
for(var C=0;C<H;C++)if(A[C]<=F)M[C]=w;for(var r=1;r<q;r++)M[r]=Math.min(M[r],M[r-1]);for(var G=1;G<V;
G++){var C=G*q;M[C]=Math.min(M[C],Math.min(M[C-q]+1,M[C-q+1]+Math.SQRT2));for(var r=1;r<q-1;r++){var J=M[++C],m=Math.min(M[C-1]+1,Math.min(M[C-q-1]+Math.SQRT2,Math.min(M[C-q]+1,M[C-q+1]+Math.SQRT2)));
if(m<J)M[C]=m}C++;M[C]=Math.min(M[C],Math.min(M[C-1]+1,Math.min(M[C-q-1]+Math.SQRT2,M[C-q]+1)))}for(var r=q-2;
r>=0;r--)M[r+H-q]=Math.min(M[r+H-q],M[r+H-q+1]);for(var G=V-2;G>=0;G--){var C=G*q+q-1;M[C]=Math.min(M[C],Math.min(M[C+q]+1,M[C+q-1]+Math.SQRT2));
for(var r=q-2;r>=1;r--){var J=M[--C],m=Math.min(M[C+1]+1,Math.min(M[C+q-1]+Math.SQRT2,Math.min(M[C+q]+1,M[C+q+1]+Math.SQRT2)));
if(m<J)M[C]=m}C--;M[C]=Math.min(M[C],Math.min(M[C+1]+1,Math.min(M[C+q]+1,M[C+q+1]+Math.SQRT2)))}};Q.style.EzR=function(A,M,q,V,F){var H=new Int32Array(q*V);
Q.style.EJV(A,H,q,V,F);Q.style.EnG(H,M,q,V)};Q.style.EJV=function(A,M,q,V,F){var H=new Int32Array(V);
for(var w=0;w<q;w++){var C=q+V;for(var r=V-1;r>=0;r--){if(A[r*q+w]>F)C=0;else C++;H[r]=C}C=q+V;for(var r=0;
r<V;r++){if(A[r*q+w]>F)C=0;else C++;M[r*q+w]=C<H[r]?-C:H[r]}}};Q.style.EnG=function(A,M,q,V){var F=(q+V)*(q+V),H=new Float64Array(q),w=new Uint16Array(q);
for(var C=0;C<V;C++){var r=C*q,G=0;w[0]=0;H[0]=-F;H[1]=+F;for(var J=1;J<q;J++){var m=A[J+r]*A[J+r]+J*J,u=(m-(A[w[G]+r]*A[w[G]+r]+w[G]*w[G]))/(2*J-2*w[G]);
while(u<=H[G]){G--;u=(m-(A[w[G]+r]*A[w[G]+r]+w[G]*w[G]))/(2*J-2*w[G])}G++;w[G]=J;H[G]=u;H[G+1]=F}G=0;
for(var J=0;J<q;J++){while(H[G+1]<J)G++;var W=w[G]-J,y=A[w[G]+r],O=C*q+J<<1;M[O]=W;M[O+1]=y}}};Q.style.Eno=function(A,M){for(var q=0;
q<A.length;q++){var V=A[q],F;if(V<5)F=!1;else F=Q.style.Jp(q)<64+V*.5;var H=255*Math.sqrt(Math.sqrt(V/255));
A[q]=(1-M)*V+M*(F?H:0)}};Q.style.Jp=function(A){A=A^61^A>>16;A=A+(A<<3);A=A^A>>4;A=A*668265261;A=A^A>>15;
return A&255};Q.UU={};Q.UU.Ul=function(A,M,q){var V=A.canvas;if(V.width!=M||V.height!=q)_.Sc(V,M,q,A)};
Q.UU.UR=function(A,M,q,V,F,H){Q.UU.Ul(A,M,q);if(H==null)H=!1;var w=F.channel,C=F.rect,r=!F.isEnabled;
M=Math.floor(M*_.F());q=Math.floor(q*_.F());if(M*q==0)return;var G=A.createImageData(M,q),J=G.data,m=1/M,u=1/q;
for(var W=0;W<q;W++)for(var y=0;y<M;y++){var O=W*M+y,h=O*4,I=Math.round(V.x+y*m*V.n),Z=Math.round(V.y+W*u*V.J),L=0;
if(I<C.x||I>=C.x+C.n||Z<C.y||Z>=C.y+C.J)L=F.color;else L=w[(Z-C.y)*C.n+(I-C.x)];L=255*(255-F.qj)+L*F.qj>>>8;
if(H)L=170+Math.round(.4*(L-170));J[h]=L;J[h+1]=L;J[h+2]=L;J[h+3]=255}A.putImageData(G,0,0);if(r)Q.UU.Ux(A,M,q)};
Q.UU.EJg=function(A,M,q,V){A.fillStyle="#eeeeee";A.fillRect(.6*M,.6*q,M,q);A.lineWidth=1.5;var F=.65*M,H=.95*M,w=.65*q,C=.95*q,r=.75*M,G=.85*M,J=.75*q,m=.85*q;
A.beginPath();A.moveTo(F,w);A.lineTo(H,w);A.lineTo(H,C);A.lineTo(F,C);A.lineTo(F,w);A.moveTo(r,J);A.lineTo(G,J);
A.lineTo(G,m);A.lineTo(r,m);A.lineTo(r,J);A.closePath();A.stroke()};Q.UU.Evl=function(A,M,q){var V,F,H;
M=Math.floor(_.F()*M);q=Math.floor(_.F()*q);V=Math.ceil(Math.min(M,q)*.4);F=M-V;H=q-V;A.scale(1/_.F(),1/_.F());
A.fillStyle="#eeeeee";A.fillRect(F,H,M,q);A.lineWidth=1;A.strokeRect(F+2.5,H+2.5,M-F-5,q-H-5);var w=A.createImageData(3,3);
Q.mh(w.data,4278190080);w.data[4*4]=w.data[4*4+1]=w.data[4*4+2]=238;A.putImageData(w,F+1,H+1);A.putImageData(w,M-4,H+1);
A.putImageData(w,F+1,q-4);A.putImageData(w,M-4,q-4)};Q.UU.UW=function(A,M,q,V,F,H,w){Q.UU.Ul(A,M,q);
M=Math.floor(M*_.F());q=Math.floor(q*_.F());if(M*q==0)return;var C=A.createImageData(M,q),r=C.data,G=1/M,J=1/q,m=1/255;
Q.Ei(r,M,q,4);var u=H.x,W=H.x+H.n,y=H.y,O=H.y+H.J;for(var h=0;h<q;h++)for(var I=0;I<M;I++){var Z=h*M+I,L=Z*4,Y=Math.round(V.x+I*G*V.n),B=Math.round(V.y+h*J*V.J);
if(Y<u||Y>=W||B<y||B>=O){}else{var X=r[L],E=r[L+1],c=r[L+2],o=r[L+3],s=(B-H.y)*H.n+(Y-H.x)<<2;o=F[s+3]*m;
X=F[s+0]*o+X*(1-o);E=F[s+1]*o+E*(1-o);c=F[s+2]*o+c*(1-o);r[L]=X;r[L+1]=E;r[L+2]=c;r[L+3]=255}}A.putImageData(C,0,0);
if(w)Q.UU.Ux(A,M,q)};Q.UU.Enp=function(A,M,q,V){Q.UU.Ul(A,M,q);A.fillStyle=Q.UU.GD(V.Clr.v);A.fillRect(0,0,M,q);
Q.UU.Up(A,M,q)};Q.UU.EJc=function(A,M,q,V){Q.UU.Ul(A,M,q);A.fillStyle="#ffffff";A.fillRect(0,0,M,q);
A.fillStyle="#000000";A.font=""+q*.7+"px serif";A.fillText("T",(M-q*.43)/2,q*.75);A.fillText("T",(M-q*.43)/2,q*.75)};
Q.UU.ElC=function(A,M,q){Q.UU.Ul(A,M,q);A.clearRect(0,0,M,q);A.font=q*.7+"px serif";A.fillText(":(",(M-q*.43)/2,q*.7)};
Q.UU.EvJ=function(A,M,q,V){Q.UU.Ul(A,M,q);var F=zG.get(V),H=zJ.get(zG.names[F]).substring(0,3);A.fillStyle="#ffffff";
A.fillRect(0,0,M,q);A.fillStyle="#000000";A.font=q*.55+"px sans-serif";var w=A.measureText(H);A.fillText(H,(M-w.width)/2,q*.67);
A.fillRect(0,0,M,q*.1);A.fillRect(0,q*.9,M,q*.1)};Q.UU.EJs=function(A,M,q,V){Q.UU.Ul(A,M,q);var F=A.canvas.width,H=A.canvas.height,w=A.getImageData(0,0,F,H);
Q.r.Gf(V.Grad.v,new Uint8Array(w.data.buffer),new U(0,0,F,H),[1/F,0,0,1/H],F/2,H/2,!1,0,16711680,65280);
A.putImageData(w,0,0);Q.UU.Up(A,M,q)};Q.UU.Enb=function(A,M,q,V,F){Q.UU.Ul(A,M,q);var H=A,w=Ez.ax(V.Ptrn.v,F.add.Patt),C=w.qa;
Q.UU.UW(A,M,q,C,w.ej,C,!1);Q.UU.Up(H,M,q)};Q.UU.Ux=function(A,M,q){A.strokeStyle="#bb0000";A.lineWidth=3;
A.beginPath();A.moveTo(M*.15,q*.15);A.lineTo(M*.85,q*.85);A.moveTo(M*.85,q*.15);A.lineTo(M*.15,q*.85);
A.closePath();A.stroke()};Q.UU.Ux=function(A,M,q){A.strokeStyle="#bb0000";A.lineWidth=3;A.beginPath();
A.moveTo(M*.15,q*.15);A.lineTo(M*.85,q*.85);A.moveTo(M*.85,q*.15);A.lineTo(M*.15,q*.85);A.closePath();
A.stroke()};Q.UU.Up=function(A,M,q){A.fillStyle="#eeeeee";A.fillRect(0,q*.75,M,q*.25);A.beginPath();
A.moveTo(0,q*.75);A.lineTo(M,q*.75);A.moveTo(M*.1,q*.875);A.lineTo(M*.9,q*.875);A.moveTo(M*.65,q*.825);
A.lineTo(M*.65,q*.95);A.closePath();A.stroke()};Q.UU.GD=function(A){var M=Q.r.GD(A),q=Math.round(M.e)<<16|Math.round(M.g)<<8|Math.round(M.$);
return"#"+Q.EI(q)};Q.m={};Q.m.UP=function(A,M,q){var V=[],F=-1;for(var H=0;H<A.length;H++){var w=A[H];
if((w.type==0||w.type==3)&&w.qz!=-1)F++;if(w.type>5||w.type==0||w.type==3)continue;if(M!=null&&M.indexOf(F)==-1)continue;
if(q!=null&&q.indexOf(H)==-1)continue;V.push(w.qo.x);V.push(w.qo.y);V.push(w.s.x);V.push(w.s.y);V.push(w.qU.x);
V.push(w.qU.y)}return V};Q.m.UD=function(A,M,q,V){var F=0,H=-1;for(var w=0;w<M.length;w++){var C=M[w];
if((C.type==0||C.type==3)&&C.qz!=-1)H++;if(C.type>5||C.type==0||C.type==3)continue;if(q!=null&&q.indexOf(H)==-1)continue;
if(V!=null&&V.indexOf(w)==-1)continue;C.qo.HT(A[F],A[F+1]);C.s.HT(A[F+2],A[F+3]);C.qU.HT(A[F+4],A[F+5]);
F+=6}};Q.m.Ut=function(A,M,q,V){var F=Q.m.UP(A,q,V);Q.O.oC(F,M,F);Q.m.UD(F,A,q,V)};Q.m.EJv=function(A,M,q,V){var F=Q.m.UP(A,q,V);
Q.GG.apply(M,F);Q.m.UD(F,A,q,V)};Q.m.EGd=function(A,M){var q=Q.m.EJn(A,40);for(var V=0;V<q.length;V++)A[V]=q[V];
var F=Q.m.UP(A);Q.h.apply(M,F,Q.O.GB(F));Q.m.UD(F,A)};Q.m.EJn=function(A,M){var q=[];for(var V=0;V<A.length;
V++){var F=A[V];if(F.type>5){q.push(JSON.parse(JSON.stringify(F)));continue}var H=Q.m.ERn(A,V+1,F.length);
H=Q.O.oY(H,M);var w=Q.m.EmN(H);V+=F.length;F=JSON.parse(JSON.stringify(F));F.length=w.length;q.push(F);
for(var C=0;C<w.length;C++)q.push(w[C])}return q};Q.m.ERn=function(A,M,q){var V={qm:["M"],G:[]},F=A[M],H=A[M+q-1];
V.G.push(F.s.x,F.s.y);for(var w=1;w<q;w++){var C=A[M+w-1],r=A[M+w];V.qm.push("C");V.G.push(C.qU.x,C.qU.y,r.qo.x,r.qo.y,r.s.x,r.s.y)}V.qm.push("C");
V.G.push(H.qU.x,H.qU.y,F.qo.x,F.qo.y,F.s.x,F.s.y);return V};Q.m.EmN=function(A){var M=[],q=A.qm,V=A.G,F=0,H=V.length;
M.push({type:2,qo:new f(V[H-4],V[H-3]),s:new f(V[0],V[1]),qU:new f(V[2],V[3])});for(var w=0;w<q.length-2;
w++){var C=w*6+4;M.push({type:2,qo:new f(V[C],V[C+1]),s:new f(V[C+2],V[C+3]),qU:new f(V[C+4],V[C+5])})}return M};
Q.m.EmB=function(A){for(var M=0;M<A.length;M++){if(A[M].type>5)continue;var q=A[M].length;if(!(q==4||q==6||q==8)){M+=q;
continue}for(var V=0;V<q;V++){var F=A[M+1+V],H=A[M+1+(V+1)%q],w=Math.min(F.s.x,H.s.x),C=Math.min(F.s.y,H.s.y),r=0,G=0;
if(F.s.x<H.s.x){r=F.s.y-C;G=r-(H.s.x-w)}else{r=H.s.y-C;G=r-(F.s.x-w)}if(Math.abs(G)<.2*r)return r}}return-1};
Q.m.Uk=function(A,M){var q=null,V=-1;for(var F=0;F<A.length;F++){if(A[F].type>5)continue;var H=A[F].length;
if((A[F].type==0||A[F].type==3)&&A[F].qz!=-1)V++;if(M!=null&&M.indexOf(V)==-1)continue;if(F==A.length-1)break;
var w=A[F].type==3;if(q==null)q=Q.m.UL(A,F+1,H,w);else{var C=Q.m.UL(A,F+1,H,w);if(M!=null||A[F].qz==0||A[F].qz==-1||A[F].qz==1){var r=Math.min(q.x,C.x),G=Math.min(q.y,C.y),J=Math.max(q.x+q.n,C.x+C.n),m=Math.max(q.y+q.J,C.y+C.J);
q.x=r;q.y=G;q.n=J-r;q.J=m-G}else if(A[F].qz==2)q=q;else if(A[F].qz==3)q=q.vt(C)}F+=H}if(q==null||q.n<0||q.J<0)q=new U(0,0,0,0);
return q};Q.m.EEr=new Float64Array(4);Q.m.UL=function(A,M,q,V){var F=Q.m.EEr;F[0]=1e30;F[1]=1e30;F[2]=-1e30;
F[3]=-1e30;var H=A[M+q-1];if(!V)Q.m.UZ(H.s.x,H.s.y,H.qU.x,H.qU.y,A[M].qo.x,A[M].qo.y,A[M].s.x,A[M].s.y,F);
for(var w=M;w<M+q-1;w++){var C=A[w],r=A[w+1];if(C.s.mg(C.qU)&&r.qo.mg(r.s)){F[0]=Math.min(F[0],Math.min(C.s.x,r.s.x));
F[1]=Math.min(F[1],Math.min(C.s.y,r.s.y));F[2]=Math.max(F[2],Math.max(C.s.x,r.s.x));F[3]=Math.max(F[3],Math.max(C.s.y,r.s.y))}else Q.m.UZ(C.s.x,C.s.y,C.qU.x,C.qU.y,r.qo.x,r.qo.y,r.s.x,r.s.y,F)}return new U(F[0],F[1],F[2]-F[0],F[3]-F[1])};
Q.m.UZ=function(A,M,q,V,F,H,w,C,r){var G=1e30,J=1e30,m=-1e30,u=-1e30,W=40,y=q-A,O=V-M,h=F-q,I=H-V,Z=w-F,L=C-H,Y=1/W;
for(var B=0;B<W+1;B++){var X=B*Y,E=A+X*y,c=M+X*O,o=q+X*h,s=V+X*I,z=F+X*Z,k=H+X*L,b=E+X*(o-E),T=c+X*(s-c),l=o+X*(z-o),$=s+X*(k-s),e=b+X*(l-b),i=T+X*($-T);
if(e<G)G=e;if(i<J)J=i;if(e>m)m=e;if(i>u)u=i}r[0]=Math.min(r[0],G);r[1]=Math.min(r[1],J);r[2]=Math.max(r[2],m);
r[3]=Math.max(r[3],u)};Q.m.UY=function(A){Q.m.U$();var M=new paper.CompoundPath(A),q=Q.m.Ud(M);return q};
Q.m.Ui=function(A){var M=2,q=Q.m.U_(A),V=!1,F=!1;for(var H=2;H<A.length;H++){var w=A[H].qz;if(w!=null){if(w==2||w==0)V=!0;
if(w==-1)F=!0}}if(F){var C=Q.O.oM(A);return{qV:Typr.U.pathToSVG({crds:C.G,cmds:C.qm},M),qC:V?1:0}}if(V&&A.length<5e3&&q>1)A=Q.m.UI(A);
var r=Q.m.UO(A),C=new paper.CompoundPath({fillRule:"nonzero"});for(var H=0;H<r.length;H++){var G=r[H][0],J=r[H][1];
if(!V){if(G.clockwise)G.reverse()}C.addChild(G)}return{qV:C.exportSVG({precision:M}).getAttribute("d"),qC:0}};
Q.m.UI=function(A){Q.m.U$();var M,q=Q.m.UO(A),V=[];for(var F=0;F<q.length;F++){var H=q[F][0],w=q[F][1];
if(Math.abs(H.area)<1e-5)V.push(H);else if(M==null)M=H;else{M=M[w](H);M.remove()}}if(M==null)M=new paper.CompoundPath(V);
else{if(M.segments)M=new paper.CompoundPath(M);for(var F=0;F<V.length;F++){M.children.push(V[F])}}var C=A.slice(0,2);
C=C.concat(Q.m.Ud(M));return C};Q.m.U$=function(){if(Q.m.qS==null){var A=_.L("canvas");paper.setup(A);
Q.m.qS=!0}};Q.m.ERL=function(A,M){Q.m.U$();var q=[],V=Q.m.UO(A),F=new paper.Path.Rectangle(new paper.Rectangle(M.x,M.y,M.n,M.J));
F.remove();F.fillColor=new paper.Color(1,0,0);for(var H=0;H<V.length;H++)if(F.intersects(V[H][0])||F.contains(V[H][0].segments[0].point))q.push(H);
return q};Q.m.Jm=function(A,M,q,V){Q.m.U$();var F=q?{curves:!0,tolerance:V}:null,H=new paper.Point(M.x,M.y),w=Q.m.UO(A);
for(var C=w.length-1;C>=0;C--){var r=w[C][0],G=r.hitTest(H,F);if(G!=null)return{eE:C,qk:q?G.location.index:null}}return{eE:-1}};
Q.m.Ue=function(A,M){var q=[[],[],[]];for(var V=0;V<A.length;V++){var F=A[V];if(F.type>5||F.type==0||F.type==3)continue;
if(M.hH(F.s))q[0].push(V);if(M.hH(F.qo))q[1].push(V);if(M.hH(F.qU))q[2].push(V)}return q};Q.m.EoY=function(A,M){var q=A.slice(0,2),V=null;
for(var F=2;F<A.length;F++){if(A[F].type==0||A[F].type==3){if(V!=null&&V.length==0){q.pop();if(A[F].qz==-1)A[F].qz=V.qz}V=A[F];
q.push(V)}else{if(M.indexOf(F)==-1)q.push(A[F]);else V.length--}}return q};Q.m.EoZ=function(A,M){var q=A.slice(0,2),V=-1;
for(var F=2;F<A.length;F++){if((A[F].type==0||A[F].type==3)&&A[F].qz!=-1)V++;if(M.indexOf(V)==-1)q.push(A[F])}return q};
Q.m.EEC=function(A,M){var q=A.slice(0,2),V=-1;for(var F=2;F<A.length;F++){if((A[F].type==0||A[F].type==3)&&A[F].qz!=-1)V++;
if(M.indexOf(V)!=-1)q.push(A[F])}return q};Q.m.EGb=function(A){var M=0;for(var q=0;q<A.length;q++)if(A[q].type==0||A[q].type==3)M=q;
return A[M]};Q.m.U_=function(A){var M=-1;for(var q=0;q<A.length;q++)if((A[q].type==0||A[q].type==3)&&A[q].qz!=-1)M++;
return M+1};Q.m.Uw=function(A,M){var q=-1;for(var V=0;V<A.length;V++)if((A[V].type==0||A[V].type==3)&&A[V].qz!=-1){q++;
if(q==M)return V}return-1};Q.m.EEy=function(A,M){var q=-1;for(var V=0;V<A.length;V++)if((A[V].type==0||A[V].type==3)&&A[V].qz!=-1){if(V>=M)return q;
q++}return q};Q.m.EEd=function(A,M){var q=-1,V=0;for(var F=0;F<A.length;F++){if((A[F].type==0||A[F].type==3)&&A[F].qz!=-1)q++;
if(q==M)V++}return V};Q.m.Ud=function(A){var M=A.segments?[A]:A.children,q=[];for(var V=0;V<M.length;
V++){var F=M[V],H=F.segments,w=F.closed?0:3,C=q.length,r=null;if(H.length<=1)continue;q.push({type:w,length:H.length,qz:0,qG:2});
for(var G=0;G<H.length;G++){var J=H[G],m=new f(J.handleIn.x,J.handleIn.y),u=new f(J.handleOut.x,J.handleOut.y),W=new f(J.point.x,J.point.y),y={type:w+1,qo:W.add(m),s:W,qU:W.add(u)};
if(r==null)r=y;q.push(y);if(G+1==H.length&&f.Hc(r.s,y.s)<1e-5){q.pop();q[C].length--;r.qo=y.qo;if(w==3)for(var O=C;
O<q.length;O++)q[O].type-=3}}}return q};Q.m.UO=function(A){Q.m.U$();var M=[],q,V=new paper.Color(1,0,0);
for(var F=0;F<A.length;F++){if(A[F].type>5)continue;var H=A[F].length,w;if(F==A.length-1)break;var C=A[F].type==3;
if(F==2){if(!Q.m.ln(A))w="subtract";else w="unite"}else{if(A[F].qz==0)w="exclude";if(A[F].qz==1)w="unite";
if(A[F].qz==2)w="subtract";if(A[F].qz==3)w="intersect"}if(A[F].qz!=-1)q=[];for(var r=0;r<H;r++){var G=A[F+1+r],J=G.qo.Hs(G.s),m=G.qU.Hs(G.s);
q.push([[G.s.x,G.s.y],[J.x,J.y],[m.x,m.y]])}if(A[F+1+H]==null||A[F+1+H].qz!=-1){var u=new paper.Path(q);
u.remove();u.closed=!C;u.fillRule="evenodd";u.fillColor=V;M.push([u,w])}F+=H}return M};Q.m.Ezj=function(A){for(var M=0;
M<A.length;M++){var q=A[M];if(q.s==null)continue;if(!q.s.mg(q.qo)||!q.s.mg(q.qU))return!1}return!0};
Q.m.EUj=function(A){if(A.length<=5)return 0;var M=0,q=A.length-3-1;for(var V=0;V<q;V++){var F=A[3+V],H=A[3+V+1];
if(F.type==0||H.type==0)return 0;M+=(H.s.x-F.s.x)*(F.s.y+H.s.y)}M+=(A[3].s.x-A[3+q].s.x)*(A[3+q].s.y+A[3+1].s.y);
return-M*.5};Q.m.ln=function(A){if(A.length==2)return A[1].all==0;var M=A[2];if(A[1].all==1){if(M.qz==1||M.qz==3)return!0;
return!1}else{if(M.qz==1||M.qz==3||M.qz==0)return!0;return!1}};Q.m.Emf=0;Q.m.lm=0;Q.m.Ezw=0;Q.m.Emj=function(A,M,q,V){var F=Q.EZ,H=Q.B;
F.width=q.n;F.height=q.J;if(!Q.m.ln(A))H.fillRect(0,0,q.n,q.J);var w=q.X();Q.m.Emf+=w;if(w>Q.m.lm){Q.m.lm=w}if(V!=null){var C=!1;
for(var r=0;r<A.length;r++)if(A[r].qz==-1)C=!0;if(!C)A=Q.m.UI(A)}var G=Q.m.U_(A);for(var r=0;r<A.length;
r++){if(A[r].type>5)continue;var J=A[r].length;if(J==0)continue;if(r==A.length-1)break;var m=A[r].type==3;
if(r==2){if(!Q.m.ln(A))H.globalCompositeOperation="destination-out";else H.globalCompositeOperation="source-over"}else{var u;
if(A[r].qz==0)u="xor";if(A[r].qz==1)u="source-over";if(A[r].qz==2)u="destination-out";if(A[r].qz==3)u="source-in";
if(A[r].qz!=-1&&V==null)H.globalCompositeOperation=u}if(A[r].qz!=-1){H.beginPath();if(V){var W=V.strokeStyleLineWidth.v.val,y=V.strokeStyleLineAlignment.v.strokeStyleLineAlignment,O=V.strokeStyleLineCapType.v.strokeStyleLineCapType,h=V.strokeStyleLineJoinType.v.strokeStyleLineJoinType,I=V.strokeStyleMiterLimit.v,Z=[],L=V.strokeStyleLineDashSet.v;
for(var Y=0;Y<L.length;Y++)Z.push(L[Y].v.val*W);H.setLineDash(Z);H.lineCap=["butt","round","square"][j.az.aG.indexOf(O)];
H.lineJoin=["miter","round","bevel"][j.az.join.indexOf(h)];H.lineWidth=j.az.ao.indexOf(y)==1?W:W*=2;
H.miterLimit=I}}Q.m.EoV(H,A,r+1,J,-q.x,-q.y,m);if(m){}else H.closePath();if(A[r+1+J]==null||A[r+1+J].qz!=-1){if(V)H.stroke();
else H.fill("evenodd")}r+=J}if(q.zZ())return;var B=H.getImageData(0,0,q.n,q.J);Q.mH(B.data,M,3)};Q.m.EoV=function(A,M,q,V,F,H,w){var C=M[q],r=null;
A.moveTo(C.s.x+F,C.s.y+H);for(var G=q;G<q+V-1;G++){C=M[G];r=M[G+1];A.bezierCurveTo(C.qU.x+F,C.qU.y+H,r.qo.x+F,r.qo.y+H,r.s.x+F,r.s.y+H)}if(!w){C=M[G];
r=M[q];A.bezierCurveTo(C.qU.x+F,C.qU.y+H,r.qo.x+F,r.qo.y+H,r.s.x+F,r.s.y+H)}};Q.m.lo=function(A,M,q){var V=[],F=q?4:1,H=!1;
if(M!=null)for(var w=0;w<M.length;w++)if(M[w]!=0){H=!0;break}if(M!=null&&H){var C=Q.O.EGs(A,M),r=C.length/6;
for(var w=0;w<r;w++){var G=w*6,J=(w-1+r)%r*6,m=C[G],u=C[G+1],W=C[G+2],y=C[G+3],O=C[J+4],h=C[J+5];V.push({type:F,qo:new f(O,h),s:new f(m,u),qU:new f(W,y)})}}else{for(var w=0;
w<A.length;w+=2){var I=new f(A[w],A[w+1]);V.push({type:F,qo:I.clone(),s:I.clone(),qU:I.clone()})}}return V};
Q.m.EEQ=function(A,M){Q.m.U$();var q=new paper.Path;q.remove();var V=A.length-1,F=Math.sqrt((A[V-1]-A[0])*(A[V-1]-A[0])+(A[V]-A[1])*(A[V]-A[1]))<3;
q.closed=F;for(var H=0;H<A.length;H+=2)q.add(new paper.Point(A[H],A[H+1]));q.simplify(M);var w=[{type:6},{type:8,all:0}];
w=w.concat(Q.m.Ud(q));return w};Q.m.lU={};Q.m.lU.ll=function(A,M,q){var V=[{type:6},{type:8,all:0}],F=null;
V.push({type:q?3:0,qz:1,length:0,qb:0,qL:0,qG:1});if(M!=0){F=[];for(var H=0;H<A.length;H+=2)F.push(M)}V=V.concat(Q.m.lo(A,F,q));
V[2].length=V.length-3;return V};Q.m.lU.EEN=function(A,M,q,V,F){var H=[],w=[],C=.553,r=1,G=-1;H.push({type:1,qo:new f(0,C),s:new f(0,0),qU:new f(0,-C)});
F+=2;for(var J=0;J<F;J++){var m={type:1};if(J==0){m.s=new f(1,-1);m.qo=new f(1-C,-1);m.qU=new f(1+C,-1)}else{var u=-(J+2)*Math.PI/2,W=1+((J&1)==1?J-1:J),y=Math.sin(u),O=Math.cos(u);
r+=W*(y-O);G+=W*(O+y);m.s=new f(r,G);m.qo=new f(r+W*O*C,G-W*y*C);if((J&1)==1)W+=2;m.qU=new f(r-W*O*C,G+W*y*C)}var h={type:1,qo:new f(-m.qU.x,-m.qU.y),s:new f(-m.s.x,-m.s.y),qU:new f(-m.qo.x,-m.qo.y)};
H.push(m);if(J<F-2)w.push(h)}w.reverse();H=H.concat(w);var I=[{type:6},{type:8,all:0}];I.push({type:0,qz:1,length:H.length,qb:0,qL:0,qG:1});
I=I.concat(H);var Z=new zo(q/F,0,0,q/F,0,0);Z.rotate(V);Z.translate(A,M);Q.m.Ut(I,Z);return I};Q.m.lU.Rect=function(A,M,q,V,F){var H=[A,M,A+q,M,A+q,M+V,A,M+V];
return Q.m.lU.ll(H,F)};Q.m.lU.EEB=function(A,M,q,V,F,H){var w=[],C=2*Math.PI/F;for(var r=0;r<F;r++)w.push(Math.cos(r*C),Math.sin(r*C));
var G=new zo(q,0,0,q,0,0);G.rotate(V);G.translate(A,M);Q.O.oC(w,G,w);return Q.m.lU.ll(w,H)};Q.m.lU.EEq=function(A,M,q,V,F,H,w){var C=[],r=Math.PI/F;
for(var G=0;G<F*2;G++){var J=(G&1)==0?1:w;C.push(J*Math.cos(G*r),J*Math.sin(G*r))}var m=new zo(q,0,0,q,0,0);
m.rotate(V);m.translate(A,M);Q.O.oC(C,m,C);return Q.m.lU.ll(C,H)};Q.m.lU.lW=function(A,M,q,V,F){var H=Math.sqrt((q-A)*(q-A)+(V-M)*(V-M));
F/=2;var w=[-F,0,F,0,F,H,-F,H],C=new zo(1,0,0,1,0,0);C.rotate(Math.atan2(-V+M,q-A)+Math.PI/2);C.translate(A,M);
Q.O.oC(w,C,w);return Q.m.lU.ll(w,0)};Q.m.lU.lh=function(A,M,q,V){var F=[{type:6},{type:8,all:0}],m=.553;
F.push({type:0,qz:1,length:4,qb:0,qL:0,qG:1});var H=A,w=M,C=A+q,r=M+V,A=(H+C)/2,M=(w+r)/2,G=(H-C)/2,J=(w-r)/2;
F.push({type:1,qo:new f(A-m*G,M-J),s:new f(A,M-J),qU:new f(A+m*G,M-J)});F.push({type:1,qo:new f(A+G,M-m*J),s:new f(A+G,M),qU:new f(A+G,M+m*J)});
F.push({type:1,qo:new f(A+m*G,M+J),s:new f(A,M+J),qU:new f(A-m*G,M+J)});F.push({type:1,qo:new f(A-G,M+m*J),s:new f(A-G,M),qU:new f(A-G,M-m*J)});
return F};Q.m.lU.EzF=function(A,M,q,V,F){var H=[{type:6},{type:8,all:0}];H.push({type:3,qz:1,length:5,qb:0,qL:0,qG:1});
var w=Math.min(V,F),C=Math.max(V,F),r=(C-w)/4,G=Math.cos(r/2),J=Math.sin(r/2),m=(4-G)/3,u=(1-G)*(3-G)/(3*J),W=m,y=-u,O=G,h=-J,I=new f(G,J),Z=new f(m,u),L=new f(W,y),Y=new f(O,h),B=new zo;
B.rotate(r);H.push({type:4,qo:I.clone(),s:I.clone(),qU:Z.clone()});H.push({type:4,qo:L.clone(),s:Y.clone(),qU:Y.clone()});
for(var X=0;X<3;X++){I=B.Ht(I);Z=B.Ht(Z);L=B.Ht(L);Y=B.Ht(Y);H[H.length-1].qU=Z;H.push({type:4,qo:L.clone(),s:Y.clone(),qU:Y.clone()})}B.rotate(-Math.PI/2-r/2);
B.concat(new zo(q,0,0,q,A,M));Q.m.Ut(H,B);return H};Q.ls={};Q.ls.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
Q.ls.lc=function(A){var M=A.warpStyle.v.warpStyle;if(M=="warpNone")return!0;else if(M=="warpCustom"){var q=!1,V=A.customEnvelopeWarp.v.meshPoints.v.arr,F=V[0].arr,H=V[1].arr;
for(var w=0;w<4;w++)for(var C=0;C<4;C++)if(F[w]!=F[C*4+w]||H[w*4]!=H[w*4+C])q=!0;return!q}else return A.warpValue.v==0&&A.warpPerspective.v==0&&A.warpPerspectiveOther.v==0};
Q.ls.b=function(A){var M={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(A){M.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:A.y}},Left:{t:"UntF",v:{type:"#Pxl",val:A.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:A.y+A.J}},Rght:{t:"UntF",v:{type:"#Pxl",val:A.x+A.n}}}};
M.uOrder={t:"long",v:4};M.vOrder={t:"long",v:4}}return M};Q.ls.EEK=function(A,M,q,V){for(var F=0;F<A.length;
F+=2){var H=A[F],w=A[F+1],C=(H-M.x)/M.n,r=(w-M.y)/M.J,G=(1-q)/2,J=1-G,m=G+C*(J-G);r=.5+(r-.5)*m*2;var u=(1-V)/2,W=1-u,y=u+r*(W-u);
C=.5+(C-.5)*y*2;H=M.x+C*M.n;w=M.y+r*M.J;A[F]=H;A[F+1]=w}};Q.ls.lg=function(A,M){var q=[],V=[];for(var F=0;
F<A.length;F+=2){q.push(A[F]);V.push(A[F+1])}var H=[];H.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:q});
H.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:V});M.warpStyle.v.warpStyle="warpCustom";M.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:H}}}}};
Q.ls.lx=function(A,M){if(M==null){var q=A.bounds.v,V=q.Left.v.val,F=q.Rght.v.val,H=q.Top.v.val,w=q.Btom.v.val;
M=new U(V,H,F-V,w-H)}if(M.zZ())M.n=M.J=1;var C=[],r=A.warpStyle.v.warpStyle;if(r=="warpCustom"){var G=A.customEnvelopeWarp.v.meshPoints.v.arr,J=G[0].arr,m=G[1].arr;
for(var u=0;u<16;u++)C.push(J[u],m[u])}else C=Q.ls.ls(M,r,A.warpRotate.v.Ornt=="Hrzn",A.warpValue.v/100,A.warpPerspective.v/100,A.warpPerspectiveOther.v/100);
return C};Q.ls.ls=function(A,M,q,V,F,H){var w=Q.h.b(A.x,A.y,A.n,A.J);if(M=="warpNone")return w;var C=JSON.parse(JSON.stringify(A)),r=new zo;
if(!q){r.translate(-A.x,-A.y);r.rotate(-Math.PI/2);r.translate(A.J,0);Q.O.oC(w,r,w);A=new U(0,0,A.J,A.n);
w=Q.h.zH(w,!1)}Q.ls.EGj(w,A,M,V,F,H);if(!q){w=Q.h.zH(w,!0);A=C;r.mx();Q.O.oC(w,r,w)}if(V==0)Q.ls.EEK(w,A,F,H);
else{var r=new zo(1/A.n,0,0,1/A.J,-A.x,-A.y);r.translate(-.5,-.5);Q.O.oC(w,r,w);Q.ls.EGD(w,H,F);r.mx();
Q.O.oC(w,r,w)}return w};Q.ls.EGj=function(A,M,q,V,F,H){for(var w=0;w<4;w++){for(var C=0;C<4;C++){var r=2*(4*w+C),G=A[r]-M.x,J=A[r+1]-M.y,m=G,u=J;
if(V!=0){var W=M.n/2,y=M.J/2;m-=W;u-=y;var O=m,h=m,I=-y,Z=y,L=Math.abs(V),Y=Math.tan((1-L)*Math.PI/2),B=Math.sqrt(Y*Y+1),X=Math.atan2(1,Y),E=m/W*X,c=W*B,o=W*B+M.J,s=Math.cos(X),z=Math.sin(X),k=Q.ls.EUY(s,z),b=Q.ls.EES(s,z),T=-Y*W+k*c;
if(q=="warpArc"){O=Math.sin(E)*o;I=Y*W-Math.cos(X)*o+y;h=Math.sin(E)*c;Z=Y*W-Math.cos(X)*c+y;if(C==1||C==2){O=C==1?-b*o:b*o;
h=C==1?-b*c:b*c;I=Y*W+y-k*o;Z=Y*W+y-k*c}if(V<0){var l=O;O=h;h=l;l=I;I=-Z;Z=-l}}if(q=="warpArcLower"){if(C==1||C==2){h=C==1?-b*c:b*c;
Z=V<0?y-T:y+T}}if(q=="warpArcUpper"||q=="warpArch"||q=="warpBulge"){if(C==1||C==2){O=C==1?-b*c:b*c;I=V<0?-y+T:-y-T}if(q=="warpArch"){h=O;
Z=I+2*y}if(q=="warpBulge"){h=O;Z=-I}}if(q=="warpFish"||q=="warpFlag"||q=="warpWave"){if(C==1){I-=V*4*y;
Z+=V*4*y}if(C==2){I+=V*4*y;Z-=V*4*y}if(q=="warpFlag"||q=="warpWave")I=Z-2*y}if(q=="warpRise"){if(C<2)I=-y+V*y*4;
Z=I+2*y}var $=(u+y)/M.J;m=O+$*(h-O);u=I+$*(Z-I);if(q=="warpWave"){if(w==0)u=-y;if(w==3)u=y;if(w==1||w==2)u=2*y*(w/3-.5)*(1/3)+u*(2/3)}if(q=="warpFisheye"){if((w==1||w==2)&&(C==1||C==2)){m=m+4*m*V;
u=u+4*u*V}}if(q=="warpInflate"){var e=2/3;if((w==1||w==2)&&(C==1||C==2)){m=m+.5*m*V;u=u+.5*u*V}else if(w==1||w==2)m=m+e*m*V;
else if(C==1||C==2)u=u+e*u*V}if(q=="warpSqueeze"){var e=2/3;if((w==1||w==2)&&(C==1||C==2)){if(V>0)m=m-e*m*V;
else u=u+e*u*V}else if(w==1||w==2)m=m-e*m*V;else if(C==1||C==2)u=u+e*u*V}if(q=="warpTwist"){if((w==1||w==2)&&(C==1||C==2)){var i=V*Math.PI/2,B=1+Math.abs(V)*2,g=m*Math.cos(i)-u*Math.sin(i),P=m*Math.sin(i)+u*Math.cos(i);
m=g*B;u=P*B}}if(q=="warpShellLower"||q=="warpShellUpper"){if(q=="warpShellUpper"){w=3-w;u=-u}if(w>2||w==2&&(C==0||C==3)){if(V>0){var n=c+w/3*2*y;
m=Math.sin(E)*n;u=-Y*W-y+Math.cos(E)*n;if(C==1||C==2){m=C==1?-b*n:b*n;u=-Y*W-y+k*n}}else{if((C==1||C==2)&&w==3){m=C==1?-b*c:b*c;
u=Y*W-k*c+y}else if(w==2){u=y-y*(2/3)*Math.cos(E);m=m+y*(2/3)*Math.sin(E)}}}if(q=="warpShellUpper"){w=3-w;
u=-u}}m+=W;u+=y}G=m,J=u;A[r]=G+M.x;A[r+1]=J+M.y}}};Q.ls.EGD=function(A,M,q){var V=[];for(var F=0;F<4;
F++)V.push(1-q+F/3*2*q);var H=[];for(var F=0;F<4;F++)H.push(1-M+F/3*2*M);var w=[0,0,0,0],C=[0,0,0,0];
for(var r=0;r<4;r++)for(var F=0;F<4;F++){var G=2*(4*r+F),J=A[G],m=A[G+1];w[F]+=J/4;C[F]+=m/4}for(var r=0;
r<4;r++)for(var F=0;F<4;F++){var u=V[F],G=2*(4*r+F),J=A[G],m=A[G+1],W=w[F],y=C[F];A[G]=W+u*(J-W);A[G+1]=y+u*(m-y)}var O=A.slice(0);
for(var r=0;r<4;r++)for(var F=1;F<3;F++){var G=2*(4*r+F),J=A[G],m=A[G+1],h=G+(F==1?-2:2),I=A[h],Z=A[h+1];
A[G]=J-I;A[G+1]=m-Z}var L=A[0],Y=A[1],B=A[8],X=A[9],E=A[16],c=A[17],o=A[24],s=A[25],z=A[6],k=A[7],b=A[14],T=A[15],l=A[22],$=A[23],e=A[30],i=A[31],g=z-L,P=k-Y,n=b-B,p=T-X,t=l-E,x=$-c,D=e-o,Gp=i-s;
for(var r=0;r<4;r++){var zY=2*r*4,zi=0,zI=0,z$=r==1?.33:.66,zK=1-z$;if(r==0){zi=g;zI=P}if(r==1){zi=zK*g+z$*-D;
zI=zK*P+z$*-Gp}if(r==2){zi=zK*g+z$*-D;zI=zK*P+z$*-Gp}if(r==3){zi=-D;zI=-Gp}A[zY]=A[zY]+zi/2;A[zY+1]=A[zY+1]+zI/2;
A[zY+6]=A[zY+6]-zi/2;A[zY+7]=A[zY+7]-zI/2}for(var r=0;r<4;r++)for(var F=1;F<3;F++){var G=2*(4*r+F),J=A[G],m=A[G+1],h=G+(F==1?-2:2),I=A[h],Z=A[h+1],u=2*r/3;
A[G]=I+u*J;A[G+1]=Z+u*m}for(var r=1;r<3;r++)for(var F=1;F<3;F++){var G=2*(4*r+F),J=A[G],m=A[G+1],ze=r==1?-8:-16,zq=r==1?16:8,zB=A[G+ze],zN=A[G+ze+1],zQ=A[G+zq],z_=A[G+zq+1],u=r/3;
J=(1-u)*zB+u*zQ;m=(1-u)*zN+u*z_;A[G]=J;A[G+1]=m}Q.O.oV(O,A,A,M)};Q.ls.EUY=function(A,M){return(4-A)*(1/3)};
Q.ls.EES=function(A,M){return(1-A)*(3-A)/(3*M)};Q.raw={};Q.raw.Elh=function(A){var M=A.width,q=A.height,V=new Float32Array(M*q),F=0,H=0,I=0;
Q.raw.Elr(A,V);Q.raw.lV(2,A,V,M,q);var w=M,C=q;if(A.t50829){var r=A.t50829;F=r[1];H=r[0];w=r[3];C=r[2]}if(A.t50719){var G=A.t50719;
F+=G[0]>>1<<1;H+=G[1]>>1<<1}if(A.t50720){var J=A.t50720;w=F+J[0];C=H+J[1]}var m=w-F,u=C-H,W=new Float32Array(m*u*3);
if(A.t277[0]!=1)throw"More than 1 sample per pixel!";var y=A.t33421,O=A.t33421;if(y.length!=2||y[0]!=2||y[1]!=2)throw"Unknown CFA pattern size";
var h=JSON.stringify(A.t33422);if(h=="[0,1,1,2]")I=0;else if(h=="[1,0,2,1]")I=1;else if(h=="[2,1,1,0]")I=2;
else if(h=="[1,2,0,1]")I=3;else throw"Unknown CFA pattern";for(var Z=0;Z<u;Z+=2)for(var L=0;L<m;L+=2){var Y=(Z+H)*M+L+F,B=V[Y-1],X=V[Y],E=V[Y+1];
Y+=M;var c=V[Y-1],o=V[Y],s=V[Y+1],z=(Z*m+L)*3;if(I==0){W[z]=X;W[z+1]=B;W[z+2]=c;W[z+3]=X;W[z+4]=E;W[z+5]=s;
z+=m*3;W[z]=X;W[z+1]=o;W[z+2]=c;W[z+3]=X;W[z+4]=o;W[z+5]=s}else if(I==1){W[z]=B;W[z+1]=X;W[z+2]=o;W[z+3]=E;
W[z+4]=X;W[z+5]=o;z+=m*3;W[z]=B;W[z+1]=c;W[z+2]=o;W[z+3]=E;W[z+4]=s;W[z+5]=o}else if(I==2){W[z]=c;W[z+1]=B;
W[z+2]=X;W[z+3]=s;W[z+4]=E;W[z+5]=X;z+=m*3;W[z]=c;W[z+1]=o;W[z+2]=X;W[z+3]=s;W[z+4]=o;W[z+5]=X}else if(I==3){W[z]=o;
W[z+1]=X;W[z+2]=B;W[z+3]=o;W[z+4]=s;W[z+5]=E;z+=m*3;W[z]=o;W[z+1]=c;W[z+2]=B;W[z+3]=o;W[z+4]=s;W[z+5]=E}}Q.raw.lV(3,A,W,m,u);
var k=A.t274[0],b=m,T=u;if(k==1){}else{if(k==6){b=u;T=m}else if(k==8){b=u;T=m}else throw"unknown orientation "+k;
var l=W.slice(0);for(var Z=0;Z<T;Z++)for(var L=0;L<b;L++){var $=L,e=Z;if(k==6){e=u-1-L;$=Z}if(k==8){$=m-1-Z;
e=L}var Y=(e*m+$)*3,z=(Z*b+L)*3;W[z]=l[Y];W[z+1]=l[Y+1];W[z+2]=l[Y+2]}}return{ej:W,qZ:b,qY:T}};Q.raw.lM=function(A,M,q,V){var F=A.ej,H=Math.round(F.length/3),w=zD.EJx(V[0],V[1]),C=Q.raw.ElO(q,w),r=Q.GO.multiply(Q.GO.oo,C),G=Math.pow(2,V[2]+(q.t50730?q.t50730[0]:0)),h,I,Z,L,Y,B,X,E,c;
r=Q.GO.multiply(r,Q.GO.on(G,G,G));var J=zG.PQ("brit",[V[3],V[4],!1]),m=q.t50728,u=[m[1]/m[0],m[2]/m[0],m[0]/m[1],m[2]/m[1],m[0]/m[2],m[1]/m[2]],W=new Float64Array(1e3);
for(var y=0;y<1e3;y++)W[y]=Q.E_(y*(1/999));W[999]=1;var O=Date.now();for(var y=0;y<H;y++){var o=y<<2,s=o-y;
h=F[s];I=F[s+1];Z=F[s+2];if(h==1||I==1||Z==1){var z=Math.min(h,Math.min(I,Z));if(z==h){I=Math.max(I,u[0]*h);
Z=Math.max(Z,u[1]*h)}else if(z==I){h=Math.max(h,u[2]*I);Z=Math.max(Z,u[3]*I)}else{h=Math.max(h,u[4]*Z);
I=Math.max(I,u[5]*Z)}}X=r[0]*h+r[1]*I+r[2]*Z;E=r[4]*h+r[5]*I+r[6]*Z;c=r[8]*h+r[9]*I+r[10]*Z;if(X<0)X=0;
else if(X>1)X=1;if(E<0)E=0;else if(E>1)E=1;if(c<0)c=0;else if(c>1)c=1;X=W[~~(X*999)];E=W[~~(E*999)];
c=W[~~(c*999)];M[o]=J.qi[~~(X*1023)];M[o+1]=J.qI[~~(E*1023)];M[o+2]=J.q$[~~(c*1023)]}};Q.raw.Elr=function(A,M){var q=A.width,V=A.height,F=new Uint16Array(M.length),H=null,w=0,m=0,u=0;
Q.raw.Elv(A,F);Q.raw.lV(1,A,F,q,V);if(A.t50712){H=A.t50712;w=H.length-1;if(H[w]>65535)throw"too big values"}var C=A.t50713,r=A.t50714,G=A.t50715,J=A.t50716;
if(r==null)r=[0,0,0,0];if(C==null||C[0]+C[1]!=4)r=[r[0],r[0],r[0],r[0]];var W=q,y=V;if(A.t50829){var O=A.t50829;
m=O[1];u=O[0];W=O[3];y=O[2]}G=new Float32Array(G?G:q);J=new Float32Array(J?J:V);var h=A.t50717[0];if(H)h=Math.min(h,H[w]);
var I=1/(h-r[0]),Z=A.data,L=M.length;for(var Y=u;Y<y;Y++){for(var B=m;B<W;B++){var X=Y*q+B,E=F[X];if(H!=null){if(E>w)E=w;
E=H[E]}var c=r[0]+G[B-m]+J[Y-u];M[X]=Math.max(0,Math.min(1,(E-c)/(h-c)))}}};Q.raw.Elv=function(A,M){var q=M.length,V=A.data,F=A.t258[0];
if(F!=16&&F!=14&&F!=12&&F!=10&&F!=8)throw"Unsupported Bits Per Sample:"+F;for(var H=0;H<q;H+=2){var w=0,C=0,r=0;
if(F==16){w=H<<1;C=V[w+1]<<8|V[w];r=V[w+3]<<8|V[w+2]}else if(F==14){var G=H*14,J=G>>>3,m=V[J]<<24|V[J+1]<<16|V[J+2]<<8|V[J+3];
if((G&7)==0){C=m>>>18;r=m>>>4&16383}else{C=m>>>14&16383;r=m&16383}}else if(F==12){w=H+(H>>>1);C=V[w]<<4|V[w+1]>>4;
r=(V[w+1]&15)<<8|V[w+2]}else if(F==10){var G=H*10,J=G>>>3;if((G&7)==0){C=(V[J]<<2|V[J+1]>>6)&1023;r=(V[J+1]<<4|V[J+2]>>4)&1023}else{C=(V[J]<<6|V[J+1]>>2)&1023;
r=(V[J+1]<<8|V[J+2]>>0)&1023}}else if(F==8){w=H;C=V[w];r=V[w+1]}M[H]=C;M[H+1]=r}};Q.raw.lV=function(A,M,q,V,F){var H=M["t"+[51008,51009,51022][A-1]],J=0;
if(H==null)return;var w=V*F,C=K.d,r=K.WL,G=new Uint8Array(H),m=K.d(G,J);J+=4;for(var u=0;u<m;u++){var W=C(G,J);
J+=4;var y=C(G,J);J+=4;var O=C(G,J);J+=4;var h=C(G,J);J+=4;if(!1){}else if(W==1&&A==3){var I=J,Z=C(G,I);
I+=4;var L=r(G,I);I+=8;var Y=r(G,I);I+=8;var B=r(G,I);I+=8;var X=r(G,I);I+=8;var E=r(G,I);I+=8;var c=r(G,I);
I+=8;I+=(Z-1)*8*6;var o=r(G,I);I+=8;var s=r(G,I);I+=8;var z=o*V,k=s*F,b=Math.max(z,V-z),T=Math.max(k,F-k),l=Math.sqrt(b*b+T*T),$=1/l,e=q.slice(0);
for(var i=0;i<F;i++)for(var g=0;g<V;g++){var P=(g+.5-z)*$,n=(i+.5-k)*$,p=P*P+n*n,t=L+Y*p+B*p*p+X*p*p*p,x=E*(2*P*n)+c*(p+2*P*P),D=c*(2*P*n)+E*(p+2*n*n),Gp=Math.floor(z+l*(t*P+x)),zY=Math.floor(k+l*(t*n+D)),zi=(zY*V+Gp)*3,zI=(i*V+g)*3;
q[zI]=e[zi];q[zI+1]=e[zi+1];q[zI+2]=e[zi+2]}}else if(W==3&&A==3){var I=J,z$=r(G,I);I+=8;var zK=r(G,I);
I+=8;var ze=r(G,I);I+=8;var zq=r(G,I);I+=8;var zB=r(G,I);I+=8;var o=r(G,I);I+=8;var s=r(G,I);I+=8;var z=o*V,k=s*F,b=Math.max(z,V-z),T=Math.max(k,F-k),l=Math.sqrt(b*b+T*T),$=1/l;
for(var i=0;i<F;i++)for(var g=0;g<V;g++){var P=(g+.5-z)*$,n=(i+.5-k)*$,p=P*P+n*n,zN=1+(z$+(zK+(ze+(zq+zB*p)*p)*p)*p)*p,zI=(i*V+g)*3;
q[zI]=zN*q[zI];q[zI+1]=zN*q[zI+1];q[zI+2]=zN*q[zI+2]}}else if(W==4&&A==1){var I=J,zQ=C(G,I);I+=4;var z_=C(G,I);
I+=4;for(var zw=0;zw<w;zw++)if(q[zw]==zQ)q[zw]=q[zw-2]+q[zw+2]>>1}else if(W==5&&A==1){var I=J,zy=C(G,I);
I+=4;var zu=C(G,I);I+=4;var zd=C(G,I);I+=4;for(var zw=0;zw<zu;zw++){var zO=C(G,I);I+=4;var zF=C(G,I);
I+=4;var zw=zO*V+zF;q[zw]=q[zw-2]+q[zw+2]>>1}}else if(W==7&&A==1){var I=J,zX=K.WF(G,I);I+=16;var Gn=C(G,I);
I+=4;var GE=C(G,I);I+=4;var Gm=C(G,I),GJ=C(G,I+4);I+=8;var Gz=C(G,I);I+=4;var GG=new Uint16Array(Gz);
for(var zw=0;zw<Gz;zw++)GG[zw]=K.WR(G,I+2*zw);var Go=zX.n,Gv=zX.J;for(var i=0;i<Gv;i+=Gm)for(var g=0;
g<Go;g+=GJ){var zw=(zX.y+i)*V+(zX.x+g);q[zw]=GG[q[zw]]}}else if(W==9&&A==2){var I=J,zX=K.WF(G,I);I+=16;
var Gn=C(G,I);I+=4;var GE=C(G,I);I+=4;var Gm=C(G,I),GJ=C(G,I+4);I+=8;var GU=C(G,I),Gl=C(G,I+4);I+=8;
var GH=r(G,I),Gr=r(G,I+8);I+=16;var GW=r(G,I),Gh=r(G,I+8);I+=16;var GT=C(G,I);I+=4;if(GT!=1)throw"more than one map plane";
var Gs=GU*Gl,Gc=new Float32Array(Gs);for(var GA=0;GA<Gs;GA++)Gc[GA]=K.Wi(G,I+GA*4);var Go=zX.n,Gv=zX.J,Gg=.9999*(Gl-1)/Go,Gx=.9999*(GU-1)/Gv;
for(var i=0;i<Gv;i+=Gm)for(var g=0;g<Go;g+=GJ){var zw=(zX.y+i)*V+(zX.x+g),Jy=g*Gg,Gf=i*Gx,GP=Math.floor(Jy),GD=Math.floor(Gf),Gt=Jy-GP,GM=Gf-GD,zI=GD*Gl+GP,Gj=Gc[zI]*(1-Gt)+Gc[zI+1]*Gt,Ga=Gc[zI+Gl]*(1-Gt)+Gc[zI+1+Gl]*Gt,GV=Gj*(1-GM)+Ga*GM;
q[zw]=Math.min(1,q[zw]*GV)}}else console.log("Unknown opcode "+W+" in OpcodeList"+A+". Length: "+h);
J+=h}};Q.raw.ElO=function(A,M){var q=zD.lB(M),V=Q.raw.lk(A,M),F=Q.GO.mx(V),H=zD.Evb(q,zD.lB(zD.EEc)),w=Q.GO.multiply(H,F);
return w};Q.raw.ERe=function(A){var M=A.t50728.slice(0),V=1;M.push(0);var q={x:.34567,y:.3585};do{var F=Q.GO.mx(Q.raw.lk(A,q)),H=Q.GO.oJ(F,M),w=zD.ERf(H);
V=Math.abs(q.x-w.x)+Math.abs(q.y-w.y);q=w}while(V>1e-7);return q};Q.raw.lk=function(A,M){var q=zD.lK(M),V=Q.raw.EEA,F=A.t50779?A.t50779[0]:0,H=V(A.t50721,A.t50722,A.t50778[0],F,q.qK),w=V(A.t50723,A.t50724,A.t50778[0],F,q.qK);
w=w||[1,0,0,0,1,0,0,0,1];var C=A.t50727?[A.t50727[0],0,0,0,A.t50727[1],0,0,0,A.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return Q.GO.multiply(Q.GO.om(C),Q.GO.multiply(Q.GO.om(w),Q.GO.om(H)))};Q.raw.EEA=function(A,M,q,V,F){if(!A&&!M){return null}else if(A&&!M){return A}else if(F<q){return A}else if(F>V){return M}else{var H=(1/F-1/V)/(1/q-1/V),w=1-H,C=[];
for(var r=0;r<9;r++)C[r]=A[r]*H+M[r]*w;return C}};var zD={};zD.EEc={x:.34567,y:.3585};zD.lZ=[{e:0,li:.18006,lI:.26352,l$:-.24341},{e:10,li:.18066,lI:.26589,l$:-.25479},{e:20,li:.18133,lI:.26846,l$:-.26876},{e:30,li:.18208,lI:.27119,l$:-.28539},{e:40,li:.18293,lI:.27407,l$:-.3047},{e:50,li:.18388,lI:.27709,l$:-.32675},{e:60,li:.18494,lI:.28021,l$:-.35156},{e:70,li:.18611,lI:.28342,l$:-.37915},{e:80,li:.1874,lI:.28668,l$:-.40955},{e:90,li:.1888,lI:.28997,l$:-.44278},{e:100,li:.19032,lI:.29326,l$:-.47888},{e:125,li:.19462,lI:.30141,l$:-.58204},{e:150,li:.19962,lI:.30921,l$:-.70471},{e:175,li:.20525,lI:.31647,l$:-.84901},{e:200,li:.21142,lI:.32312,l$:-1.0182},{e:225,li:.21807,lI:.32909,l$:-1.2168},{e:250,li:.22511,lI:.33439,l$:-1.4512},{e:275,li:.23247,lI:.33904,l$:-1.7298},{e:300,li:.2401,lI:.34308,l$:-2.0637},{e:325,li:.24792,lI:.34655,l$:-2.4681},{e:350,li:.25591,lI:.34951,l$:-2.9641},{e:375,li:.264,lI:.352,l$:-3.5814},{e:400,li:.27218,lI:.35407,l$:-4.3633},{e:425,li:.28039,lI:.35577,l$:-5.3762},{e:450,li:.28863,lI:.35714,l$:-6.7262},{e:475,li:.29685,lI:.35823,l$:-8.5955},{e:500,li:.30505,lI:.35907,l$:-11.324},{e:525,li:.3132,lI:.35968,l$:-15.628},{e:550,li:.32129,lI:.36011,l$:-23.325},{e:575,li:.32931,lI:.36038,l$:-40.77},{e:600,li:.33724,lI:.36051,l$:-116.45}];
zD.lK=function(A){var M=zD.lZ,q=2*A.x/(1.5-A.x+6*A.y),V=3*A.y/(1.5-A.x+6*A.y),F=0,H=0,w=0;for(;w<31;
w++){F=V-M[w].lI-M[w].l$*(q-M[w].li);if(w>0&&F<0){break}H=F}F/=Math.sqrt(1+M[w].l$*M[w].l$);H/=Math.sqrt(1+M[w-1].l$*M[w-1].l$);
var C=H/(H-F),r=1e6/((M[w].e-M[w-1].e)*C+M[w-1].e),G=q-((M[w].li-M[w-1].li)*C+M[w-1].li),J=V-((M[w].lI-M[w-1].lI)*C+M[w-1].lI),m=Math.sqrt(1+M[w].l$*M[w].l$),u=1/m,W=M[w].l$/m,y=Math.sqrt(1+M[w-1].l$*M[w-1].l$),O=1/y,h=M[w-1].l$/y,I=(u-O)*C+O,Z=(W-h)*C+h,L=Math.sqrt(I*I+Z*Z);
I/=L;Z/=L;var Y=(G*I+J*Z)*-3e3;return{qK:r,qe:Y}};zD.EJx=function(A,M){var q=zD.lZ,V=1e6/A,F=1;for(;
F<31;F++){if(V<q[F].e){break}}var H=(q[F].e-V)/(q[F].e-q[F-1].e),w=(q[F-1].li-q[F].li)*H+q[F].li,C=(q[F-1].lI-q[F].lI)*H+q[F].lI,r=Math.sqrt(1+q[F].l$*q[F].l$),G=1/r,J=q[F].l$/r,m=Math.sqrt(1+q[F-1].l$*q[F-1].l$),u=1/m,W=q[F-1].l$/m,y=(u-G)*H+G,O=(W-J)*H+J,h=Math.sqrt(y*y+O*O);
y/=h;O/=h;w+=y*M/-3e3;C+=O*M/-3e3;return{x:1.5*w/(w-4*C+2),y:C/(w-4*C+2)}};zD.ERf=function(A){var M=A[0]+A[1]+A[2];
return{x:A[0]/M,y:A[1]/M}};zD.lB=function(A){return{x:A.x/A.y,y:1,qq:(1-A.x-A.y)/A.y}};zD.Evb=function(A,M){var q=Q.GO.om([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),V=[A.x,A.y,A.qq,0],F=[M.x,M.y,M.qq,0];
V=Q.GO.oJ(q,V);F=Q.GO.oJ(q,F);var H=F[0]/V[0],w=F[1]/V[1],C=F[2]/V[2],r=Q.GO.om([H,0,0,0,w,0,0,0,C]),G=Q.GO.mx(q);
return Q.GO.multiply(Q.GO.multiply(G,r),q)};Q.lQ={};Q.lQ.lQ=function(A,M,q){var V=A.n,F=A.J,H=1/V,w=V*F,C=Date.now(),r=!1;
if(r)console.log("expand known",Date.now()-C);C=Date.now();var G=Q.lQ.ly(q,V,F,255),J=Q.lQ.ly(q,V,F,0),m=function(Gn,GE){var Gm=Gn<<2,GJ=GE<<2;
return M[Gm]+M[Gm+1]+M[Gm+2]-(M[GJ]+M[GJ+1]+M[GJ+2])};G.sort(m);J.sort(m);var u=Q.b(w),W=Q.b(w),y=[],O=new Uint32Array(V*F);
Q.mh(O,4294967295);for(var h=0;h<w;h++)if(q[h]==0)W[h]=255;else if(q[h]==255)u[h]=255;else{O[h]=y.length;
y.push(h)}if(r)console.log("Unknown:",y.length,G.length,J.length);if(r)console.log(Date.now()-C);C=Date.now();
var I=Q.style.vu(u,V,F),Z=Q.style.vu(W,V,F),L=new Float32Array(y.length),Y=new Float32Array(y.length),B=new Uint32Array(y.length),X=new Uint32Array(y.length),E=new Float32Array(y.length);
if(r)console.log("D trf",Date.now()-C);C=Date.now();for(var h=0;h<y.length;h++){var c=y[h],o=~~(c*H),s=c-o*V,z=I[c<<1],k=I[(c<<1)+1];
L[h]=1/Math.sqrt(z*z+k*k);var b=Z[c<<1],T=Z[(c<<1)+1];Y[h]=1/Math.sqrt(b*b+T*T);var l=Math.floor(Math.random()*G.length),$=Math.floor(Math.random()*J.length);
B[h]=l;X[h]=$;E[h]=Q.lQ.l_(c,G[l],J[$],V,H,M,L[h],Y[h],1e9)}var e=[-V,-1,1,V],i=Q.lQ.l_;for(var g=0;
g<10;g++){var P=Math.pow(.5,g);for(var h=0;h<y.length;h++){var c=y[h],o=~~(c*H),s=c-o*V,n=L[h],p=Y[h],t=E[h],l=B[h],$=X[h],zI=1;
for(var x=0;x<4;x++){if(x==0&&o==0||x==1&&s==0||x==2&&s==V-1||x==3&&o==F-1)continue;var D=O[c+e[x]];
if(D==4294967295)continue;var Gp=B[D],zY=X[D];if(Gp==l&&zY==$)continue;var zi=i(c,G[Gp],J[zY],V,H,M,n,p,t);
if(zi<t){t=zi;l=Gp;$=zY}}for(var z$=0;z$<1;z$++){var zK=~~(G.length*zI),ze=~~(J.length*zI);zI*=.5;var zq=Math.max(0,l-zK),zB=Math.min(l+zK,G.length-1),zN=Math.max(0,$-ze),zQ=Math.min($+ze,J.length-1),z_=zq+~~(Math.random()*(zB-zq)),zw=zN+~~(Math.random()*(zQ-zN)),zi=i(c,G[z_],J[zw],V,H,M,n,p,t);
if(zi<t){t=zi;l=z_;$=zw}}E[h]=t;B[h]=l;X[h]=$}}if(r)console.log(Date.now()-C);C=Date.now();var zy=q.slice(0);
for(var h=0;h<y.length;h++)zy[y[h]]=~~(.5+255*Q.lQ.alpha(y[h],G[B[h]],J[X[h]],M));zy=Q.em.ERl(zy,M,new U(0,0,V,F),16,.01*.01);
if(r)console.log("guided filter",Date.now()-C);C=Date.now();for(var h=0;h<w;h++)if(q[h]==255||q[h]==0)zy[h]=q[h];
var zu=M.slice(0);for(var h=0;h<y.length;h++){var zd=y[h],l=G[B[h]],t=E[h],zO=zd<<2,zF=zy[zd],zX=(zF>=250?zd:l)<<2;
zu[zO]=M[zX];zu[zO+1]=M[zX+1];zu[zO+2]=M[zX+2]}Q.mr(zy,zu,3);if(r)console.log(Date.now()-C);C=Date.now();
return zu};Q.lQ.l_=function(A,M,q,V,F,H,w,C,r){var G=~~(A*F),J=A-G*V,m=~~(M*F),u=M-m*V,W=~~(q*F),y=q-W*V,O=Math.sqrt((J-u)*(J-u)+(G-m)*(G-m))*w,h=Math.sqrt((J-y)*(J-y)+(G-W)*(G-W))*C,b=0;
if(O+h>=r)return 1e9;var I=A<<2,Z=M<<2,L=q<<2,Y=H[I],B=H[I+1],X=H[I+2],E=H[Z],c=H[Z+1],o=H[Z+2],s=H[L],z=H[L+1],k=H[L+2];
if(E!=s||c!=z||o!=k){var T=E-s,l=c-z,$=o-k,e=Y-s,i=B-z,g=X-k,P=(e*T+i*l+g*$)/(T*T+l*l+$*$);P=Math.max(0,Math.min(1,P));
var n=Y-(P*E+(1-P)*s),p=B-(P*c+(1-P)*z),t=X-(P*o+(1-P)*k);b=Math.sqrt(n*n+p*p+t*t)}return b+O+h};Q.lQ.alpha=function(A,M,q,V){var F=A<<2,H=M<<2,w=q<<2,C=V[F],r=V[F+1],G=V[F+2],J=V[H],m=V[H+1],u=V[H+2],W=V[w],y=V[w+1],O=V[w+2];
if(J==W&&m==y&&u==O)return 1;var h=J-W,I=m-y,Z=u-O,L=C-W,Y=r-y,B=G-O,X=(L*h+Y*I+B*Z)/(h*h+I*I+Z*Z);return Math.max(0,Math.min(1,X))};
Q.lQ.EzX=function(A){};Q.lQ.ly=function(A,M,q,V){var F=[];for(var H=0;H<q;H++)for(var w=0;w<M;w++){var C=H*M+w;
if(A[C]==V&&(H!=0&&A[C-M]!=V&&A[C-M]!=255-V||H>1&&A[C-M-M]!=V&&A[C-M-M]!=255-V||H!=q-1&&A[C+M]!=V&&A[C+M]!=255-V||H<q-2&&A[C+M+M]!=V&&A[C+M+M]!=255-V||w!=0&&A[C-1]!=V&&A[C-1]!=255-V||w>1&&A[C-1-1]!=V&&A[C-1-1]!=255-V||w!=M-1&&A[C+1]!=V&&A[C+1]!=255-V||w<M-2&&A[C+1+1]!=V&&A[C+1+1]!=255-V))F.push(C)}return F};
Q.lQ.EGJ=function(A,M,q,V){var F=A.slice(0),H=Math.round((q+V)/400);for(var w=0;w<V;w++)for(var C=0;
C<q;C++){var r=w*q+C;if(A[r]==0||A[r]==255)continue;var G=M[r<<2],J=M[(r<<2)+1],m=M[(r<<2)+2],u=Math.max(0,C-H),W=Math.min(C+H+1,q),y=Math.max(0,w-H),O=Math.min(w+H+1,V);
for(var h=y;h<O;h++)for(var I=u;I<W;I++){var Z=h*q+I;if(A[Z]==0||A[Z]==255){var L=M[Z<<2]-G,Y=M[(Z<<2)+1]-J,B=M[(Z<<2)+2]-m;
if(L*L+Y*Y+B*B<15){F[r]=A[Z];h=O;break}}}}return F};Q.em={};Q.em.EmI=function(A,M,q,V,F){var H=q.n,w=q.J,C=H*w,r=Q.em.lF,G=Q.b(C*4),J;
Q.mh(G,4294967295);var m=q,u=A,W=M,y=V;Q.mr(A,G,0);J=Q.mt(G,q);J=Q.mt(J.ej,J.rect);m=J.rect;y=V>>>2;
console.log(m,y);u=Q.b(m.X());Q.mH(J.ej,u,0);Q.mr(M,G,0);J=Q.mt(G,q);J=Q.mt(J.ej,J.rect);W=Q.b(m.X());
Q.mH(J.ej,W,0);var O=Q.em.EUP(u,W,m,y,F),h=O[0],I=O[1],Z=new U(0,0,m.n*2,m.J*2);h=r(h,m,Z,!0);h=r(h,Z,q,!0);
I=r(I,m,Z,!0);I=r(I,Z,q,!0);var L=Q.b(C);for(var Y=0;Y<C;Y++)L[Y]=Math.max(0,Math.min(255,Math.floor(.5+(h[Y]*M[Y]+255*I[Y]))));
return L};Q.em.lF=function(A,M,q,V){var F=q.n,H=q.J,w=M.n,C=M.J,r=Q.em.GT,G=new Float32Array(F*H);for(var J=0;
J<C;J++){var m=(J+J)*F;for(var u=0;u<w;u++){if(!0||u==0||J==0||u==w-1||J==C-1)G[m]=G[m+1]=G[m+F]=G[m+F+1]=A[J*w+u];
else{G[m]=r(u+.25,J+.25,A,w,C);G[m+1]=r(u+.75,J+.25,A,w,C);G[m+F]=r(u+.25,J+.75,A,w,C);G[m+F+1]=r(u+.75,J+.75,A,w,C)}m+=2}}return G};
Q.em.GT=function(A,M,q,V,F){A-=.499999;M-=.499999;var H=Math.floor(A),w=Math.floor(M),C=w*V+H,r=A-H,G=M-w,J=(1-G)*(1-r),m=(1-G)*r,u=G*(1-r),W=G*r;
if(q[C]==null||q[C+V+1]==null){console.log(A,M,V,F);throw"e"}return J*q[C+0]+m*q[C+1]+u*q[C+V+0]+W*q[C+V+1]};
Q.em.EUP=function(A,M,q,V,F){var H=q.n,w=q.J,C=H*w,r=Q.em.RG,G=Q.em.b,J=Q.blur.JK,m=Q.em.Ro,M=r(M),A=r(A),u=G(C);
J(M,u,q,V);var W=G(C);J(A,W,q,V);var y=G(C);m(M,M,y);J(y,y,q,V);var O=G(C);m(M,A,O);J(O,O,q,V);var h=G(C),I=G(C);
for(var Z=0;Z<C;Z++){var L=u[Z],Y=W[Z],B=y[Z]-L*L,X=O[Z]-L*Y,E=X/(B+F),c=Y-E*L;h[Z]=E;I[Z]=c}var o=G(C);
J(h,o,q,V);var s=G(C);J(I,s,q,V);return[o,s]};Q.em.ERl=function(A,M,q,V,F){var H=q.n,w=q.J,C=H*w,r=Q.em.lF,G=Date.now(),J=!1,m=q,u=A,W=M,y=V;
m=new U(0,0,H>>>2,w>>>2);y=V>>>2;u=Q.em.EJE(A,H,w);W=Q.em.Evf(M,H,w);if(J)console.log(Date.now()-G);
G=Date.now();var O=Q.em.Elu(u,W,m,y,F),h=O[0],I=O[1],Z=O[2],L=O[3];if(J)console.log(Date.now()-G);G=Date.now();
var Y=Q.b(C);for(var B=0;B<w;B++)for(var X=0;X<H;X++){var E=B*H+X,c=(B>>>2)*(H>>>2)+(X>>>2),o=E<<2,s=h[c]*M[o]+I[c]*M[o+1]+Z[c]*M[o+2]+L[c]*255;
Y[E]=Math.max(0,Math.min(255,~~(.5+s)))}if(J)console.log(Date.now()-G);G=Date.now();return Y};Q.em.EJE=function(A,M,q){var V=M>>>2,F=q>>>2,H=Q.b(M*q);
for(var w=0;w<F;w++)for(var C=0;C<V;C++)H[w*V+C]=A[w*M+C<<2];return H};Q.em.Evf=function(A,M,q){var V=M>>>2,F=q>>>2,H=Q.b(M*q*4);
for(var w=0;w<F;w++)for(var C=0;C<V;C++){var r=w*V+C<<2,G=w*M+C<<4;H[r]=A[G];H[r+1]=A[G+1];H[r+2]=A[G+2];
H[r+3]=A[G+3]}return H};Q.em.Elu=function(A,M,q,V,F){var H=q.n,w=q.J,C=H*w,r=Q.em.RG,G=Q.em.b,J=Q.blur.JK,m=Q.em.Ro,A=r(A),u=new Q.JU(H*w);
Q.mR(M,u);var M=[r(u.e),r(u.g),r(u.$)],W=Q.em.Elw(A,M,q,V,F),y=G(C);J(A,y,q,V);var O=G(C);m(M[0],A,O);
J(O,O,q,V);var h=G(C);m(M[1],A,h);J(h,h,q,V);var I=G(C);m(M[2],A,I);J(I,I,q,V);var Z=G(C),L=G(C),Y=G(C),B=G(C);
for(var X=0;X<C;X++){var E=y[X],c=W.qB[X],o=W.qN[X],s=W.qQ[X],z=O[X]-c*E,k=h[X]-o*E,b=I[X]-s*E;Z[X]=W.q_[X]*z+W.qw[X]*k+W.qy[X]*b;
L[X]=W.qw[X]*z+W.qu[X]*k+W.qd[X]*b;Y[X]=W.qy[X]*z+W.qd[X]*k+W.qO[X]*b;B[X]=E-Z[X]*c-L[X]*o-Y[X]*s}J(Z,Z,q,V);
J(L,L,q,V);J(Y,Y,q,V);J(B,B,q,V);return[Z,L,Y,B]};Q.em.Elw=function(A,M,q,V,F){var H=q.n,w=q.J,C=H*w,r=Q.em.b,G=Q.blur.JK,J=Q.em.Ro,m={};
m.qB=r(C);G(M[0],m.qB,q,V);m.qN=r(C);G(M[1],m.qN,q,V);m.qQ=r(C);G(M[2],m.qQ,q,V);var u=r(C);J(M[0],M[0],u);
G(u,u,q,V);var W=r(C);J(M[0],M[1],W);G(W,W,q,V);var y=r(C);J(M[0],M[2],y);G(y,y,q,V);var O=r(C);J(M[1],M[1],O);
G(O,O,q,V);var h=r(C);J(M[1],M[2],h);G(h,h,q,V);var I=r(C);J(M[2],M[2],I);G(I,I,q,V);m.q_=u;m.qw=W;m.qy=y;
m.qu=O;m.qd=h;m.qO=I;for(var Z=0;Z<C;Z++){var L=m.qB[Z],Y=m.qN[Z],B=m.qQ[Z],X=u[Z]-L*L+F,E=W[Z]-L*Y,c=y[Z]-L*B,o=O[Z]-Y*Y+F,s=h[Z]-Y*B,z=I[Z]-B*B+F,k=o*z-s*s,b=s*c-E*z,T=E*s-o*c,l=X*z-c*c,$=c*E-X*s,e=X*o-E*E,i=k*X+b*E+T*c,g=1/ i;
m.q_[Z]=k*g;m.qw[Z]=b*g;m.qy[Z]=T*g;m.qu[Z]=l*g;m.qd[Z]=$*g;m.qO[Z]=e*g}return m};Q.em.b=function(A){return new Float32Array(A)};
Q.em.RG=function(A){var M=A.length,q=new Float32Array(M);for(var V=0;V<M;V++)q[V]=A[V]*(1/255);return q};
Q.em.Ro=function(A,M,q){for(var V=0;V<A.length;V++)q[V]=A[V]*M[V]};Q.Rv={};Q.Rv.EUO=function(A,M,q,V,F){var H=Q.Rv.Rl(A.buffer,M,q).qF,w=Date.now(),C=new Uint32Array(H.length);
for(var r=0;r<H.length;r++)C[r]=H[r].ei;var G=UPNG.quantize.getKDtree(new Uint8Array(C.buffer),V),J=[M,1,-M,-1,M+1,-M+1,-M-1,M-1,M+M,2,-M-M,-2,M+M-1,M+M+1,M+2,-M+2,-M-M+1,-M-M-1,-M-2,M-2,M+M+2,-M-M+2-M-M-2,M+M-2],m=new Uint8Array(M*q),u=A;
for(var W=0;W<q;W++)for(var y=0;y<M;y++){var r=W*M+y<<2,O=u[r]*(1/255),h=u[r+1]*(1/255),I=u[r+2]*(1/255),Z=u[r+3]*(1/255),L=Q.Rv.RR(G,O,h,I,Z,F);
if(L==null){var Y=[],B=0;while(B<20){var X=W*M+y+J[B]<<2,E=u[X]*(1/255),c=u[X+1]*(1/255),o=u[X+2]*(1/255),s=u[X+3]*(1/255),z=Q.Rv.RR(G,E,c,o,s,.005);
if(z!=null){if(Y.indexOf(z)==-1){Y.push(z);z.qX=1}else z.qX++}B++}Y.sort(function(Z,I){return I.qX-Z.qX});
while(Y.length!=0&&Y[Y.length-1].qX<3)Y.pop();if(Y.length==0)L=Q.Rv.RR(G,O,h,I,Z,100);else if(Y.length==1)L=Y[0];
else if(Y.length==2){var k=Y[0],b=Y[1],T=k.est.q,l=b.est.q,$=l[0]-T[0],e=l[1]-T[1],i=l[2]-T[2],g=l[3]-T[3],P=O-T[0],n=h-T[1],p=I-T[2],t=Z-T[3],x=$*$+e*e+i*i+g*g,D=P*P+n*n+p*p+t*t,Gp=(P*$+n*e+p*i+t*g)/x,zY=D-Gp*Gp*x;
if(zY<.5)L=Gp<.5?k:b;else{L=Q.Rv.RR(G,O,h,I,Z,100)}}else{var k=Y[0],b=Y[1],zi=Y[2],T=k.est.q,l=b.est.q,zI=zi.est.q,z$=T[0]-zI[0],zK=T[1]-zI[1],ze=T[2]-zI[2],zq=T[3]-zI[3],zB=l[0]-zI[0],zN=l[1]-zI[1],zQ=l[2]-zI[2],z_=l[3]-zI[3],zw=zI[0]-O,zy=zI[1]-h,zu=zI[2]-I,zd=zI[3]-Z,zO=z$*z$+zK*zK+ze*ze+zq*zq,zF=z$*zB+zK*zN+ze*zQ+zq*z_,zX=zw*z$+zy*zK+zu*ze+zd*zq,Gn=z$*zB+zK*zN+ze*zQ+zq*z_,GE=zB*zB+zN*zN+zQ*zQ+z_*z_,Gm=zw*zB+zy*zN+zu*zQ+zd*z_,GJ=1/(zF*Gn-zO*GE),Gp=(GE*zX-Gm*zF)*GJ,Gz=(Gm*zO-zX*Gn)*GJ,GG=1-Gp-Gz,Go=Math.max(Gp,Gz,GG);
if(Go==Gp)L=k;else if(Go==Gz)L=b;else L=zi}}m[r>>2]=L.ind}return{Bn:m,qF:G[1]}};Q.Rv.Rl=function(A,M,q){var V=[],F={},H=M-1,w=q-1,C=0,r=new Uint32Array(A),G=[-M-1,-M,-M+1,-1,1,M-1,M,M+1,M+M,2,-M-M,-2,M+M-1,M+M+1,M+2,-M+2,-M-M+1,-M-M-1,-M-2,M-2,M+M+2,-M-M+2-M-M-2,M+M-2];
for(var J=1;J<w;J++)for(var m=1;m<H;m++){var u=J*M+m,W=r[u],y=!0;for(var O=0;O<8;O++)y=y&&r[u+G[O]]==W;
if(y){C++;var h=F[W];if(h==null){F[W]=V.length;V.push({ei:W,Pf:1})}else V[h].Pf++}}return{qF:V,BE:C}};
Q.Rv.RR=function(A,M,q,V,F,H){var w=UPNG.quantize.getNearest(A[0],M,q,V,F);return Q.Rv.Em_(w,M,q,V,F)<H?w:null};
Q.Rv.Em_=function(A,M,q,V,F){var H=A.est.q,w=M-H[0],C=q-H[1],r=V-H[2],G=F-H[3];return w*w+C*C+r*r+G*G};
Q.Rv.EnI=function(A,M,q,V){var F=Q.Rv.Eov(A,M,q,V),H=F.Bn,w=F.qF,C=F.Bm,r=UPNG.quantize.getKDtree(new Uint8Array(C.buffer.slice(0)),200),G=[];
for(var J=0;J<w.length;J++){var m=w[J].Gm,u=m[0],W=m[1],y=m[2],O=m[3];if(Math.min(u,W,y,O)<0)throw"e";
var h=UPNG.quantize.getNearest(r[0],u/255,W/255,y/255,O/255);G.push(r[1].indexOf(h))}for(var J=0;J<M*q;
J++)H[J]=G[H[J]];return{Bn:H,qF:r[1]}};Q.Rv.Eov=function(A,M,q,V){var F=M*q,H=2*F,w=Q.Rv.Emq(A,M,q),C=65535+1,r=new Uint32Array(C),m=0;
for(var G=0;G<H;G++)r[w[G]]++;var J=new Uint32Array(C);for(var G=0;G<C;G++){J[G]=m;m+=r[G]}var u=new Uint32Array(H);
for(var G=0;G<H;G++){var W=w[G];u[J[W]]=G;J[W]++}var y=new UnionFind(F),O=new Uint16Array(F),h=new Uint32Array(F);
for(var G=0;G<F;G++)h[G]=1;var I=F,Z=1e5/(V*10);for(var L=0;L<H;L++){var Y=u[L],B=w[Y];if(B==65535)continue;
var G=Y>>1,X=G+((Y&1)==0?1:M),E=y.find(G),c=y.find(X),o=Math.min(O[E]+Z/Math.sqrt(h[E]),O[c]+Z/Math.sqrt(h[c]));
if(E!=c&&B<=o){y.link(G,X);I--;var s=y.find(G);h[s]=h[E]+h[c];O[s]=B}}var z=[],k={},b=new Uint16Array(F);
for(var G=0;G<F;G++){var s=y.find(G),T=k[s];if(T==null){k[s]=T=z.length;z.push({Pf:0,Gm:[0,0,0,0]})}z[T].Pf++;
for(var X=0;X<4;X++)z[T].Gm[X]+=A[(G<<2)+X];b[G]=T}var l=new Uint32Array(z.length);for(var G=0;G<z.length;
G++){var T=z[G];for(var X=0;X<4;X++)T.Gm[X]=Math.round(T.Gm[X]/T.Pf);l[G]=T.Gm[3]<<24|T.Gm[2]<<16|T.Gm[1]<<8|T.Gm[0]}return{Bn:b,qF:z,Bm:l}};
Q.Rv.Emq=function(A,M,q){var V=new Uint16Array(M*q*2);for(var F=0;F<q;F++)for(var H=0;H<M;H++){var w=F*M+H;
V[w+w]=H<M-1?Q.Rv.RT(A,w,w+1):65535;V[w+w+1]=F<q-1?Q.Rv.RT(A,w,w+M):65535}return V};Q.Rv.RT=function(A,M,q){var V=M<<2,F=q<<2,H=A[V],w=A[V+1],C=A[V+2],r=A[V+3],G=A[F],J=A[F+1],m=A[F+2],u=A[F+3],W=H-G,y=w-J,O=C-m,h=r-u;
return W*W+y*y+O*O+h*h>>2};var JX=function(){function A(){this.X=0;this.BG=0;this.Bo={};this.Bv=[];this.BU=1e5;
this.Bl=1e5;this.BR=-1;this.BH=-1;this.color=0}function M(F){this.Br=F;this.BW=new Array(F);this.ei=new Array(F*6);
this.EGg=0;this.BT=new Array(F*2);this.alpha=new Array(F);this.Bs=new Array(F);this.Bc=new Array(F)}function q(F,H,w,C){function r(I,Z,F,H){return F[H*Z+I]}function G(h){var c=F.length;
while(h<c&&F[h]==0)h++;return h<c?h:-1}function J(I,Z,c){for(var h=2;h<5;h++){var o=0;for(var s=-h+1;
s<=h-1;s++){o+=r(I+s,Z+h-1,F,H)==c?1:-1;o+=r(I+h-1,Z+s-1,F,H)==c?1:-1;o+=r(I+s-1,Z-h,F,H)==c?1:-1;o+=r(I-h,Z+s,F,H)==c?1:-1}if(o>0)return 1;
else if(o<0)return 0}return 0}function m(c,y){var O=new A,I=c,Z=y,o=0,s=1,z;O.color=F[y*H+c];O.sign=r(c,y,F,H)==O.color?"+":"-";
while(1){O.Bv.push(I,Z);if(I>O.BR)O.BR=I;if(I<O.BU)O.BU=I;if(Z>O.BH)O.BH=Z;if(Z<O.Bl)O.Bl=Z;O.BG++;I+=o;
Z+=s;O.X-=I*s;if(I==c&&Z==y)break;var k=r(I+(o+s-1>>1),Z+(s-o-1>>1),F,H)==O.color,b=r(I+(o-s-1>>1),Z+(s+o-1>>1),F,H)==O.color;
if(b&&!k){if(C.Bg=="right"||C.Bg=="black"&&O.sign=="+"||C.Bg=="white"&&O.sign=="-"||C.Bg=="majority"&&J(I,Z,O.color)||C.Bg=="minority"&&!J(I,Z,O.color)){z=o;
o=-s;s=z}else{z=o;o=s;s=-z}}else if(b){z=o;o=-s;s=z}else if(!k){z=o;o=s;s=-z}}return O}var u=0,W=[];
while(!0){var u=G(u);if(u==-1)break;var y=Math.floor(u/H),O=m(u-y*H,y);for(var h=0;h<O.Bv.length-2;h+=2){var I=O.Bv[h],Z=O.Bv[h+1],L=Z*H+I;
if(I==O.Bv[h+2]&&Z+1==O.Bv[h+3]&&F[L]!=0)JX.fill(L,F,H,0)}if(O.X>C.BA)W.push(O)}for(var h=0;h<W.length;
h++)W[h].parent=-1;var Y=Date.now();for(var h=1;h<W.length;h++){var B=W[h];for(var X=h-1;X>=0;X--){var E=W[X];
if(B.BU<E.BU||B.BR>E.BR||B.Bl<E.Bl||B.BH>E.BH)continue;if(!JX.Ezk(E.Bv,B.Bv[0]+.5,B.Bv[1]+.5))continue;
B.parent=X;break}}return W}function V(F,H){function w(o,s,z,k,b){this.x=o;this.y=s;this.Bp=z;this.Bf=k;
this.BP=b}function C(o,s){return(s+o)%s}function r(o,s,z,k){return o*k-z*s}function G(o,s,z,k){return o*z+s*k}function J(o,s,z){if(o<=z)return o<=s&&s<z;
else return o<=s||s<z}function m(o,s,z){var k=0;k+=s*o[0]*s;k+=s*o[1]*z;k+=s*o[2];k+=z*o[3]*s;k+=z*o[4]*z;
k+=z*o[5];k+=o[6]*s;k+=o[7]*z;k+=o[8];return k}function u(o,s,z){return s+o*(z-s)}function W(o,s,z,k){var b=Math.sign(z-o),T=-Math.sign(k-s);
return b*(z-o)-T*(k-s)}function y(o,s){return Math.sqrt(o*o+s*s)}function O(o,s,z,k,b){var T=1-o;return T*T*T*s+3*(T*T*o)*z+3*(o*o*T)*k+o*o*o*b}function h(o,s,z,k,b,T,l,$){var e=r(o,s,l,$),i=r(z,k,l,$),g=r(b,T,l,$),P=e-2*i+g,n=-2*e+2*i,p=e,t=n*n-4*P*p;
if(P==0||t<0)return-1;var x=Math.sqrt(t),D=(-n+x)/(2*P),Gp=(-n-x)/(2*P);if(D>=0&&D<=1)return D;else if(Gp>=0&&Gp<=1)return Gp;
else return-1}function I(c){var E,o,s;c.BD=c.Bv[0];c.Bt=c.Bv[1];c.BM=[];var z=c.BM;z.push(new w(0,0,0,0,0));
for(E=0;E<c.BG;E++){o=c.Bv[E<<1]-c.BD;s=c.Bv[(E<<1)+1]-c.Bt;z.push(new w(z[E].x+o,z[E].y+s,z[E].Bp+o*s,z[E].Bf+o*o,z[E].BP+s*s))}}function Z(c){var o=c.BG,s=c.Bv,z,k=new Array(o),b=new Array(o),T=new Array(4),l,$,e,i,g,P,n,p,t,x,D,E,Gp,zY,zi,zI,z$,zK,ze=0;
c.Bj=new Array(o);for(E=o-1;E>=0;E--){if(s[E<<1]!=s[ze<<1]&&s[(E<<1)+1]!=s[(ze<<1)+1])ze=E+1;b[E]=ze}for(E=o-1;
E>=0;E--){var zq=C(E+1,o)<<1;T[0]=T[1]=T[2]=T[3]=0;z=(3+3*(s[zq]-s[E<<1])+(s[zq+1]-s[(E<<1)+1]))/2;T[z]++;
l=0;$=0;e=0;i=0;ze=b[E];zY=E;while(1){D=0;z=(3+3*Math.sign(s[ze*2]-s[zY*2])+Math.sign(s[ze*2+1]-s[zY*2+1]))/2;
T[z]++;if(T[0]&&T[1]&&T[2]&&T[3]){k[E]=zY;D=1;break}t=s[ze*2]-s[E*2];x=s[ze*2+1]-s[E*2+1];if(r(l,$,t,x)<0||r(e,i,t,x)>0){break}if(Math.abs(t)<=1&&Math.abs(x)<=1){}else{g=t+(x>=0&&(x>0||t<0)?1:-1);
P=x+(t<=0&&(t<0||x<0)?1:-1);if(r(l,$,g,P)>=0){l=g;$=P}g=t+(x<=0&&(x<0||t<0)?1:-1);P=x+(t>=0&&(t>0||x<0)?1:-1);
if(r(e,i,g,P)<=0){e=g;i=P}}zY=ze;ze=b[zY];if(!J(ze,E,zY)){break}}if(D==0){n=Math.sign(s[ze*2]-s[zY*2]);
p=Math.sign(s[ze*2+1]-s[zY*2+1]);t=s[zY*2]-s[E*2];x=s[zY*2+1]-s[E*2+1];zi=r(l,$,t,x);zI=r(l,$,n,p);z$=r(e,i,t,x);
zK=r(e,i,n,p);Gp=1e7;if(zI<0){Gp=Math.floor(zi/-zI)}if(zK>0){Gp=Math.min(Gp,Math.floor(-z$/zK))}k[E]=C(zY+Gp,o)}}Gp=k[o-1];
c.Bj[o-1]=Gp;for(E=o-2;E>=0;E--){if(J(E+1,k[E],Gp)){Gp=k[E]}c.Bj[E]=Gp}for(E=o-1;J(C(E+1,o),Gp,c.Bj[E]);
E--){c.Bj[E]=Gp}}function L(c){function o(c,E,s){var b=c.BG,t=c.Bv,x=c.BM,D,Gp,zY,zi,zI,k,z$,zK,p,ze,zq,zB,zN,zQ,z_=0;
if(s>=b){s-=b;z_=1}if(z_==0){D=x[s+1].x-x[E].x;Gp=x[s+1].y-x[E].y;zi=x[s+1].Bf-x[E].Bf;zY=x[s+1].Bp-x[E].Bp;
zI=x[s+1].BP-x[E].BP;k=s+1-E}else{D=x[s+1].x-x[E].x+x[b].x;Gp=x[s+1].y-x[E].y+x[b].y;zi=x[s+1].Bf-x[E].Bf+x[b].Bf;
zY=x[s+1].Bp-x[E].Bp+x[b].Bp;zI=x[s+1].BP-x[E].BP+x[b].BP;k=s+1-E+b}zq=(t[E<<1]+t[s<<1])/2-t[0];zB=(t[(E<<1)+1]+t[(s<<1)+1])/2-t[1];
zQ=t[s<<1]-t[E<<1];zN=-(t[(s<<1)+1]-t[(E<<1)+1]);z$=(zi-2*D*zq)/k+zq*zq;zK=(zY-D*zB-Gp*zq)/k+zq*zB;p=(zI-2*Gp*zB)/k+zB*zB;
ze=zN*zN*z$+2*zN*zQ*zK+zQ*zQ*p;return Math.sqrt(ze)}var E,s,z,k,b=c.BG,T=new Array(b+1),l=new Array(b+1),$=new Array(b),e=new Array(b+1),i=new Array(b+1),g=new Array(b+1),P,n,p;
for(E=0;E<b;E++){p=C(c.Bj[C(E-1,b)]-1,b);if(p==E){p=C(E+1,b)}if(p<E){$[E]=b}else{$[E]=p}}s=1;for(E=0;
E<b;E++){while(s<=$[E]){e[s]=E;s++}}E=0;for(s=0;E<b;s++){i[s]=E;E=$[E]}i[s]=b;z=s;E=b;for(s=z;s>0;s--){g[s]=E;
E=e[E]}g[0]=0;T[0]=0;for(s=1;s<=z;s++){for(E=g[s];E<=i[s];E++){n=-1;for(k=i[s-1];k>=e[E];k--){P=o(c,k,E)+T[k];
if(n<0||P<n){l[E]=k;n=P}}T[E]=n}}c.qR=z;c.Ba=new Array(z);for(E=b,s=z-1;E>0;s--){E=l[E];c.Ba[s]=E}}function Y(c){function o(c,E,P,$,e,zw){var k=c.BG,zy=c.BM,zu=0,p;
while(P>=k){P-=k;zu+=1}while(E>=k){E-=k;zu-=1}while(P<0){P+=k;zu-=1}while(E<0){E+=k;zu+=1}var zd=zy[P+1].x-zy[E].x+zu*zy[k].x,zO=zy[P+1].y-zy[E].y+zu*zy[k].y,zF=zy[P+1].Bf-zy[E].Bf+zu*zy[k].Bf,zX=zy[P+1].Bp-zy[E].Bp+zu*zy[k].Bp,Gn=zy[P+1].BP-zy[E].BP+zu*zy[k].BP,n=P+1-E+zu*k;
$[zw]=zd/n;$[zw+1]=zO/n;var GE=(zF-zd*zd/n)/n,Gm=(zX-zd*zO/n)/n,GJ=(Gn-zO*zO/n)/n,Gz=(GE+GJ+Math.sqrt((GE-GJ)*(GE-GJ)+4*Gm*Gm))/2;
GE-=Gz;GJ-=Gz;if(Math.abs(GE)>=Math.abs(GJ)){p=Math.sqrt(GE*GE+Gm*Gm);if(p!=0){e[zw]=-Gm/p;e[zw+1]=GE/p}}else{p=Math.sqrt(GJ*GJ+Gm*Gm);
if(p!=0){e[zw]=-GJ/p;e[zw+1]=Gm/p}}if(p==0){e[zw]=e[zw+1]=0}}var s=c.qR,z=c.Ba,k=c.BG,b=c.Bv,T=c.BD,l=c.Bt,$=new Array(s*2),e=new Array(s*2),i=new Array(s),g=new Array(3),E,P,n,p,Gp,zY,zi,zI,z$,zK,ze;
c.Bo=new M(s);for(E=0;E<s;E++){P=z[C(E+1,s)];P=C(P-z[E],k)+z[E];$[E<<1]=0;$[(E<<1)+1]=0;e[E<<1]=0;e[(E<<1)+1]=0;
o(c,z[E],P,$,e,E<<1)}for(E=0;E<s;E++){i[E]=[0,0,0,0,0,0,0,0,0];var t=e[E<<1]*e[E<<1]+e[(E<<1)+1]*e[(E<<1)+1],x=1/t;
if(t!=0){g[0]=e[(E<<1)+1];g[1]=-e[E<<1];g[2]=-g[1]*$[(E<<1)+1]-g[0]*$[E<<1];for(p=0;p<3;p++){i[E][p*3+0]=g[p]*g[0]*x;
i[E][p*3+1]=g[p]*g[1]*x;i[E][p*3+2]=g[p]*g[2]*x}}}var D=[0,0,0,0,0,0,0,0,0];for(E=0;E<s;E++){D[0]=D[1]=D[2]=D[3]=D[4]=D[5]=D[6]=D[7]=D[8]=D[9]=0;
var zq=b[z[E]<<1]-T,zB=b[(z[E]<<1)+1]-l,zN=0,zQ=0;P=C(E-1,s);for(p=0;p<9;p+=3){D[p+0]=i[P][p+0]+i[E][p+0];
D[p+1]=i[P][p+1]+i[E][p+1];D[p+2]=i[P][p+2]+i[E][p+2]}while(1){var z_=D[0]*D[4]-D[1]*D[3];if(z_!=0){zN=(-D[2]*D[4]+D[5]*D[0])/z_;
zQ=(D[2]*D[3]-D[5]*D[0])/z_;break}if(D[0]>D[4]){g[0]=-D[1];g[1]=D[0]}else if(D[4]){g[0]=-D[4];g[1]=D[3]}else{g[0]=1;
g[1]=0}var t=g[0]*g[0]+g[1]*g[1],x=1/t;g[2]=-g[1]*zB-g[0]*zq;for(p=0;p<3;p++){D[p*3+0]+=g[p]*g[0]*x;
D[p*3+1]+=g[p]*g[1]*x;D[p*3+2]+=g[p]*g[2]*x}}Gp=Math.abs(zN-zq);zY=Math.abs(zQ-zB);if(Gp<=.5&&zY<=.5){c.Bo.BT[E<<1]=zN+T;
c.Bo.BT[(E<<1)+1]=zQ+l;continue}zi=m(D,zq,zB);z$=zq;zK=zB;if(D[0]!=0){for(ze=0;ze<2;ze++){zQ=zB-.5+ze;
zN=-(D[1]*zQ+D[2])/D[0];Gp=Math.abs(zN-zq);zI=m(D,zN,zQ);if(Gp<=.5&&zI<zi){zi=zI;z$=zN;zK=zQ}}}if(D[4]!=0){for(ze=0;
ze<2;ze++){zN=zq-.5+ze;zQ=-(D[3]*zN+D[5])/D[4];zY=Math.abs(zQ-zB);zI=m(D,zN,zQ);if(zY<=.5&&zI<zi){zi=zI;
z$=zN;zK=zQ}}}for(p=0;p<2;p++){for(n=0;n<2;n++){zN=zq-.5+p;zQ=zB-.5+n;zI=m(D,zN,zQ);if(zI<zi){zi=zI;
z$=zN;zK=zQ}}}c.Bo.BT[E<<1]=z$+T;c.Bo.BT[(E<<1)+1]=zK+l}}function B(c){var o=c.Bo.Br,s=c.Bo,E,z,k,b,T,l,$,e,i;
for(E=0;E<o;E++){z=C(E+1,o);k=C(E+2,o);var g=s.BT[E<<1],P=s.BT[(E<<1)+1],n=s.BT[k<<1],p=s.BT[(k<<1)+1],t=s.BT[z<<1],x=s.BT[(z<<1)+1],D=u(.5,n,t),Gp=u(.5,p,x);
T=W(g,P,n,p);if(T!=0){b=r(t-g,x-P,n-g,p-P)/T;b=Math.abs(b);l=b>1?1-1/b:0;l=l*(1/.75)}else{l=4/3}s.Bs[z]=l;
var zY=3*z<<1;if(l>=H.BV){s.BW[z]=0;s.ei[zY+0]=s.ei[zY+1]=0;s.ei[zY+2]=t;s.ei[zY+3]=x;s.ei[zY+4]=D;s.ei[zY+5]=Gp}else{if(l<.55){l=.55}else if(l>1){l=1}var zi=.5+.5*l;
s.BW[z]=1;s.ei[zY]=u(zi,g,t);s.ei[zY+1]=u(zi,P,x);s.ei[zY+2]=u(zi,n,t);s.ei[zY+3]=u(zi,p,x);s.ei[zY+4]=D;
s.ei[zY+5]=Gp}s.alpha[z]=l;s.Bc[z]=.5}s.BC=1}function X(c){function o(){this.Bk=0;this.Bb=0;this.BL=0;
this.BZ=0;this.BY=0;this.l$=0;this.eD=0;this.alpha=0}function s(c,E,g,GG,Go,zI,z$){var k=c.Bo.Br,Gv=c.Bo.ei,GU=c.Bo.BT;
if(E==g)return 1;var Gl=E,t=C(E+1,k),GH=C(Gl+1,k),zF=GU[E<<1],zX=GU[(E<<1)+1],Gr=GU[t<<1],GW=GU[(t<<1)+1],Gh=zI[GH];
if(Gh==0)return 1;var GT=y(zF-Gr,zX-GW);for(Gl=GH;Gl!=g;Gl=GH){var GH=C(Gl+1,k),Gs=C(Gl+2,k),Gc=GU[GH<<1],GA=GU[(GH<<1)+1],Gg=GU[Gs<<1],Gx=GU[(Gs<<1)+1];
if(zI[GH]!=Gh)return 1;if(Math.sign(r(Gr-zF,GW-zX,Gg-Gc,Gx-GA))!=Gh)return 1;if(G(Gr-zF,GW-zX,Gg-Gc,Gx-GA)<GT*y(Gc-Gg,GA-Gx)*-.999847695156)return 1}var Jy=C(E,k)*3+2<<1,Gf=C(E+1,k)<<1,GP=C(g,k)<<1,GD=C(g,k)*3+2<<1,z_=Gv[Jy],zw=Gv[Jy+1],Gt=GU[Gf],GM=GU[Gf+1],Gj=GU[GP],Ga=GU[GP+1],GV=Gv[GD],GC=Gv[GD+1],zK=GU[0],ze=GU[1];
Jy=g*3+2<<1;var GS=Gv[Jy],Gk=Gv[Jy+1],x=z$[g]-z$[E];x-=r(GS-zK,Gk-ze,GS-zK,Gk-ze)/2;if(E>=g){x+=z$[k]}var Gb=Gt-z_,GZ=GM-zw,GY=Gj-z_,Gi=Ga-zw,GI=GV-z_,G$=GC-zw,GK=r(Gb,GZ,GY,Gi),Ge=r(Gb,GZ,GI,G$),Gq=r(GY,Gi,GI,G$),GB=GK+Gq-Ge;
if(Ge==GK)return 1;var zi=Gq/(Gq-GB),zY=Ge/(Ge-GK),GN=Ge*zi/2;if(GN==0)return 1;var GQ=x/GN,D=2-Math.sqrt(4-GQ/.3);
GG.Bb=u(zi*D,z_,Gt);GG.BL=u(zi*D,zw,GM);GG.BZ=u(zY*D,GV,Gj);GG.BY=u(zY*D,GC,Ga);GG.alpha=D;GG.l$=zi;
GG.eD=zY;Gt=GG.Bb;GM=GG.BL;Gj=GG.BZ;Ga=GG.BY;GG.Bk=0;for(Gl=C(E+1,k);Gl!=g;Gl=GH){GH=C(Gl+1,k);var G_=GU[Gl<<1],Gw=GU[(Gl<<1)+1],Gc=GU[GH<<1],GA=GU[(GH<<1)+1];
zi=h(Gt-z_,GM-zw,Gj-Gt,Ga-GM,GV-Gj,GC-Ga,Gc-G_,GA-Gw);if(zi<-.5)return 1;var Gy=O(zi,z_,Gt,Gj,GV),Gu=O(zi,zw,GM,Ga,GC),GT=y(Gc-G_,GA-Gw);
if(GT==0)return 1;var Gd=r(Gc-G_,GA-Gw,Gy-G_,Gu-Gw)/GT;if(Math.abs(Gd)>Go)return 1;if(G(Gc-G_,GA-Gw,Gy-G_,Gu-Gw)<0||G(G_-Gc,Gw-GA,Gy-Gc,Gu-GA)<0){return 1}GG.Bk+=Gd*Gd}for(Gl=E;
Gl!=g;Gl=GH){GH=C(Gl+1,k);var Jy=Gl*3+2<<1,Gf=GH*3+2<<1,GO=Gv[Jy],GF=Gv[Jy+1],GX=Gv[Gf],on=Gv[Gf+1];
zi=h(Gt-z_,GM-zw,Gj-Gt,Ga-GM,GV-Gj,GC-Ga,GX-GO,on-GF);if(zi<-.5)return 1;var Gy=O(zi,z_,Gt,Gj,GV),Gu=O(zi,zw,GM,Ga,GC),GT=y(GX-GO,on-GF);
if(GT==0)return 1;var Gd=r(GX-GO,on-GF,Gy-GO,Gu-GF)/GT,oE=r(GX-GO,on-GF,GU[GH<<1]-GO,GU[(GH<<1)+1]-GF)/GT;
oE*=.75*c.Bo.alpha[GH];if(oE<0){Gd=-Gd;oE=-oE}if(Gd<oE-Go)return 1;if(Gd<oE){GG.Bk+=(Gd-oE)*(Gd-oE)}}return 0}var z=c.Bo,k=z.Br,b=z.BT,T=new Array(k+1),l=new Array(k+1),$=new Array(k+1),e=new Array(k+1),i,E,g,P,n=new o,p,t,x,D,Gp,zY,zi,zI=new Array(k),z$=new Array(k+1);
for(E=0;E<k;E++){if(z.BW[E]=="CURVE"){var zK=b[C(E-1,k)<<1],ze=b[(C(E-1,k)<<1)+1],zq=b[E<<1],zB=b[(E<<1)+1],zN=b[C(E+1,k)<<1],zQ=b[(C(E+1,k)<<1)+1];
zI[E]=Math.sign(r(zq-zK,zB-ze,zN-zq,zQ-zB))}else{zI[E]=0}}x=0;z$[0]=0;var z_=z.BT[0],zw=z.BT[1];for(E=0;
E<k;E++){t=C(E+1,k);if(z.BW[t]=="CURVE"){D=z.alpha[t];var zy=E*3+2<<1,zu=t*3+2<<1,zd=z.ei[zy],zO=z.ei[zy+1],zF=b[t<<1],zX=b[(t<<1)+1],Gn=z.ei[zu],GE=z.ei[zu+1];
x+=.3*D*(4-D)*r(zF-zd,zX-zO,Gn-zd,GE-zO)/2;x+=r(zd-z_,zO-zw,Gn-z_,GE-zw)/2}z$[E+1]=x}T[0]=-1;l[0]=0;
$[0]=0;for(g=1;g<=k;g++){T[g]=g-1;l[g]=l[g-1];$[g]=$[g-1]+1;for(E=g-2;E>=0;E--){P=s(c,E,C(g,k),n,H.BS,zI,z$);
if(P){break}if($[g]>$[E]+1||$[g]==$[E]+1&&l[g]>l[E]+n.Bk){T[g]=E;l[g]=l[E]+n.Bk;$[g]=$[E]+1;e[g]=n;n=new o}}}i=$[k];
Gp=new M(i);zY=new Array(i);zi=new Array(i);g=k;for(E=i-1;E>=0;E--){var Gm=C(g,k),GJ=E*3+0<<1,Gz=Gm*3+0<<1;
if(T[g]==g-1){Gp.BW[E]=z.BW[Gm];Gp.ei[GJ]=z.ei[Gz];Gp.ei[GJ+1]=z.ei[Gz+1];Gp.ei[GJ+2]=z.ei[Gz+2];Gp.ei[GJ+3]=z.ei[Gz+3];
Gp.ei[GJ+4]=z.ei[Gz+4];Gp.ei[GJ+5]=z.ei[Gz+5];Gp.BT[E<<1]=z.BT[Gm<<1];Gp.BT[(E<<1)+1]=z.BT[(Gm<<1)+1];
Gp.alpha[E]=z.alpha[Gm];Gp.Bs[E]=z.Bs[Gm];Gp.Bc[E]=z.Bc[Gm];zY[E]=zi[E]=1}else{Gp.BW[E]="CURVE";Gp.ei[GJ]=e[g].Bb;
Gp.ei[GJ+1]=e[g].BL;Gp.ei[GJ+2]=e[g].BZ;Gp.ei[GJ+3]=e[g].BY;Gp.ei[GJ+4]=z.ei[Gz+4];Gp.ei[GJ+5]=z.ei[Gz+5];
Gp.BT[E<<1]=u(e[g].eD,z.ei[Gz+4],b[Gm<<1]);Gp.BT[(E<<1)+1]=u(e[g].eD,z.ei[Gz+5],b[(Gm<<1)+1]);Gp.alpha[E]=e[g].alpha;
Gp.Bs[E]=e[g].alpha;zY[E]=e[g].eD;zi[E]=e[g].l$}g=T[g]}for(E=0;E<i;E++){t=C(E+1,i);Gp.Bc[E]=zY[E]/(zY[E]+zi[t])}Gp.BC=1;
c.Bo=Gp}for(var E=0;E<F.length;E++){var c=F[E];I(c);Z(c);L(c);Y(c);B(c);if(H.Bx)X(c)}}return{BJ:q,Bz:V}}();
JX.Evo=function(A,M,q,V){var F={Bg:"minority",BA:V,Bx:!0,BV:1,BS:.2},H=JX.BJ(A,M,q,F);JX.Bz(H,F);return H};
JX.Eom=function(A){var M=[];for(var q=0;q<A.length;q++){var V=A[q],F=V.Bo,H=["M"],w=[F.ei[(F.Br-1)*6+4],F.ei[(F.Br-1)*6+5]];
for(var C=0;C<F.Br;C++){var r=C*6;if(F.BW[C]==1){H.push("C");for(var G=0;G<6;G++)w.push(F.ei[r+G])}else if(F.BW[C]==0){H.push("L");
for(var G=2;G<4;G++)w.push(F.ei[r+G])}}M.push({parent:V.parent,color:V.color,path:{G:w,qm:H}})}return M};
JX.ERO=function(A,M,q,V,F){function H(O){function h(r){var y="C "+(O.ei[r*3+0<<1]*M).toFixed(1)+" "+(O.ei[(r*3+0<<1)+1]*M).toFixed(1)+",";
y+=(O.ei[r*3+1<<1]*M).toFixed(1)+" "+(O.ei[(r*3+1<<1)+1]*M).toFixed(1)+",";y+=(O.ei[r*3+2<<1]*M).toFixed(1)+" "+(O.ei[(r*3+2<<1)+1]*M).toFixed(1)+" ";
return y}function I(r){var Y="L "+(O.ei[r*3+1<<1]*M).toFixed(1)+" "+(O.ei[(r*3+1<<1)+1]*M).toFixed(1)+" ";
Y+=(O.ei[r*3+2<<1]*M).toFixed(1)+" "+(O.ei[(r*3+2<<1)+1]*M).toFixed(1)+" ";return Y}var Z=O.Br,r,L="M"+(O.ei[(Z-1)*3+2<<1]*M).toFixed(1)+" "+(O.ei[((Z-1)*3+2<<1)+1]*M).toFixed(1)+" ";
for(r=0;r<Z;r++){if(O.BW[r]==1){L+=h(r)}else if(O.BW[r]==0){L+=I(r)}}return L}var q=q*M,V=V*M,w=A.length,C=[];
for(var r=0;r<256;r++)C.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var G="<svg id=\"svg\" version=\"1.1\" width=\""+q+"\" height=\""+V+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var r=0;r<w;r++){var J=F[A[r].color-1].EJe.EoI;if((J>>>24&255)==0)continue;G+="<path d=\"";var m=A[r].Bo;
G+=H(m);var u=J>>0&255,W=J>>8&255,y=J>>16&255,J="rgb("+u+","+W+","+y+")";G+="\" fill=\""+J+"\" fill-rule=\"evenodd\"/>"}G+="</svg>";
return G};JX.Ezk=function(A,M,q){var V=A.length>>1,F,H=A[2*V-3]-q,w=A[2*V-2]-M,C=A[2*V-1]-q,r=C>H,J=0;
for(var G=0;G<V;G++){F=w;H=C;w=A[2*G]-M;C=A[2*G+1]-q;if(H==C)continue;r=C>H}for(var G=0;G<V;G++){F=w;
H=C;w=A[2*G]-M;C=A[2*G+1]-q;if(H<0&&C<0)continue;if(H>0&&C>0)continue;if(F<0&&w<0)continue;if(H==C&&Math.min(F,w)<=0)return!0;
if(H==C)continue;var m=F+(w-F)*-H/(C-H);if(m==0)return!0;if(m>0)J++;if(H==0&&r&&C>H)J--;if(H==0&&!r&&C<H)J--;
r=C>H}return(J&1)==1};JX.fill=function(A,M,q,V){var F=M[A],H=[A],w=0;while(w<H.length){if(H.length>q*q*2)throw"e";
var C=H[w];w++;M[C]=V;if(M[C-q]==F){H.push(C-q);M[C-q]=254}if(M[C-1]==F){H.push(C-1);M[C-1]=254}if(M[C+1]==F){H.push(C+1);
M[C+1]=254}if(M[C+q]==F){H.push(C+q);M[C+q]=254}}};var v={};v.Rx=!1;v.Rp=!1;v.Rf=!1;v.vJ=document.createElement("canvas");
v.vz=null;v.RP=null;v.RD=0;(function(){var A={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},M;
if(!M)M=v.vJ.getContext("webgl",A);if(!M)M=v.vJ.getContext("experimental-webgl",A);if(M){v.Rx=!0;v.Rp=!0;
v.vz=M;v.RP=M.createFramebuffer();M.bindFramebuffer(M.FRAMEBUFFER,v.RP);M.disable(M.BLEND);M.disable(M.DEPTH_TEST);
var q=M.createBuffer();M.bindBuffer(M.ARRAY_BUFFER,q);M.bufferData(M.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),M.STATIC_DRAW);
M.enableVertexAttribArray(0);M.vertexAttribPointer(0,2,M.FLOAT,!1,0,0)}}());v.ElN=function(A){var M=v.vz;
if(A>M.getParameter(M.MAX_TEXTURE_SIZE)){v.Rx=!1;alert("Disabling WebGL")}};v.RM=function(A,M){return new Float32Array([(A.x-M.x)/M.n,(A.y-M.y)/M.J,A.n/M.n,A.J/M.J])};
v.Rj=function(){return this.vJ};v.Ra=function(A,M){var q=v.vz;q.bindFramebuffer(q.FRAMEBUFFER,v.RP);
q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,A.B$,0);q.viewport(0,0,A.n,A.J);
if(M){q.enable(q.SCISSOR_TEST);q.scissor(M.x,M.y,M.n,M.J)}else q.disable(q.SCISSOR_TEST)};v.RV=function(A,M,q){if(q)throw"error";
var V=v.vz;V.disable(V.SCISSOR_TEST);V.bindFramebuffer(V.FRAMEBUFFER,null);V.viewport(0,0,A,M);if(q){V.enable(V.SCISSOR_TEST);
V.scissor(q.x,q.y,Math.round(q.n),Math.round(q.J))}else V.disable(V.SCISSOR_TEST)};v.clear=function(){var A=v.vz;
A.clearColor(0,0,0,0);A.clear(A.COLOR_BUFFER_BIT)};v.mW=function(A,M){if(M==null)M=0;var q=(M>>0&255)==0,V=(M>>8&255)==0,F=(M>>16&255)==0,H=(M>>24&255)==0,w=(A>>0&255)*(1/255),C=(A>>8&255)*(1/255),r=(A>>16&255)*(1/255),G=(A>>24&255)*(1/255),J=v.vz;
J.colorMask(q,V,F,H);J.clearColor(w,C,r,G);J.clear(J.COLOR_BUFFER_BIT);J.colorMask(!0,!0,!0,!0)};v.mZ=function(A,M,q,V,F){var H=M.vt(V);
if(F)H=H.vt(F);if(H.zZ())return;var w=v.vz;v.Ra(A);w.bindTexture(w.TEXTURE_2D,q.B$);w.copyTexSubImage2D(w.TEXTURE_2D,0,H.x-V.x,H.y-V.y,H.x-M.x,H.y-M.y,H.n,H.J)};
v.EUy=function(A,M,q){var V=v.RS[A];if(V==null||V.n!=M||V.J!=q){if(V)V.delete();V=new v.JU(M,q)}v.RS[A]=V;
return V};v.RS=[];v.Rk=function(){this.BK=null;this.Pa=null};v.Rk.Rb=null;v.Rk.prototype.RL=function(A){if(this.Pa)return;
this.Pa={};var M=v.vz,q=this.BK,V=this.Pa;for(var F=0;F<A.length;F++){var H=A[F];V[H]=M.getUniformLocation(q,H)}};
v.Rk.prototype.RZ=function(){};v.Rk.prototype.CF=function(A,M){var q=v.vz,V=q.createShader(q.FRAGMENT_SHADER);
q.shaderSource(V,A);q.compileShader(V);if(!q.getShaderParameter(V,q.COMPILE_STATUS))console.log(q.getShaderInfoLog(V));
var F=q.createShader(q.VERTEX_SHADER);q.shaderSource(F,M);q.compileShader(F);if(!q.getShaderParameter(F,q.COMPILE_STATUS))console.log(q.getShaderInfoLog(F));
var H=q.createProgram();q.attachShader(H,F);q.attachShader(H,V);q.linkProgram(H);if(!q.getProgramParameter(H,q.LINK_STATUS))console.log("Could not initialise shaders");
this.BK=H};v.Rk.prototype.RY=function(){if(v.Rk.Rb!=this){v.vz.useProgram(this.BK);v.Rk.Rb=this}};v.Ri=function(A,M){v.R$++;
v.RD+=A*M;if(v.Rf)console.log("GL.Channels instances: "+v.R$+", memory: "+v.RD);var q=v.vz;this.n=A;
this.J=M;this.B$=q.createTexture();this.Be=null;this.RI(this.B$,A,M)};v.Ri.prototype.RI=function(A,M,q){var V=v.vz;
V.bindTexture(V.TEXTURE_2D,A);V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MIN_FILTER,V.NEAREST);V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MAG_FILTER,V.NEAREST);
V.texParameteri(V.TEXTURE_2D,V.TEXTURE_WRAP_S,V.CLAMP_TO_EDGE);V.texParameteri(V.TEXTURE_2D,V.TEXTURE_WRAP_T,V.CLAMP_TO_EDGE);
V.texImage2D(V.TEXTURE_2D,0,V.ALPHA,M,q,0,V.ALPHA,V.UNSIGNED_BYTE,null)};v.Ri.prototype.set=function(A){var M=v.vz;
M.bindTexture(M.TEXTURE_2D,this.B$);M.pixelStorei(M.UNPACK_ALIGNMENT,1);M.texImage2D(M.TEXTURE_2D,0,M.ALPHA,this.n,this.J,0,M.ALPHA,M.UNSIGNED_BYTE,A);
M.pixelStorei(M.UNPACK_ALIGNMENT,4)};v.Ri.prototype.delete=function(){var A=v.vz;if(this.B$){A.deleteTexture(this.B$);
v.R$--;v.RD-=this.n*this.J}if(v.Rf)if(v.Rf)console.log("GL.Channels instances: "+v.R$+", memory: "+v.RD*4)};
v.R$=0;v.JU=function(A,M){v.R$++;v.RD+=A*M*4;if(v.Rf)console.log("GL.Channels instances: "+v.R$+", memory: "+v.RD);
var q=v.vz;this.n=A;this.J=M;this.B$=q.createTexture();this.Be=null;this.RI(this.B$,A,M)};v.JU.prototype.set=function(A,M){var q=v.vz;
q.disable(q.SCISSOR_TEST);q.bindTexture(q.TEXTURE_2D,this.B$);if(A==null||A instanceof Uint8Array){var V=this.n*this.J;
if(M==null||M.X()*10>V)q.texImage2D(q.TEXTURE_2D,0,q.RGBA,this.n,this.J,0,q.RGBA,q.UNSIGNED_BYTE,A);
else{var F=Q.b(M.X()*4);Q.mL(A,new U(0,0,this.n,this.J),F,M);q.texSubImage2D(q.TEXTURE_2D,0,M.x,M.y,M.n,M.J,q.RGBA,q.UNSIGNED_BYTE,F)}}else q.texImage2D(q.TEXTURE_2D,0,q.RGBA,q.RGBA,q.UNSIGNED_BYTE,A)};
v.JU.prototype.get=function(A){var M=v.vz;v.Ra(this);M.readPixels(0,0,this.n,this.J,M.RGBA,M.UNSIGNED_BYTE,A)};
v.JU.prototype.RK=function(A){if(A.zZ())return;var M=v.vz;if(this.Be==null){this.Be=M.createTexture();
this.RI(this.Be,this.n,this.J);v.R$++;v.RD+=this.n*this.J*4}M.bindFramebuffer(M.FRAMEBUFFER,v.RP);M.bindTexture(M.TEXTURE_2D,this.Be);
if(A){var q=Math.max(A.x,0),V=Math.max(A.y,0);M.copyTexSubImage2D(M.TEXTURE_2D,0,q,V,q,V,A.n,A.J)}else M.copyTexImage2D(M.TEXTURE_2D,0,M.RGBA,0,0,this.n,this.J,0)};
v.JU.prototype.RI=function(A,M,q){var V=v.vz;V.bindTexture(V.TEXTURE_2D,A);V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MIN_FILTER,V.NEAREST);
V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MAG_FILTER,V.NEAREST);V.texParameteri(V.TEXTURE_2D,V.TEXTURE_WRAP_S,V.CLAMP_TO_EDGE);
V.texParameteri(V.TEXTURE_2D,V.TEXTURE_WRAP_T,V.CLAMP_TO_EDGE);V.texImage2D(V.TEXTURE_2D,0,V.RGBA,M,q,0,V.RGBA,V.UNSIGNED_BYTE,null)};
v.JU.prototype.delete=function(){var A=v.vz;if(this.B$){A.deleteTexture(this.B$);v.R$--;v.RD-=this.n*this.J*4}if(this.Be){A.deleteTexture(this.Be);
v.R$--;v.RD-=this.n*this.J*4}if(v.Rf)if(v.Rf)console.log("GL.Channels instances: "+v.R$+", memory: "+v.RD*4)};
v.JU.prototype.clone=function(){var A=v.vz,M=new v.JU(this.n,this.J);v.Ra(this);A.bindTexture(A.TEXTURE_2D,M.B$);
A.copyTexImage2D(A.TEXTURE_2D,0,A.RGBA,0,0,this.n,this.J,0);return M};v.Re={EUQ:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  return mix( ONE3 - min(ONE3,(ONE3-b)/(a*f+ONE3-f))    ,   ZERO3  , vec3(equal(a  ,ZERO3)) );  }  ",EGO:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",RN:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",EN:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",RQ:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Ee:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",EK:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",Js:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",EUN:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",mm:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",EzH:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",mE:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",Ry:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Ed:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",EF:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",EO:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",EX:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",mn:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }"};
v.my=function(A,M,q,V,F){if(v.my.Ru==null)v.my.Ru=new v.my.RO;var H=M.e.length;if(v.my.Rd["m"+H]==null){v.my.Rd["m"+H]={Bq:new v.JU(H,1),ej:Q.b(H*4)}}var w=v.my.Rd["m"+H];
Q.mr(M.e,w.ej,0);Q.mr(M.g,w.ej,1);Q.mr(M.$,w.ej,2);var C=w.Bq;C.set(w.ej);var r=v.my.Ru,G=v.vz;v.Ra(A,F);
A.RK(F);r.RY();r.RZ(A.Be,C.B$,q?1:0,V?1:0);G.drawArrays(G.TRIANGLES,0,6)};v.my.Ru=null;v.my.Rd={};v.my.RO=function(){v.Rk.call(this);
var A="\t\t\tprecision mediump float;\t\t\t"+v.Re.EK+"\t\t\t"+v.Re.RN+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}",M="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.CF(A,M)};v.my.RO.prototype=new v.Rk;v.my.RO.prototype.RZ=function(A,M,q,V){this.RL(["source","map","toGray","presLum"]);
var F=v.vz,H=this.Pa;F.uniform1f(H.toGray,q);F.uniform1f(H.presLum,V);F.uniform1i(H.source,0);F.uniform1i(H.map,1);
F.activeTexture(F.TEXTURE0);F.bindTexture(F.TEXTURE_2D,A);F.activeTexture(F.TEXTURE1);F.bindTexture(F.TEXTURE_2D,M);
F.activeTexture(F.TEXTURE0)};v.RF=function(A,M,q,V,F,H){if(v.RF.Ru==null){v.RF.Ru=new v.RF.RO;v.RF.RX=new v.JU(256,1);
v.RF.Hn=Q.b(256*4)}M.M=Q.b(256);var w=v.RF.Hn;Q.mU(M,w);var C=v.RF.RX;C.set(w);var r=v.RF.Ru,G=v.vz;
v.Ra(A,q);A.RK(q);r.RY();r.RZ(A.Be,C.B$,V,F,H);G.drawArrays(G.TRIANGLES,0,6)};v.RF.Ru=null;v.RF.RX=null;
v.RF.Hn=null;v.RF.RO=function(){v.Rk.call(this);var A="\t\t\tprecision mediump float;\t\t\t"+v.Re.EO+"\t\t\t"+v.Re.Ed+"\t\t\t"+v.Re.EF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float cfa; \t\t\tuniform float cfb; \t\t\tuniform int colorize; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = cfa*src.rgb + cfb*(1.0-src.rgb);\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\tfloat nh = mapv.r; \t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\tfloat ns; \t\t\t\tif(colorize==1) ns = sc; \t\t\t\telse {\t\t\t\t\tif(sc>0.0) sc = tan((3.14159265359/2.0)*sc);\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t} \t\t\t\t\t\t\t\tfloat alc = abs(lc); \t\t\t\t\t\t\t\tvec3 zrgb = hslToRgb(nh, min(1.0,ns*(1.0-alc)), l + (lc>0.0 ? 1.0 : -1.0)*min(l, 1.0-l)*s); \t\t\t\tvec3 nrgb = hslToRgb(nh, min(1.0,ns), l); \t\t\t\trgb = nrgb * (1.0-alc) + zrgb * alc; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",M="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.CF(A,M)};v.RF.RO.prototype=new v.Rk;v.RF.RO.prototype.RZ=function(A,M,q,V,F){this.RL(["source","map","cfa","cfb","colorize"]);
var H=v.vz,w=this.Pa;H.uniform1f(w.cfa,q);H.uniform1f(w.cfb,V);H.uniform1i(w.colorize,F);H.uniform1i(w.source,0);
H.uniform1i(w.map,1);H.activeTexture(H.TEXTURE0);H.bindTexture(H.TEXTURE_2D,A);H.activeTexture(H.TEXTURE1);
H.bindTexture(H.TEXTURE_2D,M);H.activeTexture(H.TEXTURE0)};v.HE=function(A,M,q,V){if(v.HE.Ru==null)v.HE.Ru=new v.HE.RO;
var F=v.HE.Ru,H=v.vz;v.Ra(A,V);A.RK(V);F.RY();F.RZ(A.Be,M,q);H.drawArrays(H.TRIANGLES,0,6)};v.HE.Ru=null;
v.HE.RO=function(){v.Rk.call(this);var A="\t\t\tprecision mediump float;\t\t\t"+v.Re.EO+"\t\t\t"+v.Re.EX+"\t\t\t"+v.Re.mn+"\t\t\t"+v.Re.Ed+"\t\t\t"+v.Re.EF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}",M="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.CF(A,M)};v.HE.RO.prototype=new v.Rk;v.HE.RO.prototype.RZ=function(A,M,q){this.RL(["source","vib","sat"]);
var V=v.vz,F=this.Pa;V.uniform1f(F.vib,M);V.uniform1f(F.sat,q);V.uniform1i(F.source,0);V.activeTexture(V.TEXTURE0);
V.bindTexture(V.TEXTURE_2D,A)};v.Hm=function(A,M,q){if(v.Hm.Ru==null){v.Hm.Ru=new v.Hm.RO}var V=v.Hm.Ru,F=v.vz;
v.Ra(A,q);A.RK(q);V.RY();V.RZ(A.Be,M);F.drawArrays(F.TRIANGLES,0,6)};v.Hm.Ru=null;v.Hm.RO=function(){v.Rk.call(this);
var A="\t\t\tprecision mediump float;\t\t\t"+v.Re.RN+"\t\t\t"+v.Re.EN+"\t\t\t"+v.Re.RQ+"\t\t\t"+v.Re.Ed+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",M="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.CF(A,M)};v.Hm.RO.prototype=new v.Rk;v.Hm.RO.prototype.RZ=function(A,M){this.RL(["source","cfs"]);
var q=v.vz,V=this.Pa;q.uniform3fv(V.cfs,M);q.uniform1i(V.source,0);q.activeTexture(q.TEXTURE0);q.bindTexture(q.TEXTURE_2D,A);
q.activeTexture(q.TEXTURE0)};v.HJ=function(A,M,q,V){if(v.HJ.Ru==null){v.HJ.Ru=new v.HJ.RO}var F=v.HJ.Ru,H=v.vz;
v.Ra(A,V);A.RK(V);F.RY();F.RZ(A.Be,M,q);H.drawArrays(H.TRIANGLES,0,6)};v.HJ.Ru=null;v.HJ.RO=function(){v.Rk.call(this);
var A="\t\t\tprecision mediump float;\t\t\t"+v.Re.EO+"\t\t\t"+v.Re.EN+"\t\t\t"+v.Re.RQ+"\t\t\t"+v.Re.Ed+"\t\t\t"+v.Re.EF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",M="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.CF(A,M)};v.HJ.RO.prototype=new v.Rk;v.HJ.RO.prototype.RZ=function(A,M,q){this.RL(["source","wght","prms"]);
var V=v.vz,F=this.Pa;V.uniform1fv(F.wght,new Float32Array(M));V.uniform1fv(F.prms,new Float32Array(q));
V.uniform1i(F.source,0);V.activeTexture(V.TEXTURE0);V.bindTexture(V.TEXTURE_2D,A);V.activeTexture(V.TEXTURE0)};
v.S={};v.S.Hz={};v.S.HG=null;v.S.Ho=null;v.S.Hv=null;v.S.HU=function(A,M,q,V,F,H,w,C){if(C==null)C=Ez.ag();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(A)==-1){w=w*C.fill;C.fill=1;C.style=!1}if(v.S.Hz[A]==null)v.S.Hz[A]=new v.S.RO(A);
var r=v.S.Hz[A],G=q.vt(F).vt(H);G.offset(-F.x,-F.y);if(G.zZ())return;var J=v.vz;v.Ra(V,G);V.RK(G);r.RY();
r.RZ(M.B$,V.Be,v.RM(q,F),w,C.fill,C.style?1:0,C.ea?1:0);J.drawArrays(J.TRIANGLES,0,6)};v.S.Hl=function(A,M,q,V,F,H,w,C,r,G){if(v.S.HG==null)v.S.HG=new v.S.Hr(!0,!0);
if(v.S.Ho==null)v.S.Ho=new v.S.Hr(!0,!1);if(v.S.Hv==null)v.S.Hv=new v.S.Hr(!1,!0);var J=G?1:0,m=A?F?v.S.HG:v.S.Ho:v.S.Hv,u=M?M.vt(V).vt(C):V.vt(C);
if(u.zZ())return;u.offset(-V.x,-V.y);var W=v.vz;v.Ra(q,u);q.RK(u);m.RY();if(A==null)m.RZ(null,q.Be,F.B$,v.RM(V,V),v.RM(H,V),w/255,r,J);
else if(F)m.RZ(A.B$,q.Be,F.B$,v.RM(M,V),v.RM(H,V),w/255,r,J);else m.RZ(A.B$,q.Be,null,v.RM(M,V),null,w/255,r,J);
W.drawArrays(W.TRIANGLES,0,6)};v.S.ERF=function(A,M,q){if(v.S.BB==null)v.S.BB=new v.S.HW;var V=v.S.BB,F=new U(0,0,A.n,A.J),H=v.vz;
v.Ra(M);M.RK(F);V.RY();V.RZ(F,A.B$,M.Be,q.B$);H.drawArrays(H.TRIANGLES,0,6)};v.S.HH={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-1.0)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
v.S.RO=function(A){v.Rk.call(this);var M="\t\t\tprecision mediump float;\t\t\t"+v.Re.RN+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+v.Re.Ee+"\t\t\t"+v.Re.EK+"\t\t\t"+v.Re.Js+"\t\t\t"+v.Re.EUQ+"\t\t\t"+v.Re.EGO+"\t\t\t"+v.Re.EUN+"\t\t\t"+v.Re.mm+"\t\t\t"+v.Re.EzH+"\t\t\t"+v.Re.mE+"\t\t\t"+v.Re.hash+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+v.S.HH[A]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",q="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(A=="diss")M+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else M+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.CF(M,q)};v.S.RO.prototype=new v.Rk;v.S.RO.prototype.RZ=function(A,M,q,V,F,H,w){this.RL("srct alpha source target fill style keepBGA".split(" "));
var C=v.vz,r=this.Pa;C.uniform4fv(r.srct,q);C.uniform1f(r.alpha,V);C.uniform1f(r.fill,F);C.uniform1f(r.style,H);
C.uniform1f(r.keepBGA,w);C.uniform1i(r.source,0);C.uniform1i(r.target,1);C.activeTexture(C.TEXTURE0);
C.bindTexture(C.TEXTURE_2D,A);C.activeTexture(C.TEXTURE1);C.bindTexture(C.TEXTURE_2D,M);C.activeTexture(C.TEXTURE0)};
v.S.Hr=function(A,M){v.Rk.call(this);this.EUx=A;this.BQ=M;var q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+v.Re.Ry+"\t\t\t"+v.Re.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(A?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(M?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(A?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",V="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.CF(q,V)};v.S.Hr.prototype=new v.Rk;v.S.Hr.prototype.RZ=function(A,M,q,V,F,H,w,C){if(this.BQ)this.RL("srct wrct wcolor awg dissv source target weight".split(" "));
else this.RL(["srct","awg","dissv","source","target"]);var r=v.vz,G=this.Pa;r.uniform4fv(G.srct,V);if(this.BQ){r.uniform4fv(G.wrct,F);
r.uniform1f(G.wcolor,H)}r.uniform1f(G.awg,w);r.uniform1f(G.dissv,C);r.uniform1i(G.source,0);r.uniform1i(G.target,1);
if(this.BQ)r.uniform1i(G.weight,2);r.activeTexture(r.TEXTURE0);r.bindTexture(r.TEXTURE_2D,A);r.activeTexture(r.TEXTURE1);
r.bindTexture(r.TEXTURE_2D,M);if(this.BQ){r.activeTexture(r.TEXTURE2);r.bindTexture(r.TEXTURE_2D,q)}r.activeTexture(r.TEXTURE0)};
v.S.HW=function(){v.Rk.call(this);var A="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",M="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.CF(A,M)};v.S.HW.prototype=new v.Rk;v.S.HW.prototype.RZ=function(A,M,q,V){this.RL(["rct","prev","next","alpha"]);
var F=v.vz,H=this.Pa;F.uniform4fv(H.rct,[0,0,1,1]);F.uniform1i(H.prev,0);F.uniform1i(H.next,1);F.uniform1i(H.alpha,2);
F.activeTexture(F.TEXTURE0);F.bindTexture(F.TEXTURE_2D,M);F.activeTexture(F.TEXTURE1);F.bindTexture(F.TEXTURE_2D,q);
F.activeTexture(F.TEXTURE2);F.bindTexture(F.TEXTURE_2D,V);F.activeTexture(F.TEXTURE0)};function f(A,M){if(!A)A=0;
if(!M)M=0;this.x=A;this.y=M}f.prototype.add=function(A){return new f(this.x+A.x,this.y+A.y)};f.prototype.clone=function(){return new f(this.x,this.y)};
f.prototype.Hh=function(A){this.x=A.x;this.y=A.y};f.prototype.mg=function(A){return this.x==A.x&&this.y==A.y};
f.prototype.normalize=function(A){var M=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=A/M;this.y*=A/M};
f.prototype.offset=function(A,M){this.x+=A;this.y+=M};f.prototype.HT=function(A,M){this.x=A;this.y=M};
f.prototype.Hs=function(A){return new f(this.x-A.x,this.y-A.y)};f.Hc=function(A,M){return f.EJX(A.x,A.y,M.x,M.y)};
f.oV=function(A,M,q){return new f(A.x+q*(M.x-A.x),A.y+q*(M.y-A.y))};f.EUS=function(A,M){return new f(A*Math.cos(M),A*Math.sin(M))};
f.EJX=function(A,M,q,V){return Math.sqrt((q-A)*(q-A)+(V-M)*(V-M))};f.Hx={};f.Hp={};f.Hx.create=function(){var A=new Float32Array(4);
return A};f.Hp.create=function(A){var M=new Float32Array(16);M[0]=M[5]=M[10]=M[15]=1;if(A)f.Hp.set(A,M);
return M};f.Hx.add=function(A,M,q){q[0]=A[0]+M[0];q[1]=A[1]+M[1];q[2]=A[2]+M[2];q[3]=A[3]+M[3]};f.Hx.set=function(A,M){M[0]=A[0];
M[1]=A[1];M[2]=A[2];M[3]=A[3]};f.Hp.set=function(A,M){M[0]=A[0];M[1]=A[1];M[2]=A[2];M[3]=A[3];M[4]=A[4];
M[5]=A[5];M[6]=A[6];M[7]=A[7];M[8]=A[8];M[9]=A[9];M[10]=A[10];M[11]=A[11];M[12]=A[12];M[13]=A[13];M[14]=A[14];
M[15]=A[15]};f.Hp.multiply=function(A,M,q){var V=A[0],F=A[1],H=A[2],w=A[3],C=A[4],r=A[5],G=A[6],J=A[7],m=A[8],u=A[9],W=A[10],y=A[11],O=A[12],h=A[13],I=A[14],Z=A[15],L=M[0],Y=M[1],B=M[2],X=M[3];
q[0]=L*V+Y*C+B*m+X*O;q[1]=L*F+Y*r+B*u+X*h;q[2]=L*H+Y*G+B*W+X*I;q[3]=L*w+Y*J+B*y+X*Z;L=M[4];Y=M[5];B=M[6];
X=M[7];q[4]=L*V+Y*C+B*m+X*O;q[5]=L*F+Y*r+B*u+X*h;q[6]=L*H+Y*G+B*W+X*I;q[7]=L*w+Y*J+B*y+X*Z;L=M[8];Y=M[9];
B=M[10];X=M[11];q[8]=L*V+Y*C+B*m+X*O;q[9]=L*F+Y*r+B*u+X*h;q[10]=L*H+Y*G+B*W+X*I;q[11]=L*w+Y*J+B*y+X*Z;
L=M[12];Y=M[13];B=M[14];X=M[15];q[12]=L*V+Y*C+B*m+X*O;q[13]=L*F+Y*r+B*u+X*h;q[14]=L*H+Y*G+B*W+X*I;q[15]=L*w+Y*J+B*y+X*Z;
return q};f.Hp.inverse=function(A,M){var q=A[0],V=A[1],F=A[2],H=A[3],w=A[4],C=A[5],r=A[6],G=A[7],J=A[8],m=A[9],u=A[10],W=A[11],y=A[12],O=A[13],h=A[14],I=A[15],Z=q*C-V*w,L=q*r-F*w,Y=q*G-H*w,B=V*r-F*C,X=V*G-H*C,E=F*G-H*r,c=J*O-m*y,o=J*h-u*y,s=J*I-W*y,z=m*h-u*O,k=m*I-W*O,b=u*I-W*h,T=Z*b-L*k+Y*z+B*s-X*o+E*c;
if(!T){return null}T=1/T;M[0]=(C*b-r*k+G*z)*T;M[1]=(F*k-V*b-H*z)*T;M[2]=(O*E-h*X+I*B)*T;M[3]=(u*X-m*E-W*B)*T;
M[4]=(r*s-w*b-G*o)*T;M[5]=(q*b-F*s+H*o)*T;M[6]=(h*Y-y*E-I*L)*T;M[7]=(J*E-u*Y+W*L)*T;M[8]=(w*k-C*s+G*c)*T;
M[9]=(V*s-q*k-H*c)*T;M[10]=(y*X-O*Y+I*Z)*T;M[11]=(m*Y-J*X-W*Z)*T;M[12]=(C*o-w*z-r*c)*T;M[13]=(q*z-V*o+F*c)*T;
M[14]=(O*L-y*B-h*Z)*T;M[15]=(J*B-m*L+u*Z)*T;return M};f.Hp.EGv=function(A,M,q){var V=M[0],F=M[1];q[0]=V*A[0]+F*A[4]+A[12];
q[1]=V*A[1]+F*A[5]+A[13]};f.Hp.EEw=function(A,M,q){var V=M[0],F=M[1],H=M[2],w=M[3];q[0]=A[0]*V+A[4]*F+A[8]*H+A[12]*w;
q[1]=A[1]*V+A[5]*F+A[9]*H+A[13]*w;q[2]=A[2]*V+A[6]*F+A[10]*H+A[14]*w;q[3]=A[3]*V+A[7]*F+A[11]*H+A[15]*w};
function zo(A,M,q,V,F,H){if(typeof A==="undefined"){A=1;M=0;q=0;V=1;F=0;H=0}this.M=A;this.$=M;this.ei=q;
this.e$=V;this.eI=F;this.eK=H}zo.prototype.HD=function(){return Math.sqrt(Math.abs(this.M*this.e$-this.$*this.ei))};
zo.prototype.Ht=function(A){return new f(A.x*this.M+A.y*this.ei+this.eI,A.x*this.$+A.y*this.e$+this.eK)};
zo.prototype.translate=function(A,M){this.eI+=A;this.eK+=M};zo.prototype.rotate=function(A){var M=new zo(Math.cos(A),-Math.sin(A),Math.sin(A),Math.cos(A),0,0);
this.concat(M)};zo.prototype.scale=function(A,M){var q=new zo(A,0,0,M,0,0);this.concat(q)};zo.prototype.concat=function(A){this.Hh(new zo(this.M*A.M+this.$*A.ei,this.M*A.$+this.$*A.e$,this.ei*A.M+this.e$*A.ei,this.ei*A.$+this.e$*A.e$,this.eI*A.M+this.eK*A.ei+A.eI,this.eI*A.$+this.eK*A.e$+A.eK))};
zo.prototype.mx=function(){var A=this.M*this.e$-this.$*this.ei;this.Hh(new zo(this.e$/A,-this.$/A,-this.ei/A,this.M/A,(this.ei*this.eK-this.e$*this.eI)/A,(this.$*this.eI-this.M*this.eK)/A))};
zo.prototype.clone=function(){return new zo(this.M,this.$,this.ei,this.e$,this.eI,this.eK)};zo.prototype.Hh=function(A){this.M=A.M;
this.$=A.$;this.ei=A.ei;this.e$=A.e$;this.eI=A.eI;this.eK=A.eK};function zl(){}zl.HM=function(A,M,q,V){var F=q,H=K.WE(A,q);
q+=4+2*H.length;if(H!="\0")M.__name=H;if(V)console.log("---------------------",H,H.length);M.classID=zl.HC(A,q);
if(V)console.log("- reading descriptor",M.classID,q);q+=4+Math.max(4,M.classID.length);var w=K.Wg(A,q);
q+=4;if(V)console.log(3,q);for(var C=0;C<w;C++){var r=zl.HC(A,q);q+=4+Math.max(4,r.length);if(V)console.log(r);
var G=zl.Ha(A,q,V);M[r]=G;q+=G.size;delete G.size}return q-F};zl.Hj=function(A,M,q,V){var F=q,H=M.__name;
if(H==null)H="\0";K.WJ(A,q,H);q+=4+2*H.length;zl.HS(A,q,M.classID);q+=4+Math.max(4,M.classID.length);
K.Wp(A,q,Object.keys(M).length-1-(M.__name==null?0:1));q+=4;for(var w in M){if(w=="classID")continue;
if(w=="__name")continue;zl.HS(A,q,w);q+=4+Math.max(4,w.length);q+=zl.HV(A,q,M[w])}return q-F};zl.Ha=function(A,M,q){var V=M,F=K.Wo(A,M,4);
M+=4;var H={size:0,t:F,v:null};if(q)console.log("reading key",F,V);switch(F){case"obj ":case"VlLs":H.v=[];
var w=K.d(A,M);M+=4;for(var C=0;C<w;C++){var r=zl.Ha(A,M,q);M+=r.size;delete r.size;H.v.push(r)}break;
case"Enmr":var G=K.WE(A,M);M+=4+G.length*2;var J=zl.HC(A,M);M+=4+Math.max(4,J.length);var m=zl.HC(A,M);
M+=4+Math.max(4,m.length);var u=zl.HC(A,M);M+=4+Math.max(4,u.length);H.v={class:J,type:m,enum:u};break;
case"UntF":H.v={type:K.Wo(A,M,4),val:K.WL(A,M+4)};M+=12;break;case"doub":H.v=K.WL(A,M);M+=8;break;case"bool":H.v=A[M]==1;
M+=1;break;case"long":H.v=K.Wg(A,M);M+=4;break;case"Objc":H.v={};var W=zl.HM(A,H.v,M,q);M+=W;break;case"TEXT":H.v=K.WE(A,M);
M+=4+H.v.length*2;H.v=H.v.substring(0,H.v.length-1);break;case"enum":var m=zl.HC(A,M);M+=4+Math.max(4,m.length);
var y=zl.HC(A,M);M+=4+Math.max(4,y.length);H.v={};H.v[m]=y;break;case"tdta":var O=K.Wg(A,M);M+=4;H.v=K.hE(A,M,O);
M+=O;break;case"ObAr":var h=K.d(A,M);M+=4;var I=K.WE(A,M);M+=4+2*I.length;var Z=zl.HC(A,M);M+=4+Math.max(4,Z.length);
H.v={classID:Z,arr:[]};var L=K.d(A,M);M+=4;for(var C=0;C<L;C++){var Z=zl.HC(A,M);M+=4+Math.max(4,Z.length);
var m=K.Wo(A,M,4);M+=4;var Y=K.Wo(A,M,4);M+=4;var B={id:Z,type:m,uID:Y,arr:[]};H.v.arr.push(B);var X=K.d(A,M,4);
M+=4;for(var E=0;E<X;E++){var c=K.WL(A,M);M+=8;B.arr.push(c)}}break;default:{console.log("unknown oskey: "+F+", "+V);
return H}}if(q)console.log(H.v,V);H.size=M-V;return H};zl.HV=function(A,M,q){var V=M,F=q.t;q=q.v;K.WU(A,M,F);
M+=4;switch(F){case"obj ":case"VlLs":K.Wp(A,M,q.length);M+=4;for(var H=0;H<q.length;H++){var w=zl.HV(A,M,q[H]);
M+=w}break;case"Enmr":K.WJ(A,M,"\0");M+=6;zl.HS(A,M,q.class);M+=4+Math.max(4,q.class.length);zl.HS(A,M,q.type);
M+=4+Math.max(4,q.type.length);zl.HS(A,M,q.enum);M+=4+Math.max(4,q.enum.length);break;case"UntF":K.WU(A,M,q.type);
K.WY(A,M+4,q.val);M+=12;break;case"doub":K.WY(A,M,q);M+=8;break;case"bool":K.hG(A,M,q?1:0,1);M+=1;break;
case"long":K.Wp(A,M,q);M+=4;break;case"Objc":var w=zl.Hj(A,q,M);M+=w;break;case"TEXT":K.WJ(A,M,q+"\0");
M+=4+q.length*2+2;break;case"enum":var C=Object.keys(q)[0],r=q[C];zl.HS(A,M,C);M+=4+Math.max(4,C.length);
zl.HS(A,M,r);M+=4+Math.max(4,r.length);break;case"tdta":K.Wj(A,M,q.length);M+=4;K.hJ(A,M,q);M+=q.length;
break;case"ObAr":K.Wj(A,M,q.arr[0].arr.length);M+=4;K.WJ(A,M,"\0");M+=6;zl.HS(A,M,q.classID);M+=4+Math.max(4,q.classID.length);
K.Wj(A,M,q.arr.length);M+=4;for(var G=0;G<q.arr.length;G++){var J=q.arr[G];zl.HS(A,M,J.id);M+=4+Math.max(4,J.id.length);
K.WU(A,M,J.type);M+=4;K.WU(A,M,J.uID);M+=4;K.Wj(A,M,J.arr.length);M+=4;for(var H=0;H<J.arr.length;H++){K.WY(A,M,J.arr[H]);
M+=8}}break;default:console.log("unknown oskey: "+F);M=V;break}return M-V};zl.HC=function(A,M){var q=K.Wg(A,M);
if(q>1e3)return"blbost...";if(q==0)q=4;return K.Wo(A,M+4,q).trim()};zl.HS=function(A,M,q){if(q.length<=4&&q!="warp"&&q!="list"&&q!="Comp")K.Wp(A,M,0);
else K.Wp(A,M,q.length);K.WU(A,M+4,q);if(q.length<4){var V="";for(var F=q.length;F<4;F++)V+=" ";K.WU(A,M+4+q.length,V)}};
zl.EGe=function(A){var M={};for(var q in A){if(q=="classID")M[q]=A[q];else if(q=="__name")M[q]=A[q];
else M[q]=zl.Hb(A[q])}return M};zl.Hb=function(A){if(A.l$=="Objc")return zl.EGe(A.v);else if(A.l$=="VlLs"){var M=[];
for(var q=0;q<A.v.length;q++)M.push(zl.Hb(A.v[q]));return M}else if(A.l$=="UntF")return A.v.val;else return A.v};
function zP(){}zP.HL=function(A,M,q,V,F,H){while(M<q){var w=K.Wo(A,M,4);M+=4;if(w!="8BIM"&&w!="8B64"){console.log("layer information signature error! "+w,"PSB = "+F);
alert("Error in Photoshop file: wrong signature.");throw"e"}var C=K.Wo(A,M,4);M+=4;var r=K.Wg(A,M);M+=4;
if(F&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD".split(" ").indexOf(C)!=-1){r=r<<32|K.Wg(A,M);
M+=4}if(F&&["pths"].indexOf(C)!=-1){r=r<<32|K.Wg(A,M);M+=4}var G=["lrFX","PlLd"];if(G.indexOf(C)!=-1){if(r%4!=0)r+=4-r%4;
M+=r;continue}switch(C){case"iOpa":V[C]=A[M];break;case"brst":V[C]=[1,1,1];for(var J=0;J<r;J+=4)V[C][K.d(A,M+J)]=0;
break;case"knko":V[C]=A[M];break;case"infx":V[C]=A[M];break;case"clbl":V[C]=A[M];break;case"lmgm":V[C]=A[M];
break;case"vmgm":V[C]=A[M];break;case"lyid":V[C]=K.d(A,M);break;case"lsct":V[C]={type:K.d(A,M)};if(r>=12)V[C].B_=K.Wo(A,M+8,4);
break;case"lsdk":V.lsct={type:K.d(A,M)};break;case"lyvr":V[C]=K.d(A,M);break;case"lnsr":V[C]=K.Wo(A,M,4);
break;case"lspf":V[C]=K.d(A,M);break;case"lclr":V[C]=K.WR(A,M);break;case"luni":V[C]=K.WE(A,M);break;
case"fxrp":V[C]=new f(K.WL(A,M),K.WL(A,M+8));break;case"artb":case"artd":V[C]={};zl.HM(A,V[C],M+4);break;
case"SoCo":V[C]={};zl.HM(A,V[C],M+4);break;case"GdFl":V[C]={};zl.HM(A,V[C],M+4);zP.HI(V[C],C);break;
case"PtFl":V[C]={};zl.HM(A,V[C],M+4);zP.HI(V[C],C);break;case"CgEd":V[C]={};zl.HM(A,V[C],M+4);break;
case"brit":V[C]={};V[C].Bw=K.Ws(A,M);V[C].By=K.Ws(A,M+2);V[C].Bu=K.Ws(A,M+4);V[C].Bd=A[M+6];break;case"levl":var m=A.buffer.slice(M,M+r);
V[C]=zV.H$(m);break;case"curv":V[C]=zS.rS(A,M,r);break;case"expA":var u=K.WR(A,M);V[C]=[K.Wi(A,M+2),K.Wi(A,M+6),K.Wi(A,M+10)];
break;case"vibA":V[C]={};zl.HM(A,V[C],M+4);break;case"hue2":V[C]=zE.rS(A,M,r);break;case"blnc":V[C]={BO:[],EK:A[M+18]==1};
for(var J=0;J<3;J++){var W=[];V[C].BO.push(W);for(var y=0;y<3;y++)W.push(K.Ws(A,M+J*6+y*2))}break;case"blwh":V[C]={};
zl.HM(A,V[C],M+4);break;case"phfl":V[C]={};var u=K.WR(A,M);if(u==3)V[C].BF=[K.Wi(A,M+2),K.Wi(A,M+6),K.Wi(A,M+10)];
if(u==2)V[C].color={BX:K.WR(A,M+2),lI:[K.Ws(A,M+4),K.Ws(A,M+6),K.Ws(A,M+8),K.Ws(A,M+10)]};var O=M+2+(u==3?12:10);
V[C].Nn=K.d(A,O);O+=4;V[C].NE=A[O]==1;break;case"mixr":V[C]={Nm:K.WR(A,M+2)==1,o:[]};for(var J=0;J<20;
J++)V[C].o.push(K.Ws(A,M+4+J*2));break;case"clrL":V[C]={};zl.HM(A,V[C],M+6);break;case"nvrt":V[C]=1;
break;case"post":V[C]=K.WR(A,M);break;case"thrs":V[C]=K.WR(A,M);break;case"grdm":var h={Clrs:{t:"VlLs",v:[]},GrdF:{l$:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:""},Trns:{t:"VlLs",v:[]}};
V[C]={rev:A[M+2]==1,NJ:A[M+3]==1,r:h};var I=M+4;h.Nm.v=K.WE(A,I);I+=4+h.Nm.v.length*2;var Z=K.WR(A,I);
I+=2;for(var J=0;J<Z;J++){var L=K.d(A,I),Y=K.d(A,I+4),B=K.WR(A,I+8);if(B!=0)console.log("Unknown mode of color in Gradient Map adjustment layer");
var X=[];for(var y=0;y<4;y++)X.push(255*K.WR(A,I+10+y*2)/65535);var E={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:X[0]},Grn:{t:"doub",v:X[1]},Bl:{t:"doub",v:X[2]}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:L},Mdpn:{t:"long",v:Y}}};
h.Clrs.v.push(E);I+=20}var c=K.WR(A,I);I+=2;for(var J=0;J<c;J++){var L=K.d(A,I),Y=K.d(A,I+4),o=K.WR(A,I+8),E={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*o/255)}},Lctn:{t:"long",v:L},Mdpn:{t:"long",v:Y}}};
h.Trns.v.push(E);I+=10}var s=K.WR(A,I);I+=2;h.Intr.v=K.WR(A,I);I+=2;var z=K.WR(A,I);I+=2;V[C].mode=K.WR(A,I);
I+=2;V[C].Nz=K.d(A,I);I+=4;V[C].NG=K.WR(A,I)==1;I+=2;V[C].No=K.WR(A,I)==1;I+=2;V[C].Nv=K.d(A,I);I+=4;
V[C].NU=K.WR(A,I);I+=2;V[C].Nl=[];for(var J=0;J<4;J++)V[C].Nl.push(K.WR(A,I+J*2));I+=8;V[C].NR=[];for(var J=0;
J<4;J++)V[C].NR.push(K.WR(A,I+J*2));I+=8;var k=K.WR(A,I);I+=2;break;case"selc":V[C]=zL.rS(A,M,r);break;
case"vmsk":case"vsms":var b=V.vmsk=new S.tP,T=K.Wg(A,M+4),l=(T>>0&1)==1;b.NH=(T>>1&1)==0;b.isEnabled=(T>>2&1)==0;
b.C=zk.rI(A,M+8,r-8,H.n,H.J);break;case"shmd":V[C]={};var $=K.d(A,M),O=M+4;for(var J=0;J<$;J++){var w=K.Wo(A,O,4);
O+=4;var e=K.Wo(A,O,4);O+=4;O+=4;var i=K.d(A,O);O+=4;if(e=="cust"||e=="cmls"||e=="extn"||e=="mlst"){var g={};
zl.HM(A,g,O+4,!1);V[C][e]=g;if(e=="cmls")Jw.pZ.p$(V[C][e])}else{console.log("unknown shmd key: "+e+", size: "+i)}O+=i}break;
case"shpa":var u=K.d(A,M),P=K.d(A,M+4);if(P!=0)console.log("some patterns present!");break;case"TySh":var n=V[C]={},u=K.WR(A,M);
n.oC=K.EGo(A,M+2);var p=K.WR(A,M+2+48);n.NW={};var t=zl.HM(A,n.NW,M+56),x=a.VX();for(var D in x)if(n.NW[D]==null)n.NW[D]=x[D];
n.Nh={};var Gp=zl.HM(A,n.Nh,M+56+t+6);n.NT=K.EGf(A,M+56+t+6+Gp);var zY=n.NW.EngineData.v;n.Ns=za.H$(n.NW.EngineData.v);
if(n.Ns.ResourceDict==null)n.Ns.ResourceDict=JSON.parse(JSON.stringify(n.Ns.DocumentResources));delete n.NW.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var zi=K.d(A,M),zI=K.d(A,M+4);V.lmfx={};var t=zl.HM(A,V.lmfx,M+8);
zP.HY(V.lmfx);break;case"FMsk":V[C]=K.hE(A,M,r);break;case"Txt2":V[C]={};V[C].raw=K.hE(A,M,r);V[C].Nc=JO.H$(V[C].raw);
break;case"Patt":V[C]=[];var z$=M,zK=M;while(zK-z$<r){var ze=zK,zq={},z=K.d(A,zK);zK+=4;zK=EJ.rK(A,zK,zq);
V[C].push(zq);if(z%4!=0)z+=4-z%4;zK=ze+z+4}break;case"SoLd":var zB=K.Wo(A,M,4),zN=K.d(A,M+4),zQ=K.d(A,M+8);
V[C]={};var z_=zl.HM(A,V[C],M+12);break;case"vstk":case"pths":var zN=K.d(A,M);V[C]={};var z_=zl.HM(A,V[C],M+4);
break;case"vscg":var e=K.Wo(A,M,4),zN=K.d(A,M+4);V[e]={};var z_=zl.HM(A,V[e],M+8);zP.HI(V[e],e);break;
case"vogk__":var zw=K.d(A,M),zN=K.d(A,M+4);V[C]={};var z_=zl.HM(A,V[C],M+8),zy=V[C].EEX.lI;for(var J=0;
J<zy.length;J++)console.log(zy[J].lI);break;case"lnk2":case"lnkD__":case"lnk3__":V[C]=[];var I=M;while(I<M+r){var zu=new S.tj;
V[C].push(zu);var z=K.Wa(A,I);I+=8;var z$=I;zu.type=K.Wo(A,I,4);I+=4;if(zu.type!="liFD"){alert("Unknown Linked Layer type: "+zu.type);
throw"error"}zu.Ng=K.d(A,I);I+=4;var zd=K.WB(A,I);I+=1+zd.sm.length;zu.qx=zd.sm;zu.Nx=K.WE(A,I);I+=4+zu.Nx.length*2;
zu.Np=K.Wo(A,I,4);I+=4;zu.Nf=K.Wo(A,I,4);I+=4;var zO=K.Wa(A,I);I+=8;zu.open=A[I];I+=1;if(zu.open!=0){var zF={},t=zl.HM(A,zF,I+4);
if(t%4!=0)t+=4-t%4;console.log(zF);I+=t+4}zu.open=0;zu.raw=K.hE(A,I,zO);I=z$+z;if(z%4!=0)I+=4-z%4}break;
case"FEid":var I=M;V[C]=[];var zX=I+r,u=K.d(A,I);I+=4;while(I<zX){I+=4;var z=K.d(A,I);I+=4;var Gn={};
V[C].push(Gn);Gn.id=K.WB(A,I).sm;I+=Gn.id.length+1;var u=K.d(A,I);I+=4;I+=4;var GE=K.d(A,I);I+=4;Gn.rect=K.WF(A,I);
I+=16;var Gm=K.d(A,I);I+=4;var GJ=K.d(A,I);I+=4;var Gz=new Q.JU(0);for(var J=0;J<GJ+2;J++){var GG=K.d(A,I);
I+=4;if(GG!=0){I+=4;var Go=K.d(A,I),Gv=null;I+=4;if(J<3||J==25)Gv=zc.rn(!0,A,Gn.rect.n,Gn.rect.J,I,Go);
if(J==0)Gz.e=Gv;if(J==1)Gz.g=Gv;if(J==2)Gz.$=Gv;if(J==25)Gz.M=Gv;I+=Go}}Gn.buffer=Q.b(Gn.rect.X()*4);
Q.mU(Gz,Gn.buffer);Q.Jn(Gn);var GU=A[I];I++;if(GU!=0){Gn.a=new S.tg;Gn.a.rect=K.WF(A,I);I+=16;I+=4;var Gl=K.d(A,I);
I+=4;Gn.a.channel=zc.rn(!0,A,Gn.a.rect.n,Gn.a.rect.J,I,Gl);Gn.a.color=255;Gn.a.mX();I+=Gl}if(z%4!=0)I+=4-z%4}break;
default:console.log("unknown layer tag: "+C+", size: "+r);break}var GH=["Txt2","artd","extd","luni","pths"];
if(GH.indexOf(C)==-1)if(r%4!=0)console.log("size not multiple of 4!!!",C);if(C!="luni"&&C!="TySh")if(r%4!=0)r+=4-r%4;
M+=r}var Gr=[];for(var J=0;J<Gr.length;J++)delete V[Gr[J]];return M};zP.HZ=function(A,M,q,V){for(var F in q)if(q[F]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+F+"\" tag was present with a null value.");delete q[F]}for(var F in q){K.WU(A,M,"8BIM");
M+=4;var H=M,w=0;K.WU(A,M,F);M+=4;K.Wp(A,M,0);M+=4;switch(F){case"iOpa":K.hG(A,M,q[F],1);w=4;break;case"brst":w=0;
for(var C=0;C<3;C++)if(q[F][C]==0){K.Wj(A,M+w,C);w+=4}break;case"knko":K.hG(A,M,q[F],1);w=4;break;case"infx":K.hG(A,M,q[F],1);
w=4;break;case"clbl":K.hG(A,M,q[F],1);w=4;break;case"lmgm":K.hG(A,M,q[F],1);w=4;break;case"vmgm":K.hG(A,M,q[F],1);
w=4;break;case"lyid":K.Wj(A,M,q[F]);w=4;break;case"lsct":K.Wj(A,M,q[F].type);w=4;if(q[F].B_){K.WU(A,M+4,"8BIM");
K.WU(A,M+8,q[F].B_);w=12}break;case"lyvr":K.Wj(A,M,q[F]);w=4;break;case"lnsr":K.WU(A,M,q[F]);w=4;break;
case"lspf":K.Wj(A,M,q[F]);w=4;break;case"lclr":K.Wr(A,M,q[F]);w=8;break;case"luni":K.WJ(A,M,q[F]);w=4+2*q[F].length;
break;case"fxrp":K.WY(A,M,q[F].x);K.WY(A,M+8,q[F].y);w=16;break;case"artb":case"artd":K.Wj(A,M,16);w=zl.Hj(A,q[F],M+4)+4;
break;case"SoCo":K.Wj(A,M,16);w=zl.Hj(A,q[F],M+4)+4;break;case"GdFl":K.Wj(A,M,16);w=zl.Hj(A,q[F],M+4)+4;
break;case"PtFl":K.Wj(A,M,16);w=zl.Hj(A,q[F],M+4)+4;break;case"CgEd":K.Wj(A,M,16);w=zl.Hj(A,q[F],M+4)+4;
break;case"brit":A.I_(M,8);K.Wc(A.data,M+0,q[F].Bw);K.Wc(A.data,M+2,q[F].By);K.Wc(A.data,M+4,q[F].Bu);
A.data[M+6]=q[F].Bd;w=8;break;case"levl":var r=new JY;w=zV.HO(r,q[F]);K.hJ(A,M,r.data);break;case"curv":w=zS.ri(A,M,q[F]);
break;case"expA":w=14;A.I_(M,14);K.WH(A.data,M,1);K.WI(A.data,M+2,q[F][0]);K.WI(A.data,M+6,q[F][1]);
K.WI(A.data,M+10,q[F][2]);break;case"vibA":K.Wj(A,M,16);w=zl.Hj(A,q[F],M+4)+4;break;case"hue2":w=zE.ri(A,M,q[F]);
break;case"blnc":w=19;A.I_(M,w);for(var C=0;C<3;C++){var G=q[F].BO[C];for(var J=0;J<3;J++)G.push(K.Wc(A.data,M+C*6+J*2,G[J]))}A.data[M+18]=q[F].EK?1:0;
break;case"blwh":K.Wj(A,M,16);w=zl.Hj(A,q[F],M+4)+4;break;case"phfl":var m=q[F].BF!=null?3:2;K.Wr(A,M,m);
var u=q[F].BF,W=q[F].color;if(m==3){K.W$(A,M+2,u[0]);K.W$(A,M+6,u[1]);K.W$(A,M+10,u[2])}if(m==2){K.Wr(A,M+2,W.BX);
K.Wr(A,M+4,W.lI[0]);K.Wr(A,M+6,W.lI[1]);K.Wr(A,M+8,W.lI[2]);K.Wr(A,M+10,W.lI[3])}var y=M+2+(m==3?12:10);
A.I_(y,5);K.WM(A.data,y,q[F].Nn);y+=4;A.data[y]=q[F].NE?1:0;y++;w=y-M;break;case"mixr":w=44;A.I_(M,w);
K.WH(A.data,M,1);K.WH(A.data,M+2,q[F].Nm?1:0);for(var C=0;C<20;C++)K.Wc(A.data,M+4+C*2,q[F].o[C]);break;
case"clrL":K.Wr(A,M,1);K.Wj(A,M+2,16);w=zl.Hj(A,q[F],M+6)+6;break;case"nvrt":w=0;break;case"post":K.Wr(A,M,q[F]);
w=2;break;case"thrs":K.Wr(A,M,q[F]);w=2;break;case"grdm":var O=q[F].r;A.I_(M,4);K.WH(A.data,M,1);A.data[M+2]=q[F].rev?1:0;
A.data[M+3]=q[F].NJ?1:0;var h=M+4;K.WJ(A,h,O.Nm.v);h+=4+O.Nm.v.length*2;var I=O.Clrs.v.length;K.Wr(A,h,I);
h+=2;for(var C=0;C<I;C++){var W=O.Clrs.v[C];K.Wj(A,h,W.v.Lctn.v);K.Wj(A,h+4,W.v.Mdpn.v);K.Wr(A,h+8,0);
var Z=Q.r.Gt(Q.r.GD(W.v.Clr.v)),L=[Z.Rd.v,Z.Grn.v,Z.Bl.v,0];for(var J=0;J<4;J++)K.Wr(A,h+10+J*2,Math.round(65535*(L[J]/255)));
h+=20}var Y=O.Trns.v.length;K.Wr(A,h,Y);h+=2;for(var C=0;C<Y;C++){var W=O.Trns.v[C];K.Wj(A,h,W.v.Lctn.v);
K.Wj(A,h+4,W.v.Mdpn.v);K.Wr(A,h+8,Math.round(255*W.v.Opct.v.val/100));h+=10}K.Wr(A,h,2);h+=2;K.Wr(A,h,O.Intr.v);
h+=2;K.Wr(A,h,32);h+=2;K.Wr(A,h,q[F].mode);h+=2;K.Wj(A,h,q[F].Nz);h+=4;K.Wr(A,h,q[F].NG?1:0);h+=2;K.Wr(A,h,q[F].No?1:0);
h+=2;K.Wj(A,h,q[F].Nv);h+=4;K.Wr(A,h,q[F].NU);h+=2;for(var C=0;C<4;C++)K.Wr(A,h+C*2,q[F].Nl[C]);h+=8;
for(var C=0;C<4;C++)K.Wr(A,h+C*2,q[F].NR[C]);h+=8;h+=2;w=h-M;break;case"selc":w=zL.ri(A,M,q[F]);break;
case"FMsk":K.hJ(A,M,q[F]);w=q[F].length;break;case"Txt2":var B=new JY,X=JO.HK(q[F].Nc,B),E=Q.b(X,!0);
for(var C=0;C<X;C++)E[C]=B.data[C];K.hJ(A,M,E);w=E.length;break;case"vmsk":var c=q[F],o=0;K.Wj(A,M,3);
if(!c.NH)o+=1<<1;if(!c.isEnabled)o+=1<<2;K.Wj(A,M+4,o);w=8;var s=c.C.length;A.I_(M+8,s*26);zk.EmU(A.data,M+8,c.C,V.n,V.J);
w+=s*26;break;case"shmd":K.Wj(A,M,Object.keys(q[F]).length);var y=M+4;for(var z in q[F]){K.WU(A,y,"8BIM");
y+=4;K.WU(A,y,z);y+=4;K.Wj(A,y,0);y+=4;K.Wj(A,y,0);y+=4;K.Wj(A,y,16);y+=4;var k=zl.Hj(A,q[F][z],y);if(k%4!=0)k+=4-k%4;
K.Wj(A,y-8,k+4);y+=k}w=y-M;break;case"TySh":var y=M;K.WA(A,y,1);y+=2;var b=q[F],B=new JY;b.Ns.DocumentResources=JSON.parse(JSON.stringify(b.Ns.ResourceDict));
var X=za.HK(b.Ns,B),E=Q.b(X,!0);for(var C=0;C<X;C++)E[C]=B.data[C];b.NW.EngineData={t:"tdta",v:E};var T=b.Ns.EngineDict.Editor.Text;
b.NW.Txt.v=T.substring(0,T.length-1);K.EGp(A,y,b.oC);y+=48;K.WA(A,y,50);y+=2;K.Wj(A,y,16);y+=4;y+=zl.Hj(A,b.NW,y);
K.WA(A,y,1);y+=2;K.Wj(A,y,16);y+=4;y+=zl.Hj(A,b.Nh,y);K.EGt(A,y,b.NT);y+=16;w=y-M;break;case"lmfx":K.Wj(A,M,0);
K.Wj(A,M+4,16);var l=JSON.parse(JSON.stringify(q[F])),$=!1;zP.Hi(l);for(var C=0;C<j.jK.length;C++)if(l[j.jK[C]]!=null)$=!0;
K.WU(A,H,$?"lmfx":"lfx2");w=zl.Hj(A,l,M+8)+8;break;case"Patt":var e=M,i=M;for(var C=0;C<q[F].length;
C++){var g=q[F][C],h=i;K.Wj(A,i,0);i+=4;i=EJ.EmT(A,i,g);var P=i-h-4;if(P%4!=0)P+=4-P%4;K.Wj(A,h,P);i=h+P+4}w=i-e;
break;case"SoLd":K.WU(A,M,"soLD");K.Wj(A,M+4,4);K.Wj(A,M+8,16);w=zl.Hj(A,q[F],M+12)+12;break;case"vstk":case"pths":K.Wj(A,M,16);
w=zl.Hj(A,q[F],M+4)+4;break;case"vscg__":K.WU(A,M,q[F].key);K.Wj(A,M+4,16);w=zl.Hj(A,q[F].o,M+8)+8;break;
case"vogk__":K.Wj(A,M,1);K.Wj(A,M+4,16);w=zl.Hj(A,q[F],M+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var h=M;
for(var C=0;C<q[F].length;C++){var n=q[F][C],p=h;K.WC(A,h,0);h+=8;K.WU(A,h,n.type);h+=4;K.Wj(A,h,n.Ng);
h+=4;A.I_(h,1);A.data[h]=n.qx.length;h++;K.WU(A,h,n.qx);h+=n.qx.length;K.WJ(A,h,n.Nx);h+=4+n.Nx.length*2;
K.WU(A,h,n.Np);h+=4;K.WU(A,h,n.Nf);h+=4;K.WC(A,h,n.raw.length);h+=8;A.I_(h,1);A.data[h]=n.open;h++;K.hJ(A,h,n.raw);
h+=n.raw.length;K.Wj(A,h,1);h+=4;h+=11;var P=h-p-8;K.WC(A,p,P);if(P%4!=0){A.I_(h,4-P%4);h+=4-P%4}}w=h-M;
break;case"FEid":var h=M;K.Wj(A,h,3);h+=4;for(var t=0;t<q[F].length;t++){var x=q[F][t];h+=4;var D=h;
h+=4;K.WQ(A,h,x.id);h+=x.id.length+1;K.Wj(A,h,1);h+=4;h+=4;var Gp=h;h+=4;K.hn(A,h,x.rect);h+=16;K.Wj(A,h,8);
h+=4;K.Wj(A,h,24);h+=4;var zY=new Q.JU(x.rect.X());Q.mR(x.buffer,zY);for(var C=0;C<24+2;C++){var zi=null;
if(C==0)zi=zY.e;if(C==1)zi=zY.g;if(C==2)zi=zY.$;if(C==25)zi=zY.M;K.Wj(A,h,zi!=null?1:0);h+=4;if(zi!=null){h+=4;
var zI=h;h+=4;A.I_(h,x.rect.X()+2);h=zc.rE(zi,A.data,x.rect.n,x.rect.J,h,3);K.Wj(A,zI,h-(zI+4))}}K.Wj(A,Gp,h-(Gp+4));
A.I_(h,1);A.data[h]=x.a?1:0;h++;if(x.a!=null){var z$=x.a.rect,zK=x.a.channel;z$=x.rect;zK=Q.b(z$.X());
Q.set(zK,x.a.color);Q.mC(x.a.channel,x.a.rect,zK,z$);K.hn(A,h,z$);h+=16;h+=4;var ze=h;h+=4;A.I_(h,z$.X()+2);
h=zc.rE(zK,A.data,z$.n,z$.J,h,3);K.Wj(A,ze,h-(ze+4))}var P=h-(D+4);K.Wj(A,D,P);if(P%4!=0)h+=4-P%4}w=h-M;
break;default:console.log("unknown layer tag: "+F+", size: "+w);M-=12;continue}var zq=["Txt2","artd","extd","luni","pths"];
if(zq.indexOf(F)==-1)if(w%4!=0)w+=4-w%4;K.Wp(A,M-4,w);if(F!="luni"&&F!="TySh")if(w%4!=0)w+=4-w%4;M+=w}return M};
zP.HY=function(A){for(var M=0;M<j.order.length;M++){var q=j.order[M],V=j.jK[M];if(A[V]==null)A[V]={t:"VlLs",v:[]};
if(A[q]!=null){A[V].v.push(A[q]);delete A[q]}var F=[];for(var H=0;H<A[V].v.length;H++){var w=A[V].v[H];
if(w.v.present==null||w.v.present.v==!0)F.push(w)}A[V].v=F}};zP.Hi=function(A){for(var M=0;M<j.order.length;
M++){var q=j.order[M],V=j.jK[M],F=A[V].v.length;if(F==0){delete A[V];continue}if(F==1){A[q]=A[V].v[0];
delete A[V];continue}}};zP.HI=function(A,M){if(M=="GdFl"){if(A.Angl==null)A.Angl={v:{type:"#Ang",val:90},t:"UntF"};
if(A.Algn==null)A.Algn={v:!0,t:"bool"};if(A.Scl==null)A.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(A.Ofst==null)A.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(A.Rvrs==null)A.Rvrs={v:!1,t:"bool"};if(A.Dthr==null)A.Dthr={v:!1,t:"bool"}}if(M=="PtFl"){if(A.Algn==null)A.Algn={v:!0,t:"bool"};
if(A.Scl==null)A.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(A.phase==null)A.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
zP.clone=function(A,M){var q={};if(A=="TySh"){q.oC=M.oC.clone();q.NW=JSON.parse(JSON.stringify(M.NW));
q.Nh=JSON.parse(JSON.stringify(M.Nh));q.NT=M.NT.clone();q.Ns=JSON.parse(JSON.stringify(M.Ns));return q}else if(A=="fxrp")return M.clone();
else if(A=="vmsk")return M.clone();else return JSON.parse(JSON.stringify(M))};function zg(A,M){}zg.H$=function(A,M,q,V){V=zg.EJQ(A,M,q,V);
return V};zg.HK=function(A,M,q,V,F){V=zg.EEO(A,M,q,V,F);return V};zg.EJQ=function(A,M,q,V){var F=V;A.rect=K.WF(q,V);
V+=16;var H=K.WR(q,V);V+=2;A.ND=[];var w=M.Nt;for(var C=0;C<H;C++){A.ND[C]={id:K.Ws(q,V),length:(w?K.Wa:K.d)(q,V+2)};
V+=w?10:6}var r=K.Wo(q,V,4);V+=4;if(r!="8BIM"){console.log("Invalid Blend mode signature: "+r);alert("Error in Photoshop file: wrong signature.");
throw"e"}A.B_=K.Wo(q,V,4);V+=4;A.opacity=q[V];V+=1;A.NM=q[V]==1;V+=1;A.Nj=q[V];V+=1;if(q[V]!=0)console.log("error in filler!");
V+=1;var G=K.d(q,V);V+=4;var J=V;V=zg.EJK(A,q,V);V=zg.ER_(A,q,V);var m=K.WB(q,V);A.name=m.sm;V+=m.length;
if(m.length%4!=0)V+=4-m.length%4;V=zP.HL(q,V,J+G,A.add,w,M);if(A.Na){var u=A.Na;if(A.tl()){A.tl().qj=u[0];
A.tl().NV=u[1]}if(A.add.vmsk){A.add.vmsk.qj=u[2];A.add.vmsk.NV=u[3]}}if(A.add.lsct){if(A.add.lsct.B_)A.B_=A.add.lsct.B_;
A.add.lsct=A.add.lsct.type}return V};zg.EEO=function(A,M,q,V,F){var H=V;K.hn(q,V,A.rect);V+=16;var w=A.D_();
K.Wr(q,V,w.length);V+=2;F.push(V);for(var C=0;C<w.length;C++){K.WA(q,V,w[C]);K.Wj(q,V+2,0);V+=6}K.WU(q,V,"8BIM");
V+=4;K.WU(q,V,A.B_);V+=4;K.hG(q,V,A.opacity,1);V+=1;K.hG(q,V,A.NM?1:0,1);V+=1;K.hG(q,V,A.Nj,1);V+=1;
K.hG(q,V,0,1);V+=1;var r=V;K.Wj(q,V,0);V+=4;var G=V;V=zg.EHH(A,q,V);V=zg.ERQ(A,q,V);var J=K.WQ(q,V,A.name);
V+=J;if(J%4!=0)V+=4-J%4;if(A.add.lsct){A.add.lsct={type:A.add.lsct};if(A.B_=="pass"){A.add.lsct.B_="pass";
A.B_="norm"}}if(A.B_=="pass")A.add.lsct={type:A.add.lsct,B_:"pass"};V=zP.HZ(q,V,A.add,M);if(A.add.lsct){if(A.add.lsct.B_)A.B_=A.add.lsct.B_;
A.add.lsct=A.add.lsct.type}var m=V-G;K.Wj(q,r,m);return V};zg.EJK=function(A,M,q){var V=K.d(M,q);q+=4;
if(V==0)return q;var F=q;A.a=new S.tg;A.a.rect=K.WF(M,q);q+=16;A.a.color=M[q];q+=1;var H=zg.Hw(A.a,M,q);
q+=1;if(H){var w=!1,r=255,G=0,J=255,m=0;for(var C=0;C<A.ND.length;C++)if(A.ND[C].id==-3)w=!0;if(w){A.NC=zg.HQ(M,q);
q+=18}var u=q,W=M[q];q++;if(W>>0&1){r=M[q];q++}if(W>>1&1){G=K.WL(M,q);q+=8}if(W>>2&1){J=M[q];q++}if(W>>3&1){m=K.WL(M,q);
q+=8}if((q-u&1)==1)q++;A.Na=[r,G,J,m]}else{if(V==20)q+=2;else{A.NC=zg.HQ(M,q);q+=18}}return F+V};zg.EHH=function(A,M,q){K.Wj(M,q,0);
q+=4;if(A.a==null)return q;var V=q,F=!0;K.Wj(M,q,0);K.hn(M,q,A.a.rect);q+=16;K.hG(M,q,A.a.color);q+=1;
zg.Hy(A.a,M,q,F);q+=1;if(F){if(A.NC){zg.EHz(M,q,A.NC);q+=18}K.hG(M,q,15);q+=1;var H=A.tl(),w=A.add.vmsk;
K.hG(M,q,H?H.qj:255);q+=1;K.WY(M,q,H?H.NV:0);q+=8;K.hG(M,q,w?w.qj:255);q+=1;K.WY(M,q,w?w.NV:0);q+=8;
q++;K.Wj(M,V-4,q-V)}return q};zg.HQ=function(A,M){var q=new S.tg;zg.Hw(q,A,M);M+=1;q.color=A[M];M+=1;
q.rect=K.WF(A,M);M+=16;return q};zg.EHz=function(A,M,q){zg.Hy(q,A,M,!1);M+=1;K.hG(A,M,q.color);M+=1;
K.hn(A,M,q.rect);M+=16};zg.Hw=function(A,M,q){var V=M[q];A.NH=(V>>0&1)==0;A.isEnabled=(V>>1&1)==0;A.NS=(V>>3&1)==1;
return V>>4&1};zg.Hy=function(A,M,q,V){var F=0;if(!A.NH)F+=1<<0;if(!A.isEnabled)F+=1<<1;if(A.NS)F+=1<<3;
if(V)F+=1<<4;K.hG(M,q,F)};zg.ER_=function(A,M,q){var V=K.d(M,q);q+=4;if(V!=5*8)console.log("unexpected Layer Blending Ranges content, size:",V);
A.Nk=[];for(var F=0;F<V/4;F++){A.Nk.push(K.WR(M,q));q+=2;A.Nk.push(K.WR(M,q));q+=2}return q};zg.ERQ=function(A,M,q){K.Wj(M,q,A.Nk.length*2);
q+=4;for(var V=0;V<A.Nk.length;V++){K.Wr(M,q,A.Nk[V]);q+=2}return q};function zc(){}zc.H$=function(A,M,q,V){V=zc.ERK(M.Nt,M.Nb,A,q,V);
return V};zc.HO=function(A,M,q,V){q=zc.ER$(A,M,q,V);return q};zc.ERK=function(A,M,q,V,F){var H=q.ND,w={},C=F;
for(var r=0;r<H.length;r++){var G=H[r],J=G.id,m=G.length,u;if(J==-3)u=q.NC.rect;else if(J==-2)u=q.a.rect;
else u=q.rect;var W=zc.rn(A,V,u.n,u.J,F,m);F+=m;if(J==-3)q.NC.channel=W;else if(J==-2)q.a.channel=W;
else w["c"+J]=W}var y=new Q.JU(0);y.M=null;if(M==3){y.e=w.c0;y.g=w.c1;y.$=w.c2;y.M=w["c-1"]}else if(M==1){y.e=w.c0;
y.g=w.c0;y.$=w.c0;y.M=w["c-1"]}else if(M==4){var O=w.c0,h=w.c1,I=w.c2,Z=w.c3,L=O.length,Y=1/255;for(var r=0;
r<L;r++){var B=O[r],X=h[r],E=I[r],c=Z[r]*Y;O[r]=Math.round(B*c);h[r]=Math.round((.2*B+.8*X)*c);I[r]=Math.round((.2*X+.8*E)*c)}y.e=O;
y.g=h;y.$=I;y.M=w["c-1"];console.log("converting from CMYK to RGB")}if(y.M==null&&y.e!=null){y.M=Q.clone(y.e);
Q.set(y.M,255)}q.buffer=Q.b(Math.max(0,q.rect.X()*4));Q.mU(y,q.buffer);return F};zc.ER$=function(A,M,q,V){var F=A.D_(),H=new Q.JU(A.rect.X());
Q.mR(A.buffer,H);for(var w=0;w<F.length;w++){var C=F[w],r,G;if(C==-3)r=A.NC.rect;else if(C==-2)r=A.a.rect;
else r=A.rect;if(C==-3)G=A.NC.channel;if(C==-2)G=A.a.channel;if(C==-1)G=H.M;if(C==0)G=H.e;if(C==1)G=H.g;
if(C==2)G=H.$;M.I_(q,r.X()*3+4);var J=q;q=zc.rE(G,M.data,r.n,r.J,q);var m=q-J;if(m%2!=0){m+=m%2;q++}K.WM(M.data,V+w*6+2,m)}return q};
zc.rn=function(A,M,q,V,F,H){var w=K.Ws(M,F);F+=2;return zc.rm(A,M,q,V,F,w,H-2)};zc.rE=function(A,M,q,V,F,H){if(H==null)H=3;
K.Wc(M,F,H);F+=2;F=zc.rJ(A,M,q,V,F,H);return F};zc.rm=function(A,M,q,V,F,H,w){var C,r=q*V,G=r&3,J=r+(G==0?0:4-G);
if(H==0){if(F+J<=M.length)C=M.slice(F,F+J);else{C=Q.b(r);for(var m=0;m<r;m++)C[m]=M[F+m]}F+=r}else if(H==1){C=Q.b(r);
var u=A?4:2,W=zc.rz(M,C,q,V,F,F+u*V,u);F+=u*V+W}else if(H==2||H==3){var y=new Uint8Array(M.buffer,F+2,w-6),O=pako.inflateRaw(y);
if(H==3){for(var h=0;h<V;h++){var I=h*q+1,Z=I+q-1,L=O[I-1];O[I-1]=L;for(var Y=I;Y<Z;Y++){L+=O[Y];O[Y]=L&255}}}if(O.length==J)C=O;
else{C=Q.b(J);for(var m=0;m<O.length;m++)C[m]=O[m]}}else console.log("Unknown compression: "+H);return C};
zc.rJ=function(A,M,q,V,F,H){var w=q*V;if(H==0)for(var C=0;C<w;C++)M[F++]=A[C];else if(H==1){var r=zc.rG(A,M,q,V,F,F+2*V);
F+=2*V+r}else if(H==2||H==3){if(H==3){var G=new Uint8Array(A.length);for(var J=0;J<V;J++){var m=J*q+1,u=m+q-1,W=A[m-1];
G[m-1]=W;for(var y=m;y<u;y++){G[y]=A[y]+(256-W)&255;W=A[y]}}A=G}M[F]=120;M[F+1]=156;F+=2;var O=pako.deflateRaw(A,{ERR:5});
K.hm(M,F,O);F+=O.length+4}else console.log("Unknown compression: "+H);return F};zc.rz=function(A,M,q,V,F,H,w){var C=H,r=V|0;
if(w==2)for(var G=0;G<r;G++){var J=K.WR(A,F+(G<<1));zc.rv(A,H,J,M,G*q,q);H+=J}else for(var G=0;G<r;G++){var J=K.d(A,F+(G<<2));
zc.rv(A,H,J,M,G*q,q);H+=J}return H-C};zc.rG=function(A,M,q,V,F,H){var w=H;for(var C=0;C<V;C++){var r=zc.ERM(A,C*q,q,M,H);
K.WH(M,F+C*2,r);H+=r}return H-w};zc.ERM=function(A,M,q,V,F){var H,w,C,r,G,J,m;r=M+q;for(C=M,w=F;q>0;
C=H,q-=J){m=q<128?q:128;if(C<=r-3&&A[C+1]==A[C+0]&&A[C+2]==A[C+0]){for(H=C+3;H<C+m&&A[H]==A[C+0];)++H;
J=H-C;V[w++]=1+256-J;V[w++]=A[C+0]}else{for(H=C;H<C+m;)if(H<=r-3&&A[H+1]==A[H+0]&&A[H+2]==A[H+0])break;
else++H;J=H-C;V[w++]=J-1;for(var u=0;u<J;u++)V[w+u]=A[C+u];w+=J}}return w-F};zc.rv=function(A,M,q,V,F,H){for(var w=0;
w<q;){var C=A[M++];if(C>=128)C-=256;if(C<0){var r=A[M++],G=F+(1-C);while(F<G)V[F++]=r;w+=2}else{var G=F+(1+C);
while(F<G)V[F++]=A[M++];w+=1+1+C}}};function zA(){}zA.H$=function(A,M){M.Nt=!1;M.NZ=8;var q=new Uint8Array(A),V=0,F=0,y=0;
F=zA.rl(M,q,V);V=F;F=zA.ERz(M,q,V);V=F;F=zA.El_(M,q,V);V=F;F=zA.ElB(M,q,V);V=F;F=zA.Elp(M,q,V);V=F;if(M.T.length==0){var H=M.jD();
H.Dw("Background");M.T.push(H);H.buffer=Q.clone(M.buffer);H.rect=new U(0,0,M.n,M.J)}if(M.NY.r1032){var q=M.NY.r1032,w=K.d(q,12);
for(var C=0;C<w;C++){var r=q[16+C*5+4],G=K.d(q,16+C*5)/32;M.Ni[r].push(G)}}if(M.NY.r1065){var q=M.NY.r1065;
M.NI={};zl.HM(M.NY.r1065,M.NI,4,!1)}if(M.NY.r1069){var q=M.NY.r1069,J=[];for(var C=2;C<q.length;C+=4){var m=K.d(q,C);
for(var u=0;u<M.T.length;u++){var F=M.T[u];if(F.add.lyid==m&&F.add.lsct!=3)J.push(u)}}M.k=J}delete M.Nt;
var W=new U(0,0,M.n,M.J),O=M.add.Txt2,h=O;if(h){h=h.Nc;if(h._DocumentResources==null)h=EH.CP(h)}if(O&&O.Nc._DocumentResources!=null){var I="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),Z=O.Nc._DocumentResources._TextFrameSet._Resources;
for(var C=0;C<Z.length;C++){}}for(var C=0;C<M.T.length;C++){var F=M.T[C],L=F.add.vmsk,Y=F.tl();if(F.tJ()&&F.tR(M).a){var B=F.tR(M);
B.a.isEnabled=F.add.SoLd.filterFX.v.filterMaskEnable.v}if(L&&F.DV()&&F.add.vstk==null){F.add.vstk=JSON.parse(JSON.stringify(j.az.default));
F.add.vstk.strokeEnabled.v=!1}if(Y==null&&F.a!=null){if(F.a.NS==!1){F.a.NS=!0;F.NC=F.a.clone()}else{L.NC=F.a;
L.NK=!1;F.a.NV=L.NV;F.a.qj=L.qj}}if(Y!=null&&L!=null&&(Y.NV+L.NV!=0||Y.qj+L.qj!=2*255))F.DY(M);if(F.DV()&&(F.rect.zZ()||L&&L.NV!=0))F.Di(M);
if(F.add.TySh&&h){var X=F.add.TySh.Ns,E=a.Ve(X),c=X.EngineDict.ParagraphRun.RunArray,o=h._DocumentObjects._TextObjects;
if(o.length<=y){console.log("Txt2 incomplete");continue}o=o[y]._Model._ParagraphRun._RunArray;var s=Math.min(o.length,c.length);
for(var u=0;u<s;u++){var z=c[u].ParagraphSheet.Properties,k=h._DocumentResources._ParagraphSheetSet._Resources,b=o[u]._RunData._ParagraphSheet;
if(typeof b=="string")b=k[parseInt(b.slice(1))]._Resource;var T=b._Parent==null?b:k[parseInt(b._Parent.slice(1))]._Resource,l=b._Features._ParagraphDirection;
if(l==null)l=T._Features._ParagraphDirection;if(l)z._Direction=parseInt(l.slice(1))}var $=h._DocumentResources,e=$._TextFrameSet._Resources,i=e[y]._Resource,g=new zo(1,0,0,1,0,0);
if(i._0){var P=parseFloat(i._0[0].slice(1)),n=parseFloat(i._0[1].slice(1));g.translate(P,n)}if(E){g.translate(E[0],E[1]);
a.Vq(X,[0,0,E[2]-E[0],E[3]-E[1]])}else{if(i._Bezier&&i._Bezier._Points){var p=i._Bezier._Points,P=parseFloat(p[0].slice(1)),n=parseFloat(p[1].slice(1));
if(P!=0||n!=0){g.translate(P,n)}}}if(i._Data&&i._Data._FrameMatrix){var t=i._Data._FrameMatrix;t=t.map(function(x){return parseFloat(x.slice(1))});
g.concat(new zo(t[0],t[1],t[2],t[3],t[4],t[5]))}g.concat(F.add.TySh.oC);F.add.TySh.oC=g;y++}}Jw.pZ.py(M,!0)};
zA.Enl=function(A,M,q,V){for(var F=0;F<V;F++)if(A[q+F]!=M[q+F])return!1;return!0};zA.HK=function(A,M){Jw.pZ.pY(A);
Jw.pZ.py(A,!1);var q=[],V=[],F=[],H=[],w=[],B=0;for(var C=0;C<A.T.length;C++){var r=A.T[C],G=new U(0,0,A.n,A.J);
if(r.tJ()&&r.tR(A).a){r.add.SoLd.filterFX.v.filterMaskEnable.v=r.tR(A).a.isEnabled}if(r.add.SoLd){V.push(r.add.SoLd.Idnt.v);
F.push(r.add.SoLd.placed.v)}if(r.add.TySh){r.add.TySh.NW.TextIndex={t:"long",v:q.length};q.push(r.add.TySh.Ns)}if(r.add.PtFl)H.push(r.add.PtFl.Ptrn.v.Idnt.v);
if(r.add.lmfx){for(var J=0;J<j.jK.length;J++){var m=r.add.lmfx[j.jK[J]].v;for(var u=0;u<m.length;u++)if(m[u].v.Ptrn)H.push(m[u].v.Ptrn.v.Idnt.v)}}var W=r.add.vstk;
if(W&&W.strokeStyleContent.v.classID=="patternLayer"){H.push(W.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(r.DV()){w[C]=[r.rect,r.buffer];
r.rect=new U;r.buffer=Q.b(0)}}if(q.length>0){var y=A.add.Txt2?A.add.Txt2.Nc:null;A.add.Txt2={};A.add.Txt2.Nc=ER.CG(q,null,y)}var O=A.add.lnk2;
if(O){var h=A.add.lnk2=[];for(var C=0;C<O.length;C++)if(V.indexOf(O[C].qx)!=-1)h.push(O[C]);if(h.length==0)delete A.add.lnk2}var I=A.add.FEid;
if(I){var Z=A.add.FEid=[];for(var C=0;C<I.length;C++)if(F.indexOf(I[C].id)!=-1)Z.push(I[C]);if(Z.length==0)delete A.add.FEid}var L=A.add.Patt;
if(L){var Y=A.add.Patt=[];for(var C=0;C<L.length;C++)if(H.indexOf(L[C].id)!=-1)Y.push(L[C])}B=zA.ERA(A,M,B);
B=zA.Ely(A,M,B);B=zA.ElQ(A,M,B);B=zA.Ele(A,M,B);B=zA.Ent(A,M,B);for(var C=0;C<A.T.length;C++){var r=A.T[C];
if(r.DV()){r.rect=w[C][0];r.buffer=w[C][1]}}if(O)A.add.lnk2=O;if(I)A.add.FEid=I;if(L)A.add.Patt=L;Jw.pZ.py(A,!0);
return B};zA.rl=function(A,M,q){var V=K.Wo(M,q,4);q+=4;if(V!="8BPS")alert("invalid header signature: "+V);
var F=K.WR(M,q);q+=2;A.Nt=F==2;if(F!=1&&F!=2)alert("invalid version: "+F);q+=6;A.Ne=K.WR(M,q);q+=2;A.J=K.Wg(M,q);
q+=4;A.n=K.Wg(M,q);q+=4;var H=K.WR(M,q);q+=2;if(H!=8)alert(H+" Bits/Channel are not supported!");A.NZ=H;
A.Nb=K.WR(M,q);q+=2;var w=A.Nb,C="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" ");
if(w!=3){if(w==1||w==4)alert("Project will be converted from "+C[w]+" to "+C[3]+" mode.");else{alert("Color mode "+C[w]+" is not supported yet :(");
return null}}return q};zA.ERA=function(A,M,q){M.I_(0,64);K.Wv(M.data,q,"8BPS");q+=4;K.WH(M.data,q,1);
q+=2;K.WM(M.data,q,0);q+=4;K.WH(M.data,q,0);q+=2;K.WH(M.data,q,A.Ne);q+=2;K.Wx(M.data,q,A.J);q+=4;K.Wx(M.data,q,A.n);
q+=4;K.WH(M.data,q,8);q+=2;K.WH(M.data,q,3);q+=2;return q};zA.ERz=function(A,M,q){var V=K.Wg(M,q);q+=4;
q+=V;return q};zA.Ely=function(A,M,q){K.Wp(M,q,0);q+=4;return q};zA.El_=function(A,M,q){var V=K.d(M,q),F=0;
q+=4;var H=[];while(F<V){var w=K.Wo(M,q+F,4);F+=4;var C=K.WR(M,q+F);F+=2;var r=K.WB(M,q+F);F+=r.length;
if(w!="8BIM"){H.push(C);console.log("Unknown Image Resources signature: "+w+", ID: "+C)}var G=K.d(M,q+F);
F+=4;if(A.NY["r"+C]!=null)console.log("--- two resources with same ID");A.NY["r"+C]=K.hE(M,q+F,G);F+=G;
if(G%2!=0)F++}for(var J=0;J<H.length;J++)delete A.NY["r"+H[J]];if(A.js()==null)A.jc(30);return q+V};
zA.ElQ=function(A,M,q){var V=A.Ni,F=V[0].length+V[1].length,H=A.NY["r"+1032]=Q.b(16+5*F,!0),w=16,h=0;
K.WM(H,0,1);K.WM(H,4,576);K.WM(H,8,576);K.WM(H,12,F);for(var C=0;C<2;C++)for(var r=0;r<V[C].length;r++){K.WM(H,w,Math.round(V[C][r]*32));
H[w+4]=C;w+=5}var G=new JY;K.Wj(G,0,16);var J=zl.Hj(G,A.NI,4);A.NY["r"+1065]=G.data.slice(0,J+4);var m=A.k;
H=A.NY["r"+1069]=Q.b(2+m.length*4,!0);K.WH(H,0,m.length);for(var C=0;C<m.length;C++)K.WM(H,2+4*C,A.T[m[C]].add.lyid);
var u=new Date,W=[u.getFullYear(),u.getMonth()+1,u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds()];
for(var C=0;C<6;C++)W[C]=(W[C]+"").padStart(2,"0");var y=[{t274:[1],t282:[72],t283:[72],t296:[2],t305:["PSOnline Editor (e.photoshoponline.pro/pso)"],t306:[W[0]+":"+W[1]+":"+W[2]+" "+W[3]+":"+W[4]+":"+W[5]]},{t259:[6],t282:[72],t283:[72],t296:[2],t513:[302],t514:[0]}];
A.NY["r"+1058]=new Uint8Array(UTIF.encode(y));var O=q;K.Wj(M,q,4294967295);q+=4;for(var I in A.NY){K.WU(M,q+h,"8BIM");
h+=4;var Z=parseInt(I.substring(1));K.Wr(M,q+h,Z);h+=2;var L=K.WQ(M,q+h,"");h+=L;var Y=A.NY["r"+Z],B=Y.length;
K.Wj(M,q+h,B);h+=4;K.hJ(M,q+h,Y);h+=B;if(B%2==1)h++}K.Wj(M,O,h);return q+h};zA.ElB=function(A,M,q){var V=q,F,H=A.Nt?8:4;
if(A.Nt)F=K.Wa(M,q);else F=K.d(M,q);q+=H;if(F==0)return V+H;q=zA.ElZ(A,M,q);q=zA.Enz(A,M,q);q=zP.HL(M,q,V+H+F,A.add,A.Nt,A);
return V+H+F};zA.Ele=function(A,M,q){var V=q;K.Wj(M,q,0);q+=4;q=zA.EnJ(A,M,q);q=zA.ElD(A,M,q);q=zP.HZ(M,q,A.add,A);
K.Wj(M,V,q-V-4);return q};zA.ElZ=function(A,M,q){var V=q,F,H=A.Nt?8:4,w;if(A.Nt)F=K.Wa(M,q);else F=K.d(M,q);
q+=H;w=K.Ws(M,q);q+=2;if(F==0){console.log("no layers!");return q-2}var C=Math.abs(w);for(var r=0;r<C;
r++){var G=new S;q=zg.H$(G,A,M,q);A.T[r]=G}for(var r=0;r<C;r++){var G=A.T[r];q=zc.H$(G,A,M,q)}if(F%2!=0)F++;
return V+F+H};zA.EnJ=function(A,M,q){var V=q;K.Wj(M,q,0);q+=4;var F=A.T.length;K.Wr(M,q,-F);q+=2;var H=[];
for(var w=0;w<F;w++)q=zg.HK(A.T[w],A,M,q,H);for(var w=0;w<F;w++)q=zc.HO(A.T[w],M,q,H[w]);var C=q-V-4;
if(C%2!=0)C++;K.Wj(M,V,C);return V+C+4};zA.Enz=function(A,M,q){var V=K.d(M,q);q+=4;q+=V;return q};zA.ElD=function(A,M,q){var V=K.Wj(M,q,0);
q+=4;return q};zA.Elp=function(A,M,q){var V=K.WR(M,q),F;q+=2;A.buffer=Q.b(A.n*A.J*4);Q.mh(A.buffer,4278190080);
var H=q;for(var w=0;w<A.Ne;w++){if(V==0){F=zc.rm(A.Nt,M,A.n,A.J,q,V);q+=A.n*A.J}else if(V==1){F=Q.b(A.n*A.J);
var C=A.Nt?4:2;if(w==0)q+=A.Ne*A.J*C;q+=zc.rz(M,F,A.n,A.J,H+w*A.J*C,q,C)}else console.log("unknown compression of image data: ",V);
Q.mr(F,A.buffer,w);if(A.Ne==1&&w==0){Q.mr(F,A.buffer,1);Q.mr(F,A.buffer,2)}}A.Ne=4;return q};zA.Ent=function(A,M,q){var V=1,F=16,H=A.n,w=A.J;
K.Wr(M,q,V);q+=2;var C=Q.b(H*w),r=q;for(var G=0;G<A.Ne;G++){M.I_(q,H*w+4);if(V==0||V==2||V==3)q=zc.rJ(C,M.data,H,w,q,V);
else{if(G==0)q+=A.Ne*w*2;var J=q;q+=zc.rG(C,M.data,H,w,r+G*w*2,q)}}return q};function za(){}za.H$=function(A){var M={};
za.rP(A,M,0,0);return M};za.HK=function(A,M){var q=0;q=za.rD(A,M,q,0);return q};za.rP=function(A,M,q,V){while(A[q]!="<".charCodeAt(0))q++;
q+=2;while(!0){if(A[q]=="/".charCodeAt(0)){q++;var F=K.indexOf(A," ".charCodeAt(0),q,q+50),H=K.indexOf(A,"\n".charCodeAt(0),q,q+50);
if(H==-1)H=Infinity;if(F==-1)F=Infinity;var w=K.Wo(A,q,Math.min(H,F)-q),C=za.rt(A,Math.min(H,F)+1,V+1,w);
M[w]=C.o;q=Math.min(H,F)+1;q+=C.size}else if(A[q]==">".charCodeAt(0)){q+=2;break}else{var r=A[q];if(r==10||r==9||r==32)q++;
else{console.log("unknown byte: "+r+", char: "+String.fromCharCode(r),q);q++}}}return q};za.rD=function(A,M,q,V){K.WU(M,q,"<<\n");
q+=3;var F=za.EnL;for(var H in A){K.hG(M,q,"\t".charCodeAt(0),V+1);q+=V+1;K.WU(M,q,"/"+H);q+=1+H.length;
if(F(A[H])||A[H]instanceof Array){K.WU(M,q," ");q++}else{K.WU(M,q,"\n");q++;K.hG(M,q,"\t".charCodeAt(0),V+1);
q+=V+1}q=za.rM(A[H],M,q,V+1);K.WU(M,q,"\n");q++}K.hG(M,q,"\t".charCodeAt(0),V);q+=V;K.WU(M,q,">>");q+=2;
return q};za.rt=function(A,M,q,V){var F=M,H={size:0,o:0};while(!0){while(A[M]==" ".charCodeAt(0)||A[M]=="\t".charCodeAt(0)||A[M]=="\n".charCodeAt(0))M++;
if(A[M]=="<".charCodeAt(0)){H.o={};M=za.rP(A,H.o,M,q+1);break}else if(A[M]=="(".charCodeAt(0)){M+=3;
var w=M;while(!0){if(A[w]==")".charCodeAt(0)&&(A[w+1]=="\n".charCodeAt(0)||A[w+1]==" ".charCodeAt(0)))break;
else w++}H.o=K.rw(A,M,w);M=w+2;break}else if(A[M]=="[".charCodeAt(0)){M++;H.o=[];while(A[M]==" ".charCodeAt(0)||A[M]=="\t".charCodeAt(0)||A[M]=="\n".charCodeAt(0))M++;
while(A[M]!="]".charCodeAt(0)){var C=za.rt(A,M,q+1,V);H.o.push(C.o);M+=C.size;while(A[M]==" ".charCodeAt(0)||A[M]=="\t".charCodeAt(0)||A[M]=="\n".charCodeAt(0))M++}M++;
break}else{var r=K.indexOf(A," ".charCodeAt(0),M,M+50),G=K.indexOf(A,"\n".charCodeAt(0),M,M+50);if(G==-1)G=Infinity;
if(r==-1)r=Infinity;var J=K.Wo(A,M,Math.min(r,G)-M).trim(),m=parseFloat(J);if(!isNaN(m)){H.o=parseFloat(J);
M=Math.min(r,G)+1;break}else if(J=="true"||J=="false"){H.o=J=="true";M=Math.min(r,G)+1;break}else console.log("unknown identifier: "+J);
M=Math.min(r,G)+1}}H.size=M-F;return H};za.rM=function(A,M,q,V){if(A instanceof Array){var F=A.length==0||typeof A[0]=="number";
if(F){K.WU(M,q,"[ ");q+=2;for(var H=0;H<A.length;H++){var w=A[H]+" ";K.WU(M,q,w);q+=w.length}K.WU(M,q,"]");
q+=1}else{K.WU(M,q,"[\n");q+=2;for(var H=0;H<A.length;H++){K.hG(M,q,"\t".charCodeAt(0),V);q+=V;q=za.rM(A[H],M,q,V);
K.WU(M,q,"\n");q++}K.hG(M,q,"\t".charCodeAt(0),V);q+=V;K.WU(M,q,"]");q+=1}}else if(A instanceof Object){q=za.rD(A,M,q,V)}else if(typeof A=="string"){K.WU(M,q,"(");
q++;K.hG(M,q,254);q++;K.hG(M,q,255);q++;q=K.ru(M,q,A);K.WU(M,q,")");q+=1}else{var w=A+"";K.WU(M,q,w);
q+=w.length}return q};za.EnL=function(A){var M=typeof A;return M=="string"||M=="number"||M=="boolean"};
function zb(){}zb.H$=function(A){var M=new Uint8Array(A),q={},V=0,F=K.WR(M,V);V+=2;var H=K.WR(M,V);V+=2;
var w=K.Wo(M,V,8);V+=8;var C=K.d(M,V);V+=4;if(C>0)q.Nq=zb.EnZ(M,V,C,H,F);V+=C;var r=K.Wo(M,V,8);V+=8;
var G=K.d(M,V);V+=4;if(G>0)q.NB=zb.Eni(M,V,G);V+=G;var J=K.Wo(M,V,8);V+=8;var m=K.d(M,V);V+=4;if(m>0)q.NN=zb.ElW(M,V,m);
V+=m;var u=q.NN.Brsh.v;for(var W=0;W<u.length;W++){EG.as.check(u[W].v)}return q};zb.EnZ=function(A,M,q,V,F){var H=M+q,w=[];
while(M<H){var C=M,r=K.d(A,M),J;M+=4;var G=K.WB(A,M);M+=G.length;if(V==1){M+=9;J=K.WF(A,M);M+=16}else{M+=11;
J=K.WF(A,M);M+=16;var m=K.d(A,M);M+=4;M+=m*4;var u=K.d(A,M);M+=4;var W=K.d(A,M);M+=4;var y=K.WF(A,M);
M+=16}var O=K.WR(A,M);M+=2;var h=A[M];M+=1;var I={};I.id=G.sm;I.rect=J;I.channel=zc.rm(!1,A,J.n,J.J,M,h);
w.push(I);if(r%4!=0)C+=4-r%4;M=C+r+4}return w};zb.Eni=function(A,M,q){var V=M+q,F=[];while(M<V){var H=M,w=K.d(A,M);
M+=4;var C=K.d(A,M);M+=4;var r=K.d(A,M);M+=4;var G=K.WR(A,M);M+=2;var J=K.WR(A,M);M+=2;var m=K.WE(A,M);
M+=4+2*m.length;var u=K.WB(A,M);M+=u.length;var W=K.WR(A,M);M+=2;var y=A[M];M+=1;var O=K.d(A,M);M+=4;
var h=K.WF(A,M);M+=16;var I=K.d(A,M);M+=4;var Z=new Q.JU(h.X());Q.set(Z.M,255);for(var L=0;L<r;L++){var Y=K.d(A,M);
M+=4;var B=K.d(A,M);M+=4;var X=K.d(A,M);M+=4;var E=K.WF(A,M);M+=16;var c=K.WR(A,M);M+=2;var o=A[M];M+=1;
var s=zc.rm(!1,A,h.n,h.J,M,o);if(L==0)Z.e=s;else if(L==1)Z.g=s;else if(L==2)Z.$=s;else Z.M=s;M+=B-23}var z={};
z.name=m;z.id=u.sm;z.rect=h;z.Emo=Z;F.push(z);var k=M;if(w%4!=0)H+=4-w%4;M=H+w+4}return F};zb.ElW=function(A,M,q){var V={};
zl.HM(A,V,M+6);return V};function zS(){}zS.H$=function(A){var M=new Uint8Array(A),q=[],V=0,F=K.WR(M,V);
V+=2;if(F!=4){throw"Unknown version of curves: "+F}var H=K.WR(M,V);V+=2;for(var w=0;w<H;w++){var C=zS.rb(M,V);
V+=2+2*C.length;q.push(C)}if(V==M.length)return q;var r=K.Wo(M,V,4);V+=4;var G=K.WR(M,V);V+=2;var J=K.WR(M,V);
V+=2;if(J!=0)throw"extra curves for channels";return q};zS.rS=function(A,M,q){var V=M,F=[],H=A[M];M+=3;
var w=K.d(A,M);M+=4;for(var C=0;C<4;C++){var r=w>>>C&1;if(r){if(H==0){var G=zS.rb(A,M);M+=2+2*G.length}else{var G=zS.EEg(A,M);
M+=256}F.push(G)}else F.push(H==0?[0,0,255,255]:zS.ElH())}return F};zS.ElH=function(){var A=[];for(var M=0;
M<256;M++)A.push(M);return A};zS.rb=function(A,M){var q=[],V=K.WR(A,M);M+=2;for(var F=0;F<V;F++){var H=K.WR(A,M);
M+=2;var w=K.WR(A,M);M+=2;q.push(w,H)}return q};zS.ElU=function(A,M,q){var V=q.length/2;K.Wr(A,M,V);
M+=2;for(var F=0;F<V;F++){K.Wr(A,M,q[F*2+1]);M+=2;K.Wr(A,M,q[F*2+0]);M+=2}};zS.EEg=function(A,M){var q=[];
for(var V=0;V<256;V++)q.push(A[M+V]);return q};zS.EEx=function(A,M,q){A.I_(M,256);for(var V=0;V<256;
V++)A.data[M+V]=q[V]};zS.ri=function(A,M,q){var V=M,F=q[0].length==256?1:0;A.I_(M,3);A.data[M]=F;A.data[M+1]=0;
A.data[M+2]=1;M+=3;K.Wj(A,M,15);M+=4;for(var H=0;H<4;H++){var w=q[H];if(F==0){zS.ElU(A,M,w);M+=2+2*w.length}else{zS.EEx(A,M,w);
M+=256}}return M-V};function zE(){}zE.rS=function(A,M,q){var V={},F=K.WR(A,M);M+=2;V.N_=A[M]==1;M++;
M++;V.Kr=[K.Ws(A,M),K.Ws(A,M+2),K.Ws(A,M+4)];M+=6;V.Nw=[K.Ws(A,M),K.Ws(A,M+2),K.Ws(A,M+4)];M+=6;V.Ny=[];
for(var H=0;H<6;H++){var w={};w.Nu=[K.Ws(A,M),K.Ws(A,M+2),K.Ws(A,M+4),K.Ws(A,M+6)];M+=8;w.BO=[K.Ws(A,M),K.Ws(A,M+2),K.Ws(A,M+4)];
M+=6;V.Ny.push(w)}return V};zE.ri=function(A,M,q){var V=2+2+12+6*14,F=A.data;A.I_(M,V);K.WH(F,M,2);M+=2;
F[M]=q.N_?1:0;M++;M++;K.Wc(F,M+0,q.Kr[0]);K.Wc(F,M+2,q.Kr[1]);K.Wc(F,M+4,q.Kr[2]);M+=6;K.Wc(F,M+0,q.Nw[0]);
K.Wc(F,M+2,q.Nw[1]);K.Wc(F,M+4,q.Nw[2]);M+=6;for(var H=0;H<6;H++){var w=q.Ny[H].Nu,C=q.Ny[H].BO;K.Wc(F,M+0,w[0]);
K.Wc(F,M+2,w[1]);K.Wc(F,M+4,w[2]);K.Wc(F,M+6,w[3]);M+=8;K.Wc(F,M+0,C[0]);K.Wc(F,M+2,C[1]);K.Wc(F,M+4,C[2]);
M+=6}return V};function zV(){}zV.H$=function(A){var M=new Uint8Array(A),q=2,V=[];for(var F=0;F<29;F++){var H=[];
V.push(H);for(var w=0;w<5;w++)H.push(K.WR(M,q+F*10+w*2))}q+=29*10;if(q==M.length)return V;var C=K.Wo(M,q,4);
q+=4;var r=K.WR(M,q);q+=2;var G=K.WR(M,q);q+=2;var J=G-29;for(var F=0;F<J;F++){var H=[];V.push(H);for(var w=0;
w<5;w++)H.push(K.WR(M,q+F*10+w*2))}return V};zV.HO=function(A,M){var q=0;A.I_(0,2+29*10);K.WH(A.data,q,2);
q+=2;for(var V=0;V<29;V++){var F=M[V];for(var H=0;H<5;H++)K.WH(A.data,q+V*10+H*2,F[H])}q+=29*10;if(M.length==29)return q;
A.I_(q,8+10*(M.length-29));K.Wv(A.data,q,"Lvls");q+=4;K.WH(A.data,q,3);q+=2;K.WH(A.data,q,M.length);
q+=2;var w=M.length-29;for(var V=0;V<w;V++){var F=M[29+V];for(var H=0;H<5;H++)K.WH(A.data,q+V*10+H*2,F[H])}q+=10*w;
return q};function zL(){}zL.rS=function(A,M,q){var V=K.WR(A,M);M+=2;var F={};F.Nd=K.WR(A,M)==1;M+=2;
F.NO=[];for(var H=0;H<10;H++){var w=[];F.NO.push(w);for(var C=0;C<4;C++)w.push(K.Ws(A,M+C*2));M+=8}return F};
zL.ri=function(A,M,q){A.I_(M,84);K.WH(A.data,M,1);M+=2;K.WH(A.data,M,q.Nd?1:0);M+=2;for(var V=0;V<10;
V++){var F=q.NO[V];for(var H=0;H<4;H++)K.Wc(A.data,M+H*2,F[H]);M+=8}return 84};function zk(){}zk.H$=function(A){A=new Uint8Array(A);
var M=0,q=[],V=Date.now(),F=K.Wo(A,0,4);M+=4;var H=K.d(A,M);M+=4;var w=K.d(A,M);M+=4;for(var C=0;C<w;
C++){var r=K.WE(A,M);M+=r.length*2+4;if((r.length&1)==1)M+=2;var G=K.d(A,M);M+=4;var J=K.d(A,M);M+=4;
var m=M,u=K.WB(A,m).sm;m+=u.length+1;var W=K.WF(A,m);m+=16;var y=zk.rI(A,m,J-(m-M));q.push({NF:r,NX:u,C:y,Qn:W});
M+=J}return q};zk.rI=function(A,M,q,V,F){if(V==null)V=1;if(F==null)F=1;var H=[],w=Math.floor(q/26);for(var C=0;
C<w;C++){var r=M+C*26,G={},J=0;H.push(G);G.type=K.Ws(A,r);r+=2;if(G.type==6){J=24}if(G.type==8){G.all=K.Ws(A,r);
r+=2;J=22}if(G.type==0||G.type==3){G.length=K.Ws(A,r);r+=2;G.qz=K.Ws(A,r);r+=2;G.qG=K.Ws(A,r);r+=2;G.qb=K.d(A,r);
r+=4;G.qL=K.d(A,r);r+=4;J=10}if(G.type==1||G.type==2||G.type==4||G.type==5){var m,u;u=K.WK(A,r);r+=4;
m=K.WK(A,r);r+=4;G.qo=new f(m*V,u*F);u=K.WK(A,r);r+=4;m=K.WK(A,r);r+=4;G.s=new f(m*V,u*F);u=K.WK(A,r);
r+=4;m=K.WK(A,r);r+=4;G.qU=new f(m*V,u*F);J=0}for(var W=0;W<J;W++)if(A[r+W]!=0){console.log("Unexpected non-zero byte!",G,W,A[r+W])}}return H};
zk.EmU=function(A,M,q,V,F){var H=q.length;for(var w=0;w<H;w++){var C=M+w*26,r=q[w];K.Wc(A,C,r.type);
C+=2;if(r.type==6){}if(r.type==8)K.Wc(A,C,r.all);if(r.type==0||r.type==3){K.Wc(A,C,r.length);C+=2;K.Wc(A,C,r.qz);
C+=2;K.Wc(A,C,r.qG);C+=2}if(r.type==1||r.type==2||r.type==4||r.type==5){K.We(A,C,r.qo.y/F);C+=4;K.We(A,C,r.qo.x/V);
C+=4;K.We(A,C,r.s.y/F);C+=4;K.We(A,C,r.s.x/V);C+=4;K.We(A,C,r.qU.y/F);C+=4;K.We(A,C,r.qU.x/V);C+=4}}};
function zZ(){}zZ.H$=function(A){var M=new Uint8Array(A),q=0,V=K.Wo(M,q,4);q+=4;var F=K.WR(M,q);q+=2;
var H=K.d(M,q);q+=4;var w=[];for(var C=0;C<H;C++){var r=K.d(M,q);q+=4;var G={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
w.push(G);G.Nm.v=K.WE(M,q);q+=4+G.Nm.v.length*2;var J=K.WR(M,q);q+=2;var m=K.WR(M,q);q+=2;for(var u=0;
u<m;u++){var W=Q.vC.vS(0,0,!0);W.v.Vrtc.v=K.WR(M,q);q+=2;W.v.Hrzn.v=K.WR(M,q);q+=2;G.Crv.v.push(W)}if(r==1){}else if(r==2){for(var u=0;
u<m;u++){G.Crv.v[u].v.Cnty.v=M[q]==1;q+=1}}else throw"error";var y=K.d(M,q);q+=4;var O=K.d(M,q);q+=4}return w};
function EJ(){}EJ.H$=function(A){var M=new Uint8Array(A),q=4,V=K.WR(M,q);q+=2;var F=K.d(M,q);q+=4;var H=[];
for(var w=0;w<F;w++){var C={};H.push(C);q=EJ.rK(M,q,C)}return H};EJ.rK=function(A,M,q){var V=K.d(A,M);
M+=4;if(V!=1)alert("Unknown version of pattern");var F=K.d(A,M);M+=4;if(F!=1&&F!=2&&F!=3)console.log("Unsupported mode of pattern: "+F);
var H=K.WR(A,M);M+=2;var w=K.WR(A,M);M+=2;q.qa=new U(0,0,w,H);q.name=K.WE(A,M);M+=4+2*q.name.length;
q.name=q.name.substring(0,q.name.length-1);var C=A[M];M++;q.id=K.Wo(A,M,C);M+=q.id.length;var r=-1;if(F==2){r=M;
M+=3*256+4}var G=new Q.JU(w*H);M=EJ.Emc(A,M,G);if(F==2){for(var J=0;J<G.e.length;J++){var m=3*G.e[J];
G.e[J]=A[r+m+0];G.g[J]=A[r+m+1];G.$[J]=A[r+m+2]}}q.ej=Q.b(q.qa.X()*4);Q.mU(G,q.ej);return M};EJ.EmT=function(A,M,q){K.Wj(A,M,1);
M+=4;K.Wj(A,M,3);M+=4;K.Wr(A,M,q.qa.n);M+=2;K.Wr(A,M,q.qa.J);M+=2;K.WJ(A,M,q.name+"\0");M+=4+2*q.name.length+2;
K.hG(A,M,q.id.length);M++;K.WU(A,M,q.id);M+=q.id.length;var V=new Q.JU(q.qa.X());Q.mR(q.ej,V);M=EJ.Eln(A,M,V,q);
return M};EJ.Emc=function(A,M,q){var V=M,F={qa:null,QE:[],Qm:null,QJ:null},H=K.d(A,M);M+=4;var w=K.d(A,M);
M+=4;F.qa=K.WF(A,M);M+=16;var C=K.d(A,M);M+=4;for(var r=0;r<C+2;r++){var G=K.d(A,M);M+=4;if(G==0)continue;
var J=K.d(A,M);M+=4;if(J==0)continue;var m=K.d(A,M);M+=4;var u=K.WF(A,M);M+=16;var W=K.WR(A,M);M+=2;
var y=A[M];M++;var O=zc.rm(!1,A,u.n,u.J,M,y);if(r<C)F.QE.push(O);if(r==C)F.Qm=O;if(r==C+1)F.QJ=O;M+=J-23}if(F.QE[0])q.e=F.QE[0];
if(F.QE[1])q.g=F.QE[1];else q.g=Q.clone(F.QE[0]);if(F.QE[2])q.$=F.QE[2];else q.$=Q.clone(F.QE[0]);if(F.QJ)q.M=F.QJ;
else Q.set(q.M,255);return M};EJ.Eln=function(A,M,q,V){var F=M,H={qa:V.qa,QE:[q.e,q.g,q.$],Qm:null,QJ:q.M};
K.Wj(A,M,3);M+=4;K.Wj(A,M,0);M+=4;K.hn(A,M,H.qa);M+=16;K.Wj(A,M,24);M+=4;for(var w=0;w<24+2;w++){var C=M,r=w<3||w==25?1:0;
K.Wj(A,M,r);M+=4;if(r==0)continue;K.Wj(A,M,0);M+=4;K.Wj(A,M,8);M+=4;K.hn(A,M,H.qa);M+=16;K.Wr(A,M,8);
M+=2;K.hG(A,M,0,1);M++;var G=w<3?H.QE[w]:H.QJ;A.I_(M,V.qa.X()+2);M=zc.rJ(G,A.data,V.qa.n,V.qa.J,M,0);
K.Wj(A,C+4,M-C-8)}K.Wj(A,F+4,M-F-8);return M};function El(){}El.H$=function(A){var M=new Uint8Array(A),q=0,V=K.Wo(M,q,4);
q+=4;var F=K.WR(M,q);q+=2;var H={},w=zl.HM(M,H,q+6);return H.GrdL.v};function K(){}K.rN=function(A){var M="";
for(var q=3;q>=0;q--)M+=String.fromCharCode(A>>q*8&255);return M};K.EUX=function(A){var M=0;for(var q=A.length-1;
q>=0;q--)M|=A.charCodeAt(q)<<(3-q)*8;return M};K.indexOf=function(A,M,q,V){if(q==null)q=0;if(V==null)V=A.length;
V=Math.min(V,A.length);for(var F=q;F<V;F++)if(A[F]==M)return F;return-1};K.EnR=function(A,M,q){if(q==null)q=0;
if(typeof M=="string"){var V=[];for(var F=0;F<M.length;F++)V.push(M.charCodeAt(F));M=V}for(var F=q;F<A.length;
F++){var H=!0;for(var w=0;w<M.length;w++)if(M[w]!=A[F+w]){H=!1;break}if(H)return F}return-1};K.rw=function(A,M,q){var V=[],H="";
while(M<q){var F=A[M++];if(F=="\\".charCodeAt(0))V.push(A[M++]);else V.push(F)}for(var w=0;w<V.length;
w+=2)H+=String.fromCharCode(V[w]<<8|V[w+1]);return H};K.EmX=function(A,M,q){var V=new Uint8Array(2);
for(var F=0;F<q.length;F++){K.WH(V,0,q.charCodeAt(F));if(V[0]==")".charCodeAt(0)||V[0]=="(".charCodeAt(0)||V[0]=="\\".charCodeAt(0)){A[M]="\\".charCodeAt(0);
M++}A[M]=V[0];M++;if(V[1]==")".charCodeAt(0)||V[1]=="(".charCodeAt(0)||V[1]=="\\".charCodeAt(0)){A[M]="\\".charCodeAt(0);
M++}A[M]=V[1];M++}return M};K.ru=function(A,M,q){A.I_(M,4*q.length);return K.EmX(A.data,M,q)};K.rd=function(A,M,q){var V="";
for(var F=0;F<q;F++){var H=A[M++]<<8|A[M++];V+=String.fromCharCode(H)}return V};K.rO=function(A,M,q){for(var V=0;
V<q.length;V++){var F=q.charCodeAt(V);K.WH(A,M+2*V,F)}};K.ERs=function(A,M,q){A.I_(M,2*q.length);K.rO(A.data,M,q)};
K.EJF=function(A,M,q){var V="";for(var F=0;F<q;F++)V+="%"+("0"+A[M+F].toString(16)).slice(-2);return decodeURIComponent(V)};
K.Wn=function(A,M){var q=K.d(A,M);M+=4;if(q>65535)return"";var V=K.EJF(A,M,q-1);return{eD:V,et:4+q}};
K.WE=function(A,M){var q=K.d(A,M);M+=4;if(q>65535)return"";var V=K.rd(A,M,q);return V};K.EzW=function(A,M,q){K.WM(A,M,q.length);
M+=4;K.rO(A,M,q)};K.WJ=function(A,M,q){A.I_(M,4+2*q.length);K.EzW(A.data,M,q)};K.Emw=function(A,M,q){var V=[];
for(var F=0;F<q;F++)V.push(String.fromCharCode(A[M+F]));return V};K.EnO=function(A,M,q){var V=!1,F=A.length-q.length;
for(var H=M;H<F;H++){for(var w=0;w<q.length;w++){if(A[H+w]!=q.charCodeAt(w))break;if(w==q.length-1)return H}}};
K.Wo=function(A,M,q){var V="";for(var F=0;F<q;F++)V+=String.fromCharCode(A[M+F]);return V};K.Wv=function(A,M,q){for(var V=0;
V<q.length;V++)A[M+V]=q.charCodeAt(V)};K.WU=function(A,M,q){A.I_(M,q.length);K.Wv(A.data,M,q)};K.Eoy=function(A,M,q){var V="";
for(var F=0;F<q;F++){var H=A[M+F];if(H<10)V+="  ";else if(H<100)V+=" ";V+=H+", "}return V};K.WR=function(A,M){return A[M]<<8|A[M+1]};
K.WH=function(A,M,q){A[M]=q>>8&255;A[M+1]=q&255};K.Wr=function(A,M,q){A.I_(M,4);K.WH(A.data,M,q)};K.WW=function(A,M){return A[M+1]<<8|A[M]};
K.Wh=function(A,M,q){A[M+1]=q>>8&255;A[M]=q&255};K.EnF=function(A,M,q){A.I_(M,4);K.Wh(A.data,M,q)};K.Ws=function(A,M){K.hv[0]=A[M+1];
K.hv[1]=A[M];return K.ho[0]};K.Wc=K.WH;K.WA=K.Wr;K.Wg=function(A,M){K.hl[0]=A[M+3];K.hl[1]=A[M+2];K.hl[2]=A[M+1];
K.hl[3]=A[M];return K.hU[0]};K.Wx=function(A,M,q){K.hU[0]=q;A[M+3]=K.hl[0];A[M+2]=K.hl[1];A[M+1]=K.hl[2];
A[M+0]=K.hl[3]};K.Wp=function(A,M,q){A.I_(M,4);K.Wx(A.data,M,q)};K.Wf=function(A,M){K.hl[0]=A[M+0];K.hl[1]=A[M+1];
K.hl[2]=A[M+2];K.hl[3]=A[M+3];return K.hU[0]};K.WP=function(A,M,q){K.hU[0]=q;A[M+0]=K.hl[0];A[M+1]=K.hl[1];
A[M+2]=K.hl[2];A[M+3]=K.hl[3]};K.EzV=function(A,M,q){A.I_(M,4);K.WP(A.data,M,q)};K.d=function(A,M){var q=A[M]*(256*256*256)+(A[M+1]<<16|A[M+2]<<8|A[M+3]);
return q};K.WM=function(A,M,q){A[M]=q>>24&255;A[M+1]=q>>16&255;A[M+2]=q>>8&255;A[M+3]=q>>0&255};K.Wj=function(A,M,q){A.I_(M,4);
K.WM(A.data,M,q)};K.Wa=function(A,M){return K.d(A,M)<<32|K.d(A,M+4)};K.EzC=function(A,M,q){K.WM(A,M,q>>16>>16);
K.WM(A,M+4,q&4294967295)};K.WC=function(A,M,q){A.I_(M,8);K.EzC(A.data,M,q)};K.WS=K.Wf;K.Wk=K.WP;K.Wb=K.EzV;
K.WL=function(A,M){var q=new Uint8Array(8);for(var V=0;V<8;V++)q[V]=A[M+7-V];var F=new Float64Array(q.buffer);
return F[0]};K.WZ=function(A,M,q){var V=new Float64Array(1);V[0]=q;var F=new Uint8Array(V.buffer);for(var H=0;
H<4;H++){var w=F[H];F[H]=F[7-H];F[7-H]=w}for(var H=0;H<8;H++)A[M+H]=F[H]};K.WY=function(A,M,q){A.I_(M,8);
K.WZ(A.data,M,q)};K.Wi=function(A,M){var q=new Uint8Array(4);for(var V=0;V<4;V++)q[V]=A[M+V];for(var V=0;
V<2;V++){var F=q[V];q[V]=q[3-V];q[3-V]=F}var H=new Float32Array(q.buffer);return H[0]};K.WI=function(A,M,q){var V=new Float32Array(1);
V[0]=q;var F=new Uint8Array(V.buffer);for(var H=0;H<2;H++){var w=F[H];F[H]=F[3-H];F[3-H]=w}for(var H=0;
H<4;H++)A[M+H]=F[H]};K.W$=function(A,M,q){A.I_(M,4);K.WI(A.data,M,q)};K.WK=function(A,M){var q=K.Wg(A,M)/16777215;
return q};K.We=function(A,M,q){K.Wx(A,M,Math.floor(q*16777215))};K.Eme=function(A,M,q){A.I_(M,4);K.We(A.data,M,q)};
K.WB=function(A,M){var q=A[M],V=K.Wo(A,M+1,q);q+=1-q%2;return{sm:V,length:q+1}};K.EzY=function(A,M,q){var V=q.length;
A[M]=V;K.Wv(A,M+1,q);if(V%2==0){A[M+1+V]=0;++V}return V+1};K.WQ=function(A,M,q){A.I_(M,q.length+2);return K.EzY(A.data,M,q)};
K.EGo=function(A,M){var q=new zo;q.M=K.WL(A,M+0*8);q.$=K.WL(A,M+1*8);q.ei=K.WL(A,M+2*8);q.e$=K.WL(A,M+3*8);
q.eI=K.WL(A,M+4*8);q.eK=K.WL(A,M+5*8);return q};K.Ww=function(A,M,q){K.WZ(A,M+0*8,q.M);K.WZ(A,M+1*8,q.$);
K.WZ(A,M+2*8,q.ei);K.WZ(A,M+3*8,q.e$);K.WZ(A,M+4*8,q.eI);K.WZ(A,M+5*8,q.eK)};K.EGp=function(A,M,q){A.I_(M,48);
K.Ww(A.data,M,q)};K.EGf=function(A,M){var q=K.Wi(A,M),V=K.Wi(A,M+4),F=K.Wi(A,M+8),H=K.Wi(A,M+12);return new U(q,V,F-q,H-V)};
K.EGP=function(A,M,q){K.WI(A,M,q.x);K.WI(A,M+4,q.y);K.WI(A,M+8,q.x+q.n);K.WI(A,M+12,q.y+q.J)};K.EGt=function(A,M,q){A.I_(M,16);
K.EGP(A.data,M,q)};K.WF=function(A,M){var q=K.Wg(A,M),V=K.Wg(A,M+4),F=K.Wg(A,M+8),H=K.Wg(A,M+12);return new U(V,q,H-V,F-q)};
K.WX=function(A,M,q){K.Wx(A,M,q.y);K.Wx(A,M+4,q.x);K.Wx(A,M+8,q.y+q.J);K.Wx(A,M+12,q.x+q.n)};K.hn=function(A,M,q){A.I_(M,16);
K.WX(A.data,M,q)};K.hE=function(A,M,q){var V=new Uint8Array(q);for(var F=0;F<q;F++)V[F]=A[M+F];return V};
K.hm=function(A,M,q){A.set(q,M)};K.hJ=function(A,M,q){A.I_(M,q.length);K.hm(A.data,M,q)};K.EGQ=function(A,M,q,V){if(!V)V=1;
for(var F=0;F<V;F++)A[M+F]=q};K.hG=function(A,M,q,V){if(!V)V=1;A.I_(M,V);K.EGQ(A.data,M,q,V)};K.ho=new Int16Array(1);
K.hv=new Uint8Array(K.ho.buffer);K.hU=new Int32Array(1);K.hl=new Uint8Array(K.hU.buffer);function U(A,M,q,V){if(!A)A=0;
if(!M)M=0;if(!q)q=0;if(!V)V=0;this.x=A;this.y=M;this.n=q;this.J=V}U.prototype.X=function(){return this.n*this.J};
U.prototype.clone=function(){return new U(this.x,this.y,this.n,this.J)};U.prototype.contains=function(A,M){return A>=this.x&&A<=this.x+this.n&&(M>=this.y&&M<=this.y+this.J)};
U.prototype.hH=function(A){return this.contains(A.x,A.y)};U.prototype.hr=function(A){return this.x<=A.x&&this.y<=A.y&&A.x+A.n<=this.x+this.n&&A.y+A.J<=this.y+this.J};
U.prototype.Hh=function(A){this.x=A.x;this.y=A.y;this.n=A.n;this.J=A.J};U.prototype.mg=function(A){return this.x==A.x&&this.y==A.y&&this.n==A.n&&this.J==A.J};
U.prototype.hW=function(A,M){this.x-=A;this.y-=M;this.n+=2*A;this.J+=2*M};U.prototype.EGL=function(A){this.hW(A.x,A.y)};
U.prototype.vt=function(A){var M=Math.max(this.x,A.x),q=Math.max(this.y,A.y),V=Math.min(this.x+this.n,A.x+A.n),F=Math.min(this.y+this.J,A.y+A.J);
if(V<M||F<q)return new U;else return new U(M,q,V-M,F-q)};U.prototype.hT=function(A){if(A.y+A.J<this.y||A.x>this.x+this.n||A.y>this.y+this.J||A.x+A.n<this.x)return!1;
return!0};U.prototype.zZ=function(){return this.n<=0||this.J<=0};U.prototype.offset=function(A,M){this.x+=A;
this.y+=M};U.prototype.hs=function(A){this.offset(A.x,A.y)};U.prototype.Eoo=function(){this.x=this.y=this.n=this.J=0};
U.prototype.HT=function(A,M,q,V){this.x=A;this.y=M;this.n=q;this.J=V};U.prototype.vP=function(A){if(this.zZ())return A.clone();
if(A.zZ())return this.clone();var M=this.clone();M.Eoc(A);return M};U.JL=new Float32Array(2);U.prototype.Eoc=function(A){if(A.zZ())return;
if(this.zZ()){this.Hh(A);return}this.hg(A.x,A.y);this.hg(A.x+A.n,A.y+A.J)};U.prototype.hg=function(A,M){var q=Math.min(this.x,A),V=Math.min(this.y,M);
this.n=Math.max(this.x+this.n,A)-q;this.J=Math.max(this.y+this.J,M)-V;this.x=q;this.y=V};U.prototype.Ezn=function(A,M,q,V){if(this.n==0&&this.J==0)this.Eop(A,M);
else this.hg(A,M);this.hg(q,V)};U.prototype.Eop=function(A,M){this.x=A;this.y=M;this.n=this.J=0};function JO(){}JO.H$=function(A){var M={};
JO.hf(A,M,0,0);return M};JO.HK=function(A,M){var q=0;K.WU(M,q," ");q++;q=JO.hP(A,M,q,0);q--;M.I_(q,2);
M.data[q]=M.data[q+1]=0;q+=2;return q};JO.rP=function(A,M,q,V){while(A[q]!="<".charCodeAt(0)){q++;console.log("\u0161ipka")}q+=2;
q=JO.hf(A,M,q,V);return q};JO.rD=function(A,M,q,V){K.WU(M,q,"<< ");q+=3;q=JO.hP(A,M,q,V);K.WU(M,q,">>");
q+=2;return q};JO.hf=function(A,M,q,V){while(!0){while(A[q]==" ".charCodeAt(0)||A[q]==0)q++;if(q>=A.length)break;
if(A[q]=="/".charCodeAt(0)){q++;var F=K.indexOf(A," ".charCodeAt(0),q),H=K.Wo(A,q,F-q);q=F+1;var w=JO.rt(A,q,V,H);
M["_"+H]=w.o;q+=w.size}else if(A[q]==">".charCodeAt(0)){q+=2;break}else{var C=A[q];console.log("unknown byte: "+C+", char: "+String.fromCharCode(C)+", offset: "+q);
q++;return-1}}return q};JO.hP=function(A,M,q,V){for(var F in A){var H=F.substring(1,F.length);K.WU(M,q,"/"+H);
q+=1+H.length;K.WU(M,q," ");q++;q=JO.rM(A[F],M,q,V+1);K.WU(M,q," ");q++}return q};JO.rt=function(A,M,q,V){var F=M,H={type:"",size:0,o:0};
while(A[M]==" ".charCodeAt(0))M++;if(A[M]=="<".charCodeAt(0)){H.type="Object";H.o={};M=JO.rP(A,H.o,M,q+1)}else if(A[M]=="(".charCodeAt(0)){H.type="String";
M++;if(A[M]==")".charCodeAt(0)){H.o="s";M++}else{M+=2;var w=M,JF=0;while(!0){if(A[w]==")".charCodeAt(0)&&A[w-1]!="\\".charCodeAt(0))break;
else w+=1}H.o="s"+K.rw(A,M,w);M=w+2}}else if(A[M]=="[".charCodeAt(0)){M++;H.o=[];H.type="Array";while(A[M]==" ".charCodeAt(0))M++;
while(A[M]!="]".charCodeAt(0)){var C=JO.rt(A,M,q+1,V);if(C==-1)return-1;H.o.push(C.o);M+=C.size;delete C.size;
while(A[M]==" ".charCodeAt(0))M++}M++}else{var r=K.indexOf(A," ".charCodeAt(0),M),G=K.Wo(A,M,r-M),J=parseFloat(G);
if(!isNaN(J)&&G.indexOf(".")!=-1){H.type="Float";var m=parseFloat(G);H.o="f"+m}else if(!isNaN(J)&&G.indexOf(".")==-1){H.type="Integer";
H.o="i"+parseInt(G)}else if(G=="true"||G=="false"){H.type="Boolean";H.o=G=="true"}else if(G.charAt(0)=="/"){H.type="BString";
H.o=G}else console.log("unknown value",G);M=r+1}H.size=M-F;return H};JO.Evz=function(A){if(A==Math.round(A))return A+".0";
var M=A.toFixed(5);if(0<A&&A<1)M=M.substring(1,M.length);if(-1<A&&A<0)M="-"+M.substring(2,M.length);
return M};JO.rM=function(A,M,q,V){if(A instanceof Array){K.WU(M,q,"[ ");q+=2;for(var F=0;F<A.length;
F++){q=JO.rM(A[F],M,q,V);K.WU(M,q," ");q++}K.WU(M,q,"]");q+=1}else if(A instanceof Object){q=JO.rD(A,M,q,V)}else if(typeof A=="string"&&A.charAt(0)=="s"){K.WU(M,q,"(");
q++;K.hG(M,q,254);q++;K.hG(M,q,255);q++;q=K.ru(M,q,A.substring(1));K.WU(M,q,")");q++}else if(typeof A=="string"&&A.charAt(0)=="/"){K.WU(M,q,A);
q+=A.length}else if(typeof A=="string"&&A.charAt(0)=="f"){var H=parseFloat(A.substring(1)),w=JO.Evz(H);
K.WU(M,q,w);q+=w.length}else if(typeof A=="string"&&A.charAt(0)=="i"){K.WU(M,q,A.substring(1));q+=A.length-1}else{var w=A+"";
K.WU(M,q,w);q+=w.length}return q};function zp(){}zp.H$=function(A,M){var q=new Uint8Array(A),V=0,F=K.Wo(q,V,9);
V+=9;var H=K.Wo(q,V,4);V+=4;V++;M.n=K.d(q,V);V+=4;M.J=K.d(q,V);V+=4;var w=K.d(q,V);V+=4;if(w!=0)alert("Unsupported image format, not RGB!");
var C={};V=zp.hS(q,V,C);var r=[];V=zp.hC(q,V,r);var G=[];V=zp.hC(q,V,G);M.Qz=0;for(var J=0;J<r.length;
J++)zp.Evv(q,r[J],M,C);while(M.Qz>0){M.T.push(M.jt());M.Qz--}M.T.reverse();delete M.Qz;M.buffer=Q.b(M.n*M.J*4)};
zp.Evv=function(A,M,q,V){var F=q.jD(),H=K.d(A,M),G=0;M+=4;var w=K.d(A,M);M+=4;F.rect=new U(0,0,H,w);
var C=K.d(A,M);M+=4;var r=K.Wn(A,M);M+=r.et;F.Dw(r.eD);var J={};M=zp.hS(A,M,J);if(J[zf.TU]){var m=J[zf.TU];
G=m.length/4-1}if(J[zf.h$]){var u=K.d(J[zf.h$],0);F.B_=zf.Tg[u]}if(J[zf.hw]){F.rect.x=K.Wg(J[zf.hw],0);
F.rect.y=K.Wg(J[zf.hw],4)}if(J[zf.hI]){F.opacity=K.d(J[zf.hI],0)}if(J[zf.Tv]){F.add.lsct=zT.ts;F.rect=new U(0,0,0,0);
F.buffer=Q.b(0);F.Nj=24}if(J[zf.hK]){if(K.d(J[zf.hK],0)==0)F.Nj+=2}if(J[zf.Tl]){var W=K.d(J[zf.Tl],0);
F.add.lsct=W&1==1?zT.ts:zT.tc}while(q.Qz>G){q.T.push(q.jt());q.Qz--}q.Qz=G;if(F.add.lsct==zT.ts||F.add.lsct==zT.tc)q.Qz++;
if(F.Du()){F.buffer=Q.b(F.rect.X()*4);var y=new Q.JU(F.rect.X()),O=K.d(A,M);M+=4;var h=K.d(A,M);M+=4;
zp.hj(A,O,y,V);Q.mU(y,F.buffer);if(h!=0){zp.EvW(A,h,F,V);if(J[zf.hB])F.a.isEnabled=K.d(J[zf.hB],0)==1}}q.T.push(F)};
zp.EvW=function(A,M,q,V){var F=K.d(A,M);M+=4;var H=K.d(A,M);M+=4;var w=K.Wn(A,M);M+=w.et;var C={};M=zp.hS(A,M,C);
var r=new Q.JU(F*H),G=K.d(A,M);M+=4;zp.hj(A,G,r,V);q.a=new S.tg;q.a.rect=q.rect.clone();q.a.channel=r.e;
q.a.color=0};zp.hj=function(A,M,q,V){var F=K.d(A,M);M+=4;var H=K.d(A,M);M+=4;var w=K.d(A,M);M+=4;var C=K.d(A,M);
M+=4;zp.EUR(A,C,q,V,w)};zp.EUR=function(A,M,q,V,F){var H=K.d(A,M),G=0;M+=4;var w=K.d(A,M);M+=4;var C=new U(0,0,H,w),r=[];
M=zp.hC(A,M,r);for(var J=0;J<w;J+=64)for(var m=0;m<H;m+=64){var u=new U(m,J,Math.min(H-m,64),Math.min(w-J,64)),W=zp.EvP(A,r[G++],u.n,u.J,V[zf.hu][0],F);
Q.mZ(W,u,q,C)}};zp.EvP=function(A,M,q,V,F,H){var w=new Q.JU(q*V),C=[w.e,w.g,w.$,w.M];Q.set(w.M,255);
if(F==1){for(var r=0;r<H;r++){var G=C[r],J=0;while(!0){if(J>=G.length)break;var m=A[M];M++;if(m<127){var u=A[M];
M++;for(var W=0;W<m+1;W++)G[J++]=u}else if(m==127){var y=A[M];M++;var O=A[M];M++;var u=A[M];M++;var h=y*256+O;
for(var W=0;W<h;W++)G[J++]=u}else if(m==128){var y=A[M];M++;var O=A[M];M++;var h=y*256+O;for(var W=0;
W<h;W++)G[J++]=A[M++]}else if(m<256){for(var W=0;W<256-m;W++)G[J++]=A[M++]}}}}return w};zp.hC=function(A,M,q){while(!0){var V=K.d(A,M);
M+=4;if(V==0)break;else q.push(V)}return M};zp.hS=function(A,M,q){while(!0){var V=K.d(A,M);M+=4;var F=K.d(A,M);
M+=4;if(V==0)break;q[V]=K.hE(A,M,F);M+=F}return M};var zf={EGB:0,Emi:1,EGm:2,EGV:3,ERW:4,Eog:5,hI:6,h$:7,hK:8,EUr:9,EzK:10,hB:11,Ez$:12,Eoz:13,EmQ:14,hw:15,EE_:16,hu:17,EzM:18,Evg:19,EGu:20,ElA:21,EJj:22,EUI:23,EJf:24,EUm:25,EGS:26,EnA:27,EnY:28,Tv:29,TU:30,Tl:31,EJi:0,Eoh:1,EJb:2,EUJ:3,Enu:1,EHr:2,EmM:0,EnH:1,Eva:1};
zf.Tg="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit".split(",");
function zr(){}zr.H$=function(A,M){var q=zr,V=zW.parse(A),H=0,X=1;if(V==null)return;if(V.pages.length>1)console.log(V.pages.length,"pages");
var F=[],w=new U;for(var C=0;C<V.pages.length;C++){var r=V.pages[C],G=r.layers,J=q.GB(G,C),u=!1;if(J.X()>8e3*8e3){q.Tp(G,!0);
var m=q.GB(G,C);if(m.X()>=J.X())q.Tp(G,!1)}J=q.GB(G,C);for(var W=0;W<G.length;W++){var y=G[W];if(y._class=="artboard")u=!0}if(!u){console.log("no artboard");
var O={};for(var h in r)O[h]=r[h];O._class="group";r.layers=[O]}F.push(J.clone());if(J.zZ())continue;
J.x=0;J.y=H;H+=J.J+200;w=w.vP(J)}var I={};if(V.foreignSymbols)for(var Z=0;Z<V.foreignSymbols.length;
Z++){var L=V.foreignSymbols[Z].symbolMaster;I[L.symbolID]={QG:L}}q.Tf(V.pages,I,M);for(var Y in I){var y=I[Y].QG,B=q.TP(y.layers)}while(Math.round(w.n/X)*Math.round(w.J/X)>8192*8192)X++;
if(X!=1&&!window.confirm("Your image is quite large ("+w.n+" x "+w.J+" px).\n"+"Press OK to scale it down "+X+"x, or Cancel to keep the size."))X=1;
M.Qo=!0;M.n=Math.round(w.n/X);M.J=Math.round(w.J/X);M.buffer=Q.b(M.n*M.J*4);M.add.artd={classID:"null",Cnt:{t:"long",v:V.pages[0].layers.length},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
M.Qv={};H=0;for(var C=0;C<V.pages.length;C++){var E=V.pages[C],J=F[C],c=new zo(X,0,0,X,J.x,J.y-H);q.TD(E.layers,M,c,V,I,{});
H+=J.J+200}delete M.Qv;if(X!=1)alert("File scaled down "+X+"x")};zr.EnK=0;zr.GB=function(A,M){var q=[],V=zr;
for(var F=0;F<A.length;F++){var H=A[F],w=V.WF(H.frame);if(M==0||H._class=="artboard")q.push(w)}return Q.rect.o_(q)};
zr.Tp=function(A,M){var q=[],V=zr;for(var F=0;F<A.length;F++){var H=A[F],w=V.WF(H.frame);w.n+=150;w.J+=150;
q.push(w)}var C=Q.rect.o_(q);Q.rect.EUL(q,M);var r=Q.rect.o_(q);if(r.X()*1.5<C.X()){alert("Re-arranging artboards");
for(var F=0;F<A.length;F++){var G=q[F],H=A[F],J=H.frame;J.x=G.x;J.y=G.y}}};zr.Tf=function(A,M,q){var V=zr;
for(var F=0;F<A.length;F++){var H=A[F],w=H._class?H._class:H.$class;if(["page","artboard","group"].indexOf(w)!=-1)V.Tf(H.layers,M,q);
else if(w=="symbolMaster")M[H.symbolID]={QG:H}}};zr.TP=function(A){var M=zr;for(var q=0;q<A.length;q++){var V=A[q],F=V._class?V._class:V.$class,H=null;
if(["page","artboard","group"].indexOf(F)!=-1)H=M.TP(V.layers);if(F=="symbolMaster"||F=="symbolInstance")H=V;
if(H!=null)return H}return null};zr.TD=function(A,M,q,V,F,H){var w=zr,C=[];for(var r=0;r<A.length;r++){var G=A[r],J=w.WF(G.frame),m=G.style,O=null;
if(m==null){console.log("no styles")}var u=w.T$(G,q),W=G._class?G._class:G.$class,y=M.jD();y.tE(G.isVisible);
y.Dw(G.name.slice(0,250));if(m!=null)O=w.Tj(V,M,m,J,u,y.getName());if(G.shouldBreakMaskChain){while(C.length!=0)w.Tb(C.pop(),M)}if(["page","artboard","group"].indexOf(W)!=-1){y.add.lsct=G.layerListExpandedType==2?zT.ts:zT.tc;
y.B_="pass";y.Nj=24;y.tE(G.isVisible);M.T.push(M.jt());if(W=="artboard"){var h=J.clone(),I=u.HD();h.x=-Math.floor(u.eI/I);
h.y=-Math.floor(u.eK/I);h.n=Math.floor(h.n/I);h.J=Math.floor(h.J/I);y.tv(h);var Z=G.backgroundColor,L=Math.round(255*Z.blue)<<16|Math.round(255*Z.green)<<8|Math.round(255*Z.red);
if(L!=16777215){var Y=M.jD();Y.Dw("Artboard Background");Y.rect=h;Y.buffer=Q.b(Y.rect.X()*4);Q.mh(Y.buffer,255<<24|L);
M.T.push(Y)}}w.TD(G.layers,M,u,V,F,H)}else if(W=="shapeGroup"){y.add.vmsk=new S.tP;y.add.vstk=JSON.parse(JSON.stringify(j.az.default));
y.add.vstk.strokeEnabled.v=!1;var B=O!=null&&O.frameFXMulti.v.length==1,X=m.fills,E=w.Ta(V,X,J,u,y.getName(),M);
if(E.length==0){if(B)y.add.vstk.fillEnabled.v=!1;else y.add.iOpa=0;y.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.r.Gt({e:0,g:0,$:0})}}}else{var c=E[0],o=null,s=null;
if(c.type=="SoFi"){o="SoCo";s=j.jq}if(c.type=="GrFl"){o="GdFl";s=j.jB}if(c.type=="patternFill"){o="PtFl";
s=j.jN}if(o!=null){y.add[o]={classID:"null"};for(var z=0;z<s.length;z++){var k=s[z];y.add[o][k]=c.o.v[k]}var b=c.o.v.Opct.v.val;
y.add.iOpa=Math.round(255*b/100)}}y.Nj|=16;y.add.vmsk.C=w.TI(G.layers,u);var T=G.style.blur;if(T&&T.isEnabled&&T.type<=1)y.add.vmsk.NV=T.radius;
if(y.add.vmsk.C.length==2){console.log("shape with no content:",y.getName())}if(B){var l=O.frameFXMulti.v[0].v,$=y.add.vstk,e=m.borders[0];
O.frameFXMulti.v=[];Ez.ak(l,$);var i=m.borderOptions,g=m.miterLimit;if(i){$.strokeStyleLineCapType.v.strokeStyleLineCapType=j.az.aG[i.lineCapStyle];
$.strokeStyleLineJoinType.v.strokeStyleLineJoinType=j.az.join[i.lineJoinStyle];$.strokeStyleLineDashSet.v=Ez.ab(i.dashPattern,1/l.Sz.v.val);
if(g!=null)$.strokeStyleMiterLimit.v=g}}y.DY(M)}else if(W=="bitmap"){var P=G.image.bdata,n=M.jo(P,y.getName(),0,0);
n.Nj=y.Nj;y=n;var T=m.blur,p=m.colorControls;if(T||p){y.add.SoLd.filterFX=Ju.Ds();M.MO({id:y.add.SoLd.placed.v,rect:new U,buffer:Q.b(1),a:new S.tg});
var X=y.add.SoLd.filterFX.v.filterFXList.v;if(T){var t=Ju.Dc("GsnB",{});t.v.enab.v=T.isEnabled;t.v.Fltr.v.Rds.v.val=T.radius;
X.push(t)}if(p){var x=p.brightness,D=p.contrast,Gp=p.hue,zY=p.saturation;if(Gp!=0||zY!=1){var t=Ju.Dc("hue2",{});
t.v.enab.v=p.isEnabled;t.v.Fltr.v.Adjs.v.push({t:"Objc",v:zG.PX([Math.round(Gp*180/Math.PI),Math.round((zY-1)*100),0])});
X.push(t)}if(x!=0||D!=1){var t=Ju.Dc("brit",{});t.v.enab.v=p.isEnabled;D=D-1;if(D>0)D/=2;zG.PF("brit",[Math.round(x*255),Math.round(D*100),!0],t.v.Fltr.v);
X.push(t)}}}J.x=J.y=0;var zi=Q.O.oL(J).G;u.mx();Q.O.oC(zi,u,zi);y.add.SoLd.Trnf=d.f.pm(zi);y.add.SoLd.nonAffineTransform=d.f.pm(zi);
y.DI(M,!1)}else if(W=="text"){if(G.attributedString==null)continue;var zI=u.clone(),z$,zK,zQ=0;zI.mx();
y.add.TySh=a.Vk(0,0);y.add.TySh.NT=new U(0,0,J.n,J.J);y.add.TySh.oC=zI;var ze=G.attributedString;if(ze.archivedAttributedString)ze=ze.archivedAttributedString;
var zq=ze.NSString;if(zq==null)zq=ze.string;if(zq["NS.string"])zq=zq["NS.string"];if(H[G.do_objectID]!=null)zq=H[G.do_objectID];
if(ze.attributes!=null){z$=[];zK=[];var zB=ze.attributes;for(var z=0;z<zB.length;z++){z$.push(zB[z].length,z);
zK.push(zB[z].attributes)}}else if(ze.NSAttributeInfo==null){z$=[zq.length,0];zK=[ze.NSAttributes]}else{z$=ze.NSAttributeInfo["NS.data"];
zK=ze.NSAttributes;var zN=!1;if(zN)console.log("-----------");if(zN)console.log(z$,zK,zq.length);if(zN)console.log(zq);
z$=zr.Tt(z$,zK);if(zN)console.log(z$)}for(var z=0;z<z$.length;z+=2)zQ+=z$[z];if(zQ!=zq.length){while(zQ>zq.length){z$[z$.length-2]--;
zQ--;if(z$[z$.length-2]==0){z$.pop();z$.pop()}}z$[z$.length-2]+=zq.length-zQ}zq=zq.replace(/\u2028/g,"\n");
zq=zq.replace(/\u2029/g,"\n");zq=zq.replace(/\r/g,"\n");var z_=y.add.TySh.Ns;a.V_(z_,0,zq);if(zq!=""){w.TM(z_,z$,zK,zq);
var I=zI.HD(),zw=a.VO(z_,0,1),zy=zw.QU.AutoLeading?0:zw.QU.Leading*.6,zu=0,zd=Math.max(zw.QU.FontSize,zy)*I,zO=J.n,zF=J.J;
if(G.textBehaviour==0){a.VK(z_,0);if(zw.Ql.Justification==1)zu=zO*I;if(zw.Ql.Justification==2)zu=zO*I*.5}else{a.VK(z_,1);
a.Vq(z_,[0,0,Math.round(zO),Math.round(zF)]);zd=zd*.35}y.add.TySh.oC.translate(zu,zd)}}else if(W=="symbolInstance"||W=="symbolMaster"){var zX=G.symbolID;
if(H[G.do_objectID])zX=H[G.do_objectID].symbolID;if(zX=="")continue;var Gn=F[zX],GE={};for(var k in H)GE[k]=H[k];
if(G.overrides)for(var k in G.overrides)GE[k]=G.overrides[k];if(Gn==null){console.log("Unknown master master",G.symbolID);
continue}var Gm=zr.WF(Gn.QG.frame),GJ=Gm.n/J.n,Gz=Gm.J/J.J,GG=u.clone();GG.scale(GJ,Gz);y.add.lsct=zT.tc;
y.B_="pass";y.Nj=24;y.tE(G.isVisible);M.T.push(M.jt());w.TD(Gn.QG.layers,M,GG,V,F,GE)}else if(W=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+W,G);continue}if(m&&m.contextSettings){var Go=m.contextSettings;
y.B_=w.TL[Go.blendMode];y.B_=zU.DA[zU.Dg.indexOf(y.B_)];y.opacity=Math.round(y.opacity*Go.opacity)}if(O!=null)y.add.lmfx=O;
M.T.push(y);if(G.hasClippingMask){C.push(y);M.T.push(M.jt())}}while(C.length!=0)w.Tb(C.pop(),M)};zr.Tt=function(A,M){var q=0,V=[];
while(q+1<A.length){var F=A[q];q++;if(F>127){F+=128*(A[q]-1);q++}var H=A[q];q++;V.push(F,H)}return V};
zr.TM=function(A,M,q,V){var F=0;for(var H=0;H<M.length;H+=2){var w=M[H],O=0,h="";if(w==0)continue;var C=M[H+1],r=q[C],G=a.VO(A,F,F+w-1),J=r.NSColor;
if(J==null){var J=r.MSAttributedStringColorDictionaryAttribute;if(J==null)J=r.MSAttributedStringColorAttribute;
if(J==null)J="0 0 0";else J=[J.red,J.green,J.blue].join(" ")}else if(J.$class=="MSArchivedColor")J=J.dr+" "+J.dg+" "+J.db;
else if(J.NSRGB){J=J.NSRGB;J=K.Wo(J,0,J.length-1)}else if(J.NSCMYK){J=J.NSCMYK;J=K.Wo(J,0,J.length-1);
J=J.split(" ").map(parseFloat);var m=1-J[0],u=1-J[1],W=1-J[2],y=1-J[3];J=m*y+" "+u*y+" "+W*y}else if(J.NSWhite){J="1 1 1"}J=J.split(" ");
G.QU.FillColor={Type:1,Values:[1,parseFloat(J[0]),parseFloat(J[1]),parseFloat(J[2])]};if(r.NSFont){O=r.NSFont.NSSize;
h=r.NSFont.NSName}else{var I=r.MSAttributedStringFontAttribute;if(I.attributes){I=I.attributes;O=I.size;
h=I.name}else{I=I.NSFontDescriptorAttributes;O=I.NSFontSizeAttribute;h=I.NSFontNameAttribute}if(h==null)h="DejaVuSans"}G.QU.FontSize=Math.round(O);
a.VY(G,h);if(r.NSKern!=null)G.QU.Tracking=Math.round(600*r.NSKern/O);if(r.NSUnderline!=null)G.QU.Underline=r.NSUnderline>0;
if(r.NSStrikethrough!=null)G.QU.Strikethrough=r.NSStrikethrough>0;if(r.MSAttributedStringTextTransformAttribute==1)G.QU.FontCaps=2;
var Z=r.NSParagraphStyle;if(Z==null)Z=r.paragraphStyle;var L=Z?Z.NSAlignment:null;if(Z&&L==null)L=Z.alignment;
if(L!=null){var Y=0;if(!1){}else if(L==1)Y=1;else if(L==2)Y=2;else if(L==4)Y=0;else{Y=L;console.log("unknown align",L)}G.Ql.Justification=Y}var B=Z?Z.NSMinLineHeight:null;
if(Z&&B==null)B=Z.minimumLineHeight;if(Z&&B!=null){G.QU.AutoLeading=!1;G.QU.Leading=Math.round(B)}a.Vu(A,F,F+w,G);
F+=w}};zr.Tj=function(A,M,q,V,F,H){var w=zr,C=JSON.parse(j.default),G=!1;for(var r=0;r<j.order.length;
r++)C[j.jK[r]]={t:"VlLs",v:[]};var J=q.fills,m=w.Ta(A,J,V,F,H,M);for(var u=0;u<2;u++){var W=q[["shadows","innerShadows"][u]];
if(W==null)continue;var y=["DrSh","IrSh"][u],O=j.jK[j.order.indexOf(y)];for(var r=0;r<W.length;r++){var h=W[r];
if(!h.isEnabled)continue;if(h.contextSettings.opacity==0||h.color.alpha==0)continue;var I=JSON.parse(j.ju[j.order.indexOf(y)]);
C[O].v.unshift({t:"Objc",v:I});G=!0;I.Clr.v=w.Ti(h.color);I.blur.v.val=Math.round(h.blurRadius/F.HD());
var Z=h.offsetX,L=h.offsetY,Y=Math.sqrt(Z*Z+L*L);I.Dstn.v.val=Math.round(Y/F.HD());I.lagl.v.val=Math.round(Math.atan2(L,-Z)*(180/Math.PI));
if(I.layerConceals)I.layerConceals.v=m.length!=0;w.TY(h,I)}}var B=q.borders;if(B!=null&&(m.length==0||q.blur==null||!q.blur.isEnabled))for(var r=0;
r<B.length;r++){var X=B[r];if(!X.isEnabled)continue;var I=JSON.parse(j.ju[j.order.indexOf("FrFX")]),O=j.jK[j.order.indexOf("FrFX")];
C[O].v.unshift({t:"Objc",v:I});G=!0;I.Clr.v=w.Ti(X.color);if(X.gradient){var E=w.TZ(X.gradient,V,F,H),c=["Type","Angl","Ofst","Scl"];
for(var r=0;r<c.length;r++)I[c[r]]=E[c[r]];I.Grad.v=E.Grad.v;I.PntT.v.FrFl="GrFl"}I.Sz.v.val=X.thickness/F.HD();
I.Styl.v.FStl=["CtrF","InsF","OutF"][X.position];w.TY(X,I)}for(var r=1;r<m.length;r++){var o=m[r],O=j.jK[j.order.indexOf(o.type)];
C[O].v.unshift(o.o);G=!0}return G?C:null};zr.Ta=function(A,M,q,V,F,H){if(M==null)return[];var w=zr,C=[];
for(var r=0;r<M.length;r++)if(M[r].isEnabled)C.push(M[r]);M=C;var G=[];for(var r=0;r<M.length;r++){var J=M[r],m=null,u=null;
if(J.fillType==0){m="SoFi";var W=JSON.parse(j.ju[j.order.indexOf("SoFi")]);u={t:"Objc",v:W};u.v.Clr.v=w.Ti(J.color)}else if(J.fillType==1){m="GrFl";
u={t:"Objc",v:w.TZ(J.gradient,q,V,F)}}else if(J.fillType==4&&J.image!=null){var y=J.image,O=zm.Ec(y.bdata.buffer);
if(O!=null&&O!="pdf"){var h,Y=0,B=0,X=0;if(H.Qv[y.key])h=H.Qv[y.key];else{var I=zm.Eg(O).Ea(y.bdata)[0];
h={data:I.data,qa:new U(0,0,I.eG.n,I.eG.J)};h.id=EE.jz()+"-d71c-11e5-b1ae-a548a96e5f9f";h.name="someImage";
h.ej=new Uint8Array(h.data);delete h.data;H.jG(h);H.Qv[y.key]=h}var W=JSON.parse(j.ju[j.order.indexOf("patternFill")]);
m="patternFill";u={t:"Objc",v:W};var Z=J.patternFillType,L=J.patternTileScale;W.Algn.v=!0;W.Ptrn.v.Idnt.v=h.id;
if(Z==0){Y=L*h.qa.n/Math.min(h.qa.n,h.qa.J);B=-V.eI;X=-V.eK}else{Y=Math.max(q.n,q.J)/Math.min(h.qa.n,h.qa.J);
B=-V.eI-(h.qa.n*Y-q.n)/2;X=-V.eK-(h.qa.J*Y-q.J)/2}W.Scl.v.val=100*Y*(1/V.HD());W.phase.v.Hrzn.v=Math.round(B/V.HD());
W.phase.v.Vrtc.v=Math.round(X/V.HD())}}else if(J.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",J.fillType);
if(m!=null){w.TY(J,u.v);G.push({type:m,o:u})}}return G};zr.EvC=function(A){var M=zr,q=new U(0,0,1,1);
A=A.slice(0);while(!0){var V=!1;for(var F=0;F<A.length-1;F++){var H=A[F],w=A[F+1],C=null,r=H.contextSettings;
if(H.fillType==0&&(r==null||r.opacity==1&&r.blendMode==0)&&H.color.alpha==1){var G="norm",J=1,r=w.contextSettings;
if(r){J=r.opacity;G=zU.DP(M.TL[r.blendMode])}if(w.fillType==0){C=JSON.parse(JSON.stringify(w));M.TC(C.color,H.color,C.color,q,G,J)}if(w.fillType==1){C=JSON.parse(JSON.stringify(w));
var m=C.gradient.stops;for(var u=0;u<m.length;u++)M.TC(m[u].color,H.color,m[u].color,q,G,J)}if(C!=null&&C.contextSettings){var r=C.contextSettings;
r.opacity=1;r.blendMode=0}}if(C!=null){A.splice(F,0,C);V=!0;break}}if(!V||A.length<2)break}return A};
zr.TC=function(A,M,q,V,F,H){var w=zr,C=Q.b(4);w.TS(A,C);var r=Q.b(4);w.TS(M,r);Q.S.JW(F,C,V,r,V,V,H);
w.Tk(r,q)};zr.TS=function(A,M){M[0]=255*A.red;M[1]=255*A.green;M[2]=255*A.blue;M[3]=255*A.alpha};zr.Tk=function(A,M){M.red=A[0]/255;
M.green=A[1]/255;M.blue=A[2]/255;M.alpha=A[3]/255};zr.Tb=function(A,M){A=A.clone();A.Nj=24;A.Dw("Mask by "+A.getName());
M.T.push(A);A.add.lsct=zT.ts;A.add.lyid=M.jR();delete A.add.lmfx;delete A.add.SoCo;delete A.add.GdFl;
delete A.add.PtFl;delete A.add.iOpa;A.add.vmsk.NK=!0;A.DY(M);if((A.Nj&16)==16)A.Nj-=16;if((A.Nj&2)==2)A.Nj-=2;
A.B_="pass";A.opacity=255};zr.TL="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns".split(" ");
zr.TZ=function(A,M,q,V){q=q.clone();q.mx();q.eI=q.eK=0;var F=zr,H=JSON.parse(j.ju[j.order.indexOf("GrFl")]),w=H.Grad.v,m=0,u=0;
w.Intr.v=0;if(A==null)return H;var C=A.gradientType,r=F.TK(A.from),G=F.TK(A.to);r.offset(-.5,-.5);G.offset(-.5,-.5);
r=q.Ht(r);G=q.Ht(G);var J=Math.atan2(-(G.y-r.y),G.x-r.x);H.Scl.v.val=100*f.Hc(r,G);if(C==0){H.Type.v.GrdT="Lnr";
H.Angl.v.val=180/Math.PI*J;H.Scl.v.val=100*f.Hc(r,G);m=(r.x+G.x)/2;u=(r.y+G.y)/2}if(C==1){H.Type.v.GrdT="Rdl";
H.Scl.v.val=200*f.Hc(r,G);m=r.x;u=r.y}if(C==2){H.Type.v.GrdT="Angl";H.Angl.v.val=180/Math.PI*(J-Math.PI/2)}var W=H.Ofst.v;
W.Hrzn.v.val=m*100;W.Vrtc.v.val=u*100;for(var y=0;y<A.stops.length;y++){var O=A.stops[y],h=O.color,I=Math.round(O.position*4096);
w.Clrs.v[y]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:I},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:F.Ti(h)},Type:{t:"enum",v:{Clry:"UsrS"}}}};
w.Trns.v[y]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:I},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:100*h.alpha}}}}}return H};
zr.TY=function(A,M){var q=zr,V=1,F=A.contextSettings;if(F!=null){M.Md.v.BlnM=q.TL[F.blendMode];V*=F.opacity}else M.Md.v.BlnM=q.TL[0];
M.enab.v=A.isEnabled;if(M.uglg!=null)M.uglg.v=!1;if(A.color!=null)V*=A.color.alpha;M.Opct.v.val=Math.round(V*100)};
zr.Ti=function(A){return Q.r.Gt(A?{e:A.red*255,g:A.green*255,$:A.blue*255}:{e:0,g:0,$:0})};zr.TI=function(A,M){var q=zr,V=[{type:6},{type:8,all:0}];
for(var F=0;F<A.length;F++){var H=A[F],w=H.booleanOperation,C=0,W=!1;if(w==-1)C=0;else if(w==0)C=1;else if(w==1)C=2;
else if(w==2)C=3;else if(w==3)C=0;if(F==0)C=1;var r=zr.WF(H.frame),G=q.T$(H,M),J=H.path?H.path:H,m=[{type:0,length:0,qz:C,qG:2,qb:0,qL:0}],u=J.points;
for(var y=0;y<u.length;y++){var O=u[y],h=q.TK(O.curveTo),I=q.TK(O.point),Z=q.TK(O.curveFrom);W=W||O.hasCurveFrom&&!Z.mg(I)||O.hasCurveTo&&!h.mg(I)}if(!W){var L=[],Y=[],B=u.length;
for(var y=0;y<B;y++){L.push(u[y].cornerRadius);var O=q.TK(u[y].point);Y.push(O.x,O.y)}G.scale(1/r.n,1/r.J);
G.mx();Q.O.oC(Y,G,Y);var X=Q.m.lo(Y,L);m=m.concat(X);m[0].length=m.length-1}else{var E=u.length;m[0].length=E;
var c=[];for(var y=0;y<E;y++){var O=u[y];m[E-y]={type:1,qo:q.TK(O.curveFrom),s:q.TK(O.point),qU:q.TK(O.curveTo)}}G.scale(1/r.n,1/r.J);
G.mx();Q.m.Ut(m,G)}if(!J.isClosed)for(var y=0;y<m.length;y++)m[y].type+=3;V=V.concat(m)}return V};zr.T$=function(A,M){var q=M.clone(),V=zr.WF(A.frame);
q.translate(-V.x-V.n/2,-V.y-V.J/2);if(A.isFlippedHorizontal)q.scale(-1,1);if(A.isFlippedVertical)q.scale(1,-1);
q.rotate(-A.rotation*(Math.PI/180));q.translate(V.n/2,V.J/2);return q};zr.TK=function(A){A=A.slice(1,A.length-1).split(",");
return new f(parseFloat(A[0]),parseFloat(A[1]))};zr.WF=function(A){return new U(A.x,A.y,A.width,A.height)};
zr.WX=function(A){return{_class:"rect",constrainProportions:!1,x:A.x,y:A.y,width:A.n,height:A.J}};function zH(){}zH.H$=function(A,M){A=new Uint8Array(A);
var q=zt.sD(A,0,A.length),V=new DOMParser,F=V.parseFromString(q,"image/svg+xml"),H=F.getElementsByTagName("style")[0];
if(H){var w=zH.Tq(H.textContent,"{","}");H={};for(var C=0;C<w.length;C+=2){var r=w[C].split(/,?\s+/);
for(var G=0;G<r.length;G++)H[r[G]]=w[C+1]}}else H={};var J=F.firstChild;while(J.tagName!="svg")J=J.nextSibling;
var m=new U(0,0,100,100),u=J.getAttribute("viewBox");if(u){var W=u.split(" ").map(parseFloat);m.x=W[0];
m.y=W[1];m.n=W[2];m.J=W[3]}else if(J.getAttribute("width")){m.n=parseFloat(J.getAttribute("width"));
m.J=parseFloat(J.getAttribute("height"))}m=Q.O.ok(m);M.Qo=!0;M.n=m.n;M.J=m.J;M.buffer=Q.b(m.X()*4);var y=new zo(1,0,0,1,-m.x,-m.y),O={QR:zH.Tu(J),QH:H};
zH.Te(F,J.children,M,y,O)};zH.Te=function(A,M,q,V,F){var H=zH;for(var w=0;w<M.length;w++){var C=M[w],r=C.tagName,G=C.getAttribute("id"),J=["display","opacity","fill-opacity"],m=H.Tu(C,F.QH),u=JSON.parse(JSON.stringify(F.QR)),Z=1,Y="clip-path",B=null;
for(var W in m)if(J.indexOf(W)==-1)u[W]=m[W];if(C.getAttribute("dx"))V.eI+=H.TB(C.getAttribute("dx"),13);
if(C.getAttribute("dy"))V.eK+=H.TB(C.getAttribute("dy"),13);var y=H.TQ(C);y.concat(V);var O=C.getAttribute("visibility"),h=m.display,I=q.jD();
if(O=="hidden"||h=="none")I.tE(!1);I.Dw(G!=null?G:"Layer");if(m.opacity)Z*=parseFloat(m.opacity);if(m["fill-opacity"])Z*=parseFloat(m["fill-opacity"]);
I.opacity=Math.round(255*Z);if(m["mix-blend-mode"]){var L=zU.Df.indexOf(m["mix-blend-mode"]);if(L!=-1)I.B_=zU.DA[L]}if(C.getAttribute(Y)==null)Y="mask";
if(C.getAttribute(Y)!=null){B=q.jD();B.Dw("Clip-Path"+(G?": "+G:""));B.add.lsct=zT.ts;B.B_="pass";B.Nj=24;
var X=B.add.vmsk=new S.tP;q.T.push(q.jt());var E=C.getAttribute(Y);E=E.slice(4,E.length-1);var c=A.getElementById(E.slice(1)),o=c.children,s=[];
if(c.getAttribute(Y)){var E=c.getAttribute(Y);E=E.slice(4,E.length-1);s=A.getElementById(E.slice(1)).children}for(var z=0;
z<o.length;z++){var k=H.TQ(o[z]);k.concat(y);var b=H.TI(A,o[z]).slice(2);Q.m.Ut(b,k);X.C=X.C.concat(b)}for(var z=0;
z<s.length;z++){var k=H.TQ(o[z]);k.concat(y);var b=H.TI(A,s[z]).slice(2);for(var T=0;T<b.length;T++)if(b[z].qz!=null)b[z].qz=3;
Q.m.Ut(b,k);X.C=X.C.concat(b)}B.DY()}if(r=="g"||r=="a"||r=="svg"||r=="switch"||(r=="text"||r=="textPath")&&C.children.length>0){var l=C.children.length,$=F.QR;
F.QR=u;var e=r!="text"&&r!="textPath"||l>1;if(e){var i=I.Dy();I.add.lsct=i?zT.ts:zT.tc;I.B_="pass";I.Nj=24;
I.tE(i);q.T.push(q.jt())}H.Te(A,C.children,q,y,F);if(e)q.T.push(I);F.QR=$}else if(r=="use"){var g=H.T_(C);
g.concat(y);var P=H.TO(C),n=A.getElementById(P.slice(1)),$=F.QR;F.QR=u;H.Te(A,[n],q,g,F);F.QR=$}else if(r=="path"||r=="rect"||r=="circle"||r=="ellipse"||r=="polygon"||r=="polyline"||r=="line"){I.Nj|=16;
I.add.vmsk=new S.tP;I.add.vstk=JSON.parse(JSON.stringify(j.az.default));I.add.vstk.strokeEnabled.v=!1;
var p=I.add.vstk,X=I.add.vmsk;X.C=H.TI(A,C);Q.m.Ut(X.C,y);var t=Q.m.Uk(X.C),x=u.stroke,D=u["stroke-width"],Gp=u["stroke-dasharray"],zY=u.fill,zi=u["stroke-linejoin"],zI=u["stroke-linecap"],z$=u["paint-order"];
if(x==null||x=="none"){}else{var zK=H.TN(A,x,y,t),ze=["SoFi","GrFl","patternFill"].indexOf(zK.type),zq=[j.jq,j.jB,j.jN][ze],zB=p.strokeStyleContent.v={classID:j.az.av[ze]},zN=1;
for(var z=0;z<zq.length;z++)zB[zq[z]]=zK.o.v[zq[z]];D=D?parseFloat(D):1;if(z$&&z$.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){zN=2;
D/=2}p.strokeEnabled.v=!0;if(zi)p.strokeStyleLineJoinType.v.strokeStyleLineJoinType=j.az.join[["miter","round","bevel"].indexOf(zi)];
if(zI)p.strokeStyleLineCapType.v.strokeStyleLineCapType=j.az.aG[["butt","round","square"].indexOf(zI)];
p.strokeStyleLineWidth.v.val=D*d.f.HD(y);p.strokeStyleLineAlignment.v.strokeStyleLineAlignment=j.az.ao[zN];
p.strokeStyleOpacity.v.val=100*(u["stroke-opacity"]?parseFloat(u["stroke-opacity"]):1);if(Gp!=null)p.strokeStyleLineDashSet.v=Ez.ab(Gp.split(",").map(parseFloat),1/D)}if(zY=="none"){I.add.vstk.fillEnabled.v=!1;
I.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.r.Gt({e:0,g:0,$:0})}}}else{var zK=H.TN(A,zY,y,t),zQ=null,z_=null;
if(zK.type=="SoFi"){zQ="SoCo";z_=j.jq}if(zK.type=="GrFl"){zQ="GdFl";z_=j.jB}if(zK.type=="patternFill"){zQ="PtFl";
z_=j.jN}if(zQ!=null){I.add[zQ]={classID:"null"};for(var z=0;z<z_.length;z++){var W=z_[z];I.add[zQ][W]=zK.o.v[W]}}}if(u.filter){var zw=u.filter;
zw=zw.slice(5,zw.length-1);var zy=A.getElementById(zw).children[0];if(zy.tagName=="feGaussianBlur"){I.add.vmsk.NV=parseFloat(zy.getAttribute("stdDeviation"))*d.f.HD(y)}}I.DY(q);
q.T.push(I)}else if((r=="text"||r=="tspan")&&C.textContent!=""){var g=H.T_(C),Gm=13;g.concat(y);if(G==null)I.Dw(C.textContent);
I.add.TySh=a.Vk(0,0);I.add.TySh.NT=new U(0,0,100,100);I.add.TySh.oC=g.clone();var zu=C.textContent,zd=I.add.TySh.Ns;
a.V_(zd,0,zu);var zY=u.fill,zO=u["font-size"],zF=u["font-weight"],zX=u["text-decoration"],x=u.stroke,D=u["stroke-width"],Gn=a.VO(zd,0,1);
if(zY&&zY!="none"){var GE=CSS.Ti(zY);Gn.QU.FillColor={Type:1,Values:[1,GE.Rd.v/255,GE.Grn.v/255,GE.Bl.v/255]}}if(zX=="underline")Gn.QU.Underline=!0;
if(zO)Gm=H.TB(zO,Gm);Gn.QU.FontSize=Math.round(Gm);Gn.Qr.push({FontType:1,Name:"LiberationSans",Script:0,Synthetic:0});
Gn.Qr.push({FontType:1,Name:"LiberationSans-Bold",Script:0,Synthetic:0});Gn.QU.Font=Gn.Qr.length-2;if(zF=="bold")Gn.QU.Font++;
if(u["text-anchor"])Gn.Ql.Justification=["start","end","middle"].indexOf(u["text-anchor"]);a.Vu(zd,0,zu.length,Gn);
if(x==null||x=="none"){}else{var GJ=JSON.parse(j.ju[j.order.indexOf("FrFX")]);GJ.Clr.v=CSS.Ti(x);GJ.Sz.v.val=parseFloat(D)*d.f.HD(g);
var Gz=JSON.parse(j.default);for(var z=0;z<j.order.length;z++)Gz[j.jK[z]]={t:"VlLs",v:[]};Gz.frameFXMulti.v.push({t:"Objc",v:GJ});
I.add.lmfx=Gz}q.T.push(I)}else if(r=="image"){var P=H.TO(C);if(P.slice(0,4)=="data"){var GG=zm.Ef(P),Go=GG,Gv=q.jo(Go,I.getName(),0,0);
Gv.Nj=I.Nj;I=Gv;var GU=I.rect.clone();GU.x=GU.y=0;var Gl=H.T_(C);Gl.concat(y);var GH=Q.O.oL(GU).G;Q.O.oC(GH,Gl,GH);
I.add.SoLd.Trnf=d.f.pm(GH);I.add.SoLd.nonAffineTransform=d.f.pm(GH);I.DI(q,!1);q.T.push(I)}}else console.log("unknown tag: "+r);
if(B!=null)q.T.push(B)}};zH.TI=function(A,M){var q=zH,V=M.tagName,F=[{type:6},{type:8,all:0}];if(V=="path")F=F.concat(Q.m.UY(M.getAttribute("d")));
if(V=="rect"){var H=M.getAttribute("rx"),w=q.T_(M);F=Q.m.lU.Rect(w.eI,w.eK,parseFloat(M.getAttribute("width")),parseFloat(M.getAttribute("height")),H?parseFloat(H):0)}if(V=="circle"||V=="ellipse"){var C=0,r=0,H=0,G=0;
if(M.getAttribute("cx"))C=parseFloat(M.getAttribute("cx"));if(M.getAttribute("cy"))r=parseFloat(M.getAttribute("cy"));
if(M.getAttribute("rx"))H=parseFloat(M.getAttribute("rx"));if(M.getAttribute("ry"))G=parseFloat(M.getAttribute("ry"));
if(M.getAttribute("r"))H=G=parseFloat(M.getAttribute("r"));F=Q.m.lU.lh(C-H,r-G,2*H,2*G)}if(V=="polygon"||V=="polyline"||V=="line"){var J;
if(V=="line")J=[M.getAttribute("x1"),M.getAttribute("y1"),M.getAttribute("x2"),M.getAttribute("y2")].map(parseFloat);
else J=M.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
F=Q.m.lU.ll(J,0,V!="polygon")}if(V=="use"){var m=q.TO(M),u=A.getElementById(m.slice(1)),W=q.T_(u);W.concat(q.TQ(u));
F=q.TI(A,u);Q.m.Ut(F,W)}return F};zH.Tq=function(A,M,q){var V=[],F=0,H=!1;while(!0){var w=A.indexOf(H?q:M,F);
if(w==-1)break;V.push(A.slice(F,w).trim());F=w+1;H=!H}return V};zH.TB=function(A,M){if(A.charAt(A.length-1)=="m")return M*parseFloat(A.slice(0,A.length-2));
else return parseFloat(A)};zH.TN=function(A,M,q,V){var F,H,w=zH,C=M!=null?M.indexOf("("):-1;if(C!=-1){var r=M.indexOf(")"),G=M.slice(0,C).trim(),J=M.slice(C+1,r).trim();
if(G=="url"){if(J.charAt(0)=="#"){var m=A.getElementById(J.slice(1));if(m.tagName.slice(6)=="Gradient"){var u=w.TZ(A,m,q,V);
F="GrFl";H={t:"Objc",v:u}}}else console.log("unknown url",url)}else if(G=="rgb"){F="SoFi";var W=JSON.parse(j.ju[j.order.indexOf("SoFi")]);
H={t:"Objc",v:W};H.v.Clr.v=CSS.Ti(M)}else console.log("unknown fill",M)}else{F="SoFi";var W=JSON.parse(j.ju[j.order.indexOf("SoFi")]);
H={t:"Objc",v:W};H.v.Clr.v=CSS.Ti(M)}return{type:F,o:H}};zH.TQ=function(A){var M=new zo,q=A.getAttribute("transform");
if(q)M=zH.Tw(q);var V=A.getAttribute("style");if(V!=null){var F={};zH.Td(F,V,["transform"]);V=F.transform;
if(V)M.concat(zH.Tw(V))}return M};zH.T_=function(A){var M=new zo,q=A.getAttribute("x"),V=A.getAttribute("y");
if(q)M.eI+=parseFloat(q);if(V)M.eK+=parseFloat(V);return M};zH.Tw=function(A){var M=zH.Tq(A,"(",")"),q=new zo;
for(var V=0;V<M.length;V+=2){var F=q;q=zH.Ty(M[V],M[V+1]);q.concat(F)}return q};zH.Ty=function(A,M){var q=new zo,V=!0;
for(var F=0;F<M.length;F++){var H=M.charAt(F);if(H==","||H==" ")V=!0;else if(H=="."){if(!V){M=M.slice(0,F)+","+M.slice(F);
F++}V=!1}else if(H=="-"&&F>0&&M[F-1]!="e"){M=M.slice(0,F)+" "+M.slice(F);F++;V=!0}}M=M.split(/\s*[\s,]\s*/).map(parseFloat);
if(!1){}else if(A=="translate"){if(M.length==1)q.translate(M[0],0);else q.translate(M[0],M[1])}else if(A=="scale"){if(M.length==1)q.scale(M[0],M[0]);
else q.scale(M[0],M[1])}else if(A=="rotate"){var w=0,C=0;if(M.length!=1){w=M[1];C=M[2]}q.translate(-w,-C);
q.rotate(-Math.PI*M[0]/180);q.translate(w,C)}else if(A=="matrix")q=new zo(M[0],M[1],M[2],M[3],M[4],M[5]);
else console.log("unknown transform: ",A);return q};zH.Tu=function(A,M){var q={},V="fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight text-decoration text-anchor stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode".split(" ");
for(var F=0;F<V.length;F++){var H=A.getAttribute(V[F]);if(H!=null&&H!="inherit")q[V[F]]=H}var w=A.getAttribute("class");
if(M!=null&&w!=null&&M["."+w]!=null)zH.Td(q,M["."+w],V);var C=A.getAttribute("style");if(C!=null)zH.Td(q,C,V);
return q};zH.Td=function(A,M,q){M=M.trim().split(";");for(var V=0;V<M.length;V++){var F=M[V].split(":");
for(var H=0;H<q.length;H++)if(F[0].trim()==q[H])A[q[H]]=F[1].trim()}};zH.TO=function(A){var M=A.getAttribute("xlink:href");
if(M==null)M=A.getAttribute("href");return M};zH.TZ=function(A,M,q,V){var F=zH,H=new zo,w=M.getAttribute("gradientTransform");
if(w)H=F.Tw(w);H.concat(q);var C=JSON.parse(j.ju[j.order.indexOf("GrFl")]),r=C.Grad.v;r.Intr.v=0;var G=M.tagName,J=new f(0,0),m=new f(V.n,0);
if(G=="linearGradient"){C.Type.v.GrdT="Lnr";if(M.getAttribute("x1"))J.x=parseFloat(M.getAttribute("x1"));
if(M.getAttribute("y1"))J.y=parseFloat(M.getAttribute("y1"));if(M.getAttribute("x2"))m.x=parseFloat(M.getAttribute("x2"));
if(M.getAttribute("y2"))m.y=parseFloat(M.getAttribute("y2"));J.x=m.x+.5*(J.x-m.x);J.y=m.y+.5*(J.y-m.y)}if(G=="radialGradient"){C.Type.v.GrdT="Rdl";
if(M.getAttribute("cx"))J.x=parseFloat(M.getAttribute("cx"));if(M.getAttribute("cy"))J.y=parseFloat(M.getAttribute("cy"));
m.HT(J.x,J.y);if(M.getAttribute("r"))m.x+=parseFloat(M.getAttribute("r"))}if(M.getAttribute("gradientUnits")=="userSpaceOnUse"){J=H.Ht(J);
m=H.Ht(m)}else{J.x=V.x+J.x*V.n;J.y=V.y+J.y*V.J;m.x=V.x+m.x*V.n;m.y=V.y+m.y*V.J}Q.r.GC(J,m,V,C);var u=M.children;
if(u.length==0){var W=F.TO(M);if(W==null)throw"gradient has no stops";var y=A.getElementById(W.slice(1));
if(y==null){console.log(W.slice(1));throw"e"}var O=F.TZ(A,y,H,V);C.Grad=O.Grad}else for(var h=0;h<u.length;
h++){var I=u[h],Z=F.Tu(I),L=Z["stop-color"],Y=Z["stop-opacity"],B=I.getAttribute("offset");if(L==null)L="#000000";
if(Y==null)Y="1";var X=Math.round((B?parseFloat(B):0)*4096);r.Clrs.v[h]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:X},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:CSS.Ti(L)},Type:{t:"enum",v:{Clry:"UsrS"}}}};
r.Trns.v[h]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:X},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:parseFloat(Y)*100}}}}}return C};
zH.HO=function(A,M){var q=[],V=zH;V.TF=M.eg?"\t":"";var F=M.EGl,H=M.EGW;q.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+A.n+" "+A.J+"\" width=\""+F+"\" height=\""+H+"\">");
var w={QW:[],B:[],Qh:0,QT:0,qr:0,Qs:{},Qc:{},QA:0,Qg:{},Qx:{},Qp:0,ec:[]};zH.sE(A,w,A.root.children,1,M);
if(w.QW.length!=0){q.push(V.TX(1)+"<defs>");q=q.concat(w.QW);q.push(V.TX(1)+"</defs>")}q.push(V.TX(1)+"<style>");
if(M.ec){for(var C=0;C<w.ec.length;C++){var r=w.ec[C],G=zs.KX.Xb(r);if(r!=zs.KZ(G))continue;q.push(V.TX(2)+"@font-face { font-family: \""+r+"\";  src: url(data:font/sfnt;base64,"+zm.Et(G._data.buffer)+");  }")}}q.push(V.TX(2)+"tspan { white-space:pre }");
for(var J in w.Qg)q.push(V.TX(2)+"."+J+" { "+w.Qg[J]+" } ");q.push(V.TX(1)+"</style>");q=q.concat(w.B);
q.push("</svg>");q=q.join(M.eg?"\n":"");var m=Q.b(Math.round(q.length*1.5)),u=zt.sL(q,m,0);return m.buffer.slice(0,u)};
zH.TF="";zH.TX=function(A){var M="";for(var q=0;q<A;q++)M+=zH.TF;return M};zH.sn=function(A){return""+parseFloat(A.toFixed(3))};
zH.sE=function(A,M,q,V,F){var H=zH;for(var w=0;w<q.length;w++){var C=q[w].Q,r=C.add.lsct,G=C.add.vmsk,J=C.add.vstk,m=C.add.TySh,u=[];
if(!F.hidden&&!C.Dy())continue;var W=C.opacity/255,y=C.add.iOpa?C.add.iOpa/255:1;if(W!=1)u.push("opacity: "+H.sn(W));
if(y!=1)u.push("fill-opacity: "+H.sn(y));if(C.B_!="norm"){var O=zU.Df[zU.DA.indexOf(C.B_)];if(O!=null)u.push("mix-blend-mode: "+O)}if(!C.Dy())u.push("display: none");
var h=[];if(F.names)h.push("id=\""+H.sm(C.getName())+"\"");var I=C.add.lmfx;if(I)I=I.solidFillMulti.v[0];
if(I)I=I.v;if(I&&I.enab.v){var Z=I.Opct.v.val/100,L=H.sn(1-Z),Y=Q.r.GD(I.Clr.v);M.QT++;M.QW.push(H.TX(2)+"<filter id=\"flt"+M.QT+"\"> <feColorMatrix in=\"SourceGraphic\" type=\"matrix\" values=\""+L+" 0 0 0 "+H.sn(Z*Y.e/255)+"   0 "+L+" 0 0 "+H.sn(Z*Y.g/255)+"   0 0 "+L+" 0 "+H.sn(Z*Y.$/255)+"   0 0 0 1 0\" /> </filter>");
u.push("filter: url(#flt"+M.QT+")")}if(C.Da()){if(G){M.qr++;h.push("clip-path=\"url(#cp"+M.qr+")\"");
M.QW.push(H.TX(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+M.qr+"\">");var B=Q.m.Ui(G.C);
M.QW.push(H.TX(3)+"<path d=\""+B.qV+"\" />");M.QW.push(H.TX(2)+"</clipPath>")}if(u.length!=0)h.push("style=\""+u.join(";")+"\"");
M.B.push(H.TX(V)+"<g "+h.join(" ")+">");H.sE(A,M,q[w].children,V+1,F);M.B.push(H.TX(V)+"</g>")}else if(C.DV()&&G==null){var X=new U(0,0,A.n,A.J);
H.sJ(u,C.add,M,X);if(u.length!=0)h.push("style=\""+u.join(";")+"\"");M.B.push(H.TX(V)+"<rect width=\""+A.n+"\" height=\""+A.J+"\" "+h.join(" ")+" />")}else if(G){var X=Q.m.Uk(G.C),B=Q.m.Ui(G.C);
if(B.qC!=0){h.push("fill-rule=\"evenodd\"")}var E=B.qV;H.sJ(u,C.add,M,X);if(u.length!=0){var c=u.join(";"),o=M.Qx[c];
if(o==null){o="shp"+M.Qp;M.Qp++;M.Qx[c]=o;M.Qg[o]=c}h.push("class=\""+o+"\"")}M.B.push(H.TX(V)+"<path "+h.join(" ")+" d=\""+E+"\" />")}else if(m&&!F.ERX){var s=m.Ns,z=m.oC.clone(),P=0,n=0;
if(a.V$(s)==1){var k=a.VO(s,0,0).Ql.Justification,b=0,T=a.Ve(s)[2];if(k==2)b=T/2;if(k==1)b=T;z.translate(b,0)}u.push("transform: "+H.Ww(z));
var l=a.Vi(s),$=s.EngineDict.ParagraphRun,e=$.RunArray,i=$.RunLengthArray;if(u.length!=0)h.push("style=\""+u.join(";")+"\"");
M.B.push(H.TX(V)+"<text "+h.join(" ")+" >");var g=C.add.lmfx;if(g)g=g.frameFXMulti.v[0];if(g)g=g.v;for(var p=0;
p<e.length;p++){var t=[],x=i[p],D=l.slice(P,P+x-1),Gp=a.VO(s,P,P),zY=Gp.Qr[Gp.QU.Font].Name;if(M.ec.indexOf(zY)==-1)M.ec.push(zY);
CSS.CZ(t,Gp,m.oC,!0,F.ec);if(g){u.push("stroke: "+CSS.CL(g.Clr.v));u.push("stroke-width: "+g.Sz.v.val)}var zi=Gp.QU.FontSize*1.12;
if(p==0)zi=a.V$(s)==0?0:Gp.QU.FontSize;n+=zi;if(D!=""){var c=t.join(";"),o=M.Qx[c];if(o==null){o="txt"+M.Qp;
M.Qp++;M.Qx[c]=o;M.Qg[o]=c}M.B.push(H.TX(V+1)+"<tspan x=\"0\" y=\""+H.sn(n)+"\" class=\""+o+"\">"+H.sm(D)+"</tspan>")}P+=x}M.B.push(H.TX(V)+"</text>")}else if(C.add.SoLd){var zI=C.add.SoLd,z$=zI.Idnt.v,zK=0;
if(M.Qc[z$]!=null)zK=M.Qc[z$];else{M.QA++;zK=M.QA;M.Qc[z$]=M.QA;var ze=A.jf(z$,zI.Crop?zI.Crop.v:null),zN="";
if(ze==null)return;var zq=ze.QP,zB=zm.Ec(ze.raw.buffer);if(zB=="pdf"){var zQ=new EE("h");zm.PDF.Ea(ze.raw.buffer,zQ);
zQ.jL();zQ.jk();zQ.U();zQ.jP();if(zI.Crop&&zI.Crop.v==1){d.AB.A_(zQ,zQ.root.Ak(zQ,!0))}var z_=zm.SVG.Ej(zQ,zQ.n,zQ.J);
zN="data:image/svg+xml;base64,"+zm.Et(z_)}else if(zB=="jpg"||zB=="png"||zB=="gif"||zB=="svg"){var zw={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
zN="data:"+zw[zB]+";base64,"+zm.Et(ze.raw.buffer)}else{zN=zm.EP(zq[0],zq[1].n,zq[1].J)}M.QW.push(H.TX(2)+"<image width=\""+zq[1].n+"\" height=\""+zq[1].J+"\" id=\"img"+zK+"\" href=\""+zN+"\"/>")}var ze=A.jf(z$,zI.Crop?zI.Crop.v:null),zq=ze.QP,zy=Q.GG.Go(zI);
if(u.length!=0)h.push("style=\""+u.join(";")+"\"");var zu=h.join(" ");M.B.push(H.TX(V)+"<use "+zu+" href=\"#img"+zK+"\" transform=\""+H.Ww(zy)+"\"/>")}else if(!C.rect.zZ()&&(F.Evx||m)){if(u.length!=0)h.push("style=\""+u.join(";")+"\"");
var zu=h.join(" "),zd=C.rect;M.QA++;var zN=zm.EP(C.buffer,zd.n,zd.J);M.QW.push(H.TX(2)+"<image width=\""+C.rect.n+"\" height=\""+C.rect.J+"\" id=\"img"+M.QA+"\" href=\""+zN+"\"/>");
M.B.push(H.TX(V)+"<use "+zu+" href=\"#img"+M.QA+"\" x=\""+zd.x+"\" y=\""+zd.y+"\" />")}}};zH.sm=function(A){return String(A).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
zH.Ww=function(A){var M=[A.M,A.$,A.ei,A.e$,A.eI,A.eK].map(zH.sn);return"matrix("+M.join(",")+")"};zH.sJ=function(A,M,q,V){var F=zH,H=M.vstk,w=M.vmsk,C=M.lmfx;
if(w&&w.NV!=0){var r=F.sn(w.NV);if(q.Qs[r]==null){q.QT++;q.Qs[r]=q.QT;q.QW.push(F.TX(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+q.QT+"\"> <feGaussianBlur stdDeviation=\""+r+"\" /> </filter>")}A.push("filter: url(#flt"+q.Qs[r]+")")}var G=Ez.aR(C),J=G[0],m=G[1];
if(H&&!H.fillEnabled.v)A.push("fill: none");else if(M.SoCo&&m==null||J){var u=CSS.CL((J?J:M.SoCo).Clr.v);
A.push("fill: "+u)}else if(M.GdFl||m){F.sz(m?m:M.GdFl,q,V);A.push("fill: url(#grd"+q.Qh+")")}if(H==null||!H.strokeEnabled.v)H=Ez.aS(C);
if(H&&H.strokeEnabled.v){var W=H.strokeStyleContent.v,y=W.classID;if(y=="solidColorLayer")A.push("stroke: "+CSS.CL(W.Clr.v));
else{F.sz(W,q,V);A.push("stroke: url(#grd"+q.Qh+")")}var O=j.az.aG.indexOf(H.strokeStyleLineCapType.v.strokeStyleLineCapType),h=j.az.join.indexOf(H.strokeStyleLineJoinType.v.strokeStyleLineJoinType),I=H.strokeStyleOpacity.v.val/100,Z=H.strokeStyleLineWidth.v.val,L=j.az.ao.indexOf(H.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(L==2){Z*=2;A.push("paint-order:stroke fill markers")}var Y=H.strokeStyleLineDashSet.v,B=[];for(var X=0;
X<Y.length;X++)B.push(Math.round(Y[X].v.val*Z));if(O!=0)A.push("stroke-linecap:"+["butt","round","square"][O]);
if(h!=0)A.push("stroke-linejoin:"+["miter","round","bevel"][h]);if(I!=1)A.push("stroke-opacity:"+F.sn(I));
if(Z!=1)A.push("stroke-width: "+F.sn(Z));if(B.length!=0)A.push("stroke-dasharray: "+B.join(","))}};zH.sz=function(A,M,q){M.Qh++;
var V=zH,F=A.Grad.v,H=F.Clrs.v.slice(0),w=F.Trns.v.slice(0),C=A.Ofst.v,r=A.Type.v.GrdT=="Rdl"?1:0,G=(r==1?"radial":"linear")+"Gradient",J=Q.r.GV(A,q);
if(r==0){J[0].x=J[1].x+2*(J[0].x-J[1].x);J[0].y=J[1].y+2*(J[0].y-J[1].y)}var m=V.TX(2)+"<"+G+" id=\"grd"+M.Qh+"\" gradientUnits=\"userSpaceOnUse\" ";
if(r==0)M.QW.push(m+" x1=\""+V.sn(J[0].x)+"\" y1=\""+V.sn(J[0].y)+"\" x2=\""+V.sn(J[1].x)+"\" y2=\""+V.sn(J[1].y)+"\">");
if(r==1)M.QW.push(m+" cx=\""+V.sn(J[0].x)+"\" cy=\""+V.sn(J[0].y)+"\" r=\""+V.sn(f.Hc(J[0],J[1]))+"\">");
var u=A.Rvrs.v;if(u){H.reverse();w.reverse()}for(var W=0;W<H.length;W++){var y=H[W].v,O=W<w.length?w[W].v.Opct.v.val/100:1,O=O==1?"":"stop-opacity=\""+V.sn(O)+"\"",h=y.Lctn.v/4096;
if(u)h=1-h;M.QW.push(V.TX(3)+"<stop offset=\""+V.sn(h)+"\" stop-color=\""+CSS.CL(y.Clr.v)+"\" "+O+" />")}M.QW.push(V.TX(2)+"</"+G+">")};
var zW={};zW.parse=function(A){var M=new Uint8Array(A),q=null;if(M[0]==80&&M[1]==75){var V=Date.now(),F=UZIP.parse(M),q=F["document.json"];
if(q==null){alert("Unexpected ZIP file.");return}q=JSON.parse(zt.sD(q,0,q.length));zW.sG(q,F)}else{var H=zR.parse(A);
q=zW.sv(H[2][0][1])}return q};zW.sG=function(A,M){var q=typeof A;if(q=="string"||q=="number"||q=="boolean")return A;
if(A instanceof Array){for(var V=0;V<A.length;V++)A[V]=zW.sG(A[V],M);return A}var F=A._class;if(F==null)return A;
if(F=="MSJSONFileReference"){var H=A._ref;if(!1){}else if(M[H+".json"]!=null){var w=zt.sD(M[H+".json"],0,M[H+".json"].length);
A=JSON.parse(w)}else if(M[H+".png"]!=null)return{key:H.split("/").pop(),bdata:M[H+".png"]};else if(M[H+".jpg"]!=null)return{key:H.split("/").pop(),bdata:M[H+".jpg"]};
else if(M[H+".pdf"]!=null)return{key:H.split("/").pop(),bdata:M[H+".pdf"]};else if(M[H]!=null)return{key:H.split("/").pop(),bdata:M[H]};
else{console.log(A,M);throw"e"}}else if(F=="MSAttributedString"){var w=atob(A.archivedAttributedString._archive),C=w.length-1,r=new Uint8Array(C);
for(var V=0;V<C;V++)r[V]=w.charCodeAt(V);A.archivedAttributedString=zW.sv(r)}for(var G in A)A[G]=zW.sG(A[G],M);
return A};zW.so=function(A,M,q,V){if(A instanceof Uint8Array)return null;if(V.indexOf(A)!=-1)return null;
V.push(A);if(A==M)return q;for(var F in A){q.push(F);var H=zW.so(A[F],M,q,V);if(H){console.log(A,H);
throw"e"}q.pop()}};zW.sv=function(A){var M=zj.parse(A,0),q=M.$objects,V=new Uint8Array(q.length),F=zW.sl(q,V,M.$top.root);
for(var H=0;H<q.length;H++)if(V[H]==0&&H!=0){console.log(H,q[H]);zW.so(F,H,[],[])}for(var H=0;H<q.length;
H++){var w=q[H];if(w._class&&(w._class=="bitmap"||w._class=="fill"&&w.fillType==4)){var C=null,r=null;
if(w.image&&w.image.data){r=w.image.sha1["NS.bytes"];r=btoa(K.Wo(r,0,r.length));C=w.image.data instanceof Uint8Array?w.image.data:w.image.data["NS.bytes"]}else{if(w.imageSHA)r=w.imageSHA instanceof Uint8Array?w.imageSHA:w.imageSHA["NS.bytes"];
else r=w.image.sha1["NS.bytes"];r=btoa(K.Wo(r,0,r.length));var G=F.assets?F.assets.imageCollection:F.images,C=G.images[r].data;
if(C["NS.bytes"])C=C["NS.bytes"]}C=new Uint8Array(C.buffer.slice(C.byteOffset,C.byteOffset+C.length));
delete w.imageSHA;w.image={key:r,bdata:C}}}return F};zW.sU=function(A){return A.slice(0,11)=="MSImmutable"?"MS"+A.slice(11):A};
zW.sl=function(A,M,q){var V=A[q];if(M[q]==1){return V}M[q]=1;if(typeof V=="string")return V;if(typeof V=="number")return V;
if(typeof V=="boolean")return V;if(V instanceof Array)return V;if(V instanceof Uint8Array){return V}if(A[V.$class]==null){if(V.$class==null&&V["NS.data"]!=null)return V;
console.log(q,V);throw"e"}var F=A[V.$class],H=zW.sU(F.$classname);M[V.$class]=1;V.$class=H;if(zW.sH[H]){delete V.$class;
V._class=zW.sH[H]}var w=zW.sl;if(H=="NSMutableArray"||H=="NSArray"){var C=[];if(V["NS.objects"]!=null)for(var r=0;
r<V["NS.objects"].length;r++)C.push(w(A,M,V["NS.objects"][r]));else for(var r=0;V["NS.object."+r]!=null;
r++)C.push(w(A,M,V["NS.object."+r]));A[q]=C;return C}if(H=="NSDictionary"||H=="NSMutableDictionary"){var G={$class:H};
if(V["NS.keys"]!=null)for(var r=0;r<V["NS.keys"].length;r++){var J=w(A,M,V["NS.keys"][r]);if(J instanceof Uint8Array)J=btoa(zW.sR.Wo(J,0,J.length));
else if(typeof J!="string"&&typeof J!="number")J=btoa(zW.sR.Wo(J["NS.bytes"],0,J["NS.bytes"].length));
G[J]=w(A,M,V["NS.objects"][r])}else for(var r=0;V["NS.key."+r]!=null;r++){var J=w(A,M,V["NS.key."+r]);
if(J instanceof Uint8Array)J=btoa(zW.sR.Wo(J,0,J.length));else if(typeof J!="string"&&typeof J!="number")J=btoa(zW.sR.Wo(J["NS.bytes"],0,J["NS.bytes"].length));
G[J]=w(A,M,V["NS.object."+r])}for(var m in V)delete V[m];for(var m in G)V[m]=G[m];return V}if(H=="NSURL")return{$class:H,base:w(A,M,V["NS.base"]),relative:w(A,M,V["NS.relative"])};
if(zW.sr.indexOf(H)!=-1){A[q]=w(A,M,V.array_do);return A[q]}if(V.do_objectID!=null)V.do_objectID=w(A,M,V.do_objectID);
if(zW.sW.indexOf(H)!=-1)return V;var u=zW.sh[H];if(u==null){console.log(A,V);throw"unknown class "+H}for(var r=0;
r<u.length;r++)if(V[u[r]]!=null)V[u[r]]=w(A,M,V[u[r]]);if(H=="MSTextLayer"){var W=V,y,O,h,I;if(W.attributedString)y=W.attributedString.archivedAttributedString;
else y=W.storage;I=y.NSString;if(typeof I!="string")I=zt.sD(I["NS.bytes"],0,I["NS.bytes"].length);if(y.NSAttributeInfo)O=y.NSAttributeInfo["NS.bytes"];
else{var Z=I.length,L=[];while(Z>0){var Y=Math.min(100,Z);L.push(Y,0);Z-=Y}O=new Uint8Array(L)}h=y.NSAttributes instanceof Array?y.NSAttributes:[y.NSAttributes];
var B={$class:"NSAttributedString",NSString:I,NSAttributes:h};W.attributedString={_class:"MSAttributedString",archivedAttributedString:B};
B.NSAttributeInfo={$class:"NSMutableData","NS.data":O};delete W.storage}return V};zW.sR={WR:function(A,M){return A[M+1]<<8|A[M]},d:function(A,M){return A[M+3]<<24|A[M+2]<<16|A[M+1]<<8|A[M]},Wo:function(A,M,q){var V="";
for(var F=0;F<q;F++)V+=String.fromCharCode(A[M+F]);return V}};zW.sH={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill"};
zW.sr=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
zW.sW="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData MSStyleReflection".split(" ");
zW.sh={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"]};
var zj={};zj.parse=function(A,M){var q=K.Wo(A,M,8);M+=8;var V=zj.parse.sT(A,A.length-31),F=[];if(V.QD==1){var M=A.length-31-V.QD*V.Qt;
for(var H=0;H<V.Qt;H++)F.push(A[M+H])}else if(V.QD==2){var M=A.length-31-V.QD*V.Qt;for(var H=0;H<V.Qt;
H++)F.push(K.WR(A,M+H*2))}else if(V.QD==4){var M=A.length-31-V.QD*V.Qt;for(var H=0;H<V.Qt;H++)F.push(K.d(A,M+H*4))}else{throw"e"}var w=zj.parse.sl(A,F,V.root,V);
return w};zj.parse.sl=function(A,M,q,V){var F=zj.sR,H=V.Evw,w=H==4?F.d:H==2?F.WR:F.ss,C=zj.parse,r=M[q],G=A[r],J=G>>4,m=G&15,W=null;
r+=1;if([4,5,6,10,12,13].indexOf(J)!=-1&&m==15){var u=C.Wg(A,r);r+=u.BG;m=u.o}if(!1){}else if(J==0)W=m==8?!1:m==9?!0:null;
else if(J==1)W=C.Wg(A,r-1).o;else if(J==2)W=1<<m==4?K.Wi(A,r):K.WL(A,r);else if(J==3)W=K.WL(A,r);else if(J==4)W=new Uint8Array(A.buffer,r,m);
else if(J==5)W=K.Wo(A,r,m);else if(J==6)W=K.rd(A,r,m);else if(J==8){W=0;for(var y=0;y<m+1;y++)W=W<<8|A[r+y]}else if(J==10){W=[];
for(var y=0;y<m;y++)W.push(C.sl(A,M,w(A,r+H*y),V))}else if(J==12){W=[];for(var y=0;y<m;y++)W.push(C.sl(A,M,w(A,r+H*y),V))}else if(J==13){W={};
for(var y=0;y<m;y++){var O=C.sl(A,M,w(A,r+H*y),V),h=C.sl(A,M,w(A,r+H*(m+y)),V);W[O]=h}}else throw"unknown mask "+J;
return W};zj.parse.Wg=function(A,M){var q=1<<(A[M]&15),V=0;for(var F=0;F<q;F++)V=V<<8|A[M+1+F];return{o:V,BG:q+1}};
zj.parse.sT=function(A,M){var q={};M+=6;q.QD=A[M];M++;q.Evw=A[M];M++;M+=4;q.Qt=K.d(A,M);M+=4;M+=4;q.root=K.d(A,M);
M+=4;M+=4;q.Evp=K.d(A,M);M+=4;return q};zj.sR={ss:function(A,M){return A[M]},WR:function(A,M){return A[M]<<8|A[M+1]},d:function(A,M){return A[M]<<24|A[M+1]<<16|A[M+2]<<8|A[M+3]},Wo:function(A,M,q){var V="";
for(var F=0;F<q;F++)V+=String.fromCharCode(A[M+F]);return V}};var zR={parse:function(A){var M=new Uint8Array(A),q=zR.rl(M),V=[],F=new Uint8Array(M.length),H=[];
V.push(H);zR.sc(M,q,1,F,H);for(var w=0;w<H.length;w++){var C=[];V.push(C);zR.sc(M,q,H[w][3],F,C);H[w][3]=w+1}return V},sc:function(A,M,q,V,F){q--;
var H=q*M.Qa+(q==0?100:0),w=A[H],C=zR.WR(A,H+1);if(C!=0)throw"free block in a page";var r=zR.WR(A,H+3),G=zR.WR(A,H+5);
if(G==0)G=65536;var J=A[H+7],m=zR.WR(A,H+8);if(w==2||w==5)H+=4;else m=0;for(var u=0;u<r;u++){var W=q*M.Qa+zR.WR(A,H+8+2*u),y=-1,O=0,h=0,I=0;
if(w==2||w==5){y=zR.d(A,W);W+=4}if(w==2||w==10||w==13){O=zR.sP(A,W);W+=O.BG}if(w==5||w==13){h=zR.sP(A,W);
W+=h.BG}if(w==5){zR.sc(A,M,y,V,F);continue}var Z=M.Qa-(q==0?100:0),L=O.lI,Y=w==13?Z-35:Math.floor((Z-12)*64/255)-23,B=Math.floor((Z-12)*32/255)-23,X=B+(L-B)%(Z-4);
if(L<=Y){zR.mc(A,W,V,0,L)}else{var E=X<=Y?X:B,c=0;zR.mc(A,W,V,0,E);c+=E;I=zR.d(A,W+E);while(I!=0){var o=(I-1)*M.Qa;
I=zR.d(A,o);var s=Math.min(M.Qa-4,L-c);zR.mc(A,o+4,V,c,s);c+=s}}F.push(zR.sA(V,L))}},sA:function(A,M){var q=0,V=zR.sP(A,q);
q+=V.BG;var F=[],H=[];while(q<V.lI){var w=zR.sP(A,q);q+=w.BG;F.push(w.lI)}if(q!=V.lI)throw"e";for(var C=0;
C<F.length;C++){var w=F[C];if(!1){}else if(w==0)H.push(null);else if(w==1){H.push(zR.sp(A,q));q+=1}else if(w==2){H.push(zR.Ws(A,q));
q+=2}else if(w==3){H.push(zR.sx(A,q));q+=3}else if(w==4){H.push(zR.Wg(A,q));q+=4}else if(w==7){H.push(zR.sf(A,q));
q+=16}else if(w==8)H.push(0);else if(w==9)H.push(1);else if(w>=12&&(w&1)==0){var r=w-13>>1,G=new Uint8Array(r);
zR.mc(A,q,G,0,r);H.push(G);q+=r}else if(w>=13&&(w&1)==1){var r=w-12>>1;H.push(zR.sD(A,q,r));q+=r}else throw"unknonw type "+w}return H},rl:function(A){if(!(A[18]==1&&A[19]==1&&A[20]==0&&A[21]==64&&A[22]==32&&A[23]==32))throw"unexpected SQL3 header";
var M={QV:zR.Wo(A,0,15),Qa:zR.WR(A,16),ERT:zR.d(A,24),size:zR.d(A,28),EmH:zR.d(A,32),Evu:zR.d(A,36),EzJ:zR.d(A,40),EzB:zR.d(A,44),Emz:zR.d(A,48),EJJ:zR.d(A,52),Qi:zR.d(A,56),EmS:zR.d(A,60),Enj:zR.d(A,64)!=0,ElF:zR.d(A,68),Ezu:zR.d(A,92),Ezd:zR.d(A,96)};
if(M.Qa==1)M.Qa=65536;if(M.Qi!=1)throw"unsupported text encoding "+M.Qi;return M},sg:function(A,M){return A[M]<<16|A[M+1]<<8|A[M+2]},sx:function(A,M){var q=zR.sg(A,M),V=q&8388608;
return V?-(16777215-q+1):q},sp:function(A,M){zR.sM[0]=A[M];return zR.sj[0]},Wg:function(A,M){var q=zR.sM;
for(var V=0;V<4;V++)q[V]=A[M+3-V];return zR.sV[0]},Ws:function(A,M){var q=zR.sM;q[0]=A[M+1];q[1]=A[M];
return zR.sa[0]},WR:function(A,M){return A[M]<<8|A[M+1]},d:function(A,M){return A[M]<<24|A[M+1]<<16|A[M+2]<<8|A[M+3]},sf:function(A,M){var q=zR.sM;
for(var V=0;V<8;V++)q[V]=A[M+7-V];return zR.sC[0]},sP:function(A,M){var q=M,V=0;while(!0){var F=A[M];
M++;V=V*128+(F&127);if(F<128)break}return{lI:V,BG:M-q}},Wo:function(A,M,q){var V="";for(var F=0;F<q;
F++)V+=String.fromCharCode(A[M+F]);return V},sD:function(A,M,q){var V="";for(var F=0;F<q;F++)V+="%"+zR.st(A[M+F].toString(16));
return decodeURIComponent(V)},mc:function(A,M,q,V,F){if(A[M+F-1]==null||q[V+F-1]==null){console.log(M,V,F);
throw"e"}for(var H=0;H<F;H++)q[V+H]=A[M+H]},st:function(A){return A.length<2?"0"+A:A}};zR.sM=new Uint8Array(8);
zR.sj=new Int8Array(zR.sM.buffer);zR.sa=new Int16Array(zR.sM.buffer);zR.sV=new Int32Array(zR.sM.buffer);
zR.sC=new Float64Array(zR.sM.buffer);var zt={};zt.parse=function(A,M,q){var V=zt.sk(A,M,q),F=[0,0,{}],H=0,w=[],C=0,G=0,J=0,m=0;
for(var r=0;r<100;r++)F.push(0,0,0);while(V[M]==32||V[M]==10)M++;M++;while(V[M]==32||V[M]==10)M++;while(M<q&&-1<H){G=F[H];
J=F[H+1];if(G==0){if(J==0){M++;F[H+1]=1;H+=3;F[H]=3;F[H+1]=0;F[H+2]=0;continue}else if(J==1){w[C++]=F[H+5];
M++;F[H+1]=2;H+=3;F[H]=2;F[H+1]=0;F[H+2]=0}else if(J==2){var u=w[--C],W=F[H+5];F[H+2][u]=W;if(V[M]==125){M++;
H-=3}else{M++;F[H+1]=0}}}else if(G==1){if(J==0){F[H+1]=1;H+=3;F[H]=2;F[H+1]=0;F[H+2]=0;continue}else if(J==1){var W=F[H+5];
F[H+2].push(W);if(V[M]==93){M++;H-=3}else{M++;F[H+1]=0}}}else if(G==2){if(J==0){m=V[M];if(m==123){M++;
if(V[M]==125){M++;F[H+2]={};H-=3}else{F[H+1]=1;H+=3;F[H]=0;F[H+1]=0;F[H+2]={}}}else if(m==91){M++;if(V[M]==93){M++;
F[H+2]=[];H-=3}else{F[H+1]=1;H+=3;F[H]=1;F[H+1]=0;F[H+2]=[]}}else if(m==34){M++;if(V[M]==34){M++;F[H+2]="";
H-=3}else{F[H+1]=1;H+=3;F[H]=3;F[H+1]=0;F[H+2]="";continue}}else if(m==102){M+=5;F[H+2]=!1;H-=3}else if(m==116){M+=4;
F[H+2]=!0;H-=3}else if(m==110){M+=4;F[H+2]=null;H-=3}else{var y="";while(48<=m&&m<=57||m==46||m==101||m==69||m==43||m==45){y+=String.fromCharCode(m);
m=V[++M]}F[H+2]=parseFloat(y);H-=3}}else if(J==1){F[H+2]=F[H+5];H-=3;continue}}else if(G==3){var O=[];
while(!0){m=V[M];M++;if(m==34)break;else if(m==92){m=V[M];M++;if(m==34||m==47||m==92)O.push(String.fromCharCode(m));
else if(m==110)O.push("\n");else if(m==114)O.push("\r");else if(m==116)O.push("\t");else if(m==117){throw"e"}}else O.push(String.fromCharCode(m))}F[H+2]=O.join("");
H-=3}while(V[M]==32||V[M]==10)M++}return F[2]};zt.EnC=function(A,M,q){var V="";for(var F=M;F<M+q;F++)V+=String.fromCharCode(A[F]);
return V};zt.sk=function(A,M,q){var V=[],F=0,H=0;q+=M;while(M<q){F=A[M++];if((F&128)==0)H=F;else if((F&224)==192){H=(F&31)<<6;
F=A[M++];H|=F&63}else if((F&240)==224){H=(F&15)<<12;F=A[M++];H|=(F&63)<<6;F=A[M++];H|=F&63}else if((F&248)==240){H=(F&7)<<18;
F=A[M++];H|=(F&63)<<12;F=A[M++];H|=(F&63)<<6;F=A[M++];H|=F&63}else throw"e";V.push(H)}return V};zt.sb=window.TextDecoder?new window.TextDecoder:null;
zt.sD=function(A,M,q){if(zt.sb&&M==0&&q==A.length)return zt.sb.decode(A);var V=zt.sk(A,M,q),F=V.length;
for(var H=0;H<F;H++)V[H]=String.fromCharCode(V[H]);return V.join("")};zt.sL=function(A,M,q){var V=A.length,F=0;
for(var H=0;H<V;H++){var w=A.charCodeAt(H);if((w&4294967295-(1<<7)+1)==0){M[q+F]=w;F++}else if((w&4294967295-(1<<11)+1)==0){M[q+F]=192|w>>6;
M[q+F+1]=128|w>>0&63;F+=2}else if((w&4294967295-(1<<16)+1)==0){M[q+F]=224|w>>12;M[q+F+1]=128|w>>6&63;
M[q+F+2]=128|w>>0&63;F+=3}else if((w&4294967295-(1<<21)+1)==0){M[q+F]=240|w>>18;M[q+F+1]=128|w>>12&63;
M[q+F+2]=128|w>>6&63;M[q+F+3]=128|w>>0&63;F+=4}else throw"e"}return F};function Jd(A){this.QB=new zo(1,0,0,-1,0,0);
this.QN=A;this.QQ=-1;this.Q_=0;this.Qw=[];this.Qy=null;this.Qu=null;this.Qd=null;this.QO=null}Jd.prototype.StartPage=function(A,M,q,V){var F=this.QN,H=this.Qu;
F.n+=Math.round(q-A);F.J=Math.max(F.J,Math.round(V-M));this.QB.eK=V;if(H){this.QB.eI+=H[2]-H[0]+30;F.n+=30}this.Qu=[A,M,q,V];
F.T.push(F.jt())};Jd.prototype.sZ=function(){var A=this.QN,M=A.T[A.T.length-1];return M};Jd.prototype.sY=function(){var A=JSON.parse(JSON.stringify(j.az.default));
A.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";A.strokeEnabled.v=!1;
A.fillEnabled.v=!1;return A};Jd.prototype.si=function(){var A=this.QN,M=A.jD();M.Dw("Path "+A.T.length);
this.QN.T.push(M);M.Nj|=16;M.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.r.Gt({e:0,g:0,$:0})}};M.add.vmsk=new S.tP;
M.add.vstk=this.sY();return M};Jd.prototype.sI=function(A){var M=[{type:6},{type:8,all:0}].concat(Q.m.UY(Typr.U.pathToSVG(A)));
Q.m.Ut(M,this.QB);return M};Jd.s$=function(A,M){for(var q=0;q<A.length;q++)if(A[q].qz!=null)A[q].qz=M};
Jd.sK=function(A){return Math.sqrt(Math.abs(A[0]*A[3]-A[1]*A[2]))};Jd.se=function(A){return Q.r.Gt({e:A[0]*255,g:A[1]*255,$:A[2]*255})};
Jd.sq=function(A){return new zo(A[0],A[1],A[2],A[3],A[4],A[5])};Jd.prototype.Stroke=function(A){if(this.QQ!=-1&&this.QQ!=this.Q_)return;
if(A.pth.cmds.length<=1)return;var M=this.sI(A.pth);if(M.length<=2)return;this.sN(A);Jd.s$(M,-1);M[2].qz=1;
var q=Jd.se(A.COLR),V=this.sZ(),F=this.sY();F.strokeEnabled.v=!0;F.strokeStyleMiterLimit.v=A.mlimit;
F.strokeStyleLineDashSet.v=Ez.ab(A.dash,1/A.lwidth);F.strokeStyleLineDashOffset.v.val=A.doff;F.strokeStyleLineJoinType.v.strokeStyleLineJoinType=j.az.join[A.ljoin];
F.strokeStyleLineCapType.v.strokeStyleLineCapType=j.az.aG[A.lcap];F.strokeStyleLineWidth.v.val=Math.max(.4,A.lwidth*Jd.sK(A.ctm));
F.strokeStyleContent.v.Clr.v=q;var H=V!=null&&V.add.vmsk!=null&&!V.Da(),w=H&&!V.add.vstk.strokeEnabled.v&&S.tP.ERP(V.add.vmsk.C,M,!0),C=H&&!V.add.vstk.fillEnabled.v&&JSON.stringify(F)==JSON.stringify(V.add.vstk);
if(C){Jd.s$(M,-1);V.add.vmsk.C=V.add.vmsk.C.concat(M.slice(2))}else if(w){V.add.vstk=F;F.fillEnabled.v=!0}else{V=this.si();
V.add.vmsk.C=M;V.add.vstk=F}};Jd.prototype.Fill=function(A,M){if(this.QQ!=-1&&this.QQ!=this.Q_)return;
if(A.ca==0)return;var q=A.pth.cmds;if(q.length==0)return;if(q.length==2&&JSON.stringify(q)=="[\"M\",\"L\"]")return;
var V=Q.O.GB(A.cpth.crds),F=Q.O.GB(A.pth.crds);if(F.vt(V).zZ())return;this.sN(A);var H=this.sI(A.pth);
Jd.s$(H,M?0:-1);H[2].qz=1;var w=Q.O.oL(F);Q.O.oC(w.G,this.QB,w.G);F=Q.O.GB(w.G);var C=Jd.sQ(A.colr,this.QB,F),r=this.sZ();
if(r!=null&&r.add.vstk!=null&&!r.add.vstk.strokeEnabled.v&&r.add.SoCo&&C.type=="SoFi"&&JSON.stringify(r.add.SoCo.Clr.v)==JSON.stringify(C.o.v.Clr.v)){var G=r.add.vmsk.C;
for(var J=2;J<H.length;J++)G.push(H[J])}else{r=this.si();delete r.add.SoCo;var m=r.add.vstk,u=null,W=null;
r.add.vmsk.C=S.tP.tD(H);m.fillEnabled.v=!0;if(C.type=="SoFi"){u="SoCo";W=j.jq}if(C.type=="GrFl"){u="GdFl";
W=j.jB}if(C.type=="patternFill"){u="PtFl";W=j.jN}if(u!=null){r.add[u]={classID:"null"};for(var J=0;J<W.length;
J++){var y=W[J];r.add[u][y]=C.o.v[y]}}Jd.sw(A,r)}};Jd.sB=function(A,M){for(var q=0;q<8;q+=2){var V=!0;
for(var F=0;F<8;F++)if(Math.abs(M[F]-A[F+q&7])>=2){V=!1;break}if(V)return!0}return!1};Jd.prototype.sN=function(A){var M=this.QN,q=A.cpth,V=q.cmds.join(""),F=q.crds,H=V+" "+F.join(","),w=!1;
if(V=="MLLLZ"&&F.length==8||V=="MLLLLZ"&&F.length==10){if(F.length==10)F=F.slice(0,8);var C=this.Qu,r=C[0],G=C[1],J=C[2],m=C[3];
if(!w)w=Jd.sB(F,[r,G,J,G,J,m,r,m]);if(!w)w=Jd.sB(F,[r,m,J,m,J,G,r,G])}if(w&&this.Qd==null)return;if(H==this.Qd)return;
if(this.Qd!=null){M.T.push(this.QO);this.Qd=null}if(!w){this.Qd=H;M.T.push(M.jt());var u=M.jD();u.Dw("Mask");
u.add.lsct=zT.tc;u.B_="pass";u.Nj=24;var W=u.add.vmsk=new S.tP;W.C=this.sI(A.cpth);this.QO=u}};Jd.sQ=function(A,M,q){var V,F;
if(A.length!=null){V="SoFi";var H=JSON.parse(j.ju[j.order.indexOf("SoFi")]);F={t:"Objc",v:H};F.v.Clr.v=Jd.se(A)}else{var w=Jd.s_(A,M,q);
V="GrFl";F={t:"Objc",v:w}}return{type:V,o:F}};Jd.s_=function(A,M,q){var V=JSON.parse(j.ju[j.order.indexOf("GrFl")]),F=V.Grad.v;
F.Intr.v=0;var H=Jd.sq(A.mat);H.concat(M);var w=new f(0,0),C=new f(q.n,0),r=A.crds;if(A.typ=="rad"){V.Type.v.GrdT="Rdl";
w.x=r[0];w.y=r[1];C.x=w.x;C.y=w.y;C.x+=r[5]}else{V.Type.v.GrdT="Lnr";w.x=r[0];w.y=r[1];C.x=r[2];C.y=r[3];
w.x=C.x+.5*(w.x-C.x);w.y=C.y+.5*(w.y-C.y)}w=H.Ht(w);C=H.Ht(C);Q.r.GC(w,C,q,V);var G=A.grad;for(var J=0;
J<G.length;J++){var m=G[J],u=Math.round(m[0]*4096);F.Clrs.v[J]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:u},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:Jd.se(m[1])},Type:{t:"enum",v:{Clry:"UsrS"}}}};
F.Trns.v[J]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:u},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:100}}}}}return V};
Jd.prototype.PutText=function(A,M,q){if(this.QQ!=-1&&this.QQ!=this.Q_)return;if(M.length==0)return;this.sN(A);
var V=this.QN,F=A.font,H=Jd.sq(A.ctm),J=null;H.concat(this.QB);var w=Jd.sq(F.Tm);w.concat(H);var C=d.f.HD(w),r=new zo(1/C,0,0,-1/C,0,0);
r.concat(w);var G=F.Tfs*C;if(F.Th!=100||F.Trise!=0){console.log(F)}var m=V.T.length-1;while(m>=0&&V.T[m].add.TySh==null)m--;
if(m>=0&&V.T[m].add.TySh){var u=V.T[m],W=u.add.TySh.oC,y=W.M==r.M&&W.$==r.$&&W.ei==r.ei&&W.e$==r.e$&&Math.abs(W.eK-r.eK)==0&&Math.abs(W.eI+this.Qw[m]-r.eI)<G*.3;
if(y){J=u;this.Qw[m]=r.eI-W.eI}}if(J==null){m=V.T.length;this.Qw[m]=0;J=V.jD();V.T.push(J);J.add.TySh=a.Vk(0,0);
J.add.TySh.oC=r}this.Qw[m]+=q*G;var O=J.add.TySh.Ns,h=a.Vi(O);J.Dw(h+M);var I=h.length-1,Z=I+M.length;
a.V_(O,I,M);if(this.Qy==null)this.Qy=a.VO(O,I,I);var L=this.Qy;L.QU.FontSize=Math.round(G);L.QU.Tracking=F.Tc*100;
L.QU.FillColor={Type:1,Values:[1,A.colr[0],A.colr[1],A.colr[2]]};var Y=F.Tf,B={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular"};
if(B[Y])Y=B[Y];a.VY(L,Y);a.Vu(O,I,Z-1,L)};Jd.prototype.PutImage=function(A,M,q,V,F){if(this.QQ!=-1&&this.QQ!=this.Q_)return;
this.sN(A);var H=Jd.sq(A.ctm);H.concat(this.QB);var w=new zo(1/q,0,0,-1/V,0,1);w.concat(H);H=w;M=Jd.su(M,q,V);
if(F)F=Jd.su(F,q,V);if(F==null){if(M.length==q*V*4)M=new Uint8Array(zm.PNG.Ej([[M.buffer,0]],q,V))}else{M=this.sd(M,q,V);
F=this.sd(F,q,V);var C=Q.b(q*V);Q.mH(F,C,0);Q.mr(C,M,3);M=new Uint8Array(zm.PNG.Ej([[M.buffer,0]],q,V))}var r=this.QN,G=r.jo(M,"Bitmap",0,0),J=G.rect.clone();
J.x=J.y=0;var m=Q.O.oL(J).G;Q.O.oC(m,H,m);G.add.SoLd.Trnf=d.f.pm(m);G.add.SoLd.nonAffineTransform=d.f.pm(m);
G.DI(r,!1);Jd.sw(A,G);r.T.push(G)};Jd.sw=function(A,M){M.opacity=Math.round(255*A.ca);var q=Jd.sy[A.bmode];
if(q==null)console.log("Unknown blend mode",q);else M.B_=q};Jd.sy={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
Jd.su=function(A,M,q){var V=zm.Ec(A.buffer);if(V==null&&A.length!=M*q*4){var F=new Uint8Array(M*q*4),H=new Uint8Array(Math.ceil(M*q/8));
UTIF.decode._decodeG4(A,0,A.length,H,0,M,1);for(var w=0;w<M*q;w++){var C=w*4,r=(H[w>>3]>>7-(w&7)&1)*255;
F[C]=r;F[C+1]=r;F[C+2]=r;F[C+3]=255}A=F}return A};Jd.prototype.sd=function(A,M,q){if(A.length!=M*q*4){var V=zm.Ec(A.buffer),F=zm.Eg(V);
A=new Uint8Array(F.Ea(A)[0].data)}return A};Jd.prototype.ShowPage=function(){var A=this.QN;this.Q_++;
var M=this.Qu;if(this.Qd!=null){A.T.push(this.QO);this.Qd=null}var q=A.jD();A.T.push(q);q.tv(new U(Math.round(this.QB.eI),0,Math.round(M[2]-M[0]),Math.round(M[3]-M[1])));
q.Dw("Page "+this.Q_);q.add.lsct=zT.tc;q.B_="pass";q.Nj=24};Jd.prototype.Print=function(A){console.log("Print:",A)};
Jd.prototype.Done=function(){var A=this.QN;if(this.Q_==1)A.T[A.T.length-1].add.lsct=zT.ts;A.add.artd={classID:"null",Cnt:{t:"long",v:this.Q_},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
for(var M=0;M<A.T.length;M++){A.T[M].DY(A)}A.Qo=!0;A.buffer=Q.b(A.n*A.J*4)};var zM={};zM.HO=function(A,M){var q=new ToPDF,V=A.add.artd?A.root.children:[A.root],F=new U(0,0,A.n,A.J);
for(var H=0;H<V.length;H++){var w=V[H],C=A.add.artd?w.Q.to():F;q.StartPage(0,0,C.n,C.J);var r=PSI._getState([[0,0,C.n,C.J]]),G=new zo;
G.translate(-C.x,-C.y-C.J);G.scale(1,-1);zM.cn(A,w,r,q,G);q.ShowPage()}q.Done();return q.buffer};zM.EGn="Times-Roman Times-Italic Times-Bold Times-BoldItalic Helvetica Helvetica-Oblique Helvetica-Bold Helvetica-BoldOblique Courier Courier-Oblique Courier-Bold Courier-BoldOblique Symbol".split(" ");
zM.sF={LiberationSans:"Helvetica"};zM.sX=function(A){A=Q.r.GD(A);return[A.e/255,A.g/255,A.$/255]};zM.cn=function(A,M,q,V,F){var H=M.Q,w=H.add.lsct,C=H.add.lmfx,r=H.add.vmsk,G=H.add.vstk,J=H.add.TySh;
if(!H.Dy())return;var m=H.opacity/255,u=H.add.iOpa?H.add.iOpa/255:1;for(var W in Jd.sy)if(Jd.sy[W]==H.B_)q.bmode=W;
q.ca=q.CA=m*u;if(H.Da()){for(var y=0;y<M.children.length;y++)zM.cn(A,M.children[y],q,V,F)}else if(r){var O=r.C,h=Q.m.Uk(O),I=Q.O.oM(O),Z=!1,L=!1,Y=!1;
Q.O.oC(I.G,F,I.G);q.pth={cmds:I.qm,crds:I.G};if(G.fillEnabled.v){var B=Ez.aR(C),X=B[0],E=B[1];if(X==null)X=H.add.SoCo;
if(E==null)E=H.add.GdFl;if(X&&E==null){q.colr=zM.sX(X.Clr.v)}else if(E){var c=E,o=[],s,z=c.Type.v.GrdT=="Rdl"?"rad":"lin",k=Q.r.GV(c,h),b=F.Ht(k[0]),T=F.Ht(k[1]);
if(z=="rad")s=[b.x,b.y,0,b.x,b.y,f.Hc(b,T)];else{b.HT(T.x+(b.x-T.x)*2,T.y+(b.y-T.y)*2);s=[b.x,b.y,T.x,T.y]}var l=c.Grad.v.Clrs.v;
for(var y=0;y<l.length;y++){var $=l[y].v;o.push([$.Lctn.v/4096,zM.sX($.Clr.v)])}q.colr={typ:z,mat:[1,0,0,1,0,0],grad:o,crds:s}}Z=!0}var e=Ez.aS(C);
if(!G.strokeEnabled.v&&e)G=e;if(G.strokeEnabled.v){var i=G.strokeStyleContent.v,g=G.strokeStyleLineDashSet.v,P=j.az.ao.indexOf(G.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(i.Clr==null)return;var n=Q.r.GD(i.Clr.v);q.COLR=[n.e/255,n.g/255,n.$/255];q.lwidth=G.strokeStyleLineWidth.v.val*(P==2?2:1);
q.mlimit=G.strokeStyleMiterLimit.v;q.doff=G.strokeStyleLineDashOffset.v.val;q.ljoin=j.az.join.indexOf(G.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
q.lcap=j.az.aG.indexOf(G.strokeStyleLineCapType.v.strokeStyleLineCapType);q.dash=[];for(var y=0;y<g.length;
y++)q.dash.push(g[y].v.val*q.lwidth);L=!0;if(P==2)Y=!0}if(Z&&!Y)V.Fill(q);if(L)V.Stroke(q);if(Z&&Y)V.Fill(q)}else if(J){var p=J.Ns,t=J.oC.clone(),x=new zo(1,0,0,-1,0,0),zK=0,ze=0;
if(a.V$(p)==0&&a.VO(p,0,0).Ql.Justification==2)x.eI-=H.rect.n/2;x.concat(t);x.concat(F);var D=a.Vi(p),Gp=p.EngineDict.ParagraphRun,zY=Gp.RunArray,zi=Gp.RunLengthArray,zI=H.add.lmfx;
if(zI)zI=zI.frameFXMulti.v[0];if(zI)zI=zI.v;var z$=zM.sF;for(var y=0;y<zY.length;y++){var zq=[],zB=zi[y],zN=D.slice(zK,zK+zB-1);
if(zN=="")continue;var zQ=a.VO(p,zK+zN.length-1,zK+zN.length-1),n=a.GD(zQ.QU);q.colr=[n.e/255,n.g/255,n.$/255];
var z_=zQ.Qr[zQ.QU.Font].Name;if(z$[z_])z_=z$[z_];q.font.Tf=z_;q.font.Tfs=Math.round(zQ.QU.FontSize);
var zw=zQ.QU.FontSize*1.12;if(y==0)zw=a.V$(p)==0?0:zQ.QU.FontSize;ze+=zw;var zy=new zo;zy.translate(0,-ze);
zy.concat(x);q.ctm=[zy.M,zy.$,zy.ei,zy.e$,zy.eI,zy.eK];V.PutText(q,zN,0);zK+=zB}}else if(!H.rect.zZ()){var zu,zd,zO=new zo;
if(H.add.SoLd){var zF=H.add.SoLd,zX=zF.Idnt.v,Gn=A.jf(zX,zF.Crop?zF.Crop.v:null),GJ="";if(Gn==null)return;
var GE=Gn.QP,Gm=zm.Ec(Gn.raw.buffer);if(Gm=="jpg")zu=Gn.raw;else zu=GE[0];zd=GE[1];zO=Q.GG.Go(zF)}else{zu=H.buffer;
zd=H.rect;zO.translate(zd.x,zd.y)}var Gz=C;if(Gz)Gz=Gz.solidFillMulti.v[0];if(Gz)Gz=Gz.v;if(Gz&&Gz.enab.v){var GG=zu;
zu=zu.slice(0);var Go=zU.DA[zU.Dg.indexOf(Gz.Md.v.BlnM)],Gv=Q.r.GD(Gz.Clr.v),GU=4278190080|Math.round(Gv.$)<<16|Math.round(Gv.g)<<8|Math.round(Gv.e),n=Q.b(zd.X()*4);
Q.mh(n,GU);Q.S.JW(Go,n,zd,zu,zd,zd,Gz.Opct.v.val/100);for(var y=0;y<zu.length;y+=4)zu[y+3]=GG[y+3]}var Gl=new zo;
Gl.scale(zd.n,-zd.J);Gl.translate(0,zd.J);Gl.concat(zO);Gl.concat(F);q.ctm=[Gl.M,Gl.$,Gl.ei,Gl.e$,Gl.eI,Gl.eK];
V.PutImage(q,zu,zd.n,zd.J);q.ctm=[1,0,0,1,0,0]}};var d={};d.cE=function(A,M,q){this.name=A;this.id=M;
if(q!=null)this.QF=q};d.cE.prototype.cm=function(A,M,q,V,F){};d.cE.prototype.enable=function(A,M,q,V,F){var H=new N(_.E.K,!0);
H.data={H:_.u.SL,QX:"default"};M.t(H)};d.cE.prototype.disable=function(A,M,q,V){};d.cE.prototype.cJ=function(A,M,q,V,F){};
d.cE.prototype.cz=function(A,M,q,V,F){};d.cE.prototype.cG=function(A,M,q,V,F){};d.cE.prototype.co=function(A,M,q,V,F){};
d.cE.prototype.cv=function(A,M,q,V){};d.cE.prototype.cU=function(A,M,q,V){};d.cE.prototype.cl=function(A,M){};
d.cE.prototype.cR=function(A,M){};d.cE.prototype.cH=function(A,M,q,V,F){};d.cE.prototype.cr=function(A,M){};
d.cE.prototype.cW=function(A){return!1};d.cE.prototype.cT=function(A){return!1};d.cE.prototype.cs=function(){return!1};
d.cE.prototype.cc=function(A,M){return!0};d.cE.prototype.cA=function(){return null};d.cE.prototype.cg=function(A,M,q){};
d.cE.prototype.cx=function(){return!1};d.cE.prototype.cp=function(A,M,q,V){};d.cf="0";d.cP="1";d.cD="2";
d.ct="5";d.cM="6";d.cj="7";d.ca="8";d.cV="9";d.cC="10";d.cS="14";d.ck="16";d.cb="18";d.cL="19";d.cZ="20";
d.cY="23";d.ci="24";d.cI="27";d.c$="31";d.cK="34";d.ce="35";d.cq="36";d.cB="37";d.cN="38";d.cQ="39";
d.c_="40";d.cw="41";d.cy="42";d.cu="43";d.cd="47";d.cO="51";d.cF="52";d.cX="54";d.An="55";d.AE="56";
d.Am="57";d.AJ="58";d.Az="59";d.AG="61";d.Ao="100";d.Av="101";d.AU="230";d.ERN="231";d.AR="232";d.AH="233";
d.Ar="234";d.AW="235";d.Ah="236";d.AT=function(A,M,q){d.cE.call(this,A,M,q);this._n={brush:A?EG.aB():null,bmode:"norm",opacity:1,flow:1,wconf:{_E:10,_m:!0},expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,patch:0};
this._J=null;this._z=null;this._G=null;this.dir=0;this._o=null;this._v=null;this._U=null;this._l=1;this._R=!1;
this.caller=null};d.AT.prototype=new d.cE;d.AT.prototype.cm=function(A,M,q,V,F){if(A.H=="draw"){var H=A.EHJ,w=this._n.bmode;
this.AA(q);this._n.bmode="norm";this.AM(q,"draw",A.EHG,H,H);this._n.bmode=w;this.U(q,H);this.finish(q,H,A.KY)}};
d.AT.prototype.cW=function(A){if(0<=parseInt(A)&&parseInt(A)<=9)return!0;return!1};d.AT.prototype.cv=function(A,M,q,V){var F=this._n.brush,H=d.AT.As(F,V);
if(H!=null){var w=new N(_.E.K,!0);w.data={H:_.u.kJ,KI:EW.fc,a_:H};M.t(w)}if(!V.j(R.fB)&&!V.j(R.fN)&&V.fZ()!=-1){var C=_.Sl(Math.round(this._n.opacity*100),V.fZ())/100;
this._n.opacity=C;var w=new N(_.E.K,!0);w.data={H:_.u.km,v:this.id,_W:{opacity:C}};M.t(w)}if(this.id==d.ca&&V.j(R.fQ)!=this._R&&A!=null){var r=this._n.qsmode;
if(r==2)r=A.q==null?0:1;else r=2;this.AP(r,M);this._R=V.j(R.fQ)}};d.AT.As=function(A,M){var q=A.Brsh.v.Dmtr.v.val,V=A.Brsh.v.Hrdn!=null?A.Brsh.v.Hrdn.v.val:-1,F=q,H=V;
if(M.j(R.EmG))if(q>10)q=5*Math.floor((q-1)/5);else q--;if(M.j(R.EoD))if(q>9)q=5*Math.ceil((q+1)/5);else q++;
if(M.j(R.EoP))V=25*Math.floor((V-1)/25);if(M.j(R.Eof))V=25*Math.ceil((V+1)/25);q=Math.max(1,q);V=Math.max(0,Math.min(100,V));
if(H==-1)V=-1;if(q!=F||V!=H){var w=JSON.parse(JSON.stringify(A));w.Brsh.v.Dmtr.v.val=q;if(H!=-1)w.Brsh.v.Hrdn.v.val=V;
return w}return null};d.AT.prototype.Ac=function(A,M){if(M._h.list.length==0)return;var q=Eo.Vr(this._n.brush,M._h.list[0].Nq,this._l),V=new N(_.E.K,!0);
V.data={H:_.u.SL,QX:_.Sf(q)};if(A)A.t(V)};d.AT.prototype.enable=function(A,M,q,V){this.caller=M;var F=new N(_.E.K,!0);
F.data={H:_.u.kJ,KI:EW.fc,a_:JSON.parse(JSON.stringify(this._n.brush))};M.t(F);if(A&&A.w.Y!=0)this._l=A.w.Y;
this.Ac(M,q)};d.AT.prototype.cr=function(A,M){if(M==EW.fc){this._n.brush=A._h._s}this.Ac(this.caller,A)};
d.AT.prototype.cH=function(A){for(var M in A)this._n[M]=A[M]};d.AT.prototype.AA=function(A){var M=A.T[A.k[0]];
this._U=A.q==null?null:{rect:A.q.rect.clone(),channel:Q.clone(A.q.channel)};if(M.z<=0){this._o=M.rect.clone();
this._v=Q.clone(M.buffer)}if(M.z==1){var q=M.tl();this._o=q.rect.clone();this._v=Q.clone(q.channel)}if(M.z==3){var q=M.tR(A).a;
this._o=q.rect.clone();this._v=Q.clone(q.channel)}};d.AT.prototype.Ag=function(A,M,q,V,F,H){if(!A.jH()){this._J=null;
return}this.AA(A);var w=new U(0,0,A.n,A.J),C=null;if(H!=null){var r=A.T[A.k[0]],G=r.z<=0?null:r.z==1?r.tl():r.tR(A).a;
C=Q.b(w.X()*4);if(G)d.AT.Aa(this._v,this._o,G.color,C,w);else Q.mL(this._v,this._o,C,w)}if(this._J&&this.id==d.ca&&this._n.qsmode!=0){}else{var J=this.id==d.ca?A.T[A.k[0]].rect:w;
this._J=new Eo(this._n.brush,M._h.list[0].Nq,M._h.list[0].NB,F,M._c,M._A,J,C,H,this.id==d.ci)}if(this.id==d.ca){this._J.EvX(this._n.brush,this._n.qsmode==2?0:16777215)}var m=A.w.jY(V.x,V.y);
m=d.gS.gu(A,m,M);if(q.j(R.fq)&&this._G){this._J.moveTo(this._G.x,this._G.y,V._g);this._J.lineTo(m.x,m.y,V._g)}else this._J.moveTo(m.x,m.y,V._g);
this._z=m;this._G=m};d.AT.prototype.Ax=function(A,M,q){if(A.w.Y!=0&&A.w.Y!=this._l){this._l=A.w.Y;this.Ac(this.caller,q)}};
d.AT.prototype.Ap=function(A,M,q,V){if(this._J==null)return;var F=A.T[A.k[0]],H=A.w.jY(V.x,V.y);H=d.gS.gu(A,H,M);
if(this.dir==0&&!this._G.mg(H))this.dir=Math.abs(this._G.x-H.x)<Math.abs(this._G.y-H.y)?1:2;var w=H;
if(q.j(R.fq)){if(this.dir==1)w=new f(this._z.x,H.y);if(this.dir==2)w=new f(H.x,this._z.y)}this._J.lineTo(w.x,w.y,V._g);
this._G=w};d.AT.prototype.cU=function(A,M,q,V){if(this.id!=d.ca||A==null)return;if(A.q==null||A.k[0]!=this.ERY){this.ERY=A.k[0];
this.AP(0,M)}};d.AT.prototype.U=function(A,M){if(M==null)M=this._J.VR();if(M.zZ())return;var q=A.T[A.k[0]];
if(q.z<=0){q.U(M)}if(q.z==1){q.tl().NK=!0;q.DY(A)}if(q.z==3){q.U()}A.U(A.root.M$(M,A,A.k[0]))};d.AT.prototype.cG=function(A,M,q,V,F){if(this._J==null)return;
if(this.id==d.ca){var H=A.q;A.q=this._U;var w=new N(_.E.V,!0);w.data={H:"setsel",KY:this.name,q:H};w.v=d.cP;
M.t(w);if(this._n.qsmode==0)this.AP(1,M)}else{this.finish(A,this._J.Ak());this._J=null}this.dir=0};d.AT.prototype.AP=function(A,M){if(A==this._n.qsmode)return;
this._n.qsmode=A;var q=new N(_.E.K,!0);q.data={H:_.u.km,v:this.id,_W:{qsmode:A}};M.t(q)};d.AT.prototype.finish=function(A,M,q){var V=A.T[A.k[0]],F,H;
if(V.z<=0){F=Q.b(M.X()*4);Q.mL(this._v,this._o,F,M);H=Q.b(M.X()*4);Q.mL(V.buffer,V.rect,H,M)}else{var w=V.z==1?V.tl():V.tR(A).a;
F=Q.b(M.X());Q.set(F,w.color);Q.mC(this._v,this._o,F,M);H=Q.b(M.X());Q.set(H,w.color);Q.mC(w.channel,w.rect,H,M)}var C=new zv(q?q:this.name,this);
C.data={H:"putbrush",Q:A.k[0],_p:V.z,_f:M,_P:F,_D:H};A.jj(C)};d.AT.prototype.cR=function(A,M){this.AD(A,M,A._P,A.El$)};
d.AT.prototype.cl=function(A,M){this.AD(A,M,A._D,A.Enh)};d.AT.prototype.AD=function(A,M,q,V){var F=M.T[A.Q];
if(A.H=="putbrush"){if(A._p<=0){F.extend(A._f);Q.mL(q,A._f,F.buffer,F.rect);F.mX()}if(A._p==1||A._p==3){var H=A._p==1?F.tl():F.tR(M).a;
Q.mC(q,A._f,H.channel,H.rect);if(A._p==1){F.tl().NK=!0;F.DY(M)}}}if(A.H=="drawtemp"){F._a._j=V;F.DQ(M,0,0,M.q)}F.U();
M.U()};d.AT.prototype.At=function(A,M,q){this.AM(A,M,this._J.VH(),this._J.Ak(),this._J.VR(),q)};d.AT.prototype.AM=function(A,M,q,V,F,H){var w=this._n,C=A.T[A.k[0]],r=C.z<=0?null:C.z==1?C.tl():C.tR(A).a,G=Q.b(F.X()*4);
if(r==null){C.extend(F);Q.mL(this._v,this._o,G,F)}else{r.extend(F);d.AT.Aa(this._v,this._o,r.color,G,F)}if(A.q&&M!="qselect"){var J=F.vt(A.q.rect),m=Q.b(J.X()*4);
Q.mL(q,V,m,J);Q.mB(A.q.channel,A.q.rect,m,J);q=m;V=J}if(M=="draw")Q.S.JW(w.bmode,q,V,G,F,F,w.opacity);
if(M=="erase"){var u=Q.b(F.X()*4);Q.mL(q,V,u,F);if(r==null){var W=Q.b(F.X());Q.mH(u,W,3);Q.mI(W,w.opacity);
Q.mx(W);Q.mB(W,F,G,F)}else{Q.mh(u,0,4278190080);Q.S.JW("norm",u,F,G,F,F,w.opacity)}}if(M=="clone"||M=="heal"){var y=this._o.clone();
y.offset(H._V.x,H._V.y);var O=F.clone();O.hW(1,1);var h=Q.b(O.X()*4),I=Q.b(O.X());Q.mL(q,V,h,O);Q.mH(h,I,3);
Q.mh(h,0);if(r==null){Q.mL(this._v,y,h,O);var Z=Q.b(O.X());Q.mH(h,Z,3);Q.mK(Z,I)}else d.AT.Aa(this._v,y,r.color,h,O);
if(M=="clone"){Q.mr(I,h,3);Q.S.JW(w.bmode,h,O,G,F,F,w.opacity)}if(M=="heal"){var L=Q.clone(I);Q.round(L,20);
var Y=Q.b(O.X()*4);Q.mL(this._v,this._o,Y,O);Q.S.Jt(h,O,Y,O,L,O,0,O,1,!1);Q.oQ.Gk(Y,L,O);Q.S.Jt(Y,O,G,F,I,O,0,F,1,!1)}}if(M=="dodge"||M=="burn"){var h=Q.b(F.X()*4),E=1,c=0,o=0,s=0;
Q.mL(q,V,h,F);var B=F.X()*4,X=d.AT.Aj,z=w.rng;if(M=="dodge"){c=[1-E/2,1,1+E][z];o=[1,1/(1+E),1][z];s=[E/2,0,0][z]}if(M=="burn"){c=[1/(1-E/2),1,1-E/2][z];
o=[1,1+E,1][z];s=[-(E/2)/(1-E/2),0,0][z]}for(var k=0;k<B;k+=4){var b=h[k+3];G[k+0]=X(G[k+0],c,o,s,b);
G[k+1]=X(G[k+1],c,o,s,b);G[k+2]=X(G[k+2],c,o,s,b)}}if(M=="sponge"){var h=Q.b(F.X()*4),I=Q.b(F.X());Q.mL(q,V,h,F);
Q.mH(h,I,3);Q.mc(G,h);var T=Q.b(256);for(var k=0;k<256;k++)T[k]=k;var l=Q.b(256);Q.set(l,127+[-50,23][w.smode]);
var $=Q.b(256);Q.set($,127+[25,-5][w.smode]);var H={type:"remapHSL",_C:T,qM:l,_S:$,_k:1,_b:0,_L:0};zG.P_(H,h,h);
Q.S.Jt(h,F,G,F,I,F,0,F,1,!1)}if(M=="copy")Q.mL(q,V,G,F);if(M=="sheal0"||M=="sheal1"||M=="sheal2"){var h=Q.b(F.X()*4),I=Q.b(F.X());
Q.mL(q,V,h,F);Q.mH(h,I,3);var e=[null,null,Q.GS.Gk][parseInt(M.charAt(5))];e(this._v,this._o,I,G,F)}if(M=="qselect"){var i=this._n.brush,g=this._n.qsmode,P=Math.max(40,Math.round(i.Brsh.v.Dmtr.v.val*1.7)),O=F.clone();
O.hW(P,P);O=O.vt(this._o);var h=Q.b(O.X()*4);Q.mL(q,V,h,O);var I=Q.b(O.X());for(var k=0;k<I.length;k++){var n=h[k<<2],p=h[(k<<2)+3];
I[k]=n==255&&p==255?255:n==0&&p==255?0:100}if(A.q==null)A.q={channel:Q.b(0),rect:new U};Q.extend(A.q,O);
var t=Q.b(O.X());Q.mC(A.q.channel,A.q.rect,t,O);if(g==2){Q.mx(I);Q.mx(t)}Q.mL(this._v,this._o,h,O);var x=Q.o$.o$(O,h,I);
Q.vx.vP(t,x,x);if(g==2){Q.mx(x)}Q.mC(x,O,A.q.channel,A.q.rect);A._Z=!0}if(r==null)Q.mL(G,F,C.buffer,C.rect);
else{var D=Q.b(F.X());Q.mo(G,D);Q.mC(D,F,r.channel,r.rect)}};d.AT.Aj=function(A,M,q,V,F){var H=A*(1/255),w=V+M*Math.pow(H,q),C=Math.round(w*F+H*(255-F));
return Math.max(0,Math.min(255,C))};d.AT.Aa=function(A,M,q,V,F){var H=Q.b(F.X());Q.set(H,q);Q.mC(A,M,H,F);
Q.mh(V,4278190080);Q.EvM(H,V)};d.AV=function(A,M,q){d.cE.call(this,A,M,q);this._n={_Y:"front",NV:0,_i:{l$:0,x:3,y:2}};
this._I=new f(-1,-1);this._$=new f(-1,-1);this._K="default";this._e=!1;this._q=!1;this._B=null;this._N=null};
d.AV.prototype=new d.cE;d.AV.prototype.cT=function(A){return this._q||A._Q&&this.id!=d.ct};d.AV.prototype.AC=function(A,M,q){var V=new N(M,!0);
V.data=q;A.t(V)};d.AV.prototype.AS=function(A,M){var q=new N(_.E.K,!0);q.data={H:_.u.SL,QX:M};A.t(q)};
d.AV.prototype.Ak=function(A){var M=this._I,q=this._$;M.x=Math.round(M.x);M.y=Math.round(M.y);q.x=Math.round(q.x);
q.y=Math.round(q.y);var V=d.xZ.xI(M,q,A,!0,this._n._i),F=V[0].x,H=V[0].y;return new U(F,H,V[1].x-F,V[1].y-H)};
d.AV.prototype.cJ=function(A,M,q,V,F){this._e=!1;this._I=A.w.jY(F.x,F.y);this._I=d.gS.gu(A,this._I,q);
if(this.Ab(A,this._I)){this._q=!0;this._B=A.q.rect.clone();return}this.AL(A,q,V,F);A.w.__=new U};d.AV.prototype.Ab=function(A,M){if(A.q&&this._n._Y=="front")return Q.Jm(M,A.q.channel,A.q.rect);
return!1};d.AV.prototype.cz=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);if(f.Hc(this._I,H)*A.w.Y>5)this._e=!0;
if(V.j(R.fw)){if(this._N==null)this._N=new f(H.x-this._I.x,H.y-this._I.y);this._I.x=H.x-this._N.x;this._I.y=H.y-this._N.y}else this._N=null;
this._$=H;if(!this._q)this._$=d.gS.gu(A,this._$,q);if(this.Ab(A,this._$))this.AS(M,d.cf);else this.AS(M,this._K);
if(this._q){var w=this._B.clone();w.x+=this._$.x-this._I.x;w.y+=this._$.y-this._I.y;var C=d.gS.gd(A,w,q);
A.q.rect.x=Math.round(this._$.x-this._I.x+this._B.x+C[0]);A.q.rect.y=Math.round(this._$.y-this._I.y+this._B.y+C[1]);
A._Z=!0;d.gS.gy(A,w,C);return}this.AZ(A,q,V,F);if(A.w.__)A.w.__=this.Ak(A.q==null?V:null)};d.AV.prototype.cG=function(A,M,q,V,F){A.w.__=null;
this._$=A.w.jY(F.x,F.y);this._$=d.gS.gu(A,this._$,q);if(this._q){this._q=!1;if(this._$.mg(this._I)){var H=new zv([7,1],this);
H.data={H:"changesel",_U:A.q,_w:null};A.jj(H);this.cl(H.data,A);return}var H=new zv([7,7],this);H.data={H:"movesel",_y:this._B,_u:A.q.rect.clone()};
A.jj(H);this.cl(H.data,A);if(A!=null&&A.p._O){A.p._O=null;A._X=!0}return}this.AY(A,q,V,F)};d.AV.prototype.finish=function(A,M,q,V){var F=A.q,H=this.getSelection(A,M,q,V),J;
if(H&&this._n.NV!=0){var w={rect:H.rect.clone(),channel:null},C=Math.round(this._n.NV*2.6);w.rect.hW(C,C);
var r=Q.b(w.rect.X());w.channel=Q.b(w.rect.X());Q.mC(H.channel,H.rect,r,w.rect);Q.blur.Ji(r,w.channel,w.rect,this._n.NV);
H=w}if(H!=null&&Q.mY(H.channel,0)){H=null}var G=this._n._Y;if(q.j(R.fq))G="union";if(q.j(R.fQ))G="difference";
if(H==null){if(F==null)return;J=new zv([7,1],this);J.data={H:"changesel",_U:F,_w:H}}else{if(F!=null)H=Q.vx.vp(H,F,G);
J=new zv(this.name,this);J.data={H:"changesel",_U:F,_w:H}}A.jj(J);this.cl(J.data,A);this._I.HT(-1,-1);
this._$.HT(-1,-1)};d.AV.prototype.getSelection=function(A,M,q,V){return null};d.AV.prototype.AL=function(A,M,q,V){};
d.AV.prototype.AZ=function(A,M,q,V){};d.AV.prototype.AY=function(A,M,q,V){};d.AV.prototype.cR=function(A,M){var q=A.H;
if(q=="changesel")M.q=A._U;if(q=="movesel")M.q.rect=A._y;M._Z=!0};d.AV.prototype.cl=function(A,M){var q=A.H;
if(q=="changesel")M.q=A._w;if(q=="movesel")M.q.rect=A._u;M._Z=!0};d.AV.prototype.cH=function(A){this._n=A};
d.AV.prototype.Ai=function(A){var M=Q.O.ob(A.G);if(M.zZ())return null;var q=_.L("canvas","");q.width=M.n;
q.height=M.J;var V=q.getContext("2d");V.beginPath();V.translate(-M.x,-M.y);Typr.U.pathToContext({cmds:A.qm,crds:A.G},V);
V.closePath();V.fill();var F=Q.b(M.X()),H=V.getImageData(0,0,q.width,q.height);Q.mH(H.data,F,3);return{rect:M,channel:F}};
d.AI=function(){d.AT.call(this,[10,18],d.cq,"tools/blur")};d.AI.prototype=new d.AT;d.AI.prototype.cJ=function(A,M,q,V,F){this.Ag(A,q,V,F,this._n.strn,Eo.cq);
if(this._J==null)return;this.At(A,"copy");this.U(A)};d.AI.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;
this.Ax(A,M,q);if(!F._Q)return;this.Ap(A,q,V,F);this.At(A,"copy");this.U(A)};d.A$=function(){d.AT.call(this,[10,0],d.cY,"tools/brush")};
d.A$.prototype=new d.AT;d.A$.prototype.cJ=function(A,M,q,V,F){if(V.j(R.fQ)){var H=new N(_.E.V,!0);H.v=d.cS;
H.data={H:"pickhere",wn:F};M.t(H);return}this.Ag(A,q,V,F,this._n.flow);if(this._J==null)return;this.At(A,"draw");
this.U(A)};d.A$.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;this.Ax(A,M,q);if(!F._Q)return;
this.Ap(A,q,V,F);this.At(A,"draw");this.U(A)};d.AK=function(){d.AT.call(this,[10,38],d.ci,"tools/pencil")};
d.AK.prototype=new d.AT;d.AK.prototype.cJ=function(A,M,q,V,F){if(V.j(R.fQ)){var H=new N(_.E.V,!0);H.v=d.cS;
H.data={H:"pickhere",wn:F};M.t(H);return}this.Ag(A,q,V,F,this._n.flow);if(this._J==null)return;this.At(A,"draw");
this.U(A)};d.AK.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;this.Ax(A,M,q);if(!F._Q)return;
this.Ap(A,q,V,F);this.At(A,"draw");this.U(A)};d.Ae=function(){d.AT.call(this,[10,22],d.c_,"tools/burn")};
d.Ae.prototype=new d.AT;d.Ae.prototype.cJ=function(A,M,q,V,F){this.Ag(A,q,V,F,this._n.expo/Math.E);if(this._J==null)return;
this.At(A,"burn");this.U(A)};d.Ae.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;this.Ax(A,M,q);
if(!F._Q)return;this.Ap(A,q,V,F);this.At(A,"burn");this.U(A)};d.Aq=function(){d.AT.call(this,[10,1],d.cI,"tools/clone");
this.wE=null;this.wm=null;this._V=null};d.Aq.prototype=new d.AT;d.Aq.prototype.cJ=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);
this.wE=H;if(V.j(R.fQ)||V.j(R.Pg)){this.wm=A.w.jY(F.x,F.y);this._V=null;return}if(this.wm==null){alert(zJ.get([15,7,0]));
return}this.Ag(A,q,V,F,this._n.flow);if(this._J==null)return;if(this._V==null||!this._n.algnd)this._V=new f(Math.round(H.x-this.wm.x),Math.round(H.y-this.wm.y));
this.At(A,"clone",{_V:this._V});this.U(A)};d.Aq.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;
this.Ax(A,M,q);if(!F._Q||this.wm==null)return;this.Ap(A,q,V,F);this.At(A,"clone",{_V:this._V});this.U(A)};
d.Aq.prototype.disable=function(A,M,q,V){this.wm=null;this._V=null};d.AB=function(){d.cE.call(this,[10,2],d.cC,"tools/crop");
this.wJ={wz:0};this.wG=null;this.cursor=null;this.wo=0};d.AB.prototype=new d.cE;d.AB.prototype.cT=function(A){return this.wG&&this.wG.pl()};
d.AB.prototype.cJ=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y),w=this.Aw(),C=w==-1?1:w;if(this.wG==null)this.wG=new zh(null,!0,!1,!1,!0,w!=-1);
this.wG.cJ(A,q,V,H,C)};d.AB.prototype.Ac=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.SL,QX:this.cursor};
A.t(M)};d.AB.prototype.enable=function(A,M,q,V){this.cursor="crosshair";this.Ac(M)};d.AB.prototype.cz=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);
if(!F._Q){var w="crosshair";if(this.wG&&this.wG.pT(H,A.w.Y))w=this.wG.pT(H,A.w.Y);else if(this.wG){if(this.wG.pc(H))w="default";
else w="default"}if(w!=this.cursor){this.cursor=w;this.Ac(M)}}if(this.wG==null)return;this.wG.cz(A,q,V,H);
A.w.__=this.Au()};d.AB.prototype.cG=function(A,M,q,V,F){if(this.wG==null)return;var H=A.w.jY(F.x,F.y);
this.wG.cG(A,q,V,H);this.AC(M,_.E.K,{H:_.u.km,v:this.id,wv:!0});var w=this.wG.pR();if(Math.abs(w[0]-w[4])<2||Math.abs(w[1]-w[5])<2){this.disable(A,M,null,V);
return}if(Date.now()-this.wo<200&&this.wG.pc(H)){this.Ay(A,q);this.disable(A,M,q,V);return}this.wo=Date.now()};
d.AB.prototype.cv=function(A,M,q,V){if(V.j(R.fe)){this.Ay(A,q);this.disable(A,M,q,V)}else if(V.j(R.f_)){this.disable(A,M,q,V)}else if(this.wG)this.wG.cv(A,q,V)};
d.AB.prototype.cm=function(A,M,q,V,F){var H,w=new U(0,0,q.n,q.J),C=[11,3],r=q.n/2,G=q.J/2,J=!1;if(A.H=="imgsize"){w=new U(0,0,A.wU,A.wl);
J=A.wR==0}else if(A.H=="canvsize"){var m=A.wH!=null?A.wH:0;w=new U(0,0,A.wU,A.wl);var u=q.n-A.wU,W=q.J-A.wl,y=Math.round(u/2),O=Math.round(W/2);
if(m==1||m==4||m==7)w.x=y;if(m==2||m==5||m==8)w.x=u;if(m==3||m==4||m==5)w.y=O;if(m==6||m==7||m==8)w.y=W;
if(A._V){w.x=A._V.x;w.y=A._V.y}}else if(A.H=="rot"&&A.o!=Math.PI){w=new U(r-q.J/2,G-q.n/2,q.J,q.n);if((q.n+q.J&1)==1){r=Math.floor(r);
G=Math.floor(G);w=new U(r-Math.floor(q.J/2),G-Math.floor(q.n/2),q.J,q.n);if((q.n&1)==1&&A.o!=-Math.PI/2)w.y--;
if((q.J&1)==1&&A.o==-Math.PI/2)w.x--}}else if(A.H=="trim"){C=[11,12];var h=q.T[q.k[0]];w=Q.mF(h.buffer,h.rect);
if(w.zZ())w=h.rect.clone()}if(A.H=="imgsize"||A.H=="rot"||A.H=="scl"){var I=new zo;if(A.H=="imgsize"){C=[11,10];
I.scale(A.wU/q.n,A.wl/q.J)}else{I.translate(-r,-G);if(A.H=="rot")I.rotate(A.o);if(A.H=="scl")I.scale(A.o.x,A.o.y);
I.translate(r,G);C=A.KY}H=this.AN(q,F,I,J)}var Z=new zv(C,this);Z.data={_y:new U(0,0,q.n,q.J),_u:w,wr:H,GO:I};
q.jj(Z);this.cl(Z.data,q)};d.AB.prototype.AN=function(A,M,q,V){var F={T:[],wW:null,wh:null};for(var H=0;
H<A.T.length;H++)F.T.push(H);F.wW=d.f.xu(A,F.T,!0);d.f.xO(A,M,F.T,F.wW,V,Q.GG.GR(q));F.wh=d.f.xu(A,F.T,!0);
return F};d.AB.prototype.cl=function(A,M){if(A.wr){d.AB.AQ(M,A.GO);d.f.xd(M,A.wr.T,A.wr.wh)}d.AB.A_(M,A._u)};
d.AB.prototype.cR=function(A,M){var q=A._y.clone();q.offset(-A._u.x,-A._u.y);d.AB.A_(M,q);M.jU();if(A.wr){var V=A.GO.clone();
V.mx();d.AB.AQ(M,V);d.f.xd(M,A.wr.T,A.wr.wW)}};d.AB.AQ=function(A,M){for(var q=0;q<A.T.length;q++){var V=A.T[q];
if(V.add.artb==null)continue;var F=Q.O.oL(V.to()).G;Q.O.oC(F,M,F);var H=Q.O.ob(F);V.tv(H)}};d.AB.A_=function(A,M){A.n=M.n;
A.J=M.J;var q=[];for(var V=0;V<A.T.length;V++)q.push(V);d.gS.gQ(A,q,null,-M.x,-M.y);for(var V=0;V<A.T.length;
V++){A.T[V].DY(A)}A.jU();A.w._V.HT(0,0);if(A.q)A.q.rect.offset(-M.x,-M.y)};d.AB.prototype.cH=function(A,M,q,V,F){if(A.wT=="commit"){this.Ay(q,F);
this.disable(q,M,null,V)}else if(A.wT=="cancel"){this.disable(q,M,null,V)}var H=null;if(A.wT=="config"){this.wJ=A.wJ;
H=new U(0,0,q.n,q.J);var w=this.Aw();if(w!=-1)H.J=H.n/w}if(A.wT=="cropby"){var C=A.EEW,H;if(C==0)H=q.root.Ak(q,!0);
if(C==1){var r=q.root.MZ(q.k[0]);H=r.Ak(q,!0)}if(C==2){var G=q.T[q.k[0]];H=Q.mF(G.buffer,G.rect)}if(C==3){if(q.q!=null)H=q.q.rect;
else alert("There is no selection.")}}if(H!=null){this.wG=new zh([H.x,H.y,H.x+H.n,H.y,H.x+H.n,H.y+H.J,H.x,H.y+H.J],!0,!1,!1,!0,this.Aw()!=-1);
this.wG.pf(q);this.AC(M,_.E.K,{H:_.u.km,v:this.id,wv:!0})}};d.AB.prototype.Aw=function(){var A=this.wJ.wz;
return[-1,1,3/2,4/3,16/9][A]};d.AB.prototype.Ay=function(A,M){var q=new zv(this.name,this),V=Q.GG.Gl(Q.GG.Gv(this.wG.pR())),F,H=Math.atan2(V.$,V.M);
if(H!=0){var w=new zo;w.translate(-V.eI,-V.eK);w.rotate(H);w.translate(V.eI,V.eK);F=this.AN(A,M,w,!1)}var C=this.Au();
q.data={_y:new U(0,0,A.n,A.J),_u:C,wr:F,GO:w};A.jj(q);this.cl(q.data,A)};d.AB.prototype.Au=function(){var A=Q.GG.Gl(Q.GG.Gv(this.wG.pR())),M=A.eI,q=A.eK,V=Math.atan2(A.$,A.M);
A.rotate(V);var F=new U(M,q,A.M,A.e$);F.x=Math.round(F.x);F.y=Math.round(F.y);F.n=Math.round(F.n);F.J=Math.round(F.J);
if(F.n<0){F.x=F.x+F.n;F.n*=-1}if(F.J<0){F.y=F.y+F.J;F.J*=-1}return F};d.AB.prototype.disable=function(A,M,q,V){if(A==null)return;
if(this.wG)this.wG.clear(A);this.wG=null;A.w.__=null;this.AC(M,_.E.K,{H:_.u.km,v:this.id,wv:!1})};d.AB.prototype.AC=function(A,M,q,V){var F=new N(M,!0);
F.data=q;if(V)F.v=V;A.t(F)};d.Ad=function(){d.AT.call(this,[10,21],d.cQ,"tools/dodge")};d.Ad.prototype=new d.AT;
d.Ad.prototype.cJ=function(A,M,q,V,F){this.Ag(A,q,V,F,this._n.expo/Math.PI);if(this._J==null)return;
this.At(A,"dodge");this.U(A)};d.Ad.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;this.Ax(A,M,q);
if(!F._Q)return;this.Ap(A,q,V,F);this.At(A,"dodge");this.U(A)};d.AO=function(){d.AT.call(this,[10,3],d.c$,"tools/eraser")};
d.AO.prototype=new d.AT;d.AO.prototype.cJ=function(A,M,q,V,F){this.Ag(A,q,V,F,this._n.flow);if(this._J==null)return;
this.At(A,"erase");this.U(A)};d.AO.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;this.Ax(A,M,q);
if(!F._Q)return;var H=this.Ap(A,q,V,F);this.At(A,"erase");this.U(A)};d.AO.prototype.cm=function(A,M,q,V,F){if(!q.jH())return;
var H=q.T[q.k[0]];if(A.H=="clear"){if(q.q==null)return;var w=H.z<=0?null:H.z==1?H.tl():H.tR(q).a,C=H.z<=0?H.rect:w.rect,r=H.z<=0||w.color==0?q.q.rect.vt(C):q.q.rect,J,m;
if(r.zZ())return;var G=r.X();if(H.z<=0){J=Q.b(G*4);m=Q.b(G*4);Q.mL(H.buffer,H.rect,J,r);Q.mL(H.buffer,H.rect,m,r)}else{J=Q.b(G);
m=Q.b(G);w.extend(r);Q.mC(w.channel,w.rect,J,r);Q.mC(w.channel,w.rect,m,r)}if(H.DN(q,q.q)){if(H.z<=0){Q.mh(m,0);
Q.mL(H._a.Qn,H._a.wc,m,r)}else{Q.set(m,255);Q.mC(H._a.Qn,H._a.wc,m,r)}}else{if(H.z<=0){var u=Q.b(m.length>>2);
Q.mH(m,u,3);Q.S.Jk(Q.Jo(q.q.rect.X()),q.q.rect,u,r,q.q.channel,r,1);Q.mr(u,m,3)}else{var W=Q.b(q.q.rect.X()),y=F._A>>16&255,O=F._A>>8&255,h=F._A>>0&255;
Q.set(W,Math.round(Q.Eq(y,O,h)));Q.S.Jk(W,q.q.rect,m,r,q.q.channel,r,1)}}var I=new zv([2,2],this);I.data={H:"putbrush",Q:q.k[0],_p:H.z,_f:r,_P:J,_D:m};
q.jj(I);this.cl(I.data,q)}if(A.H=="stroke"){var Z=A.ERc,L=q.q;if(L==null){L={rect:H.rect.clone(),channel:Q.b(H.rect.X())};
Q.mH(H.buffer,L.channel,3)}var Y=Ez.ar(Z),B=d.xs.xc(L,Math.ceil(Y[0]),Math.ceil(Y[1])),X=Q.r.GD(Z.Clr.v),y=Math.round(X.e),O=Math.round(X.g),h=Math.round(X.$);
this.AF(q,H,B,y,O,h,Math.round(255*Z.Opct.v.val/100),zU.DP(Z.Md.v.BlnM),[14,9])}if(A.H=="fill"){var X=A.EER?F._A:F._c,y=X>>16&255,O=X>>8&255,h=X>>0&255;
this.AF(q,H,q.q,y,O,h,255,"norm",[2,3])}if(A.H=="fillBMP"){this.AX(q,H,q.q,A.er,A.q$,A.KY)}};d.AO.prototype.AF=function(A,M,q,V,F,H,w,C,r){var G=q==null?new U(0,0,A.n,A.J):q.rect,J=w<<24|H<<16|F<<8|V<<0,m=Q.b(G.X()*4);
Q.mh(m,J);this.AX(A,M,q,m,C,r)};d.AO.prototype.AX=function(A,M,q,V,F,H){var w=M.z<=0?null:M.z==1?M.tl():M.tR(A).a,C=M.z<=0?M.rect:w.rect,r=q==null?new U(0,0,A.n,A.J):q.rect,G=q==null?Q.Jz(A.n*A.J):q.channel,J=r.X(),m,u,W=null;
if(M.z<=0){m=Q.b(J*4);u=Q.b(J*4);Q.mL(M.buffer,M.rect,m,r);Q.mL(M.buffer,M.rect,u,r)}else{m=Q.b(J);u=Q.b(J);
w.extend(r);Q.mC(w.channel,w.rect,m,r);Q.mC(w.channel,w.rect,u,r)}if(q!=null)Q.EvT(G,V);if(M.z>0){W=Q.b(J);
Q.mo(V,W)}if(M.DN(A,q)){var y=M._a._j,O=Q.clone(M._a._j);if(M.z<=0)Q.mc(V,O);else Q.mc(W,O);var h=new zv([2,3],this);
h.data={H:"drawtemp",Q:A.k[0],_p:M.z,El$:y,Enh:O};A.jj(h);this.cl(h.data,A)}else{if(M.z<=0)Q.S.JW(F,V,r,u,r,r,1);
else Q.S.Jk(W,r,u,r,G,r,1);var h=new zv(H,this);h.data={H:"putbrush",Q:A.k[0],_p:M.z,_f:r,_P:m,_D:u};
A.jj(h);this.cl(h.data,A)}};d.gn=function(){d.AV.call(this,[10,4],d.cD,"tools/eselect");this._K="crosshair"};
d.gn.prototype=new d.AV;d.gn.prototype.AZ=function(A,M,q,V){if(!V._Q||!this._e)return;var F=this.Ak(A.q==null?q:null);
A.p.wx=d.gn.gE(F);A._X=!0};d.gn.prototype.AY=function(A,M,q,V){A.p.wx=null;A._X=!0;this.finish(A,M,q,V)};
d.gn.prototype.getSelection=function(A,M,q,V){if(this._I.mg(this._$)||!this._e)return null;var F=this.Ak(A.q==null?q:null);
if(!F.hT(new U(0,0,A.n,A.J)))return null;return this.Ai(d.gn.gE(F))};d.gn.gE=function(A){var M=A.x,q=A.y,V=A.x+A.n,F=A.y+A.J,H=(M+V)/2,w=(q+F)/2,C=(M-V)/2,r=(q-F)/2,G=.5522848,J={G:[H,w-r],qm:["M","C","C","C","C"]};
J.G.push(H+G*C,w-r,H+C,w-G*r,H+C,w);J.G.push(H+C,w+G*r,H+G*C,w+r,H,w+r);J.G.push(H-G*C,w+r,H-C,w+G*r,H-C,w);
J.G.push(H-C,w-G*r,H-G*C,w-r,H,w-r);return J};d.gm=function(){d.cE.call(this,[10,5],d.cS,"tools/eyedropper");
this.wp=!1;this.wf=1};d.gm.prototype=new d.cE;d.gm.prototype.cT=function(A){return A._Q};d.gm.prototype.cm=function(A,M,q,V,F){if(A.H=="pickhere")this.gJ(q,M,F,V,A.wn)};
d.gm.prototype.cJ=function(A,M,q,V,F){this.wp=!0;this.gJ(A,M,q,V,F)};d.gm.prototype.cz=function(A,M,q,V,F){if(this.wp)this.gJ(A,M,q,V,F)};
d.gm.prototype.cG=function(A,M,q,V,F){this.wp=!1};d.gm.prototype.gJ=function(A,M,q,V,F){var H=d.gm.gz(A,F,this.wf),w=new N(_.E.K);
w.data={H:_.u.kJ,KI:EW.fg,wP:0,o:H};M.t(w)};d.gm.gz=function(A,M,q){var V=A.w.jY(M.x,M.y),F=Math.floor(V.x),H=Math.floor(V.y),w=(q-1)/2,C=Math.max(0,F-w),r=Math.max(0,H-w),G=Math.min(A.n,F+w+1),J=Math.min(A.J,H+w+1),m=(G-C)*(J-r),u=A.jv(),W=0,y=0,O=0;
for(var F=C;F<G;F++)for(var H=r;H<J;H++){var h=4*(H*A.n+F);W+=u[h];y+=u[h+1];O+=u[h+2]}W=Math.round(W/m);
y=Math.round(y/m);O=Math.round(O/m);return W<<16|y<<8|O};d.gm.prototype.cH=function(A){this.wf=A.wf};
d.gG=function(){d.cE.call(this,[10,6],d.cK,"tools/gradient");this._n={r:JSON.parse(j.jQ.jw).v,style:"Lnr",reverse:!1,wD:"norm",opacity:1};
this.wt=!1;this.wM=null};d.gG.prototype=new d.cE;d.gG.prototype.enable=function(A,M,q,V){var F=new N(_.E.K,!0);
F.data={H:_.u.SL,QX:"default"};M.t(F)};d.gG.prototype.cH=function(A){this._n=A.KI};d.gG.prototype.cJ=function(A,M,q,V,F){if(!A.jH())return;
this.wM=A.w.jY(F.x,F.y);this.wM=d.gS.gu(A,this.wM,q);this.wt=!0};d.gG.prototype.cz=function(A,M,q,V,F){if(!this.wt)return;
var H=A.w.jY(F.x,F.y);H=d.gS.gu(A,H,q);A.p.wx={G:[this.wM.x,this.wM.y,H.x,H.y],qm:["M","L"]};A.p.wj=[this.wM.x,this.wM.y,H.x,H.y];
A._X=!0};d.gG.prototype.cG=function(A,M,q,V,F){if(!this.wt)return;var H=A.T[A.k[0]],w=A.w.jY(F.x,F.y),C=w.Hs(this.wM),r=f.oV(this.wM,w,.5),G=Math.atan2(C.y,C.x),J=f.Hc(this.wM,w),m=Math.sin(G),u=Math.cos(G);
if(J>2){var W;if(A.q)W=A.q.rect;else W=new U(0,0,A.n,A.J);var y=Q.b(W.X()*4),O=this._n.style;if(O!="Lnr"){J*=2;
r=this.wM}Q.r.Gf(this._n.r,y,W,[u*1/J,m*1/J,-m*1/J,u*1/J],r.x,r.y,this._n.reverse,j.r.types.indexOf(O),q._c,q._A);
var h=Math.round(this._n.opacity*256),I=y.length;if(h!=256)for(var Z=0;Z<I;Z+=4)y[Z+3]=y[Z+3]*h>>>8;
var L=new N(_.E.V);L.v=d.c$;L.data={H:"fillBMP",er:y,q$:this._n.wD,KY:this.name};M.t(L)}A.p.wx=null;
A.p.wj=[];A._X=!0;this.wt=!1};d.gG.vQ=function(A,M,q,V,F,H,w){if(w==null)w=_.L("canvas","");var C=w.getContext("2d");
w.width=M;w.height=q;var r=new U(0,0,M,q),G=Q.b(M*q*4);Q.mz(G,M,q,4,0,0);var J=Math.sin(V),m=Math.cos(V),u=Q.b(M*q*4);
Q.r.Gf(A,u,r,[m*1/M,J*1/M,-J*1/q,m*1/q],M/2,q/2,!1,0,F,H);Q.S.JW("norm",u,r,G,r,r,1);var W=C.getImageData(0,0,M,q);
Q.mc(G,W.data);C.putImageData(W,0,0);return w.toDataURL()};d.gG.go=function(A,M,q){var V=JSON.parse(JSON.stringify(A));
for(var F=0;F<V.Clrs.v.length;F++){var H=V.Clrs.v[F].v,w=H.Type.v.Clry;if(w=="UsrS")continue;var C=w=="FrgC"?M:q;
H.Type.v.Clry="UsrS";H.Clr={t:"Objc",v:Q.r.Gt({e:C>>16&255,g:C>>8&255,$:C&255})}}return V};d.gv=function(){d.cE.call(this,[10,7],d.Az,"tools/hand");
this.wa=new f(0,0);this.wV=new f(0,0)};d.gv.prototype=new d.cE;d.gv.prototype.cm=function(A,M,q,V,F){var H=A.H;
if(H=="scroll"&&!V.j(R.fQ)){if(V.j(R.fB))this.gU(q,q.w._V.x-A.wC.y,q.w._V.y-A.wC.x);else this.gU(q,q.w._V.x-A.wC.x,q.w._V.y-A.wC.y)}};
d.gv.prototype.enable=function(A,M,q,V){var F=new N(_.E.K,!0);F.data={H:_.u.SL,QX:"grab; cursor:-moz-grab; cursor:-webkit-grab;"};
M.t(F)};d.gv.prototype.cJ=function(A,M,q,V,F){this.wV.Hh(A.w._V);this.wa.HT(F.x,F.y)};d.gv.prototype.cz=function(A,M,q,V,F){if(!F._Q)return;
this.gU(A,this.wV.x+(F.x-this.wa.x),this.wV.y+(F.y-this.wa.y))};d.gv.prototype.gU=function(A,M,q){var V=A.w.Y;
if(A.n*V<A.w.B.n&&A.J*V<A.w.B.J)A.w._V.HT(0,0);else{A.w._V.x=M;A.w._V.y=q}A.wS=!0};d.gl=function(){d.AT.call(this,[10,25],d.cL,"tools/hbrush");
this.wE=null;this.wm=null;this._V=null};d.gl.prototype=new d.AT;d.gl.prototype.cJ=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);
this.wE=H;if(V.j(R.fQ)||V.j(R.Pg)){this.wm=A.w.jY(F.x,F.y);this._V=null;return}if(this.wm==null){alert(zJ.get([15,7,0]));
return}this.Ag(A,q,V,F,this._n.flow);if(this._J==null)return;if(this._V==null||!this._n.algnd)this._V=new f(Math.round(H.x-this.wm.x),Math.round(H.y-this.wm.y));
this.At(A,"clone",{_V:this._V});this.U(A)};d.gl.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;
this.Ax(A,M,q);if(!F._Q||this.wm==null)return;this.Ap(A,q,V,F);this.At(A,"clone",{_V:this._V});this.U(A)};
d.gl.prototype.cG=function(A,M,q,V,F){if(this._J==null)return;this.AM(A,"heal",this._J.VH(),this._J.Ak(),this._J.Ak(),{_V:this._V});
this.U(A,this._J.Ak());d.AT.prototype.cG.call(this,A,M,q,V,F);if(!this._n.algnd)this._V=null};d.gl.prototype.disable=function(A,M,q,V){this.wm=null;
this._V=null};d.gR=function(){d.cE.call(this,[10,8],d.cd,"tools/htype");this.wk=[];this.wb=null;this.wL=null;
this.caller=null;this.wZ=0;this.wY=null;this.wI=null;this.w$=null;this.wK=null;this.we=null;this.wG=null;
this.wq=!1;this.wB=!1;this.Sv=!1;this.wN=null;this.wQ=null;this.w_=null;this.ww=!1;this.wy=!1;this.wu=-1;
this.wd=-1;this.wO=document.createElement("textarea");this.wO.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.wO.addEventListener("input",this.gP.bind(this),!1);this.wO.addEventListener("keydown",this.gD.bind(this),!1);
document.body.appendChild(this.wO)};d.gR.prototype=new d.cE;d.gR.prototype.cT=function(A){return A._Q};
d.gR.prototype.cU=function(A,M,q,V){if(this.wY!=null)return;this.caller=M;this.wb=A;var F=A.T[A.k[0]],H=F.add.TySh;
if(H!=null)this.gA(M,H)};d.gR.prototype.cm=function(A,M,q,V,F){if(this.wY!=null){var H=this.wy;if(A.H=="warp"||A.H=="warpCancel"){if(A.H=="warp")this.wY.add.TySh.Nh=A.ls;
else this.wY.add.TySh.Nh=this.wK;var q=this.wb;this.gf(q,F);if(!H)this.ga(q);this.wO.focus()}if(A.H=="warpConfirm"){}if((A.H=="warpConfirm"||A.H=="warpCancel")&&H){this.wy=!1;
if(A.H=="warpConfirm")this.gt(q,M);else this.gM(q,M)}}if(A.H=="editCurr"){if(this.wY!=null)this.disable(q,M,F,V);
this.wb=q;this.wL=F;this.caller=M;var w=q.T[A.wF];this.gr(q,M,F,w);var C=a.Vi(w.add.TySh.Ns);this.wu=0;
this.wd=C.length-1;this.ga(q);this.gc();this.wO.focus()}if(A.H=="newED"){var r=q.T[A.wX],G=r.add.TySh,J=this.gx(q,r);
G.Ns=A.Elb;if(A.oC)G.oC=A.oC;var m=new EU(G.Ns,F.ec),u=Ev.Vh(m,G);r.rect=u.rect;r.buffer=u.ej;r.U();
q.U();var W=new zv(this.name,this);W.data={yE:J,ym:this.gx(q,r)};q.jj(W)}};d.gR.prototype.cW=function(A){return this.wk.indexOf(A)!=-1};
d.gR.prototype.enable=function(A,M,q,V){this.Ac(M)};d.gR.prototype.cs=function(){return this.wY!=null};
d.gR.prototype.gH=function(A,M){for(var q=A.T.length-1;q>=0;q--){var V=A.T[q];if(V.add.TySh&&V.rect.hH(M)&&A.jW(q))return V}};
d.gR.prototype.cJ=function(A,M,q,V,F){this.wb=A;this.wL=q;this.caller=M;var H=A.w.jY(F.x,F.y),w=this.wY==null;
if(w){var C=this.gH(A,H);if(C!=null)this.gr(A,M,q,C);else{this.Sv=!0;this.wN=F;return}}if(this.wG&&this.wG.cJ(A,q,V,H)&&Q.ls.lc(this.wY.add.TySh.Nh)||!w&&Q.O.oS(H,this.wY.rect)>20/A.w.Y&&a.V$(this.wY.add.TySh.Ns)==0){this.wq=!0;
this.wQ=H;this.w_=this.wY.add.TySh.oC.clone()}else{this.wB=!0;this.wu=this.wd=this.gj(H);var r=Date.now();
if(r-this.wZ<300){this.gW();this.wB=!1}this.wZ=r}this.ga(A)};d.gR.prototype.gr=function(A,M,q,V){this.wY=V;
this.AC(M,_.E.K,{H:_.u.km,v:this.id,wT:"showactive"});A.k=[A.T.indexOf(V)];A.jZ();A.yJ=!0;var F=V.add.TySh;
this.w$=this.gx(A,this.wY);if(a.V$(F.Ns)==1){var H=a.Ve(F.Ns);H=new U(0,0,H[2]-H[0],H[3]-H[1]);var w=[H.x,H.y,H.x+H.n,H.y,H.x+H.n,H.y+H.J,H.x,H.y+H.J];
Q.O.oC(w,F.oC,w);this.wG=new zh(w,!1,!1,!1,!0)}this.gf(A,q)};d.gR.prototype.gW=function(){var A=a.Vi(this.wY.add.TySh.Ns);
this.wu=this.gh(A,this.wu);this.wd=this.gT(A,this.wu)};d.gR.prototype.gh=function(A,M){var q=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",V=[];
for(var F=0;F<q.length;F++)V.push(q.charAt(F));var H=V.indexOf(A[M])==-1?!0:!1;for(var F=M-1;F>=0;F--)if(V.indexOf(A.charAt(F))!=-1==H)return F+1;
return 0};d.gR.prototype.gT=function(A,M){var q=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",V=[];for(var F=0;
F<q.length;F++)V.push(q.charAt(F));var H=V.indexOf(A[M])==-1?!0:!1;for(var F=M+1;F<A.length;F++)if(V.indexOf(A.charAt(F))!=-1==H)return F;
return A.length-1};d.gR.prototype.Ac=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.SL,QX:this.we};
A.t(M)};d.gR.prototype.cz=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y),w=this.wY;if(!F._Q){var C="default";
if(this.wG&&Q.ls.lc(w.add.TySh.Nh)){if(this.wG.pT(H,A.w.Y))C=this.wG.pT(H,A.w.Y);else{if(this.wG.pc(H))C="text"}}else if(w&&Q.O.oS(H,w.rect)>20/A.w.Y)C="move";
else if(this.gH(A,H))C="text";if(C!=this.we){this.we=C;this.Ac(M)}}if(this.Sv&&f.Hc(this.wN,F)>4){this.Sv=!1;
this.gs(A,M,q,V,F);w=this.wY;a.VK(w.add.TySh.Ns,1);this.wq=!0;this.wG=new zh(null,!1,!1,!1,!0);this.wG.cJ(A,q,V,A.w.jY(this.wN.x,this.wN.y))}if(this.wq){var r=w.add.TySh;
if(this.wG){this.wG.cz(A,q,V,H);var G=r.oC.clone(),J=Math.atan2(G.$,G.M);G.rotate(J);var m=Q.GG.Gl(Q.GG.Gv(this.wG.pR())),u=Math.atan2(m.$,m.M);
m.rotate(u);if(!isNaN(m.M)&&m.M*m.e$-m.$*m.ei!=0){var W=new U(0,0,m.M/G.M,m.e$/G.e$);a.Vq(r.Ns,[0,0,Math.round(W.n),Math.round(W.J)]);
r.oC=Q.GG.Gl(Q.GG.Gv(this.wG.pR(),W));this.gf(A,q)}}else{var y=H.x-this.wQ.x,O=H.y-this.wQ.y;r.oC=this.w_.clone();
var h=new f(r.oC.eI+y,r.oC.eK+O);h=d.gS.gu(A,h,q);r.oC.eI=h.x;r.oC.eK=h.y;this.gf(A,q)}}if(this.wB)this.wd=this.gj(H);
if(this.wq||this.wB)this.ga(A)};d.gR.prototype.gs=function(A,M,q,V,F){var H=A.jD(),w=A.T.slice(0);H.Dw("Text layer "+w.length);
this.wY=H;var C=A.k[A.k.length-1],r=C+1;if(w[C].add.lsct==zT.ts)r--;this.w$={yz:w.slice(0),_U:A.k.slice(0)};
w.splice(r,0,H);A.k=[r];this.wu=this.wd=0;A.jb(w);this.w$.yG=w.slice(0);this.w$._w=A.k.slice(0);this.AC(M,_.E.K,{H:_.u.km,v:this.id,wT:"showactive"});
F=A.w.jY(F.x,F.y);H.add.TySh=a.Vk(F.x,F.y,q.yo);return H};d.gR.prototype.cG=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);
if(this.Sv){this.Sv=!1;this.gs(A,M,q,V,F);a.VK(this.wY.add.TySh.Ns,0);this.wB=!0}if(this.wq||this.wB){this.ga(A);
this.gc()}if(this.wq&&this.wG)this.wG.cG(A,q,V,H);this.wq=this.wB=!1;this.wO.focus()};d.gR.prototype.gc=function(){var A=Math.min(this.wu,this.wd),M=Math.max(this.wu,this.wd),q,V;
if(A==M){var F=this.wI&&this.wI.Vf(A-1);if(A==0||F&&F.yv=="\n")q=V=A;else q=V=A-1}else{q=A;V=M-1}this.gA(this.caller,this.wY.add.TySh,q,V)};
d.gR.prototype.gA=function(A,M,q,V){if(q==null){q=0;V=a.Vi(M.Ns).length-2}var F=a.VO(M.Ns,q,V);this.AC(A,_.E.K,{H:_.u.kJ,KI:EW.fT,yo:F,yU:d.f.HD(M.oC)})};
d.gR.prototype.cv=function(A,M,q,V){if(V.j(R.f_))this.gM(A,M)};d.gR.prototype.disable=function(A,M,q,V){if(this.wY)this.gt(A,M);
else this.gM(A,M)};d.gR.prototype.cH=function(A,M,q,V,F){if(A.wT=="commit")this.gt(q,M);if(A.wT=="cancel")this.gM(q,M);
if(A.wT=="showwarp"){if(q==null)return;if(this.wY==null){var H=q.T[q.k[0]],w=H.add.TySh;if(w==null)return;
this.gr(q,M,F,H);this.wO.focus();this.wy=!0}this.wK=this.wY.add.TySh.Nh;var C=new N(_.E.K,!0);C.data={H:_.u.S_,KL:"textwarp"};
M.t(C)}};d.gR.prototype.cr=function(A,M){this.wL=A;var q=this.wb;if(q==null)return;if(M!=EW.fo&&M!=EW.fT&&M!=EW.fR)return;
if(this.ww){this.ww=!1;this.gf(q,A);this.gt(q,this.caller);return}if(this.wY==null){var V=q.T[q.k[0]],F=V.add.TySh;
if(F==null)return;var H=a.Vi(F.Ns);this.wu=0;this.wd=H.length-1;var w=a.VO(F.Ns,this.wu,this.wd-1);if(JSON.stringify(w)==JSON.stringify(A.yo))return;
this.gr(q,this.caller,A,V);a.Vu(F.Ns,this.wu,this.wd,A.yo);var C=this.gf(q,A);if(C==!1){this.ww=!0;return}this.gt(q,this.caller);
return}var r=Math.min(this.wu,this.wd),G=Math.max(this.wu,this.wd);a.Vu(this.wY.add.TySh.Ns,r,G-1,A.yo);
var q=this.wb;this.gf(q,A);this.ga(q);this.wO.focus()};d.gR.prototype.cl=function(A,M){if(A.yE!=null)this.gg(M,A.ym);
else this.gp(M,A.yG,A._w)};d.gR.prototype.cR=function(A,M){if(A.yE!=null)this.gg(M,A.yE);else this.gp(M,A.yz,A._U)};
d.gR.prototype.gg=function(A,M){var q=M.wX;A.T[q].buffer=M.yl;A.T[q].rect=M.qa.clone();A.T[q].U();var V=A.T[q].add.TySh;
V.Nh=M.ls;V.NT=M.NT.clone();V.oC=M.oC.clone();V.Ns=JSON.parse(JSON.stringify(M.Ns));A.U()};d.gR.prototype.gx=function(A,M){var q=M.add.TySh;
return{wX:A.T.indexOf(M),oC:q.oC.clone(),ls:JSON.parse(JSON.stringify(q.Nh)),NT:q.NT.clone(),Ns:JSON.parse(JSON.stringify(q.Ns)),yl:Q.clone(M.buffer),qa:M.rect.clone()}};
d.gR.prototype.gp=function(A,M,q){A.k=q;A.jb(M);A.U()};d.gR.prototype.gf=function(A,M){var q=this.wY.add.TySh;
if(!Ev.Vc(q,M.ec))return!1;this.wI=new EU(q.Ns,M.ec);var V=a.Vi(q.Ns);this.wO.value=V.slice(0,V.length-1);
var F=Ev.Vh(this.wI,q),H=F.rect;if(Q.ls.lc(q.Nh))q.NT=new U;else{if(a.V$(q.Ns)==1){var w=a.Ve(q.Ns),C=F.NT.y;
q.NT=new U(0,C,w[2]-w[0],w[3]-w[1]-C)}else{q.NT=F.NT}}var r=this.wY.rect;this.wY.rect=F.rect;this.wY.buffer=F.ej;
this.wY.U();A.jL();A.U(A.root.M$(F.rect.vP(r),A,A.T.indexOf(this.wY)));return!0};d.gR.prototype.gP=function(A){if(this.wY==null)return;
var M=this.wO.selectionStart,q=this.wY.add.TySh,V=a.Vi(q.Ns),F=this.wO.value+"\n",H=Math.min(this.wu,this.wd),w=Math.max(this.wu,this.wd);
this.wu=Math.min(M,H);if(F.length-M<V.length-this.wd)this.wd=V.length-F.length+M;var C=V.substring(0,this.wu),r=V.substring(this.wd,V.length),G=F.substring(this.wu,F.length-r.length);
a.Vw(q.Ns,this.wu,this.wd);a.V_(q.Ns,this.wu,G);a.Vu(q.Ns,this.wu,this.wu+G.length-1,this.wL.yo);this.wu=this.wd=C.length+G.length;
var J=this.wb;this.gf(J,this.wL);this.ga(J)};d.gR.prototype.gD=function(A){if(this.wY==null)return;var M=0,q=0,H=!1;
if(A.key==R.fX)M=1;if(A.key==R.fO)M=-1;if(A.key==R.fF)q=-1;if(A.key==R.Pn)q=1;var V=A.ctrlKey||A.metaKey,F=a.Vi(this.wY.add.TySh.Ns);
if(M!=0||q!=0||A.key==R.fu||A.key==R.fd){A.preventDefault();var w=this.wu;if(M!=0){if(V&&M==-1)w=this.gh(F,this.wu-1);
else if(V&&M==1)w=this.gT(F,this.wu);else w=this.wu+M}else if(q!=0){var C=this.wI.VD(this.wu);if(q==-1&&C.yR==0)w=0;
else if(q==1&&C.yR==this.wI.yH-1)w=99999999999;else w=this.wI.VP(new f(C.rect.x+C.rect.n/2,0),C.yR+q)}else if(A.key==R.fu){var r=this.wu-1;
while(r>0&&F.charCodeAt(r)!=10)r--;w=r==0?0:r+1}else if(A.key==R.fd){var r=this.wu;while(r<F.length-1&&F.charCodeAt(r)!=10)r++;
w=r}w=Math.max(0,Math.min(F.length-1,w));if(A.shiftKey)this.wu=w;else this.wu=this.wd=w;H=!0}if(A.key.toUpperCase()==R.u&&V){this.wu=0;
this.wd=F.length-1;H=!0}if(H){this.gc();this.ga(this.wb)}};d.gR.prototype.gt=function(A,M){if(this.wY==null)return;
var q=this.wY,V=q.add.TySh,F=this.w$;if(F.wX!=null){var H=this.gx(A,q),w=A.ja();if(w!=null&&w.v==this&&w.data.yE&&w.data.yE.wX==F.wX)w.data.ym=H;
else{var C=new zv(this.name,this);C.data={yE:F,ym:H};A.jj(C)}}else{var r=a.Vi(V.Ns).slice(0,50);r=r.replace(/(?:\r\n|\r|\n)/g," ");
q.Dw(r);var C=new zv(this.name,this);C.data={yz:F.yz,yG:F.yG,_U:F._U,_w:F._w};A.jj(C)}this.escape(A,M)};
d.gR.prototype.gM=function(A,M){if(this.wY==null)return;if(this.w$.wX!=null){this.wY.add.TySh.oC=this.w$.oC.clone();
this.wY.add.TySh.Ns=JSON.parse(JSON.stringify(this.w$.Ns));this.wY.add.TySh.Nh=this.w$.ls;this.wY.add.TySh.NT=this.w$.NT;
this.wY.buffer=Q.clone(this.w$.yl);this.wY.rect=this.w$.qa.clone();this.wY.U()}else{A.k=this.w$._U;A.jb(this.w$.yz)}A.U();
this.escape(A,M)};d.gR.prototype.escape=function(A,M){this.wY=null;this.wI=null;this.wG=null;this.wO.blur();
A.p.wx=null;A.p.yr=null;A.p.wj=[];A._X=!0;this.wq=!1;this.wB=!1;this.wu=this.wd=-1;this.AC(M,_.E.K,{H:_.u.km,v:this.id,wT:"hideactive"})};
d.gR.prototype.AC=function(A,M,q,V){var F=new N(M,!0);F.data=q;if(V)F.v=V;A.t(F)};d.gR.prototype.gj=function(A){var M=this.wY.add.TySh,q=this.wI,V=M.oC.clone();
V.mx();var F=V.Ht(A),H=a.Ak(M,q),w=Q.ls.lx(M.Nh,H),C=Q.h.A.za(w,0,1,0,1),r=new Uint32Array(30),G=Q.h.A.EHl(C.eV,C.eC,F.x,F.y,r),J=Q.h.Jm(w,F.x,F.y,C.eV,r,G,!1),m=Q.h.zW;
if(m==null)m=new Float64Array(2);F=new f(H.x+m[0]*H.n,H.y+m[1]*H.J);var u=q.VP(F),W=q.Vf(u),y=q.VD(u).rect;
if(W.yv!="\n"&&(W.yW==0&&F.x>y.x+y.n/2||W.yW==1&&F.x<y.x+y.n/2))u++;return u};d.gR.prototype.ga=function(A){var M=this.wY.add.TySh,q=this.wI;
A.p.wj=[];A.p.wx=null;A.p.yr=null;if(this.wG){this.wG.pf(A,!Q.ls.lc(M.Nh));var V=M.oC.clone();V.mx();
Q.O.oC(A.p.wj,V,A.p.wj);Q.O.oC(A.p.wx.G,V,A.p.wx.G)}else this.gV(A,M,q);var F=Math.min(this.wu,this.wd),H=Math.max(this.wu,this.wd);
this.wO.selectionStart=F;this.wO.selectionEnd=H;if(q!=null){if(F==H){var w=q.VD(F).rect.clone(),C=this.wL.yo.QU.FontSize;
if(C!=null&&C!=0){w.y+=w.J-C;w.J=C}var r=q.Vf(F);if(r!=null&&r.yW==1)w.x+=w.n;w.y+=w.J*.27;A.p.wx.qm.push("M","L");
A.p.wx.G.push(w.x,w.y,w.x,w.y+w.J)}else{A.p.yr={G:[],qm:[]};for(var G=F;G<H;G++){var w=q.VD(G).rect;
w.y+=w.J*.27;var J=Q.O.oL(w);Q.O.concat(A.p.yr,J)}}}if(q!=null){var m=a.Ak(M,q);if(!m.zZ()){var u=Q.ls.lx(M.Nh,m);
if(A.p.wx){A.p.wx=Q.O.oZ(A.p.wx);A.p.wx=Q.O.oY(A.p.wx,Math.min(m.n,m.J)/10);Q.h.apply(u,A.p.wx.G,m)}if(A.p.yr){A.p.yr=Q.O.oZ(A.p.yr);
A.p.yr=Q.O.oY(A.p.yr,Math.min(m.n,m.J)/10);Q.h.apply(u,A.p.yr.G,m)}Q.h.apply(u,A.p.wj,m)}}if(A.p.wx)Q.O.oC(A.p.wx.G,M.oC,A.p.wx.G);
if(A.p.yr)Q.O.oC(A.p.yr.G,M.oC,A.p.yr.G);Q.O.oC(A.p.wj,M.oC,A.p.wj);A._X=!0};d.gR.prototype.gV=function(A,M,q){if(q==null)return;
A.p.wj.push(0,0);if(A.p.wx==null)A.p.wx={qm:[],G:[]};for(var V=0;V<q.Ql.length;V++){var F=q.Ql[V];for(var H=0;
H<F.yh.length;H++){var w=F.yh[H],C=F.yT.x+w.yT.x+w.rect.x,r=F.yT.y+w.yT.y+w.rect.y+w.rect.J;A.p.wx.qm.push("M","L");
A.p.wx.G.push(C,r,C+w.rect.n,r)}}A._X=!0};d.gC=function(){d.AV.call(this,[10,9],d.ct,"tools/lasso");
this._K="crosshair";this.yc=null;this.yA=null};d.gC.prototype=new d.AV;d.gC.prototype.AL=function(A,M,q,V){this.yc=this._I;
this.yA={G:[this.yc.x,this.yc.y],qm:["M"]}};d.gC.prototype.AZ=function(A,M,q,V){if(!V._Q||this.yA==null)return;
this.yA.qm.push("L");this.yA.G.push(this._$.x,this._$.y);this.yc=this._$;if(this._e){A.p.wx=this.yA;
A._X=!0}};d.gC.prototype.AY=function(A,M,q,V){if(this.yA==null||!this._e)return;A.p.wx=null;A._X=!0;
this.finish(A,M,q,V)};d.gC.prototype.getSelection=function(A,M,q,V){if(this._I.mg(this._$))return null;
return this.Ai(this.yA)};d.gS=function(){d.cE.call(this,[10,11],d.cf,"tools/move");this.yg=new f(0,0);
this.yx=new f(0,0);this.yp=new f(0,0);this.yf=null;this.yP=null;this.yD=[];this.I=[];this.yt=null;this.wt=!1;
this.H=0;this.yM=null;this.yj=null;this.ya=!1;this._n={yV:!1,yC:!1,yS:!1};this.wG=null;this.yk=[{name:"Get PNG"},{name:"Get SVG",Ka:!0},{name:"Copy CSS"}];
this.yb=new Ec(this.yk);this.yb.l("select",this.gY,this)};d.gS.prototype=new d.cE;d.cE.prototype.cT=function(A){return this.wt&&this.H!=2};
d.gS.prototype.cx=function(){return this.wt&&this.H==0};d.gS.prototype.cp=function(A,M,q,V){this.gK(A,-this.yp.x,-this.yp.y);
this.yp.HT(0,0);this.gq(A,null,q);this.gL(A)};d.gS.prototype.cA=function(){var A=this._n;return[A.yV?1:0,A.yC?1:0,A.yS?1:0]};
d.gS.prototype.cg=function(A,M,q){var V=this._n;if(A[0]!=null)V.yV=A[0]==1;if(A[1]!=null)V.yC=A[1]==1;
if(A[2]!=null)V.yS=A[2]==1;var F=new N(_.E.K,!0);F.data={H:_.u.km,v:this.id,EoE:V,EoQ:M};q.t(F)};d.gS.prototype.gk=function(A,M,q){if(A==null)return;
var V=A.jV(),F=A.jm(V)[0],H=zm.EM(F,M.toUpperCase()),w=new N(_.E.K,!0);w.data={H:_.u.Sw,data:H,name:A.T[A.k[0]].getName()+"."+M};
q.t(w)};d.gS.prototype.cH=function(A,M,q,V,F){if(A.wP=="getPNG"){this.gk(q,"png",M)}else if(A.wP=="getSVG"){this.gk(q,"svg",M)}if(A.wP=="prms"){this._n=A;
this.gL(q)}if(A.wP=="algn"){if(q==null)return;if(q.k.length<2){alert("Select multiple layers");return}var H=A.o,w=d.f.Ak(q);
this.gi(q,M,V,F,!1);var C=this.yD,r=[],G=[],J=[];for(var m=0;m<C.length;m++){var u=q.T[C[m]].tG(q),W=H==3?[u.y,u.J]:[u.x,u.n];
G[m]=W;J.push(W)}d.gS.gb(J);for(var m=0;m<C.length;m++){var u=q.T[C[m]].tG(q),y=u.x,O=u.y;if(H==0)y=w.x;
if(H==1)y=w.x+(w.n-u.n)/2;if(H==2)y=w.x+(w.n-u.n);if(H==3)O=G[m][0];if(H==4)O=w.y;if(H==5)O=w.y+(w.J-u.J)/2;
if(H==6)O=w.y+(w.J-u.J);if(H==7)y=G[m][0];r.push(Math.round(y-u.x),Math.round(O-u.y))}this.gK(q,0,0,null,r);
var h=H==3||H==7?"Equal Gaps":[20,4,H<3?H:H-1];this.gq(q,null,F,r,h)}};d.gS.gb=function(A){var M=A.length,V=0;
A.sort(function(C,r){return C[0]+C[1]/2-(r[0]+r[1]/2)});var q=A[M-1][0]+A[M-1][1]-A[0][0];for(var F=0;
F<M;F++)V+=A[F][1];var H=Math.round((q-V)/(M-1)),w=A[0][0];for(var F=0;F<M;F++){A[F][0]=w;w+=A[F][1]+H}};
d.gS.prototype.cm=function(A,M,q,V,F){var H=A.H;if(H=="trsl"){var w=Math.round(A.EUu),C=Math.round(A.EEL);
this.yp.HT(w,C);this.gi(q,M,V,F,!1,A.Q);this.gK(q,w,C);this.gq(q,null,F)}};d.gS.prototype.enable=function(A,M,q,V,F){this.ya=F?!0:!1;
this.gL(A);this.Ac("default",M)};d.gS.prototype.disable=function(A,M,q,V){if(A==null)return;if(this.wG){this.wG.clear(A);
this.wG=null}if(A!=null&&A.p.yS){A.p.yS=null;A._X=!0}if(A!=null&&A.p._O){A.p._O=null;A._X=!0}};d.gS.prototype.cU=function(A,M,q,V){this.gL(A)};
d.gS.prototype.gL=function(A,M){if(A==null)return;var q=this._n;this.disable(A,null,null,null);var V=Q.O.ok(d.f.Ak(A));
if(this.ya)return;if(q.yC){this.wG=new zh([V.x,V.y,V.x+V.n,V.y,V.x+V.n,V.y+V.J,V.x,V.y+V.J],!0);this.wG.pf(A)}if(q.yS){var F=A.jh(A.k[0]),J=null,m=!1;
if(F==null)F=new U(0,0,A.n,A.J);A.p.yS={yI:[V],y$:[]};var H=A.p.yS.y$,w=V.x+V.n,C=V.y+V.J,r=V.x+Math.floor(V.n/2),G=V.y+Math.floor(V.J/2);
if(M){var u=A.root.Jm(new f(Math.floor(M.x),Math.floor(M.y)));if(u){J=Q.O.ok(u.Q.tG(A));if(J.hT(V)){m=(J.hr(V)||V.hr(J))&&!V.mg(J);
if(!m)J=null}}}this.gZ(V,H);if(J!=null){A.p.yS.yI.push(J);var W=J.x+J.n,y=J.y+J.J,O=J.x+Math.floor(J.n/2),h=J.y+Math.floor(J.J/2);
if(m){var I=r,Z=G;if(V.hr(J)){I=O;Z=h}H.push(V.x,Z,J.x,Z);H.push(w,Z,W,Z);H.push(I,V.y,I,J.y);H.push(I,C,I,y)}else{this.gZ(J,H);
var L=C<J.y||y<V.y,Y=w<J.x||W<V.x;if(w<J.x)H.push(w,G,J.x,G);if(W<V.x)H.push(W,G,V.x,G);if(C<J.y)H.push(r,C,r,J.y);
if(y<V.y)H.push(r,y,r,V.y);if(L&&!Y){if(V.x<J.x)H.push(V.x,h,J.x,h);if(J.x<V.x)H.push(J.x,G,V.x,G)}}}else{if(V.y>F.y)H.push(r,F.y,r,V.y);
if(C<F.y+F.J)H.push(r,C,r,F.y+F.J);if(V.x>F.x)H.push(F.x,G,V.x,G);if(w<F.x+F.n)H.push(w,G,F.x+F.n,G)}A._X=!0}};
d.gS.prototype.gZ=function(A,M){var q=A.n,V=A.J,F=A.x+Math.floor(q*.2),H=A.y+Math.floor(V*.2);M.push(F,A.y,F,A.y+V);
M.push(A.x,H,A.x+q,H)};d.gS.prototype.Ac=function(A,M){var q={H:_.u.SL,QX:A},V=new N(_.E.K,!0);V.data=q;
M.t(V)};d.gS.prototype.gY=function(A){var M=this.yb.kf()[0],q=this.yf;if(M<2)this.gk(q,["png","svg"][M],this.yP);
if(M==2){var V=q.T[q.k[0]],F=CSS.Ck(V);F=F.join(";\n")+";";var H=_.L("textarea");H.value=F;document.body.appendChild(H);
H.select();document.execCommand("copy");document.body.removeChild(H)}};d.gS.prototype.co=function(A,M,q,V,F){this.yf=A;
this.yP=M;var H=A.w.jY(F.x,F.y);this.gI(A,H,V);var w=this.yb,C=this.yk;w.parent=M;w.update(A,C);var r=new N(_.E.K,!0);
r.data={H:_.u.SS,KH:w,x:F.ERE+1,y:F.EE$+1};M.t(r)};d.gS.prototype.cJ=function(A,M,q,V,F){this.yg.HT(F.x,F.y);
this.yx=A.w.jY(F.x,F.y);this.gi(A,M,V,q,!0)};d.gS.prototype.gi=function(A,M,q,V,F,H){var w,C=this.yx;
if(F){var r=V.yq&&V.yB.Ni;if(V.yN&&(this.yg.x<Q.oy.ou||0<this.yg.y&&this.yg.y<Q.oy.ou)){w=JSON.parse(JSON.stringify(A.Ni));
if(this.yg.x<Q.oy.ou)A.Ni[0].push(C.x);if(this.yg.y<Q.oy.ou)A.Ni[1].push(C.y);if(!r){var G=new N(_.E.K);
G.data={H:_.u.kJ,KI:EW.fP};M.t(G);r=!0}}var J=this.g$(A,C);if(r&&J){this.H=2;this.yM=w?w:JSON.parse(JSON.stringify(A.Ni));
this.yD=J;this.wt=!0;return}if(this.wG&&this.wG.pT(C,A.w.Y,!0)!=null){var G=new N(_.E.K);G.data={H:_.u.SX,v:d.Ao};
M.t(G);var m=new N(_.E.V);m.v=d.Ao;m.data={H:"doMouseDown",yQ:this.yg};M.t(m);return}if(A.q==null&&(!this.ya&&(q.j(R.fB)||this._n.yV)||this.ya&&this._n.yV&&(q.j(R.fq)||A.k.length<2))){this.gI(A,C,q)}}this.yD=A.jV(H==null,H);
this.I=d.gS.gw(A,this.yD);this.H=0;if(A.q&&A.k.length==1){if(!A.jH()||!A.jT()){this.wt=!1;return}var u=A.T[A.k[0]],W=q.j(R.fQ);
this.H=1;var y=A.history[A.y_];if(y.v==this&&y.data.H==1&&y.data.Q==A.k[0]&&u.z==u._a.z&&!W){this.yj=y}else{var O=u._a,h=!1,I;
if(!u.DN(A,A.q)||W){h=!0;u.DK(A,A.q,W)}if(u._a.z<=0){I=Q.b(u._a._j.length>>2);Q.mH(u._a._j,I,3)}else I=Q.clone(A.q.channel);
var Z={rect:u._a.qC.clone(),channel:I};this.yj=new zv(W?[12,53]:[12,54],this);this.yj.data={H:1,Q:A.k[0],_a:u._a,yw:O,yy:h,_U:A.q,_w:Z,e$:new f(0,0)};
A.jj(this.yj);A.q=Z;A._Z=!0}}this.wt=!0;this.yt=d.f.Ak(A)};d.gS.prototype.gI=function(A,M,q){var V=A.root.Jm(new f(Math.floor(M.x),Math.floor(M.y)));
if(V){var F=A.T.indexOf(V.Q);if(q.j(R.fq)){var H=A.k.indexOf(F);if(H==-1)A.k.push(F);else if(A.k.length>1)A.k.splice(H,1)}else{V.Q.z=0;
A.k=[F];A.jZ();A.yJ=!0}}};d.gS.prototype.cz=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y),u,W;if(!this.wt){if(q.yq&&q.yB.Ni){var w=this.g$(A,H),C="default";
if(w)C=["col-resize","row-resize"][w[0]];else if(this.wG){var r=this.wG.pT(H,A.w.Y);if(r)C=r}this.Ac(C,M)}this.gL(A,H);
return}var G=this.yx,J=Math.round(H.x-G.x)-this.yp.x,m=Math.round(H.y-G.y)-this.yp.y;if(this.yt){W=this.yt.clone();
W.offset(this.yp.x+J,this.yp.y+m);u=d.gS.gd(A,W,q);J+=Math.round(u[0]);m+=Math.round(u[1])}this.yp.x+=J;
this.yp.y+=m;this.gK(A,J,m,H);this.gL(A,H);if(u)d.gS.gy(A,W,u)};d.gS.prototype.g$=function(A,M){M=[M.x,M.y];
for(var q=0;q<2;q++)for(var V=0;V<A.Ni[q].length;V++)if(Math.abs(A.Ni[q][V]-M[q])*A.w.Y<4)return[q,V];
return null};d.gS.prototype.gK=function(A,M,q,V,F){if(this.H==0){if(F)d.gS.g_(A,this.yD,this.I,F);else d.gS.gQ(A,this.yD,this.I,M,q)}else if(this.H==2){var H=[V.x,V.y],w=this.yD;
A.Ni[w[0]][w[1]]=H[w[0]];A._X=!0}else{var C=this.yj.data;C.e$.offset(M,q);d.gS.ge(A,C.Q,M,q)}};d.gS.ge=function(A,M,q,V){var F=A.T[M];
A.q.rect.offset(q,V);F.DQ(A,q,V,A.q);A._Z=!0;A.U()};d.gS.prototype.cG=function(A,M,q,V,F){this.gq(A,F,q)};
d.gS.prototype.gq=function(A,M,q,V,F){if(!this.wt)return;this.wt=!1;if(this.H==0){if(V){this.gB(A,null,V,F)}else{if(this.yp.x==0&&this.yp.y==0)return;
this.gB(A,this.yp.clone())}A.wS=!0}else if(this.H==2){var H=0;M=[M.x,M.y];var w=this.yD,C=this.yM[0].length+this.yM[1].length,r=A.Ni[0].length+A.Ni[1].length;
if(q.yN&&M[w[0]]<Q.oy.ou){A.Ni[w[0]].splice(w[1],1);H=1;if(C==r-1)return}if(C<r)H=2;var G=new zv([[23,2],[23,3],[23,4]][H],this);
G.data={H:2,yM:this.yM,yu:JSON.parse(JSON.stringify(A.Ni))};A.jj(G)}else{}this.yp.HT(0,0)};d.gS.prototype.cv=function(A,M,q,V){var F=V.fL();
if(F.x!=0||F.y!=0){this.yp.HT(F.x,F.y);this.gi(A,M,V,q,!1);this.gK(A,F.x,F.y);this.gq(A,null,q);this.gL(A)}};
d.gS.prototype.cR=function(A,M){if(A.H==0)d.gS.g_(M,A.k,A.yd,A.yO,!0);else if(A.H==2){M.Ni=JSON.parse(JSON.stringify(A.yM));
M._X=!0}else{var q=M.T[A.Q];if(A.yy){q.DB(M,A.yw);M.q=A._U;M._Z=!0;M.U();q.U()}else{d.gS.ge(M,A.Q,-A.e$.x,-A.e$.y)}}};
d.gS.prototype.cl=function(A,M){if(A.H==0)d.gS.g_(M,A.k,A.yd,A.yO);else if(A.H==2){M.Ni=JSON.parse(JSON.stringify(A.yu));
M._X=!0}else{var q=M.T[A.Q];if(A.yy){q._a=A._a;M.q=A._w;d.gS.ge(M,A.Q,0,0);q.U()}else{d.gS.ge(M,A.Q,A.e$.x,A.e$.y)}}};
d.gS.prototype.gB=function(A,M,q,V){if(q){var F=!0;for(var H=0;H<q.length;H++)if(q[H]!=0)F=!1;if(F)return}var w=A.history[A.y_];
if(w.data&&w.v==this&&w.data.H==0&&q==null&&JSON.stringify(w.data.k)==JSON.stringify(this.yD)&&JSON.stringify(w.data.yd)==JSON.stringify(this.I)){var C=w.data.yO;
for(var H=0;H<C.length;H+=2){C[H]+=M.x;C[H+1]+=M.y}}else{var r=new zv(V?V:[12,54],this);if(q)r.data={H:0,k:this.yD,yd:this.I,yO:q};
else r.data={H:0,k:this.yD,yd:this.I,yO:d.gS.gN(this.yD,M.x,M.y)};A.jj(r)}};d.gS.gN=function(A,M,q){var V=[];
for(var F=0;F<A.length;F++)V.push(M,q);return V};d.gS.gQ=function(A,M,q,V,F){d.gS.g_(A,M,q,d.gS.gN(M,V,F))};
d.gS.g_=function(A,M,q,V,F){if(A.k.length==0)return;if(q==null){q=[];for(var H=0;H<M.length;H++){q.push(A.T[M[H]].tU(A,!0))}}var w=new U,C=new U(0,0,A.n,A.J);
for(var H=0;H<M.length;H++){var r=V[2*H],G=V[2*H+1];if(F){r=-r;G=-G}var J=A.T[M[H]],m=q[H];if(J.add.fxrp&&(m.indexOf(0)!=-1||J.DV()))J.add.fxrp.offset(r,G);
for(var u=0;u<m.length;u++){var W=m[u];if(W==0){J.rect.offset(r,G);if(J.tJ()&&J.tR(A))J.tR(A).rect.offset(r,G);
if(J.add.artb){var y=J.to();y.offset(r,G);J.tv(y)}if(J.add.TySh)J.add.TySh.oC.translate(r,G);if(J.add.SoLd){var O=new zo(1,0,0,1,r,G),h=J.add.SoLd,I=d.f.pE(h.Trnf),Z=d.f.pE(h.nonAffineTransform);
Q.O.oC(I,O,I);Q.O.oC(Z,O,Z);h.Trnf=d.f.pm(I);h.nonAffineTransform=d.f.pm(Z)}}if(W==1)J.tl().rect.offset(r,G);
if(W==2)J.add.vmsk.offset(r,G);if(W==3){J.tR(A).a.rect.offset(r,G);if(m.length==1)J.U()}}if(m.length>0){var L=J.add.GdFl;
if(L==null)L=J.add.PtFl;if(J.DV()&&!J.Db()&&J.add.vmsk!=null&&Q.m.ln(J.add.vmsk.C)&&J.add.vmsk.qj==255&&(L==null||L.Algn&&L.Algn.v)){J.rect.offset(r,G)}else J.DY(A);
w=w.vP(A.root.M$(J.tG(A),A,M[H]));if(J.add.SoCo||J.add.GdFl||J.add.PtFl||zG.get(J.add)!=null)w=w.vP(C);
J.DC()}}var Y=w.clone();Y.offset(-r,-G);Y=Y.vP(w);A.U(Y)};d.gS.gw=function(A,M){var q=[];for(var V=0;
V<M.length;V++){var F=A.T[M[V]];q.push(F.tU(A))}return q};d.gS.gy=function(A,M,q){var V=A.p._O={G:[],qm:[]},F=M.x+q[0],H=M.y+q[1];
if(q[2]!=1e9){V.qm.push("M","L");V.G.push(q[2],H,q[2],H+M.J)}if(q[3]!=1e9){V.qm.push("M","L");V.G.push(F,q[3],F+M.n,q[3])}A._X=!0};
d.gS.gu=function(A,M,q){var V=d.gS.gO(A,[[M.x],[M.y]],q);return new f(M.x+V[0],M.y+V[1])};d.gS.gd=function(A,M,q){var V=d.gS.gO(A,[[M.x,M.x+(M.n>>>1),M.x+M.n],[M.y,M.y+(M.J>>>1),M.y+M.J]],q);
return V};d.gS.gO=function(A,M,q){var V=[0,0,1e9,1e9];if(!q.yF||!q.yq)return V;for(var F=0;F<2;F++){var H=1e9,w=M[F],C=0;
for(var r=0;r<3;r++){var G=d.gS.gF(A,w[r],F,q);if(G!=1e9&&Math.abs(G-w[r])<Math.abs(H)){H=G-w[r];C=G}}if(H!=1e9){V[F]=H;
V[F+2]=C}}return V};d.gS.gF=function(A,M,q,V){var F=1e9,H=V.yX,w=V.yB;if(H[0]&&w.Ni){var C=A.Ni[q];for(var r=0;
r<C.length;r++)if(Math.abs(C[r]-M)<Math.abs(F-M))F=C[r]}if(H[1]&&w.uE){var G=Math.round(M/w.un)*w.un;
if(Math.abs(G-M)<Math.abs(F-M))F=G}if(H[4]){var J=A.n,m=A.J,u=[0,0,J>>>1,m>>>1,J,m];for(var r=0;r<6;
r+=2)if(Math.abs(u[r+q]-M)<Math.abs(F-M))F=u[r+q]}return Math.abs(F-M)<=4*_.F()/A.w.Y?F:1e9};d.gX=function(){d.AV.call(this,[10,12],d.cV,"tools/mwand");
this._n={_Y:"front",NV:0,um:{_m:!0,_E:10}}};d.gX.prototype=new d.AV;d.gX.prototype.AY=function(A,M,q,V,F){this.finish(A,M,q,{x:V,y:F})};
d.gX.prototype.getSelection=function(A,M,q,V,F){return d.gX.xn(A,this._$,this._n.um)};d.gX.xn=function(A,M,q){if(A.k.length!=1){alert("More than one layer selected.");
return null}var V=A.T[A.k[0]];if(V.add.lsct!=null&&V.add.lsct!=zT.tT){alert("No layer selected.");return null}if(M.x<0||M.x>A.n||M.y<0||M.y>A.J)return null;
var F=new U(0,0,A.n,A.J),H=F.n,w=F.J,C=H*w,r=Q.b(C*4);Q.mL(V.buffer,V.rect,r,F);r=new Uint32Array(r.buffer);
var G=Math.round(M.x-.5-F.x),J=Math.round(M.y-.5-F.y);if(!F.hH(M))G=J=0;var m=J*H+G,u=r[m],W=u&255,y=u>>8&255,O=u>>16&255,h=u>>24&255,I=Q.b(H*w),Z=q._E,L=1/Z;
if(q._m){var Y=Q.b(I.length);Y[m]=2;var B=[G,J];while(B.length>0){var X=B.pop(),E=B.pop(),c=X*H+E;Y[c]=2;
var o=d.gX.xE(r[c],W,y,O,h);if(o>Z){I[c]=Math.round(255*(1-Math.max(0,Math.min(1,(o-Z)*L))));continue}I[c]=255;
if(E>0){if(X>0&&Y[c-H-1]==0){B.push(E-1,X-1);Y[c-H-1]=1}if(X<w-1&&Y[c+H-1]==0){B.push(E-1,X+1);Y[c+H-1]=1}if(Y[c-1]==0){B.push(E-1,X);
Y[c-1]=1}}if(E<H-1){if(X>0&&Y[c-H+1]==0){B.push(E+1,X-1);Y[c-H+1]=1}if(X<w-1&&Y[c+H+1]==0){B.push(E+1,X+1);
Y[c+H+1]=1}if(Y[c+1]==0){B.push(E+1,X);Y[c+1]=1}}if(X>0&&Y[c-H]==0){B.push(E,X-1);Y[c-H]=1}if(X<w-1&&Y[c+H]==0){B.push(E,X+1);
Y[c+H]=1}}}else{for(var c=0;c<C;c++){var o=d.gX.xE(r[c],W,y,O,h);if(o>Z)continue;else I[c]=255}if(Z>0)for(var c=0;
c<C;c++){if(I[c]==255)continue;var E=c%H,X=Math.floor(c/H),o=d.gX.xE(r[c],W,y,O,h),s=255*(1-Math.max(0,Math.min(1,(o-Z)*L)));
if(E>0&&I[c-1]==255||E<H-1&&I[c+1]==255||X>0&&I[c-H]==255||X<w-1&&I[c+H]==255)I[c]=Math.round(s)}}var z=Q.mO(I,F),k=Q.b(z.n*z.J);
Q.mC(I,F,k,z);return{rect:z,channel:k}};d.gX.xE=function(A,M,q,V,F){var H=A&255,w=A>>8&255,C=A>>16&255,r=A>>24&255;
if(F==0)return r<5?0:255;var G=Math.max(Math.abs(H-M),Math.max(Math.abs(w-q),Math.abs(C-V)));return r==0?255:G};
d.xm=function(){d.AT.call(this,[10,26],d.cZ,"tools/patch");this.yc=null;this.yA=null;this.yT=null;this.uJ=new f;
this.uz=null};d.xm.prototype=new d.AT;d.xm.prototype.cJ=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);if(A.q&&Q.Jm(H,A.q.channel,A.q.rect)){if(!A.jH())return;
this.AA(A);this.yT=H;this.uJ=new f(H.x-A.q.rect.x,H.y-A.q.rect.y);this.uz=Q.b(A.q.rect.X()*4);Q.set(this.uz,4294967295);
if(this._n.patch==1){var w=A.T[A.k[0]];w.DK(A,A.q,!0)}}else{this.yA={G:[H.x,H.y],qm:["M"]};this.yc=H}};
d.xm.prototype.cz=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);if(this.yT){if(this._n.patch==1){var w=A.T[A.k[0]]._a,C=H.x-this.uJ.x,r=H.y-this.uJ.y;
d.gS.ge(A,A.k[0],Math.round(C-w.qC.x),Math.round(r-w.qC.y))}else this.xJ(A,H,"clone")}if(this.yc){this.yA.qm.push("L");
this.yA.G.push(H.x,H.y);this.yc=H;A.p.wx=this.yA;A._X=!0}};d.xm.prototype.cG=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);
if(this.yT){this.xJ(A,H,"heal");this.finish(A,A.q.rect);this.yT=null}if(this.yc){var w=new N(_.E.V,!0);
w.v=d.cP;if(this.yA.G.length<=4)w.data={H:"deselect"};else w.data={H:"polygon",uG:this.yA,KY:[10,26]};
M.t(w);this.yc=null;A.p.wx=null;A._X=!0}};d.xm.prototype.Ac=function(A,M){var q=new N(_.E.K,!0);q.data={H:_.u.SL,QX:"auto;"};
if(A)A.t(q)};d.xm.prototype.xJ=function(A,M,q){var V=new f(Math.round(this.yT.x-M.x),Math.round(this.yT.y-M.y));
if(this._n.patch==1)V.HT(-V.x,-V.y);this.AM(A,q,this.uz,A.q.rect,A.q.rect,{_V:V});this.U(A,A.q.rect)};
d.xz=function(){d.AT.call(this,[10,13],d.ce,"tools/pbucket")};d.xz.prototype=new d.AT;d.xz.prototype.enable=function(A,M,q,V){var F=new N(_.E.K,!0);
F.data={H:_.u.SL,QX:"default"};M.t(F)};d.xz.prototype.cr=function(A,M){};d.xz.prototype.cG=function(A,M,q,V,F){if(!A.jH())return;
var H=A.w.jY(F.x,F.y),w=d.gX.xn(A,H,this._n.wconf);if(w==null)return;var C=Q.b(w.rect.X()*4);Q.mh(C,(q._c&255)<<16|(q._c>>8&255)<<8|(q._c>>16&255)<<0);
Q.mr(w.channel,C,3);this.AA(A);this.AM(A,"draw",C,w.rect,w.rect);this.U(A,w.rect);this.finish(A,w.rect)};
d.xG=function(){d.AV.call(this,[10,14],d.cM,"tools/plasso");this._K="crosshair";this.wk=[];this.yA=null;
this.uo=0};d.xG.prototype=new d.AV;d.xG.prototype.disable=function(A,M,q,V){this.xo(A)};d.xG.prototype.AL=function(A,M,q,V){this.wk=[R.Pv]};
d.xG.prototype.cW=function(A){return this.wk.indexOf(A)!=-1};d.xG.prototype.AZ=function(A,M,q,V){if(this.yA==null)return;
var F=this.yA.G.length-2;this.yA.G[F]=this._$.x;this.yA.G[F+1]=this._$.y;A.p.wx=this.yA;A._X=!0};d.xG.prototype.AY=function(A,M,q,V){var F=Date.now();
if(this.yA==null)this.yA={G:[this._$.x,this._$.y,this._$.x,this._$.y],qm:["M","L"]};else{this.AZ(A,M,q,V);
this.yA.qm.push("L");this.yA.G.push(this._$.x,this._$.y);A.p.wx=this.yA;if(F-this.uo<250||f.Hc(this._$,new f(this.yA.G[0],this.yA.G[1]))<4/A.w.Y){this.finish(A,M,q,V);
this.xo(A)}}this.uo=F;A.p.wx=this.yA};d.xG.prototype.xo=function(A){this.yA=null;this.wk=[];if(A!=null){A.p.wx=null;
A._X=!0}};d.xG.prototype.cv=function(A,M,q,V){if(this.yA==null)return;if(V.j(R.Pv)){this.yA.G.pop();
this.yA.G.pop();this.yA.qm.pop();this.AZ(A,q,V)}if(V.j(R.fe)){if(this.yA.G.length>4)this.finish(A,q,V);
this.yA=null}if(V.j(R.f_)){this.yA=null}A.p.wx=this.yA;A._X=!0};d.xG.prototype.getSelection=function(A,M,q,V){return this.Ai(this.yA)};
d.xv=function(){d.AV.call(this,[10,10],d.cj,"tools/mlasso");this._K="crosshair";this.wk=[];this.uv={uU:3};
this.C=[];this.ul=[];this.yh=[];this.uR=null;this.uH=null;this.ur=null;this.uW=0};d.xv.prototype=new d.AV;
d.xv.prototype.disable=function(A,M,q,V){this.clear(A)};d.xv.prototype.cW=function(A){return this.wk.indexOf(A)!=-1};
d.xv.prototype.AL=function(A,M,q,V){this.wk=[R.Pv];var F=this.xR(this._I,A);if(this.C.length!=0&&(f.Hc(F,this.C[0])<4*_.F()/A.w.Y||Date.now()-this.uW<300)){this.xU(A,this.C[0]);
this.finish(A,M,q);this.clear(A);return}this.uW=Date.now();if(this.C.length!=0)F=this.xT(F,A,this.uv.uU);
else{var H=A.n,w=A.J,C=Q.b(H*w),r=A.jv(),G=H*w*4;for(var J=0;J<G;J+=4)C[J>>>2]=Q.mi(Math.round(.3*r[J]+.6*r[J+1]+.1*r[J+2])*r[J+3]);
this.uR=Q.zS.EUh(C,H,w);this.ur=new Uint16Array(C.length)}this.xU(A,F);this.xH(A)};d.xv.prototype.xU=function(A,M){var q=this.C;
this.ul[q.length]=this.yh.length;if(q.length!=0){Q.zS.zL(this.uH,M.y*A.n+M.x);var V=this.xW(A,M);V.reverse();
var F=this.xh(A,V);this.yh=this.yh.concat(F)}q.push(M);this.xl(A)};d.xv.prototype.xl=function(A){var M=this.C[this.C.length-1],q=M.y*A.n+M.x;
this.uH=Q.zS.EEv(this.uR.Pf,this.uR.et,q);Q.set(this.ur,0)};d.xv.prototype.xR=function(A,M){return new f(Math.floor(Math.max(0,Math.min(M.n-1,A.x))),Math.floor(Math.max(0,Math.min(M.J-1,A.y))))};
d.xv.prototype.clear=function(A){this.yh=[];this.C=[];this.ul=[];this.uR=null;this.uH=null;this.ur=null;
if(A!=null){A.p.wx=null;A.p.wj=[];A._X=!0}this.wk=[]};d.xv.prototype.AZ=function(A,M,q,V){if(this.C.length==0)return;
var F=this.xT(this.xR(this._$,A),A,this.uv.uU),H=this.xW(A,F);for(var w=0;w<H.length;w++){var C=H[w],r=new f(C%A.n,Math.floor(C/A.n));
if(this.ur[C]>30&&f.Hc(r,this.C[this.C.length-1])>20){this.xU(A,r);return}this.ur[C]++}this.xH(A)};d.xv.prototype.xH=function(A){var M=this.xT(this.xR(this._$,A),A,this.uv.uU),q=this.xW(A,M);
q.reverse();var V=this.xh(A,q),F=this.yh.concat(V);A.p.wx=this.xr(F);A.p.wj=[];for(var H=0;H<this.C.length;
H++)A.p.wj.push(this.C[H].x+.5,this.C[H].y+.5);A._X=!0};d.xv.prototype.AY=function(A,M,q,V){};d.xv.prototype.cv=function(A,M,q,V){if(this.C.length==0)return;
if(V.j(R.Pv)){this.C.pop();this.yh=this.yh.slice(0,this.ul[this.C.length]);this.ul.pop();if(this.C.length==0)this.clear(A);
else this.xl(A);this.xH(A)}if(V.j(R.fe)){var F=this.xR(this._$,A);this.xU(A,F);this.finish(A,q,V);this.clear(A)}if(V.j(R.f_)){this.clear(A)}};
d.xv.prototype.xr=function(A){var M={G:A.slice(0),qm:["M"]};for(var q=2;q<A.length;q+=2)M.qm.push("L");
return M};d.xv.prototype.getSelection=function(A,M,q,V){var F=this.xr(this.yh);return this.Ai(F)};d.xv.prototype.xW=function(A,M){var q=this.C[this.C.length-1],V=q.y*A.n+q.x,F=M.y*A.n+M.x,H=[F];
while(F!=V){F=this.uH.ek[F];H.push(F);if(H.length>5e3){console.log(H);throw"e"}}return H};d.xv.prototype.xh=function(A,M){var q=[],V=A.n;
for(var F=0;F<M.length;F++){var H=M[F];q.push(H%V+.5,Math.floor(H/V)+.5)}return q};d.xv.prototype.xT=function(A,M,q){var V=M.n,F=M.J,H=A.clone();
Q.zS.zL(this.uH,A.y*V+A.x);var w=this.uH.l_[A.y*V+A.x];for(var C=-q+1;C<q;C++)for(var r=-q+1;r<q;r++){var G=A.x+r,J=A.y+C;
if(G<0||G>=V||J<0||J>=F)continue;Q.zS.zL(this.uH,J*V+G);if(this.uH.l_[J*V+G]<w)H.HT(G,J)}return H};d.xs=function(){d.AV.call(this,[10,15],d.cP,"tools/rselect");
this._K="crosshair"};d.xs.prototype=new d.AV;d.xs.prototype.AZ=function(A,M,q,V){if(!V._Q||!this._e)return;
var F=this.Ak(A.q==null?q:null).vt(new U(0,0,A.n,A.J)),H=F.x,w=F.y,C=F.x+F.n,r=F.y+F.J;A.p.wx={G:[H,w,C,w,C,r,H,r,H,w],qm:["M","L","L","L","L"]};
A._X=!0};d.xs.prototype.AY=function(A,M,q,V){A.p.wx=null;A._X=!0;this.finish(A,M,q,V)};d.xs.prototype.getSelection=function(A,M,q,V){if(this._I.mg(this._$)||!this._e)return null;
var F=this.Ak(A.q==null?q:null).vt(new U(0,0,A.n,A.J));if(F.zZ())return null;var H=Q.b(F.X());Q.set(H,255);
return{channel:H,rect:F}};d.xs.prototype.cm=function(A,M,q,V,F){var H=A.H,w,C;if(H=="setsel"){C=A.q;
w=new zv(A.KY,this)}if(H=="all"){C={channel:Q.b(q.n*q.J),rect:new U(0,0,q.n,q.J)};Q.set(C.channel,255);
w=new zv([7,0],this)}if(H=="polygon"){C=this.Ai(A.uG);w=new zv(A.KY,this)}if(H=="deselect"){if(q.q==null)return;
C=null;w=new zv([7,1],this)}if(H=="fromlayer"){var r=q.T[A.Q];if(A.uh==0){if(r.rect.zZ())return;var G=Q.b(r.buffer.length>>2);
Q.mH(r.buffer,G,3);C={channel:G,rect:r.rect.clone()}}else{var J=r.tl(),G,m;if(J.GD()==0){m=J.Ak();if(m.X()==0)return;
G=J.tx()}else{m=new U(0,0,q.n,q.J);G=Q.b(m.X());J.tf(m,G)}C={channel:G,rect:m}}if(A.uT&&q.q)C=Q.vx.vp(q.q,C,"union");
w=new zv("Selection from layer",this)}if(H=="inverse"){if(q.q==null){alert("No selection!");return}C={channel:Q.b(q.n*q.J),rect:new U(0,0,q.n,q.J)};
Q.mC(q.q.channel,q.q.rect,C.channel,C.rect);Q.mx(C.channel);w=new zv([7,2],this)}if(H=="expand"){var u=q.q.rect.clone();
u.hW(A.o,A.o);C={channel:Q.b(u.X()),rect:u};var W=Q.b(C.channel.length);Q.mC(q.q.channel,q.q.rect,W,C.rect);
Q.style.stroke(W,C.channel,C.rect,A.o);w=new zv([7,4],this)}if(H=="contract"){var y=q.q.rect.clone();
y.hW(1,1);var W=Q.b(y.X()),O=Q.b(W.length);Q.mC(q.q.channel,q.q.rect,W,y);Q.mx(W);Q.style.stroke(W,O,y,A.o);
Q.mx(O);C={channel:null,rect:q.q.rect.clone()};C.rect.hW(-A.o,-A.o);C.channel=Q.b(C.rect.X());Q.mC(O,y,C.channel,C.rect);
var w=new zv([7,5],this)}if(H=="feather"){var h=Math.ceil(2.6*A.o);C={channel:null,rect:q.q.rect.clone()};
C.rect.hW(h,h);C.channel=Q.b(C.rect.X());var W=Q.b(C.channel.length);Q.mC(q.q.channel,q.q.rect,W,C.rect);
Q.blur.Ji(W,C.channel,C.rect,A.o);var w=new zv([7,6],this)}if(H=="border"){C=d.xs.xc(q.q,A.o/2,A.o/2);
w=new zv([7,9],this)}if(C!=null&&Q.mY(C.channel,0)){C=null;w.name=[7,1]}if(C)Q.mX(C);w.data={H:"changesel",_U:q.q,_w:C};
q.jj(w);this.cl(w.data,q)};d.xs.xc=function(A,M,q){var V=Math.max(1,Math.ceil(q)),F=A.rect.clone();F.hW(V,V);
var H=F.X(),w={channel:Q.b(H),rect:F},C=Q.b(H);Q.mC(A.channel,A.rect,C,w.rect);if(q!=0)Q.style.stroke(C,w.channel,w.rect,q);
else Q.mc(C,w.channel);var r=Q.b(H);Q.mx(C);if(M!=0)Q.style.stroke(C,r,w.rect,M);else Q.mc(C,r);Q.vx.vt(w.channel,r,w.channel);
return w};d.xA=function(){d.cE.call(this,[10,36],d.ck,"tools/ruler");this.us=null;this.uc=null;this.uA=null};
d.xA.prototype=new d.cE;d.xA.prototype.cT=function(A){return A._Q};d.xA.prototype.disable=function(A,M,q,V){this.us=this.uc=this.uA=null;
if(A)this.gL(A)};d.xA.prototype.cJ=function(A,M,q,V,F){var H=A.w.Y/_.F(),w=A.w.jY(F.x,F.y);w.x=Math.round(w.x);
w.y=Math.round(w.y);if(this.us&&f.Hc(w,this.us)*H<6)this.uA=this.us;else if(this.uc&&f.Hc(w,this.uc)*H<6)this.uA=this.uc;
else{this.us=w.clone();this.uc=w.clone();this.uA=this.uc}};d.xA.prototype.cz=function(A,M,q,V,F){if(this.uA==null)return;
var H=A.w.jY(F.x,F.y);H.x=Math.round(H.x);H.y=Math.round(H.y);this.uA.HT(H.x,H.y);this.gL(A);this.AC(M,_.E.K,{H:_.u.km,v:this.id,us:this.us,uc:this.uc})};
d.xA.prototype.cG=function(A,M,q,V,F){this.uA=null};d.xA.prototype.AC=function(A,M,q){var V=new N(M,!0);
V.data=q;A.t(V)};d.xA.prototype.gL=function(A){if(this.us==null){A.p.wx=null;A.p.wj=[]}else{var M=[this.us.x,this.us.y,this.uc.x,this.uc.y];
A.p.wx={qm:["M","L"],G:M};A.p.wj=M}A._X=!0};d.xg=function(){d.AT.call(this,[10,19],d.cB,"tools/sharpen")};
d.xg.prototype=new d.AT;d.xg.prototype.cJ=function(A,M,q,V,F){this.Ag(A,q,V,F,this._n.strn,this._n.pdetail?Eo.VW:Eo.cB);
if(this._J==null)return;this.At(A,"copy");this.U(A)};d.xg.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;
this.Ax(A,M,q);if(!F._Q)return;this.Ap(A,q,V,F);this.At(A,"copy");this.U(A)};d.xx=function(){d.AT.call(this,[10,24],d.cb,"tools/shbrush");
this._n.opacity=.5};d.xx.prototype=new d.AT;d.xx.prototype.cJ=function(A,M,q,V,F){this.Ag(A,q,V,F,1);
if(this._J==null)return;this.At(A,"draw");this.U(A)};d.xx.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;
this.Ax(A,M,q);if(!F._Q)return;this.Ap(A,q,V,F);this.At(A,"draw");this.U(A)};d.xx.prototype.cG=function(A,M,q,V,F){if(this._J==null)return;
this.AM(A,"sheal2",this._J.VH(),this._J.Ak(),this._J.Ak(),null);this.U(A,this._J.Ak());d.AT.prototype.cG.call(this,A,M,q,V,F)};
d.xx.prototype.cH=function(A,M,q,V,F){if(A.wT&&A.wT.slice(0,4)=="heal"){if(q.q==null){alert("Select an area to heal first.");
return}if(!q.jH())return;this.AA(q);var H=q.q,w=Q.b(H.rect.X()*4);Q.mr(H.channel,w,3);this.AM(q,"s"+A.wT,w,H.rect,H.rect);
this.U(q,H.rect);this.finish(q,H.rect)}else d.AT.prototype.cH.call(this,A,M,q,V,F)};d.xp=function(){d.AT.call(this,[10,20],d.cN,"tools/smudge")};
d.xp.prototype=new d.AT;d.xp.prototype.cJ=function(A,M,q,V,F){this.Ag(A,q,V,F,this._n.strn,Eo.cN);if(this._J==null)return;
this.At(A,"copy");this.U(A)};d.xp.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;this.Ax(A,M,q);
if(!F._Q)return;this.Ap(A,q,V,F);this.At(A,"copy");this.U(A)};d.xf=function(){d.AT.call(this,[10,23],d.cw,"tools/sponge")};
d.xf.prototype=new d.AT;d.xf.prototype.cJ=function(A,M,q,V,F){this.Ag(A,q,V,F,this._n.flow);if(this._J==null)return;
this.At(A,"sponge");this.U(A)};d.xf.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;this.Ax(A,M,q);
if(!F._Q)return;this.Ap(A,q,V,F);this.At(A,"sponge");this.U(A)};d.xP=function(){d.cE.call(this,[10,17],d.AG,"tools/zoom");
this.mx=!1;this.Ke=!0;this.wM=null;this.ug=0;this.ux=null};d.xP.prototype=new d.cE;d.xP.prototype.enable=function(A,M,q,V){this.xV(M)};
d.xP.prototype.cJ=function(A,M,q,V,F){this.wM=new f(F.x,F.y);this.ug=A.w.Y;this.ux=A.w._V.clone()};d.xP.prototype.cz=function(A,M,q,V,F){if(this.wM==null)return;
var H=Math.round((F.x-this.wM.x)/16);if(H==0)return;var w=d.xP.xj(this.ug),C=d.xP.xD[Math.max(0,Math.min(d.xP.xD.length-1,w-H))];
A.w.Y=this.ug;A.w._V=this.ux.clone();this.cm({H:"zoom",Y:C,yQ:this.wM},M,A,V,q)};d.xP.prototype.cG=function(A,M,q,V,F){if(f.Hc(this.wM,F)<4){var H=this.Ke;
if(this.mx)H=!H;this.cm({H:"zoom",Ke:H,yQ:F},M,A,V,q)}this.wM=null};d.xP.xD=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
d.xP.xt=function(A,M,q,V){var F=1;while(A*F*1/2>q||M*F*1/2>V)F*=1/2;if(A*F*2/3>q||M*F*2/3>V)F*=1/2;else if(A*F>q||M*F>V)F*=2/3;
return F};d.xP.xM=function(A,M){var q=d.xP.xj(A);if(M&&q==0)return A;if(!M&&q==d.xP.xD.length-1)return A;
return d.xP.xD[M?q-1:q+1]};d.xP.xj=function(A){var M=0;while(d.xP.xD[M]>A)M++;return M};d.xP.xa=function(A,M,q,V){var F=A.wb;
if(V==0||V==null){V=d.xP.xM(A.Y,q);if(V==A.Y)return}var H=A.jY(M.x,M.y);if(F.n*V<=A.B.n&&F.J*V<=A.B.J)A._V.HT(0,0);
else{A._V.x=Math.round(F.n*V/2-H.x*V+(M.x-A.B.n/2));A._V.y=Math.round(F.J*V/2-H.y*V+(M.y-A.B.J/2))}A.Y=V};
d.xP.prototype.cm=function(A,M,q,V,F){var H=0,w=!1,C=null;if(A.H=="adapt"){var r=0;if(A.o=="pixel")r=1;
if(A.o=="fitscr"){var r=0,G=q.w.B.n,J=q.w.B.J;if(q.n<=G&&q.J<=J){var m=1;while(q.n*(m+1)<=G&&q.J*(m+1)<=J)m++;
r=m}else{r=d.xP.xt(q.n,q.J,G,J)}}C=new f(Math.round(q.w.B.n/2),Math.round(q.w.B.J/2));H=r}if(A.H=="scroll"){C=A.yQ;
w=A.wC.y<0}if(A.H=="zoom"){C=A.yQ?A.yQ:new f(Math.round(q.w.B.n/2),Math.round(q.w.B.J/2));if(A.Y!=null)H=A.Y;
else w=A.Ke}if(C==null)return;d.xP.xa(q.w,C,w,H);q.wS=!0};d.xP.prototype.cv=function(A,M,q,V){if(this.mx!=V.j(R.fQ)){this.mx=V.j(R.fQ);
var F={H:_.u.km,v:this.id,mx:this.mx},H=new N(_.E.K,!0);H.data=F;M.t(H);this.xV(M)}};d.xP.prototype.xV=function(A){var M=new N(_.E.K,!0),q=this.Ke;
if(this.mx)q=!q;M.data={H:_.u.SL,QX:q?"zoom-in":"zoom-out"};A.t(M)};d.xP.prototype.cH=function(A,M,q,V){if(A.action){var F={H:"adapt",o:A.action};
this.cm(F,M,q,V,null)}else{this.Ke=A.Ke;this.xV(M)}};d.xC=function(A,M,q){d.cE.call(this,A,M,q);this.up=null;
this.yP=null};d.xC.prototype=new d.cE;d.xC.prototype.cU=function(A,M,q,V){var F=A.T[A.k[0]],H=F.add.vmsk,w=F.add.vstk;
this.up=A;this.yP=M;if(F.DV()&&H!=null){var C={uf:d.xC.xb(A,A.k[0]),az:w},r=new N(_.E.K,!0);r.data={H:_.u.kJ,KI:EW.fs,uP:C};
M.t(r)}};d.xC.prototype.cr=function(A,M){if(this.up==null)return;if(M==EW.fo||M==EW.fs){var q=this.up,V=q.k[0],F=d.xC.xb(q,V);
if(F==null||q.T[V].add.vmsk==null)return;var H=A.uP,w=H.uf.Np,C=new N(_.E.V,!0);C.v=d.AH;if(w!=F.Np)C.data={H:S.MV,wF:V,uD:F,ut:H.uf};
else if(JSON.stringify(H.uf)!=JSON.stringify(F)){C.data={H:S.Ma,wF:V,CB:["SoCo","GdFl","PtFl"][w-1],o:H.uf.uM}}else if(JSON.stringify(H.az)!=JSON.stringify(q.T[V].add.vstk))C.data={H:S.MS,wF:V,o:H.az};
if(C.data!=null)this.yP.t(C)}};d.xC.prototype.cm=function(A,M,q,V,F){var H=q.T[q.k[0]],w=H.add.vmsk,C=w.clone(),r=w.clone();
if(A.H=="remove"){if(r.k.length==0)return;r.C=Q.m.EoZ(r.C,r.k);r.k=[];r.uj=[]}if(A.H=="append"){var G=Q.m.U_(r.C),J=Q.m.U_(A.ua);
r.C=r.C.concat(A.ua.slice(2));r.k=[];for(var m=0;m<J;m++)r.k.push(G+m)}this.xk(q,H,r);this.xS(q,A.KY,q.k[0],C,r.clone())};
d.xC.prototype.cW=function(A){return[R.Pv].indexOf(A)!=-1};d.xC.prototype.cv=function(A,M,q,V){if(A==null)return;
var F=A.T[A.k[0]],H=F.add.vmsk;if(H==null)return;if(V.j(R.f_)||V.j(R.fe)){H.uj=[];A._X=!0}if(H.k.length!=0){var w=V.fL();
if(w.x!=0||w.y!=0){var C=H.clone(),r=H.clone(),G=new zo(1,0,0,1,w.x,w.y);Q.m.Ut(r.C,G,r.k);this.xk(A,F,r);
this.xS(A,"Move Paths",A.k[0],C,r.clone(),!0)}if(V.j(R.Pv))this.cm({H:"remove",KY:"Delete Paths"},M,A,V,q)}};
d.xC.prototype.xS=function(A,M,q,V,F,H){var w=new zv(M,this);w.data={uV:q,uC:V,Zd:F,uS:H};A.jj(w)};d.xC.prototype.cl=function(A,M){this.xk(M,M.T[A.uV],A.Zd.clone())};
d.xC.prototype.cR=function(A,M){this.xk(M,M.T[A.uV],A.uC.clone())};d.xC.prototype.xk=function(A,M,q){M.add.vmsk=q;
q.NK=!0;M.DY(A);A.U()};d.xC.xb=function(A,M){var q=A.T[M],V=q.add.vstk,F=null;if(V&&!V.fillEnabled.v)F={Np:0};
else if(q.add.SoCo)F={Np:1,uM:q.add.SoCo};else if(q.add.GdFl)F={Np:2,uM:q.add.GdFl};else if(q.add.PtFl)F={Np:3,uM:q.add.PtFl};
return F};d.xC.xL=function(A,M){var q=A.add.vmsk,V=A.add.vstk,F=M.Np;V.fillEnabled.v=F!=0;if(F>0){var H=["SoCo","GdFl","PtFl"][F-1];
for(var w=0;w<3;w++)if(w!=F-1)delete A.add[["SoCo","GdFl","PtFl"][w]];if(A.add[H]==null)A.add[H]=M.uM}};
d.xZ=function(A,M,q,V){d.xC.call(this,A,M,q);this._n={tmode:1,shape:null,pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5};
this.uk=V;this.ub=null;this.uL=null;this.uZ=null};d.xZ.prototype=new d.xC;d.xZ.prototype.cT=function(A){return A._Q&&this.id!=d.cu};
d.xZ.prototype.enable=function(A,M,q,V,F){var H=new N(_.E.K,!0);H.data={H:_.u.SL,QX:"crosshair"};M.t(H)};
d.xZ.prototype.xY=function(A,M,q,V){};d.xZ.prototype.cJ=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);H=d.gS.gu(A,H,q);
var w=this._n.tmode,C=A.T[A.k[0]],r=C.add.vmsk;if(w==0&&r==null){alert("Paths can be added to existing shapes only.");
return}if(w==2&&!A.jH())return;if(w==1){var G=new N(_.E.V,!0);G.v=d.AH;G.data={H:S.MC,K$:1};M.t(G);C=A.T[A.k[0]];
r=C.add.vmsk}this.uZ=[H.x,H.y];this.ub=H;this.uL=new f(0,0)};d.xZ.prototype.xi=function(A,M){var q=[this.ub.clone(),A.clone()];
q[0].x=Math.floor(q[0].x);q[0].y=Math.floor(q[0].y);q[1].x=Math.ceil(q[1].x);q[1].y=Math.ceil(q[1].y);
if(this.uk)q=d.xZ.xI(q[0],q[1],M,!1,this._n.cstr);return this.xY(q[0],q[1],M.j(R.fq),this.uZ)};d.xZ.prototype.cz=function(A,M,q,V,F){if(this.ub==null)return;
var H=A.w.jY(F.x,F.y);H=d.gS.gu(A,H,q);if(V.j(R.fw))this.ub=H.Hs(this.uL);else this.uL=H.Hs(this.ub);
this.uZ.push(H.x,H.y);if(this._n.shape==null)this._n.shape=q.uY[0];var w=this.xi(H,V),C=Q.O.oM(w);A.p.wx=C;
A._X=!0};d.xZ.prototype.cG=function(A,M,q,V,F){if(this.ub==null)return;var H=A.w.jY(F.x,F.y);H=d.gS.gu(A,H,q);
var w=this._n.binop,C=this._n.tmode;if(this.uZ.length!=2){var r=this.xi(H,V);if(C==0)r[2].qz=[1,2,3,0][w];
if(C!=2){var G=A.T[A.k[0]],J=G.add.vmsk,m=J.clone(),u=J.clone();u.C=u.C.concat(r.slice(2));u.k=[Q.m.U_(u.C)-1];
this.xk(A,G,u);if(C==0)this.xS(A,this.name,A.k[0],m,u)}else{var u=new S.tP;u.C=u.C.concat(r.slice(2));
var W=u.tl(),y=Q.b(W.rect.X()*4);Q.mh(y,(q._c&255)<<16|(q._c>>8&255)<<8|(q._c>>16&255)<<0);Q.mr(W.channel,y,3);
var O=new N(_.E.V,!0);O.v=d.cY;O.data={H:"draw",EHG:y,EHJ:W.rect,KY:this.name};M.t(O)}}this.ub=null;
A.p.wx=null;A._X=!0};d.xZ.prototype.cH=function(A,M,q,V,F){for(var q in A)this._n[q]=A[q]};d.xZ.xI=function(A,M,q,V,F){var H=A.x,w=A.y,C=M.x,r=M.y;
if(F&&F.l$==2){H=C-F.x;w=r-F.y}else{var G=0;if(F&&F.l$==1)G=F.x/F.y;else if(q&&q.j(R.fq))G=1;if(G!=0){var J=Math.abs(C-H);
C=C>H?H+J:H-J;r=r>w?w+J*G:w-J*G}if(q&&q.j(R.fQ)){H-=C-H;w-=r-w}}if(V){if(H>C){var m=H;H=C;C=m}if(w>r){var m=w;
w=r;r=m}H=Math.floor(H);w=Math.floor(w);C=Math.ceil(C);r=Math.ceil(r)}return[new f(H,w),new f(C,r)]};
d.x$=function(){d.xC.call(this,[10,29],d.cy,"tools/pen");this.ui=null;this.uI=1};d.x$.prototype=new d.xC;
d.x$.prototype.cT=function(A){return this.ui!=null};d.x$.prototype.cJ=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);
H.x=Math.round(H.x);H.y=Math.round(H.y);var w=d.gS.gu(A,H,q),C=A.T[A.k[0]],r=C.add.vmsk;if(this.uI==0&&r==null){alert("Paths can be added to existing shapes only.");
return}if(this.uI==1&&(r==null||r.uj.length==0)){var G=new N(_.E.V,!0);G.v=d.AH;G.data={H:S.MC,K$:1};
M.t(G);C=A.T[A.k[0]];r=C.add.vmsk}this.ui=r.clone();var J=r.C,m=Q.m.U_(J),u=4*_.F()/A.w.Y,W=Q.m.Jm(r.C,H,!0,u),y=Q.m.Ue(r.C,new U(H.x-u,H.y-u,u*2,u*2));
if(W.eE!=-1&&y[0].length==0){var O=Q.m.Uw(J,W.eE);J[O].length++;J.splice(O+2+W.qk,0,{type:4,qo:w.clone(),s:w.clone(),qU:w.clone()});
r.uj=[O+2+W.qk]}else{var h=0;if(r.uj.length!=1){r.k=[m];J.push({type:3,length:1,qz:1,qG:0,qb:0,qL:0});
h=J.length}else{var I=r.uj[0],Z=Q.m.EEy(J,I),O=Q.m.Uw(J,Z);if(I==O+J[O].length&&f.Hc(H,J[O+1].s)<u){J[O].type=0;
r.uj=[];this.xk(A,C,r);A._X=!0;this.xS(A,"Close the Path",A.k[0],this.ui,r.clone());this.ui=null;return}J[O].length++;
h=I+1}J.splice(h,0,{type:4,qo:w.clone(),s:w.clone(),qU:w.clone()});r.uj=[h]}this.xk(A,C,r);A._X=!0};
d.x$.prototype.cz=function(A,M,q,V,F){if(this.ui==null)return;var H=A.w.jY(F.x,F.y),w=d.gS.gu(A,H,q),C=A.T[A.k[0]],r=C.add.vmsk,G=r.C,J=G[r.uj[0]];
J.qU=w;J.qo=J.s.add(J.s.Hs(J.qU));this.xk(A,C,r);A._X=!0};d.x$.prototype.cG=function(A,M,q,V,F){if(this.ui==null)return;
var H=A.T[A.k[0]],w=H.add.vmsk;this.xS(A,"Add Anchor Point",A.k[0],this.ui,w.clone());this.ui=null};
d.x$.prototype.cH=function(A,M,q,V,F){this.uI=A.tmode};d.xK=function(){d.xZ.call(this,[10,30],d.cu,"tools/fpen",!1)};
d.xK.prototype=new d.xZ;d.xK.prototype.xY=function(A,M,q,V){return Q.m.EEQ(V,this._n.tolr)};d.xe=function(){d.xC.call(this,[10,27],d.cO,"tools/pselect");
this.u$=null;this.uK=!1;this.ui=null;this.yt=null};d.xe.prototype=new d.xC;d.xe.prototype.cT=function(A){return A._Q};
d.xe.prototype.cJ=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y),w=A.root.MY(H);if(w!=null){var C=w.ue.Q,r=A.T.indexOf(C),G=C.add.vmsk;
G.uj=[];var J=G.k.indexOf(w.uq);C.uB=!0;if(r!=A.k[0]){A.k=[r];A.jZ();A.yJ=!0}else if(V.j(R.fq)){if(J==-1){G.k.push(w.uq);
this.uK=!0}else G.k.splice(J,1)}else{if(J==-1)G.k=[w.uq];this.uK=!0}this.yt=Q.m.Uk(G.C,G.k)}this.u$=H;
A.uN=!0;A._X=!0};d.xe.prototype.cz=function(A,M,q,V,F){if(this.u$==null)return;var H=A.w.jY(F.x,F.y);
if(this.uK){var w=A.T[A.k[0]];if(this.ui==null)this.ui=w.add.vmsk.clone();var C=this.yt.clone(),r=C.x,G=C.y;
C.offset(H.x-this.u$.x,H.y-this.u$.y);C.x=Math.round(C.x);C.y=Math.round(C.y);var J=d.gS.gd(A,C,q),m=this.ui.clone(),u=new zo(1,0,0,1,C.x-r+J[0],C.y-G+J[1]);
Q.m.Ut(m.C,u,m.k);this.xk(A,w,m);d.gS.gy(A,C,J)}else{var W=this.u$;A.p.wx=Q.O.oL(new U(W.x,W.y,H.x-W.x,H.y-W.y));
A._X=!0}};d.xe.prototype.cG=function(A,M,q,V,F){if(this.u$==null)return;var H=A.w.jY(F.x,F.y),w=A.T[A.k[0]],C=w.add.vmsk;
if(this.uK){if(!this.u$.mg(H))this.xS(A,"Drag Paths",A.k[0],this.ui,C);if(A!=null&&A.p._O){A.p._O=null;
A._X=!0}}else{if(C){var r=this.u$,G=new U(r.x,r.y,H.x-r.x,H.y-r.y),J=Q.m.ERL(C.C,G);if(V.j(R.fq)){for(var m=0;
m<J.length;m++)if(C.k.indexOf(J[m])==-1)C.k.push(J[m])}else C.k=J}A.p.wx=null;A._X=!0}this.u$=null;this.ui=null;
this.uK=!1};d.xe.prototype.cU=function(A,M,q,V){d.xC.prototype.cU.call(this,A,M,q,V);var F=A.T[A.k[0]],H=F.add.vmsk,w=F.add.vstk,C=new N(_.E.K,!0);
C.data={H:_.u.km,v:this.id,wT:"main",uQ:H?H:null};M.t(C)};d.xe.prototype.cH=function(A,M,q,V,F){var H=A.u_,w=q.k[0],C=new N(_.E.V,!0);
C.v=d.AH;if(H.uQ){var r=q.T[w],G=r.add.vmsk.clone();this.xk(q,r,H.uQ);this.xS(q,G.k[0]==H.uQ.k[0]?"Fill Rule":"Path Order",w,G,H.uQ)}};
d.xq=function(){d.xC.call(this,[10,28],d.cF,"tools/dselect");this.uw=-1;this.uy=-1;this.u$=null;this.ui=null;
this.uW=0};d.xq.prototype=new d.xC;d.xq.prototype.cT=function(A){return A._Q};d.xq.prototype.cJ=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y),w=A.T[A.k[0]],C=w.add.vmsk;
if(C==null)return;var r=4*_.F()/A.w.Y,G=Q.m.Ue(C.C,new U(H.x-r,H.y-r,r*2,r*2));if(G[0].length!=0){var J=this.uw=G[0][0];
this.uy=0;var m=C.uj.indexOf(J);this.u$=C.C[J].s.clone();if(V.j(R.fq)){if(m==-1)C.uj.push(J);else C.uj.splice(m,1)}else if(m==-1)C.uj=[J]}else if(G[1].length!=0){this.uw=G[1][0];
this.uy=1;this.u$=H}else if(G[2].length!=0){this.uw=G[2][0];this.uy=2;this.u$=H}else{var u=Q.m.Jm(C.C,H,!0,r);
if(u.eE==-1)this.u$=H;else{C.k=[u.eE];C.uj=[]}}if(this.ui==null)this.ui=w.add.vmsk.clone();A._X=!0};
d.xq.prototype.cz=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);H.x=Math.round(H.x);H.y=Math.round(H.y);
H=d.gS.gu(A,H,q);var w=A.T[A.k[0]],C=w.add.vmsk;if(this.uw!=-1){var w=A.T[A.k[0]],C=this.ui.clone(),r=new zo(1,0,0,1,H.x-this.u$.x,H.y-this.u$.y);
if(this.uy==0)Q.m.Ut(C.C,r,null,C.uj);else{var G=C.C[this.uw],J=G.qo,m=G.qU;if(this.uy==2){J=G.qU;m=G.qo}J.HT(H.x,H.y);
if(G.type==1||G.type==4){var u=f.Hc(J,G.s),W=f.Hc(m,G.s);if(W!=0){m.x=G.s.x-(J.x-G.s.x)*(W/u);m.y=G.s.y-(J.y-G.s.y)*(W/u)}}}this.xk(A,w,C)}else if(this.u$!=null){var y=this.u$;
A.p.wx=Q.O.oL(new U(y.x,y.y,H.x-y.x,H.y-y.y));A._X=!0}};d.xq.prototype.cG=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y),w=A.T[A.k[0]],C=w.add.vmsk;
if(this.uw!=-1){if(Date.now()-this.uW<300){var r=C.C[this.uw],G=this.uy,J=null;if(G==0){var m=r.qo.mg(r.s),u=r.qU.mg(r.s);
if(!m&&!u){J="Anchor Type";if(r.type==1||r.type==4)r.type++;else{r.type--;r.qU=r.s.add(r.s.Hs(r.qo))}}else{J="Add Handles";
if(m&&u){r.qo.x-=30;r.qU.x+=30}else if(m)r.qo=r.s.add(r.s.Hs(r.qU));else if(u)r.qU=r.s.add(r.s.Hs(r.qo))}}else{J="Remove Handle";
if(G==1)r.qo.Hh(r.s);else r.qU.Hh(r.s)}this.xk(A,w,C);this.xS(A,J,A.k[0],this.ui,C)}else if(!this.u$.mg(H)){this.xS(A,"Drag Anchors",A.k[0],this.ui,C)}this.uW=Date.now()}else if(this.u$!=null){var W=this.u$,y=new U(W.x,W.y,H.x-W.x,H.y-W.y);
if(y.n<0)y.x+=y.n;if(y.J<0)y.y+=y.J;y.n=Math.abs(y.n);y.J=Math.abs(y.J);var O=Q.m.Ue(C.C,y);C.uj=O[0];
A.p.wx=null}this.ui=null;this.u$=null;this.uw=this.uy=-1;A._X=!0};d.xq.prototype.cW=function(A){return[R.Pv].indexOf(A)!=-1};
d.xq.prototype.cv=function(A,M,q,V){if(A==null)return;var F=A.T[A.k[0]],H=F.add.vmsk;if(H==null||H.uj.length==0)return;
var w=V.fL();if(w.x!=0||w.y!=0){var C=H.clone(),r=H.clone(),G=new zo(1,0,0,1,w.x,w.y);Q.m.Ut(r.C,G,null,r.uj);
this.xk(A,F,r);this.xS(A,"Move Anchors",A.k[0],C,r.clone(),!0)}if(V.j(R.Pv)){var C=H.clone(),r=H.clone();
r.C=Q.m.EoY(r.C,r.uj);r.uj=[];this.xk(A,F,r);this.xS(A,"Delete Anchors",A.k[0],C,r.clone(),!0)}};d.xq.prototype.xS=function(A,M,q,V,F,H){var w=A.history[A.y_];
if(H&&w!=null&&w.v==this&&w.data.uS&&w.data.uV==q&&JSON.stringify(w.data.uC.uj)==JSON.stringify(V.uj)){w.data.Zd=F}else{var w=new zv(M,this);
w.data={uV:q,uC:V,Zd:F,uS:H};A.jj(w)}};d.Rect=function(){d.xZ.call(this,[10,32],d.cX,"tools/rect",!0)};
d.Rect.prototype=new d.xZ;d.Rect.prototype.xY=function(A,M,q){var V=this._n.crad,F=M.x-A.x,H=M.y-A.y;
return Q.m.lU.Rect(A.x,A.y,F,H,V)};d.lh=function(){d.xZ.call(this,[10,33],d.An,"tools/ellipse",!0)};
d.lh.prototype=new d.xZ;d.lh.prototype.xY=function(A,M,q){var V=M.x-A.x,F=M.y-A.y;return Q.m.lU.lh(A.x,A.y,V,F)};
d.xB=function(){d.xZ.call(this,[10,34],d.AE,"tools/pshape",!1)};d.xB.prototype=new d.xZ;d.xB.prototype.xY=function(A,M,q){var V=this._n.pshape,F=this._n.crad,H=this._n.irad/100,w=this._n.sides,C=this._n.length;
M=M.clone();if(q){if(Math.abs(M.x-A.x)<Math.abs(M.y-A.y))M.x=A.x;else M.y=A.y}var r=A.x,G=A.y,J=M.x,m=M.y,u=Math.sqrt((J-r)*(J-r)+(m-G)*(m-G)),W=Math.atan2(-m+G,J-r);
if(V==0)return Q.m.lU.EEB(r,G,u,W,w,F);if(V==1)return Q.m.lU.EEq(r,G,u,W,w,F,H);return Q.m.lU.EEN(r,G,u,W,C)};
d.lW=function(){d.xZ.call(this,[10,35],d.Am,"tools/line",!1)};d.lW.prototype=new d.xZ;d.lW.prototype.xY=function(A,M,q){var V=this._n.width;
M=M.clone();if(q){if(Math.abs(M.x-A.x)<Math.abs(M.y-A.y))M.x=A.x;else M.y=A.y}return Q.m.lU.lW(A.x,A.y,M.x,M.y,V)};
d.xN=function(){d.xZ.call(this,[10,31],d.AJ,"tools/cshape",!0)};d.xN.prototype=new d.xZ;d.xN.prototype.xY=function(A,M,q){var V=this._n.shape,F=V.Qn.n/V.Qn.J,H=S.tP.tD(V.C),w=M.x-A.x,C=M.y-A.y;
Q.m.Ut(H,new zo(w,0,0,C,A.x,A.y));return H};d.f=function(A,M,q){d.cE.call(this,A,M,q);this.uu=0;this.T=null;
this.ud=null;this.wL=null;this.wR=1;this.uO=!1;this.cursor=null;this.yw=null;this._U=null;this.yy=!1;
this.wW=null;this.uF=0;this.uX=0;this._y=null;this.wG=null;this.dn=null;this.dE=null;this.dm=null};d.f.prototype=new d.cE;
d.f.prototype.cT=function(A){return this.wG&&this.wG.pl()};d.f.prototype.cm=function(A,M,q,V,F){this.wL=F;
if(A.H=="doMouseDown"){if(this.wG==null)return;this.cJ(q,M,F,V,A.yQ);return}if(!this.cc(q,F))return;
this.T=q.jV(A.Q==null,A.Q);this.xy(q);var H=this._y,w=A.wH!=null?A.wH:4,C=this.wG.pr()[w],r=C.x,G=C.y;
if(A.H=="rot"&&A.o!=Math.PI&&(H.n+H.J&1)==1){r=Math.floor(r);G=Math.floor(G)}var J=new zo;J.translate(-r,-G);
if(A.H=="rot")J.rotate(A.o);if(A.H=="scl")J.scale(A.o.x,A.o.y);J.translate(r,G);var m=this.wG.pR();Q.O.oC(m,J,m);
this.wG.pH(m);this.gt(q,M,A.KY,!1)};d.f.prototype.cs=function(){return!0};d.f.prototype.cc=function(A,M){if(A==null)return!1;
if(this.id==d.Av)return A.q!=null;var q=A.jV(!0);for(var V=0;V<q.length;V++){var F=A.T[q[V]];if(F.add.artb){alert("You can not ransform the whole artboard");
return!1}if(F.add.TySh)if(!Ev.Vc(F.add.TySh,M.ec))return!1;if(F.add.SoLd){if(q.length==1&&(F.tl()&&F.tl().NH||F.add.vmsk&&F.add.vmsk.NH)){alert("Unlink masks before transforming Smart Object");
return!1}if(!A.Eml(F.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+A.jx(F.add.SoLd.Idnt.v).Nx+")");
return!1}}}if(A.q==null)return!0;if(!A.jH())return!1;return A.jT()};d.f.prototype.cJ=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);
if(this.uX==1){var w=Q.GG.mx(Q.GG.Gv(this.wG.pR(),this._y));H=Q.GG.Gr(w,H)}var C=this.uX==0?this.wG:this.dn;
this.uO=C.cJ(A,q,V,H);if(this.uO&&C.pc(H)){if(Date.now()-this.uF<250)this.gt(A,M,null,!0);this.uF=Date.now()}};
d.f.prototype.Ac=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.SL,QX:this.cursor};A.t(M)};d.f.prototype.cz=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);
if(this.uX==1){var w=Q.GG.mx(Q.GG.Gv(this.wG.pR(),this._y));H=Q.GG.Gr(w,H)}var C=this.uX==0?this.wG:this.dn;
if(!F._Q){var r="default";if(C&&C.pT(H,A.w.Y))r=C.pT(H,A.w.Y);if(r!=this.cursor){this.cursor=r;this.Ac(M)}}if(!this.uO)return;
C.cz(A,q,V,H);this.pz(A,q,!0);this.x_(A);this.xw(M)};d.f.prototype.cG=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);
this.wG.cG(A,q,V,H);this.uO=!1};d.f.prototype.cv=function(A,M,q,V){if(V.j(R.fe))this.gt(A,M,null,!0);
else if(V.j(R.f_))this.gM(A,M);else{var F=this.wG.cv(A,q,V);if(F)this.pz(A,q,!0)}};d.f.prototype.cH=function(A,M,q,V){if(A.wT=="commit")this.gt(q,M,null,!0);
else if(A.wT=="cancel")this.gM(q,M);else if(A.wT=="switchWarp"){this.uX=1-this.uX;this.pJ();this.x_(q);
this.xw(M)}else if(A.wT=="wrp"){this.dn.pD(A.dJ);this.x_(q);this.pz(q,this.wL,!0)}else if(A.wT=="trn"){var F=Q.GG.GR(A.dz.GO),H=this._y,w=Q.GG.Gv(this.wG.pR(),this._y);
F[6]=w[6],F[7]=w[7];var C=[H.x,H.y,H.x+H.n,H.y,H.x+H.n,H.y+H.J,H.x,H.y+H.J];Q.GG.apply(F,C);this.wR=A.wR;
this.wG.pH(C);this.wG.ph(A.dz.dG);this.x_(q);this.pz(q,this.wL,!0)}};d.f.prototype.x_=function(A){if(this.uX==0)this.wG.pf(A);
else{this.dn.pf(A);var M=Q.GG.Gv(this.wG.pR(),this._y);Q.GG.apply(M,A.p.wx.G);Q.GG.apply(M,A.p.wj)}};
d.f.prototype.gt=function(A,M,q,V){this.pz(A,this.wL,this.wR==0);var F=new zv(q?q:this.name,this);if(this.uu==0)F.data={type:this.uu,T:this.T,wW:this.ud,wh:d.f.xu(A,this.T)};
else if(this.uu==1){var H=A.T[this.T[0]],w;if(H._a.z<=0){w=Q.b(H._a.qC.X());Q.mH(H._a._j,w,3)}else w=A.q.channel;
var C={rect:H._a.qC.clone(),channel:w};F.data={type:this.uu,Q:this.T[0],_U:this._U,_w:C,yw:this.yw,yy:this.yy,_a:H._a,wW:this.wW,wh:{qa:H._a.qC,yl:H._a._j}}}else if(this.uu==2){F.data={type:this.uu,_U:this._U,_w:{rect:A.q.rect.clone(),channel:Q.clone(A.q.channel)}}}A.jj(F);
this.escape(A,M,V)};d.f.prototype.gM=function(A,M){if(this.uu==0)d.f.xd(A,this.T,this.ud);else if(this.uu==1){var q=A.T[this.T[0]];
A.q=this._U;if(!this.yy){q._a.qC=this.wW.qa;q._a._j=this.wW.yl;q.DQ(A,0,0,A.q)}else{q.DB(A,this.yw)}A.U();
A._Z=!0}else if(this.uu==2){A.q=this._U;A._Z=!0}this.escape(A,M,!0)};d.f.prototype.escape=function(A,M,q){this.wG.clear(A);
this.wG=null;this.dn=null;this.uX=0;if(q)this.AC(M,_.E.K,{H:_.u.kn})};d.f.prototype.cl=function(A,M){if(A.type==0)d.f.xd(M,A.T,A.wh);
else{if(A.type==1){var q=M.T[A.Q];if(A.yy){q._a=A._a}else{q._a.qC=A.wh.qa;q._a._j=A.wh.yl}q.DQ(M,0,0,M.q);
M.U()}M.q={rect:A._w.rect.clone(),channel:Q.clone(A._w.channel)};M._Z=!0}};d.f.prototype.cR=function(A,M){if(A.type==0)d.f.xd(M,A.T,A.wW);
else{if(A.type==1){var q=M.T[A.Q];if(A.yy){q.DB(M,A.yw)}else{q._a.qC=A.wW.qa;q._a._j=A.wW.yl;q.DQ(M,0,0,M.q)}M.U()}M.q=A._U;
M._Z=!0}};d.f.prototype.enable=function(A,M,q,V){this.Ac(M);if(this.wG)return;this.T=A.jV(!0);this.wL=q;
this.xy(A);this.xw(M);this.x_(A)};d.f.prototype.xw=function(A){var M={H:_.u.km,v:this.id};if(this.uX==0){var q=Q.GG.Gv(this.wG.pR(),this._y),V=Q.GG.Gl(q);
M.dz={GO:V,dG:this.wG.pW()}}else{M.dJ=this.dn.pP()}M.dv=this.dn!=null;this.AC(A,_.E.K,M)};d.f.prototype.xy=function(A){var M=this.id==d.Av,q=!0,V=A.T[this.T[0]],H=!1,w=null;
if(M){this.uu=2;this._U=A.q}else if(A.q&&this.T.length==1&&!V.rect.zZ()){this.uu=1;this._U=A.q;this.yw=V._a;
this.yy=!1;if(!V.DN(A,A.q)){this.yy=!0;V.DK(A,A.q,!1)}this.wW={yl:V._a._j,qa:V._a.qC}}else{this.uu=0;
this.ud=d.f.xu(A,this.T);for(var F=0;F<this.ud.length;F++)if(this.ud[F][3]!=null)q=!1}if(this.ud&&this.ud.length==1){var C=this.ud[0];
if(C[3]==null)H=!0;if(C[4]!=null)w=A.T[this.T[0]].add.SoLd}var r=M?A.q.rect.clone():d.f.Ak(A,this.T);
this._y=r;if(!M&&w){var G=d.f.pE(w.nonAffineTransform);this._y=Q.O.GB(Q.ls.lx(w.warp.v));this.dn=new Eh(w.warp.v);
this.dE=Q.GG.Gv(G,this._y);this.wG=new zh(G,!0,!0,q)}else{if(H||M)this.dn=new Eh(Q.ls.b(this._y));this.dE=[1,0,0,0,1,0,0,0];
this.wG=new zh([r.x,r.y,r.x+r.n,r.y,r.x+r.n,r.y+r.J,r.x,r.y+r.J],!0,!0,q)}this.dm=[1,0,0,0,1,0,0,0]};
d.f.Ak=function(A,M){if(M==null)M=A.jV(!0);var q=new U;if(A.q&&M.length==1)q=A.q.rect.clone();else for(var V=0;
V<M.length;V++)q=q.vP(A.T[M[V]].tG(A,M.length==1));return q};d.f.prototype.AC=function(A,M,q,V){var F=new N(M,!0);
F.data=q;if(V)F.v=V;A.t(F)};d.f.xu=function(A,M,q){var V=[];for(var F=0;F<M.length;F++){var H=A.T[M[F]],w=H.tU(A,q),C=[];
if(w.indexOf(0)!=-1){var r={ej:Q.clone(H.buffer),qa:H.rect.clone()};C.push(r);if(H.tJ()){var G=H.tR(A);
r.dU=Q.clone(G.buffer);r.dl=G.rect.clone()}}else C.push(null);if(w.indexOf(1)!=-1)C.push(H.tl().clone());
else C.push(null);if(w.indexOf(2)!=-1)C.push({uQ:H.add.vmsk.clone(),az:H.add.vstk?JSON.parse(JSON.stringify(H.add.vstk)):null});
else C.push(null);if(H.add.TySh&&C[0])C.push(H.add.TySh.oC.clone());else C.push(null);if(H.add.SoLd&&C[0])C.push(JSON.parse(JSON.stringify(H.add.SoLd)));
else C.push(null);if(w.indexOf(3)!=-1)C.push(H.tR(A).a.clone());else C.push(null);V.push(C)}return V};
d.f.xd=function(A,M,q){for(var V=0;V<M.length;V++){var F=A.T[M[V]],H=q[V];if(H[0]){F.rect=H[0].qa.clone();
F.buffer=Q.clone(H[0].ej);if(F.tJ()){var w=F.tR(A);w.buffer=Q.clone(H[0].dU);w.rect=H[0].dl.clone()}}if(H[1]){F.tl().channel=Q.clone(H[1].channel);
F.tl().rect=H[1].rect.clone();F.tl().NK=!0}if(H[2]){F.add.vmsk=H[2].uQ.clone();if(H[2].az)F.add.vstk=JSON.parse(JSON.stringify(H[2].az))}if(H[3]){F.add.TySh.oC=H[3].clone()}if(H[4]){F.add.SoLd=JSON.parse(JSON.stringify(H[4]))}if(H[5]){var C=F.tR(A).a;
C.channel=Q.clone(H[5].channel);C.rect=H[5].rect.clone()}F.DY(A);F.U()}A.U()};d.f.HD=function(A){var M=A.clone(),q=Math.atan2(-M.$,M.M),V=new zo;
V.rotate(-q);M.concat(V);return(Math.abs(M.M)+Math.abs(M.e$))/2};d.f.xO=function(A,M,q,V,F,H,w){var C=Q.GG.Gl(H),r=d.f.HD(C);
for(var G=0;G<q.length;G++){var J=A.T[q[G]],m=V[G];if(m[0]&&!m[3]&&!m[4]&&!m[5]){var u=d.f.xX([m[0].ej,m[0].qa],F,H,w,F?J.buffer.buffer:null);
if(u){J.rect=u.rect;J.buffer=u.buffer}}if(m[1])d.f.pn(A,m[1],J.tl(),F,H,w);if(m[2]){var W=m[2].uQ.clone(),y=q.length==1&&W.k.length!=0;
if(w&&!Q.ls.lc(w)){var O=Q.ls.lx(w);Q.GG.apply(H,O);Q.m.EGd(W.C,O)}else Q.m.EJv(W.C,H,y?W.k:null);if(J.add.vstk)J.add.vstk.strokeStyleLineWidth.v.val=m[2].az.strokeStyleLineWidth.v.val*r;
W.NV*=r;J.add.vmsk=W}if(m[3]){var h=m[3].clone();h.concat(C);J.add.TySh.oC=h;var I=new EU(J.add.TySh.Ns,M.ec),Z=Ev.Vh(I,J.add.TySh);
J.rect=Z.rect;J.buffer=Z.ej}if(m[4]){var L=J.add.SoLd,Y=d.f.pE(m[4].nonAffineTransform);Q.GG.apply(H,Y);
var B=Q.O.ob(Y);if(zh.px(Y)){if(w){var X=Q.O.GB(Q.ls.lx(m[4].warp.v)),E=Q.GG.Gv(Y,X),c=Q.O.GB(Q.ls.lx(w));
Y=[c.x,c.y,c.x+c.n,c.y,c.x+c.n,c.y+c.J,c.x,c.y+c.J];Q.GG.apply(E,Y);L.warp.v=w}var o=Q.GG.Gv(Y),s=Y;
if(!Q.GG.GU(o)){o[6]=o[7]=0;s=[0,0,1,0,1,1,0,1];Q.GG.apply(o,s)}L.Trnf=d.f.pm(s);L.nonAffineTransform=d.f.pm(Y);
J.DI(A,F)}}if(m[5])d.f.pn(A,m[5],J.tR(A).a,F,H,w);if(F==!1)J.mX();J.DY(A);J.U()}A.U()};d.f.xF=function(A,M,q,V){if(q==null)q=!1;
return d.f.xX(A,q,Q.GG.GR(M),null,V)};d.f.xX=function(A,M,q,V,F){var H={},G=0;if(V&&!Q.ls.lc(V)){var w=Q.ls.lx(V);
Q.GG.apply(q,w);H.rect=Q.O.ob(w);H.buffer=Q.b(H.rect.X()*4);Q.h.drawImage(w,A[0],A[1].n,A[1].J,H.buffer,H.rect,M);
return H}Q.mD(A);var C=A[0],r=A[1];while(G+3<A.length&&Q.GG.GU(q)&&d.f.HD(Q.GG.Gl(q))<.4){G+=2;var J=A[G],m=A[G+1];
q=Q.GG.Gh(q,[r.n/m.n,0,-m.x,0,r.J/m.J,-m.y,0,0]);r=m;C=J}var u=Q.GG.Gh(q,Q.GG.GR(new zo(r.n,0,0,r.J,r.x,r.y))),W=[0,0,1,0,1,1,0,1];
Q.GG.apply(u,W);H.rect=Q.O.ob(W);if(!zh.px(W)||H.rect.n>3e4||H.rect.J>3e4)return null;var y=H.rect.X()*4;
if(F&&F.byteLength>=y&&y>=F.byteLength>>2){H.buffer=new Uint8Array(F)}else{H.buffer=Q.b(y)}Q.GG.drawImage(u,C,r.n,r.J,H.buffer,H.rect,M);
if(H.buffer)return H};d.f.pn=function(A,M,q,V,F,H){if(M.color==255)Q.mx(M.channel);var w=M.rect,C=Q.b(w.X()*4);
Q.mr(M.channel,C,3);var r=d.f.xX([C,w],V,F,H);if(r){q.rect=r.rect;q.channel=Q.b(r.rect.X());Q.mH(r.buffer,q.channel,3);
q.NK=!0}if(M.color==255){Q.mx(M.channel);if(r)Q.mx(q.channel)}};d.f.pE=function(A){var M=[],q=A.v.length;
for(var V=0;V<q;V++)M.push(A.v[V].v);return M};d.f.pm=function(A){var M={t:"VlLs",v:[]},q=A.length;for(var V=0;
V<q;V++)M.v.push({t:"doub",v:A[V]});return M};d.f.prototype.pJ=function(){var A=Q.O.GB(Q.ls.lx(this.dn.pP())),M=Q.GG.Gv(this.wG.pR(),this._y),q=[A.x,A.y,A.x+A.n,A.y,A.x+A.n,A.y+A.J,A.x,A.y+A.J];
Q.GG.apply(M,q);this.wG.pH(q);this._y=A};d.f.prototype.pz=function(A,M,q){var V=Q.GG.Gv(this.wG.pR(),this._y),C=1e-10;
V=Q.GG.Gh(V,Q.GG.mx(this.dE));var F=Q.GG.Gl(V),H=this.dm,w=Q.GG.Gl(H);this.dm=V;var r=Math.abs,G=Math.round,J=V[2]-H[2],m=V[5]-H[5],u=r(V[0]-H[0])<C&&r(V[1]-H[1])<C&&r(V[3]-H[3])<C&&r(V[4]-H[4])<C&&r(V[6]-H[6])<C&&r(V[7]-H[7])<C&&r(J-G(J))<C&&r(m-G(m))<C,W=this.uu==0&&this.T.length==1&&this.ud[0][2]&&this.ud[0][2].uQ.k.length!=0;
if(u&&this.uu==0&&q==!0&&this.uX==0&&!W){d.gS.gQ(A,this.T,d.gS.gw(A,this.T),Math.round(-w.eI+F.eI),Math.round(-w.eK+F.eK));
return}var y=this.dn?this.dn.pP():null;if(this.uu==0){d.f.xO(A,M,this.T,this.ud,q,V,y)}else if(this.uu==1){var O=A.T[this.T[0]],h=this.wW.qa;
if(O.z<=0){var I=d.f.xX([this.wW.yl,h],q,V,y);O._a._j=I.buffer;O._a.qC=I.rect;var Z=Q.b(I.rect.X());
Q.mH(O._a._j,Z,3);A.q={channel:Z,rect:O._a.qC.clone()}}else{var L=Q.b(h.X()*4);Q.mr(this.wW.yl,L,3);
var I=d.f.xX([L,h],q,V,y);O._a._j=Q.b(I.rect.X());Q.mH(I.buffer,O._a._j,3);O._a.qC=I.rect;this.pG(A,q,V,y)}O.DQ(A,0,0,A.q);
if(q==!1)O.mX();A._Z=!0;A.U()}else if(this.uu==2)this.pG(A,q,V,y)};d.f.prototype.pG=function(A,M,q,V){var F=this._U.rect,H=Q.b(F.X()*4);
Q.mr(this._U.channel,H,3);var w=d.f.xX([H,F],M,q,V),C=Q.b(w.rect.X());Q.mH(w.buffer,C,3);A.q={channel:C,rect:w.rect};
A._Z=!0};d.f.prototype.disable=function(A,M,q,V){if(this.wG)this.gt(A,M,null,!0)};d.po=function(){d.f.call(this,[10,16],d.Ao,"tools/transform")};
d.po.prototype=new d.f;d.pv=function(){d.f.call(this,[7,10],d.Av,"tools/transform")};d.pv.prototype=new d.f;
d.pU=function(){d.AT.call(this,[10,37],d.ca,"tools/qselect")};d.pU.prototype=new d.AT;d.pU.prototype.cJ=function(A,M,q,V,F){this.Ag(A,q,V,F,1);
if(this._J==null)return;this.At(A,"qselect");this.U(A)};d.pU.prototype.cz=function(A,M,q,V,F){if(this._J==null)return;
this.Ax(A,M,q);if(!F._Q)return;this.Ap(A,q,V,F);this.At(A,"qselect");this.U(A)};function zh(A,M,q,V,F,H){this.dR=null;
this.dH=A?A.slice(0):null;this.dr=4;this._$=null;this.dW=null;this.dh=null;this.dT=-1;this.ds=[];for(var w=0;
w<8;w++)this.ds.push(_.Sf(zm.ED(0,PIMG.rotate,-.5,-.5,-45-w*45)));this.dc=M;this.dA=q;this.dg=V;this.dx=F;
this.dp=H}zh.prototype.pl=function(){return this.dT!=-1};zh.prototype.pR=function(){return this.dH.slice(0)};
zh.prototype.pH=function(A){this.dH=A};zh.prototype.pr=function(){return this.pp(this.dH)};zh.prototype.pW=function(A){if(A==null)A=this.dH;
if(this.dr==9)return this._$;else return this.pp(A)[this.dr]};zh.prototype.ph=function(A){if(this.dr==9)this._$=A.clone();
else{var M=this.pW(),q=new zo(1,0,0,1,A.x-M.x,A.y-M.y);Q.O.oC(this.dH,q,this.dH)}};zh.prototype.pT=function(A,M,q){var V=this.pA(A,M),F;
if(V==9)return"default";if(V==10&&q)return null;if(V==10&&!this.dc)return"move";if(V==-1||V==4)return null;
if(V==11){var H=this.pW().Hs(A);F=90-Math.atan2(H.y,H.x)*180/Math.PI;var w=Math.round(8*(F/360));w=(w+8)%8;
return this.ds[w]}else{var C=this.ps(A,this.dH);F=[135,90,45,180,0,0,225,270,315][V];var r=Q.GG.Gv(this.dH);
F+=Math.atan2(-r[3],r[0])*180/Math.PI;var G="ew nesw ns nwse ew nesw ns nwse".split(" "),w=Math.round(8*(F/360));
w=(w+8)%8;return G[w]+"-resize"}};zh.prototype.ps=function(A,M){var q=Q.GG.mx(Q.GG.Gv(M)),V=new Float64Array(2);
Q.GG.GH(A.x,A.y,q,V);return new f(V[0],V[1])};zh.prototype.pc=function(A){var M=this.ps(A,this.dH);return 0<=M.x&&M.x<=1&&0<=M.y&&M.y<=1};
zh.prototype.cJ=function(A,M,q,V,F){var H=A.w.Y;if(this.dH==null)V=d.gS.gu(A,V,M);this.dh=V.clone();
if(this.dH==null){this.dh.offset(1,1);var w=F==null?1:1/F;this.dH=[V.x,V.y,V.x+1,V.y,V.x+1,V.y+w,V.x,V.y+w];
this.dR=this.dH.slice(0);this.dT=8;this.pf(A);return!0}this.dR=this.dH.slice(0);var C=this.pA(V,H);if(0<=C&&C<=8)this.dh=this.pp(this.dH)[C];
this.dT=C;this.pf(A);this.dW=this.pW();return C!=-1};zh.prototype.pA=function(A,M){var q=-1,V=this.pp(),F=6*_.F()/M;
if(q==-1)if(f.Hc(this.pW(),A)<F)q=9;if(q==-1)for(var H=0;H<V.length;H++)if(H!=4&&f.Hc(V[H],A)<F)q=H;
if(q==-1){if(this.pc(A)){if(this.dc)q=10}else{var w=this.ps(A,this.dH),C=new U(0,0,1,1);C.hW(.2,.2);
q=C.hH(w)?11:10}}return q};zh.prototype.cz=function(A,M,q,V){if(this.dT==-1)return;var F=A.w.Y,H=this.dh,w=this.dT,C=this.pp(),r=d.gS.gu(A,H,M),G=d.gS.gu(A,V,M),J,m;
if(w==9){var C=this.pp(),u=-1;for(var W=0;W<C.length;W++)if(f.Hc(C[W],G)*F<10)u=W;this.dr=u==-1?9:u;
this._$=G.clone()}else if(w==10){m=Q.O.GB(this.dR);var y=m.x,O=m.y;m.offset(V.x-H.x,V.y-H.y);if(this.pg()){m.x=Math.round(m.x);
m.y=Math.round(m.y)}J=d.gS.gd(A,m,M);var h=new zo(1,0,0,1,m.x-y+J[0],m.y-O+J[1]);Q.O.oC(this.dR,h,this.dH)}else if(w==11){var I=this.pW(this.dR),Z=I.Hs(V),L=I.Hs(H),Y=Math.atan2(Z.y,Z.x),B=Math.atan2(L.y,L.x),h=new zo(1,0,0,1,-I.x,-I.y),X=Math.PI/12;
if(q.j(R.fq))h.rotate(Math.round((B-Y)/X)*X);else h.rotate(B-Y);h.translate(I.x,I.y);Q.O.oC(this.dR,h,this.dH)}else{var E=this.dH.slice(0);
if(this.dg&&(w==0||w==2||w==6||w==8)&&q.j(R.fB)){var c=[0,0,2,0,0,0,6,0,4,0][w];E[c]=G.x;E[c+1]=G.y}else{if(this.pg()){G.x=Math.round(G.x);
G.y=Math.round(G.y)}var o=[0,1,2,5,8,7,6,3],s=o[(o.indexOf(w)+4)%8],z=[];for(var W=0;W<3;W++)for(var k=0;
k<3;k++)z.push(new f(k/2,W/2));var I=this.dW,b=this.ps(G,this.dR),T=this.ps(H,this.dR),l=q.j(R.fQ)?this.ps(I,this.dR):z[s],$=new zo,e=new zo,i=(b.x-l.x)/(T.x-l.x);
if(i==0)i=1e-4;var g=(b.y-l.y)/(T.y-l.y);if(g==0)g=1e-4;if(this.dx){i=Math.max(i,0);g=Math.max(g,0)}if(w==0||w==2||w==6||w==8){if(q.j(R.fq)||this.dp)$.scale(i,i);
else $.scale(i,g)}if(w==1||w==3||w==5||w==7){var P=this.dp;if(w==1||w==7)$.scale(P?g:1,g);else $.scale(i,P?i:1);
if(this.dA&&q.j(R.fB)){if(w==1||w==7)e.ei=(b.x-l.x)/(b.y-l.y);else e.$=(b.y-l.y)/(b.x-l.x)}}E=[0,0,1,0,1,1,0,1];
var n=new zo;n.translate(-l.x,-l.y);n.concat($);n.concat(e);n.translate(l.x,l.y);Q.O.oC(E,n,E);var p=Q.GG.Gv(this.dR);
Q.GG.apply(p,E)}if(zh.px(E))this.dH=E}this.pf(A);if(J)d.gS.gy(A,m,J)};zh.prototype.pg=function(){var A=this.dH;
return Math.abs(A[1]-A[3])<1e-6&&Math.abs(A[2]-A[4])<1e-6||Math.abs(A[0]-A[2])<1e-6&&Math.abs(A[3]-A[5])<1e-6};
zh.px=function(A){return Q.O.op(A)||Q.O.op([A[6],A[7],A[4],A[5],A[2],A[3],A[0],A[1]])};zh.prototype.cG=function(A,M,q,V){this.dT=-1;
A.p._O=null;A._X=!0};zh.prototype.cv=function(A,M,q){var V=q.fL();if(V.x||V.y){var F=new zo(1,0,0,1,V.x,V.y);
Q.O.oC(this.dH,F,this.dH);this.pf(A);return!0}return!1};zh.prototype.pp=function(A){if(A==null)A=this.dH;
var M=A[6]-A[0],q=A[7]-A[1],V=A[4]-A[2],F=A[5]-A[3],H=[A[0],A[1],A[2],A[3],A[0]+M/2,A[1]+q/2,A[2]+V/2,A[3]+F/2,A[6],A[7],A[4],A[5]],w=[];
for(var C=0;C<3;C++){var r=C*4,G=H[r+0],J=H[r+1],m=H[r+2],u=H[r+3];w.push(new f(G,J));w.push(new f(G+(m-G)/2,J+(u-J)/2));
w.push(new f(m,u))}return w};zh.prototype.pf=function(A,M){if(M==null)M=!1;var q=this.pp();A.p.wx={qm:[],G:[]};
A.p.wx.qm.push("M","L","L","L","L");A.p.wx.G.push(q[0].x,q[0].y,q[2].x,q[2].y,q[8].x,q[8].y,q[6].x,q[6].y,q[0].x,q[0].y);
if(!M){A.p.wj=[];for(var V=0;V<q.length;V++)if(V!=4)A.p.wj.push(q[V].x,q[V].y);var F=this.pW();A.p.wj.push(F.x,F.y)}A._X=!0};
zh.prototype.clear=function(A){A.p._O=null;A.p.wx=null;A.p.wj=[];A._X=!0};function Eh(A,M){this.ls=null;
this.dT=-1;this.pD(A)}Eh.prototype.pP=function(){return JSON.parse(JSON.stringify(this.ls))};Eh.prototype.pD=function(A){this.ls=JSON.parse(JSON.stringify(A))};
Eh.prototype.pc=function(A){return!0};Eh.prototype.pT=function(A,M){var q=this.pA(A,M);if(q==-1)return"default";
return"pointer"};Eh.prototype.cJ=function(A,M,q,V){this.dT=this.pA(V,A.w.Y);return this.dT!=-1};Eh.prototype.pA=function(A,M){var q=-1,V=20*_.F(),F=this.pt();
for(var H=0;H<F.length;H++)if(f.Hc(F[H],A)*M<V)q=H;return q};Eh.prototype.cz=function(A,M,q,V){if(this.dT==-1)return;
var F=A.w.Y,H=this.dT,w=Q.ls.lx(this.ls);w[H*2]=V.x;w[H*2+1]=V.y;Q.ls.lg(w,this.ls)};Eh.prototype.cG=function(A,M,q,V){this.dT=-1;
A._X=!0};Eh.prototype.cv=function(A,M,q){var V=q.fL();if(V.x||V.y){var F=new zo(1,0,0,1,V.x,V.y);Q.O.oC(this.dH,F,this.dH);
this.pf(A)}};Eh.prototype.pt=function(A){var M=Q.ls.lx(this.ls),q=[];for(var V=0;V<M.length;V+=2)q.push(new f(M[V],M[V+1]));
return q};Eh.prototype.pf=function(A){var M=this.pt();A.p.wx={qm:[],G:[]};A.p.wx.qm.push("M","C","C","C","C");
var q=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var V=0;V<q.length;V++)A.p.wx.G.push(M[q[V]].x,M[q[V]].y);
A.p.wx.qm.push("M","L","L","M","L","L","M","L","L","M","L","L");q=[4,0,1,2,3,7,11,15,14,13,12,8];for(var V=0;
V<q.length;V++)A.p.wx.G.push(M[q[V]].x,M[q[V]].y);A.p.wj=[];for(var V=0;V<M.length;V++)A.p.wj.push(M[V].x,M[V].y);
A._X=!0};Eh.prototype.clear=function(A){A.p.wx=null;A.p.wj=[];A._X=!0};var Jw={};Jw.pM=function(A){this.id=A};
Jw.pM.prototype.cm=function(A,M,q,V,F){};Jw.pM.prototype.cl=function(A,M){};Jw.pM.prototype.cR=function(A,M){};
Jw.History=function(){Jw.pM.call(this,d.AR);this.df=!0;this.dP=0};Jw.History.prototype=new Jw.pM;Jw.History.prototype.cm=function(A,M,q,V){if(A.H=="h_itemchange"){if(A.index<q.y_)for(var F=q.y_;
F>A.index;F--)this.pj(q);if(A.index>q.y_)for(var F=q.y_;F<A.index;F++)this.pa(q)}if(A.H=="h_stepfwd")this.pa(q);
if(A.H=="h_stepbck")this.pj(q);if(A.H=="h_undoredo"){var H=this.df||this.dP!=q.y_;if(H){this.pj(q);H=!1}else{this.pa(q);
H=!0}this.df=H;this.dP=q.y_}else this.df=!0};Jw.History.prototype.pj=function(A){if(A.y_==0)return;var M=A.history[A.y_];
M.v.cR(M.data,A);A.y_--};Jw.History.prototype.pa=function(A){if(A.y_==A.history.length-1)return;var M=A.history[A.y_+1];
M.v.cl(M.data,A);A.y_++};Jw.pV=function(){Jw.pM.call(this,d.AH)};Jw.pV.prototype=new Jw.pM;Jw.pV.prototype.cm=function(A,M,q,V,F){var H=A.H;
if(H==S.Mk&&q.q==null)H=S.ta;if(H==S.td){var w=q.T[A.Q],C=new zv([6,33],this),r=w.Da()?["pass"].concat(zU.DA):zU.DA;
C.data={H:H,Q:A.Q,Kq:w.B_,ut:r[A.ut]};q.jj(C);this.cl(C.data,q)}if(H==S.tO){var w=q.T[A.Q],G=q.ja(),C;
if(G&&G.data&&G.data.H==H&&G.data.Q==A.Q)C=G;else{C=new zv([6,32],this);C.data={H:H,Q:A.Q,Kq:w.opacity,ut:A.ut};
q.jj(C)}C.data.ut=A.ut;this.cl(C.data,q)}if(H==S.tF){var w=q.T[A.Q],m=0;if(w.add.lspf==null)w.add.lspf=0;
var J=w.add.lspf;if(A.dt)m=J|1<<A.dD;else if((J>>>A.dD&1)!=0)m=J-(1<<A.dD);var C=new zv("Lock Change",this,!0);
C.data={H:H,Q:A.Q,Kq:J,ut:m};q.jj(C);this.cl(C.data,q)}if(H==S.Mn){var w=q.T[A.Q],u="----",W=A.dM,m=null;
for(var y=0;y<Er.Ce.Cy.length;y++)if(w.add[Er.Ce.Cy[y]])u=Er.Ce.Cy[y];var O=w.add[u];if(W=="TySh")m=a.Vk(50,50,F.yo);
var C=new zv("Layer Type",this);C.data={H:H,Q:A.Q,dj:[u,O],dM:[W,m]};q.jj(C);this.cl(C.data,q)}if(H==S.tX){var w=q.T[A.Q],C;
if(w.add.iOpa==null)w.add.iOpa=255;var G=q.ja();if(G&&G.data&&G.data.H==H&&G.data.Q==A.Q)C=G;else{C=new zv("Fill Opacity Change",this);
C.data={H:H,Q:A.Q,Kq:w.add.iOpa,ut:A.ut};q.jj(C)}C.data.ut=A.ut;this.cl(C.data,q)}if(H==S.ME){var h=[];
if(V.j(R.fQ)){var I=q.ja(),Z=I?I.data:null;if(I!=null&&I.v==this&&Z.H==S.ME&&Z.da.length!=1){var L=new N(_.E.V);
L.v=d.AR;L.data={H:"h_stepbck"};M.t(L);if(Z.Q==A.Q)return}var Y=q.root.MZ(A.Q),B=q.jV(null,A.Q);while(Y.parent!=q.root){B.push(Y.parent.index);
Y=Y.parent}for(var y=0;y<q.T.length;y++){var X=q.T[y],E=X.Dy(),c=B.indexOf(y)!=-1;if(!c&&E)h.push(y);
if(y==A.Q&&!E)h.push(y)}}else h.push(A.Q);var C=new zv("Layer visibility",this,!0);C.data={H:H,da:h,Q:A.Q};
q.jj(C);this.cl(C.data,q)}if(H==S.MJ){var escape=!1;if(V.j(R.fB)||V.j(R.fN)){var o=q.k.indexOf(A.Q);
if(o==-1)q.k.push(A.Q);else if(q.k.length>1)q.k.splice(o,1)}else if(V.j(R.fq)&&A.dV>0){H=A.dV==1?S.tI:A.dV==2?S.t$:S.tK;
escape=!0}else if(V.j(R.fq)&&q.k.length>0){var s=Math.min(A.Q,q.k[0]),z=Math.max(A.Q,q.k[q.k.length-1]);
q.k=[];for(var y=s;y<=z;y++)q.k.push(y)}else{q.k=[A.Q]}if(!escape){if(q.k.length==1){var k=q.k[0];for(var y=0;
y<q.T.length;y++){if(y==k)continue;var b=q.T[y];b.z=0;b.uB=!1}var w=q.T[k];if(A.dV==2)w.uB=!w.uB;else w.z=A.dV<=0?0:A.dV}else for(var y=0;
y<q.T.length;y++){var b=q.T[y];b.z=0;b.uB=!1}q.wS=!0}}if(H==S.tI||H==S.tK){var T=A.Q!=null?A.Q:q.k[0],w=q.T[T],l=H==S.tI,$=l?w.tl():w.tR(q).a;
if($==null)return;var C=new zv($.isEnabled?l?[6,15]:[6,42]:l?[6,14]:[6,41],this);C.data={H:H,Q:T};q.jj(C);
this.cl(C.data,q)}if(H==S.t$){var T=A.Q!=null?A.Q:q.k[0],w=q.T[T],$=w.add.vmsk;if($==null)return;var C=new zv($.isEnabled?[6,17]:[6,16],this);
C.data={H:H,Q:T};q.jj(C);this.cl(C.data,q)}if(H==S.Mz){var w=q.T[A.Q];if(w.add.lsct==zT.ts)w.add.lsct=zT.tc;
else w.add.lsct=zT.ts;q.wS=!0}if(H==S.Ml){var T=A.Q?A.Q:q.k[0];if(!q.jn(T))return;var w=q.T[T],C=new zv(w.NM?[6,19]:[6,18],this);
C.data={H:H,Q:T};q.jj(C);this.cl(C.data,q)}if(H==S.MG){var w=q.T[A.Q];if(w.Dd())w.Nj-=32;else w.Nj+=32;
q.wS=!0}if(H==S.Mo||H==S.Mx){var w=q.T[A.Q],C;if(H==S.Mo)C=new zv(w.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(H==S.Mx)C=new zv(w.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);C.data={H:H,Q:A.Q};q.jj(C);this.cl(C.data,q)}if(H==S.Mv||H==S.Mp){var k=A.index,w=q.T[A.Q],C;
if(H==S.Mv)C=new zv(w.add.lmfx[j.jK[k[0]]].v[k[1]].v.enab.v?[6,30]:[6,29],this);if(H==S.Mp)C=new zv(w.add.SoLd.filterFX.v.filterFXList.v[k].v.enab.v?[6,44]:[6,43],this);
C.data={H:H,Q:A.Q,index:A.index};q.jj(C);this.cl(C.data,q)}if(H==S.Mt||H==S.MM){var e=H==S.Mt;if(e&&A.src==A.dC)return;
var w=q.T[A.Q],i=JSON.parse(JSON.stringify(w.add.SoLd.filterFX.v)),g=JSON.parse(JSON.stringify(i)),P=g.filterFXList.v;
if(e){P.splice(A.dC,0,P[A.src]);P.splice(A.src+(A.src<A.dC?0:1),1)}else P.splice(A.oA,1);var C=new zv(e?[6,52]:[6,53],this);
C.data={H:S.Mj,Q:A.Q,dS:i,dk:g};q.jj(C);this.cl(C.data,q)}if(H==S.tw){var w=q.T[A.Q],$=w.tl(),C=new zv($.NH?[6,26]:[6,25],this);
C.data={H:H,Q:A.Q};q.jj(C);this.cl(C.data,q)}if(H==S.ty){var w=q.T[A.Q],$=w.add.vmsk,C=new zv($.NH?[6,28]:[6,27],this);
C.data={H:H,Q:A.Q};q.jj(C);this.cl(C.data,q)}if(H==S.Mc){var C=new zv(A.KY,this);C.data={H:S.Mc,yz:q.T.slice(0),yG:A.yG,db:q.k.slice(0),dL:A._w};
q.jj(C);this.cl(C.data,q)}if(H==S.tC){var n=q.jV(null,A.Q),t=1e10;if(q.T.length==n.length){alert("Project must have at least 1 layer");
return}var p=[];for(var y=0;y<q.T.length;y++)if(n.indexOf(y)==-1)p.push(q.T[y]);for(var y=0;y<n.length;
y++)t=Math.min(t,n[y]);t=Math.max(t-1,0);while(p[t].name=="</Layer group>")t++;var C=new zv([6,31],this);
C.data={H:S.Mc,yz:q.T.slice(0),yG:p,db:q.k.slice(0),dL:[t]};q.jj(C);this.cl(C.data,q)}if(H==S.ta||H==S.tV){var x=q.jC(A.Q);
if(H==S.ta){H=S.MU;A.T=x;A.dZ=q;A.dY=q}else{var L=new N(_.E.K,!0);L.data={H:_.u.S_,KL:"duplinto",T:x};
M.t(L)}}if(H==S.MU){var D,Gp;if(A.dZ!=A.dY){var D=new U(0,0,A.dZ.n,A.dZ.J),Gp=new U(0,0,A.dY.n,A.dY.J),zY=[],zi=[];
for(var y=0;y<A.T.length;y++){var b=A.T[y];if(b.add.SoLd==null)continue;var zI=b.add.SoLd.Idnt.v;if(zY.indexOf(zI)==-1){zY.push(zI);
zi.push(EE.jz()+zI.slice(8))}b.add.SoLd.Idnt.v=zi[zY.indexOf(zI)]}if(zY.length>0){if(A.dY.add.lnk2==null)A.dY.add.lnk2=[];
for(var y=0;y<zY.length;y++){var z$=A.dZ.jx(zY[y]),zK=z$.clone();zK.qx=zi[y];A.dY.add.lnk2.push(zK)}}}var ze=A.dY.k.slice(0);
ze.sort(function(C,GC){return C-GC});var p=A.dY.T.slice(0),zq=[],zB=-1;for(var y=0;y<ze.length;y++)zB=Math.max(zB,ze[y]);
zB++;for(var y=0;y<A.T.length;y++){var X=A.T[y];p.splice(zB,0,X);zq.push(zB);zB++}var C=new zv([6,0],this);
C.data={H:S.Mc,yz:A.dY.T.slice(0),yG:p,db:ze,dL:zq};A.dY.jj(C);this.cl(C.data,A.dY)}if(H==S.tL){var zN=q.jV(),p=q.T.slice(0);
for(var y=0;y<zN.length;y++){var X=q.T[zN[y]].clone();X.tr(q);p.splice(zN[y],1,X)}var C=new zv([6,8],this);
C.data={H:S.Mc,yz:q.T.slice(0),yG:p,db:q.k.slice(0),dL:q.k.slice(0)};q.jj(C);this.cl(C.data,q)}if(H==S.tZ){var zN=q.jV(),p=q.T.slice(0),zQ=new EE("hi");
for(var y=0;y<zN.length;y++){var z_=q.T[zN[y]],zw=z_.Dy();z_.tE(!0);var zy=q.root.MZ(zN[y]);if(z_.Da())continue;
if(zy==null)continue;var X=z_.clone();X.tr(q);var zu=zy.Ak(q,!0);X.rect.offset(-zu.x,-zu.y);if(X.a)X.a.rect.offset(-zu.x,-zu.y);
zQ.n=zu.n;zQ.J=zu.J;zQ.jb([X]);zQ.U();zQ.jP();X.buffer=Q.b(zu.X()*4);Q.mc(zQ.jv(),X.buffer);X.rect=zu;
X.U();X.A.di=!0;if(X.add.lmfx)delete X.add.lmfx;X.a=X.NC=null;p.splice(zN[y],1,X);X.tE(zw);z_.tE(zw)}var C=new zv([6,34],this);
C.data={H:S.Mc,yz:q.T.slice(0),yG:p,db:q.k.slice(0),dL:q.k.slice(0)};q.jj(C);this.cl(C.data,q)}if(H==S.Mg){var zN=q.jV(),p=q.T.slice(0);
for(var y=0;y<zN.length;y++){var X=q.T[zN[y]],zd=X.add.TySh;if(zd==null)continue;var b=new EU(zd.Ns,F.ec),zO=Q.O.EJY(Ev.VT(b,zd));
for(var zF in zO){var zX=zO[zF];zX=Q.O.oZ(zX);var Gn=X.clone();delete Gn.add.TySh;Gn.Nj=Gn.Nj|1<<4;Gn.add.SoCo=JSON.parse(JSON.stringify(j.aU[0]));
var GE=Gn.add.SoCo.Clr.v;GE.Rd.v=parseInt(zF.slice(1,3),16);GE.Grn.v=parseInt(zF.slice(3,5),16);GE.Bl.v=parseInt(zF.slice(5,7),16);
var Gm=new S.tP;Gm.C=Q.O.EJ$(zX);if(Gn.add.vmsk!=null){Gn.add.vmsk.Elo();Gm.concat(Gn.add.vmsk)}Gn.add.vmsk=Gm;
Gn.add.vstk=JSON.parse(JSON.stringify(j.az.default));Gn.add.vstk.strokeEnabled.v=!1;Gn.DY(q);p.splice(p.indexOf(X),0,Gn)}p.splice(p.indexOf(X),1)}var C=new zv([6,40],this);
C.data={H:S.Mc,yz:q.T.slice(0),yG:p,db:q.k.slice(0),dL:q.k.slice(0)};q.jj(C);this.cl(C.data,q)}if(H==S.tS){var ze=q.k.slice(0),GJ=q.T.slice(0),zN=q.jV();
q.jJ(zN);var C=new zv([6,36,0],this);C.data={H:S.Mc,yz:GJ,yG:q.T.slice(),db:ze,dL:q.k.slice(0)};q.jj(C);
this.cl(C.data,q)}if(H==S.tk){var z$=A.wb.jx(A.id),zK=z$.clone();zK.raw=A.data;zK.Nf="8BIM";zK.Np="8BPB";
zK.Nx=zK.Nx+".psd";var C=new zv([6,36,1],this);C.data={H:S.tk,id:A.id,dI:z$,d$:zK};A.wb.jj(C);this.cl(C.data,A.wb)}if(H==S.tb){A.wb.jL();
A.wb.jk();A.wb.U();A.wb.jP();A.wb.jv();var Gz=new Uint8Array(zm.PSD.Ej(A.wb)),o=A.wF!=null?A.wF:q.k[q.k.length-1]+1,GG=q.jo(Gz,A.wb.name,0,0),p=q.T.slice(0);
p.splice(o,0,GG);var C=new zv([6,36,2],this);C.data={H:S.Mc,yz:q.T.slice(),yG:p,db:q.k.slice(0),dL:[p.indexOf(GG)]};
q.jj(C);this.cl(C.data,q)}if(H==S.tY||H==S.ti){var ze=q.k.slice(0);if(H==S.tY)q.k=[q.k[0],q.k[0]-1];
var zN=q.jV(),GJ=q.T.slice(0);q.jJ(zN,V.j(R.fQ));var GG=q.T[q.k[0]],Go=q.jx(GG.add.SoLd.Idnt.v);q.add.lnk2.splice(q.add.lnk2.indexOf(Go),1);
delete GG.add.SoLd;var C=new zv([6,12],this);C.data={H:S.Mc,yz:GJ,yG:q.T.slice(),db:ze,dL:q.k.slice(0)};
q.jj(C);this.cl(C.data,q)}if(H==S.MR||H==S.Mr||H==S.MC||H==S.MW||H==S.Mk){var X=q.jD(),Gv=zJ.get([0,3]);
if(H==S.Mr)Gv=zJ.get(zG.names[A.BW]);if(H==S.MC)Gv=zJ.get(A.CB==null?[12,76,1]:[6,48,0,A.CB]);X.Dw(Gv+" "+q.T.length);
if(H==S.Mk){var z_=q.T[q.k[0]],GU=z_.De(q,q.q);if(GU==null){alert("Copied area is empty");return}X.rect=GU.rect,X.buffer=GU.yl}if(H==S.MW){X.rect=A.dK.rect.clone();
if(!new U(0,0,q.n,q.J).hr(X.rect)){X.rect.x=Math.floor((q.n-X.rect.n)/2);X.rect.y=Math.floor((q.J-X.rect.J)/2)}X.buffer=Q.clone(A.dK.buffer)}if(H==S.Mr){X.Nj|=16;
zG.PO(A.BW,X.add);var Gl=X.a=new S.tg;if(q.q!=null){Gl.color=0;Gl.channel=Q.clone(q.q.channel);Gl.rect=q.q.rect.clone()}}if(H==S.MC){X.Nj|=16;
if(A.K$==0)X.a=new S.tg;else{X.add.vmsk=new S.tP;X.add.vstk=JSON.parse(JSON.stringify(j.az.default));
X.add.vstk.strokeEnabled.v=!1}var GH;if(A.CB!=null){GH=["SoCo","GdFl","PtFl"][A.CB];X.add[GH]=JSON.parse(JSON.stringify(j.aU[A.CB]))}else{var Gr=F.uP;
X.add.vstk=JSON.parse(JSON.stringify(Gr.az));GH=["none","SoCo","GdFl","PtFl"][Gr.uf.Np];d.xC.xL(X,Gr.uf);
if(Gr.uf.Np==0)X.add.SoCo=JSON.parse(JSON.stringify(j.aU[0]))}if(GH=="PtFl")q.jG(Ez.ax(X.add[GH].Ptrn.v,F.de));
X.DY(q)}var GW=q.k[q.k.length-1],Gh=GW+1;if(q.T[GW].add.lsct==zT.ts)Gh--;var p=q.T.slice(0);p.splice(Gh,0,X);
var GT=[5,2];if(H==S.MR)GT=[6,13];if(H==S.Mr)GT=[6,1];if(H==S.MC)GT=[6,48,1];if(H==S.Mk)GT=[6,49];var C=new zv(GT,this);
C.data={H:S.Mc,yz:q.T.slice(0),yG:p,db:q.k.slice(0),dL:[Gh]};q.jj(C);this.cl(C.data,q);if(H==S.MC&&A.K$==0||H==S.Mr){var Gs=new N(_.E.K);
Gs.data={H:_.u.SQ,KL:"properties"};M.t(Gs)}}if(H==S.MH){var X=q.jD();X.Dw(zJ.get([0,4])+" "+q.T.length);
X.B_="pass";X.add.lsct=zT.ts;X.Nj=24;var Gc=q.jt(),GW=q.k[q.k.length-1],Gh=GW+1,p=q.T.slice(0);p.splice(Gh,0,Gc,X);
var C=new zv([6,20],this);C.data={H:S.Mc,yz:q.T.slice(0),yG:p,db:q.k.slice(0),dL:[Gh+1]};q.jj(C);this.cl(C.data,q)}if(H==S.Mh){var GA;
if(q.k.indexOf(A.source)!=-1)GA=q.jV();else GA=q.jS(A.source);if(GA.indexOf(A.target)!=-1)return;GA.sort(function(C,GC){return C-GC});
var Gg=q.T[A.target],p=[];for(var y=0;y<q.T.length;y++)if(GA.indexOf(y)==-1)p.push(q.T[y]);var Gx=p.indexOf(Gg),Jy=[];
for(var y=0;y<GA.length;y++){var Gf=Gx+(A.dq?0:1)+y;p.splice(Gf,0,q.T[GA[y]]);Jy.push(Gf)}var C=new zv([6,35],this);
C.data={H:S.Mc,yz:q.T.slice(0),yG:p,db:q.k.slice(0),dL:Jy};q.jj(C);this.cl(C.data,q)}if(H==S.MT){var X=q.jD();
X.Dw(zJ.get([0,4])+" "+q.T.length);X.B_="pass";X.add.lsct=zT.ts;X.Nj=24;var Gc=q.jt(),GA=q.jV();GA.sort(function(C,GC){return C-GC});
var p=[];for(var y=0;y<q.T.length;y++)if(GA.indexOf(y)==-1)p.push(q.T[y]);var GW=q.k[q.k.length-1]-GA.length;
p.splice(GW+1,0,Gc);for(var y=0;y<GA.length;y++)p.splice(GW+2+y,0,q.T[GA[y]]);p.splice(GW+2+GA.length,0,X);
var C=new zv([6,9],this);C.data={H:S.Mc,yz:q.T.slice(0),yG:p,db:q.k.slice(0),dL:[p.indexOf(X)]};q.jj(C);
this.cl(C.data,q)}if(H==S.tu){if(q.k.length!=1)return;var o=q.k[0];if(q.T[o].tl()==null)H=S.tQ;else H=S.t_}if(H==S.tQ){if(q.k.length!=1)return;
var o=q.k[0];if(q.T[o].tl()==null){var C=new zv([6,21],this),Gl=new S.tg;if(A.KK)Gl.color=0;if(q.q!=null){Gl.color=0;
Gl.channel=Q.clone(q.q.channel);Gl.rect=q.q.rect.clone()}C.data={H:H,Q:o,a:Gl};q.jj(C);this.cl(C.data,q)}}if(H==S.te){if(q.k.length!=1)return;
var o=q.k[0];if(q.T[o].tl()!=null){var C=new zv([6,22],this);C.data={H:H,Q:o,a:q.T[o].tl()};q.jj(C);
this.cl(C.data,q)}}if(H==S.tq||H==S.tB){if(q.k.length!=1)return;var o=q.k[0];if(q.T[o].tl()!=null||q.T[o].tR(q).a){var C=new zv([4,11],this);
C.data={H:H,Q:o};q.jj(C);this.cl(C.data,q)}}if(H==S.Mf){if(q.k.length!=1)return;var o=q.k[0];if(q.T[o].tR(q).a==null){var C=new zv([6,45],this);
C.data={H:H,Q:o,a:new S.tg};q.jj(C);this.cl(C.data,q)}}if(H==S.MP){if(q.k.length!=1)return;var o=q.k[0];
if(q.T[o].tR(q).a!=null){var C=new zv([6,46],this);C.data={H:H,Q:o,a:q.T[o].tR(q).a};q.jj(C);this.cl(C.data,q)}}if(H==S.MD){if(A.Q==null&&q.k.length!=1)return;
var o=A.Q!=null?A.Q:q.k[0];if(q.T[o].tJ()){var C=new zv([6,47],this);C.data={H:H,Q:o,dB:q.T[o].add.SoLd.filterFX,dN:q.T[o].tR(q)};
q.jj(C);this.cl(C.data,q)}}if(H==S.t_){if(q.k.length!=1)return;var o=q.k[0],X=q.T[o];if(q.T[o].add.vmsk==null){var C=new zv([6,23],this),Gl=new S.tP;
Gl.C[1].all=A.KK?1:0;C.data={H:H,Q:o,a:Gl};q.jj(C);if(X.DV()){X.add.vstk=JSON.parse(JSON.stringify(j.az.default));
X.add.vstk.strokeEnabled.v=!1}this.cl(C.data,q)}}if(H==S.tN){if(q.k.length!=1)return;var o=q.k[0],GP=q.T[o].add.vmsk;
if(GP!=null){var C=new zv([6,24],this);C.data={H:H,Q:o,a:GP};q.jj(C);this.cl(C.data,q)}}if(H==S.Ms){var GD=q.T[A.Q].getName(),Gt=A.name.substring(0,255);
if(GD==Gt)return;var C=new zv([6,37],this);C.data={H:H,Q:A.Q,dQ:GD,d_:Gt};q.jj(C);this.cl(C.data,q)}if(H==S.MA){var GM=q.jV(),Gj=[],Ga=[];
for(var y=0;y<GM.length;y++){Gj.push(q.T[GM[y]].add.lclr);Ga.push(A.dw)}var C=new zv([6,38],this);C.data={H:H,T:GM,dy:Gj,du:Ga};
q.jj(C);this.cl(C.data,q)}if(H==S.Mb){var C=q.history[q.y_];if(C!=null&&C.v==this&&C.data.H==H&&C.data.Q==A.dO&&C.data.ut.dF==A.dd.dF)C.data.ut=A.dd;
else{C=new zv("Mask Density / Feather",this);C.data={H:H,Q:A.dO,uD:q.T[A.dO].tW(A.dd.dF),ut:A.dd};q.jj(C)}this.cl(C.data,q)}if(H==S.Ma){var C=q.history[q.y_];
if(C!=null&&C.v==this&&C.data.H==H&&C.data.CB==A.CB&&C.data.Q==A.wF)C.data.ut=JSON.parse(JSON.stringify(A.o));
else{C=new zv([6,48,2],this);var X=q.T[A.wF];C.data={H:H,CB:A.CB,uD:JSON.parse(JSON.stringify(X.add[A.CB])),ut:JSON.parse(JSON.stringify(A.o)),Q:A.wF};
q.jj(C)}if(A.CB=="PtFl"){q.jG(Ez.ax(A.o.Ptrn.v,F.de))}this.cl(C.data,q)}if(H==S.MS){var C=q.history[q.y_];
if(C!=null&&C.v==this&&C.data.H==H&&C.data.Q==A.wF)C.data.ut=JSON.parse(JSON.stringify(A.o));else{C=new zv("Edit Stroke",this);
var X=q.T[A.wF];C.data={H:H,uD:JSON.parse(JSON.stringify(X.add.vstk)),ut:JSON.parse(JSON.stringify(A.o)),Q:A.wF};
q.jj(C)}var GV=A.o.strokeStyleContent.v;if(GV.classID==j.az.av[2])q.jG(Ez.ax(GV.Ptrn.v,F.de));this.cl(C.data,q)}if(H==S.MV){C=new zv("Fill Type",this);
C.data={H:H,Q:A.wF,uD:A.uD,ut:A.ut};q.jj(C);if(A.ut.Np==3)q.jG(Ez.ax(A.ut.uM.Ptrn.v,F.de));this.cl(C.data,q)}};
Jw.pV.pC=function(A,M){for(var q=0;q<A.T.length;q++){var V=A.T[q];if(V.add.SoLd==null||V.add.SoLd.Idnt.v!=M)continue;
V.DI(A)}A.U()};Jw.pV.pS=function(A,M,q){M.color=255-M.color;Q.mx(M.channel);M.NK=!0;A.DY(q);q.U()};Jw.pV.prototype.cR=function(A,M){var q=A.H,V=M.T[A.Q];
if(q==S.tk){M.add.lnk2.splice(M.add.lnk2.indexOf(A.d$),1,A.dI);Jw.pV.pC(M,A.id)}if(q==S.td){V.B_=A.Kq;
M.U()}if(q==S.tO){V.opacity=A.Kq;M.U()}if(q==S.tF){V.add.lspf=A.Kq}if(q==S.Mn){var F=A.dM,H=A.dj;delete V.add[F[0]];
if(H[0]!="----")V.add[H[0]]=H[1]}if(q==S.tX){V.add.iOpa=A.Kq;M.U()}if(q==S.ME){for(var w=0;w<A.da.length;
w++){var C=M.T[A.da[w]];C.tE(!C.Dy())}M.U()}if(q==S.tI){var r=V.tl();r.isEnabled=!r.isEnabled;V.DY(M);
M.U()}if(q==S.tK){var r=V.tR(M).a;r.isEnabled=!r.isEnabled;V.U();M.U()}if(q==S.t$){var r=V.add.vmsk;
r.isEnabled=!r.isEnabled;if(!r.isEnabled){if(V.NC){V.a=V.NC;V.NC=null}else V.a=null}else if(V.a){V.NC=V.a;
V.a=null}V.DY(M);M.U()}if(q==S.Ml){V.NM=!V.NM;M.U()}if(q==S.Mo){V.add.lmfx.masterFXSwitch.v=!V.add.lmfx.masterFXSwitch.v;
V.A.di=!0;M.U()}if(q==S.Mx){V.add.SoLd.filterFX.v.enab.v=!V.add.SoLd.filterFX.v.enab.v;V.D$(M);M.U()}if(q==S.Mv){var G=A.index,J=V.add.lmfx[j.jK[G[0]]].v[G[1]].v;
J.enab.v=!J.enab.v;V.A.di=!0;M.U()}if(q==S.Mp){var m=V.add.SoLd.filterFX.v.filterFXList.v[A.index].v;
m.enab.v=!m.enab.v;V.D$(M);M.U()}if(q==S.Mj){V.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(A.dS));
V.D$(M);M.U()}if(q==S.tw){var r=V.tl();r.NH=!r.NH}if(q==S.ty){var r=V.add.vmsk;r.NH=!r.NH}if(q==S.Mc){if(A.db)M.k=A.db;
M.U();M.jb(A.yz)}if(q==S.tQ){if(V.NC)V.NC=null;else V.a=null;V.DY(M);M.U();V.z=0}if(q==S.te){if(V.a)V.NC=A.a;
else V.a=A.a;V.DY(M);M.U()}if(q==S.tq||q==S.tB){Jw.pV.pS(V,q==S.tq?V.tl():V.tR(M).a,M);if(q==S.tB)V.U()}if(q==S.Mf){V.tR(M).a=null;
V.U();M.U()}if(q==S.MP){V.tR(M).a=A.a;V.U();M.U()}if(q==S.MD){V.add.SoLd.filterFX=A.dB;M.MO(A.dN);V.DI(M)}if(q==S.t_){delete V.add.vmsk;
if(V.NC)V.a=V.NC;else V.a=null;V.NC=null;V.DY(M);M.U();V.z=0}if(q==S.tN){V.add.vmsk=A.a;if(V.a&&V.add.vmsk.isEnabled)V.NC=V.a;
V.DY(M);M.U()}if(q==S.Ms){V.Dw(A.dQ)}if(q==S.MA){for(var w=0;w<A.T.length;w++)M.T[A.T[w]].add.lclr=A.dy[w]}if(q==S.Ma){V.add[A.CB]=JSON.parse(JSON.stringify(A.uD));
V.Di(M);M.U()}if(q==S.MS){V.add.vstk=JSON.parse(JSON.stringify(A.uD));V.Di(M);M.U()}if(q==S.MV){d.xC.xL(V,JSON.parse(JSON.stringify(A.uD)));
V.Di(M);M.U()}if(q==S.Mb){V.th(A.uD);V.DY(M);M.U()}M.wS=!0};Jw.pV.prototype.cl=function(A,M){var q=A.H,V=M.T[A.Q];
if(q==S.tk){M.add.lnk2.splice(M.add.lnk2.indexOf(A.dI),1,A.d$);Jw.pV.pC(M,A.id)}if(q==S.td){V.B_=A.ut;
M.U()}if(q==S.tO){V.opacity=A.ut;M.U()}if(q==S.tF){V.add.lspf=A.ut}if(q==S.Mn){var F=A.dj,H=A.dM;delete V.add[F[0]];
if(H[0]!="----")V.add[H[0]]=H[1]}if(q==S.tX){V.add.iOpa=A.ut;M.U()}if(q==S.ME){for(var w=0;w<A.da.length;
w++){var C=M.T[A.da[w]];C.tE(!C.Dy())}M.U()}if(q==S.tI){var r=V.tl();r.isEnabled=!r.isEnabled;V.DY(M);
M.U()}if(q==S.tK){var r=V.tR(M).a;r.isEnabled=!r.isEnabled;V.U();M.U()}if(q==S.t$){var r=V.add.vmsk;
r.isEnabled=!r.isEnabled;if(!r.isEnabled){if(V.NC){V.a=V.NC;V.NC=null}else V.a=null}else if(V.a){V.NC=V.a;
V.a=null}V.DY(M);M.U()}if(q==S.Ml){V.NM=!V.NM;M.U()}if(q==S.Mo){V.add.lmfx.masterFXSwitch.v=!V.add.lmfx.masterFXSwitch.v;
V.A.di=!0;M.U()}if(q==S.Mx){V.add.SoLd.filterFX.v.enab.v=!V.add.SoLd.filterFX.v.enab.v;V.D$(M);M.U()}if(q==S.Mv){var G=A.index,J=V.add.lmfx[j.jK[G[0]]].v[G[1]].v;
J.enab.v=!J.enab.v;V.A.di=!0;M.U()}if(q==S.Mp){var m=V.add.SoLd.filterFX.v.filterFXList.v[A.index].v;
m.enab.v=!m.enab.v;V.D$(M);M.U()}if(q==S.Mj){V.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(A.dk));
V.D$(M);M.U()}if(q==S.tw){var r=V.tl();r.NH=!r.NH}if(q==S.ty){var r=V.add.vmsk;r.NH=!r.NH}if(q==S.Mc){if(A.dL)M.k=A.dL;
M.U();M.jb(A.yG)}if(q==S.tQ){if(V.a)V.NC=A.a;else V.a=A.a;V.DY(M);M.U()}if(q==S.te){if(V.NC)V.NC=null;
else V.a=null;V.DY(M);V.z=0;M.U()}if(q==S.tq||q==S.tB){Jw.pV.pS(V,q==S.tq?V.tl():V.tR(M).a,M);if(q==S.tB)V.U()}if(q==S.Mf){V.tR(M).a=A.a;
V.z=0;V.U();M.U()}if(q==S.MP){V.tR(M).a=null;V.z=0;V.U();M.U()}if(q==S.MD){delete V.add.SoLd.filterFX;
V.z=0;M.MF(A.dN);V.DI(M)}if(q==S.t_){if(V.DV()&&V.add.vstk==null){V.add.vstk=JSON.parse(JSON.stringify(j.az.default));
V.add.vstk.strokeEnabled.v=!1}V.add.vmsk=A.a;if(V.a)V.NC=V.a;V.DY(M);M.U()}if(q==S.tN){if(V.NC&&A.a.isEnabled){V.a=V.NC;
V.NC=null}else if(V.a&&A.a.isEnabled){V.a=null}delete V.add.vmsk;V.DY(M);V.uB=!1;M.U()}if(q==S.Ms){V.Dw(A.d_)}if(q==S.MA){for(var w=0;
w<A.T.length;w++)M.T[A.T[w]].add.lclr=A.du[w]}if(q==S.Ma){V.add[A.CB]=JSON.parse(JSON.stringify(A.ut));
V.Di(M);M.U()}if(q==S.MS){V.add.vstk=JSON.parse(JSON.stringify(A.ut));V.Di(M);M.U()}if(q==S.MV){d.xC.xL(V,JSON.parse(JSON.stringify(A.ut)));
V.Di(M);M.U()}if(q==S.Mb){V.th(A.ut);V.DY(M);M.U()}M.wS=!0};Jw.pk=function(){Jw.pM.call(this,d.Ar);this.dX=null;
this.On=null;this.OE=null;this.Om=null};Jw.pk.prototype=new Jw.pM;Jw.pk.prototype.cm=function(A,M,q,V,F){var H=q.T[A.Q],w=A.eE,r=null;
if(this.dX==null){this.OE=Jw.pk.pb(q,H);this.dX=JSON.stringify(this.OE);if(H.add.lmfx)this.On=JSON.stringify(H.add.lmfx)}if(H.add.lmfx==null){H.add.lmfx=JSON.parse(j.default);
for(var C=0;C<j.order.length;C++)H.add.lmfx[j.jK[C]]={t:"VlLs",v:[]}}if(A.H=="changeprop"){if(w!=0){var G=JSON.parse(j.ju[w[0]]),J=H.add.lmfx[j.jK[w[0]]].v;
if(J[w[1]]==null)J[w[1]]={t:"Objc",v:G};r=J[w[1]].v;for(var m in G)if(r[m]==null)r[m]=G[m]}if(A.H=="changeprop"){if(w==0){this.OE[A.CB].v=A.o;
Jw.pk.pL(q,H,this.OE)}else if(A.CB=="lagl"){if(r.uglg&&r.uglg.v){q.jc(A.o.val);this.OE.OJ=q.js()}else r[A.CB].v=A.o}else if(A.CB=="Lald"){if(r.uglg.v){q.jg(A.o.val);
this.OE.Oz=q.jA()}else r[A.CB].v=A.o}else if((w[0]==3||w[0]==8)&&(A.CB=="Clr"||A.CB=="Grad")){if(A.CB=="Clr"){r.Clr={t:"Objc",v:A.o};
delete r.Grad}if(A.CB=="Grad"){r.Grad={t:"Objc",v:A.o};delete r.Clr}}else{r[A.CB].v=A.o}}if(w!=0)if(r.Ptrn)q.jG(Ez.ax(r.Ptrn.v,F.de))}else if(A.H=="st_dupsingle"){var u=H.add.lmfx[j.jK[A.oA[0]]].v;
if(u[A.oA[1]]==null)return;var W=JSON.parse(JSON.stringify(u[A.oA[1]]));u.splice(A.oA[1],0,W)}else if(A.H=="cancel"){if(this.On==null)delete H.add.lmfx;
else H.add.lmfx=JSON.parse(this.On);Jw.pk.pL(q,H,JSON.parse(this.dX));this.dX=null;this.On=null}else if(A.H=="confirm"){var y=new zv([11,6],this);
y.data={Q:A.Q,OG:this.On,Oo:JSON.stringify(H.add.lmfx),Ov:this.dX,OU:JSON.stringify(this.OE)};q.jj(y);
this.dX=null;this.On=null}else if(A.H=="st_copy"){this.Om=this.On;this.dX=null;this.On=null}else{var y=new zv([11,6],this),O=null;
if(A.H=="st_clear")O=null;if(A.H=="st_delsingle"){O=JSON.parse(this.On);O[j.jK[A.oA[0]]].v.splice(A.oA[1],1);
O=JSON.stringify(O)}if(A.H=="st_paste"){if(this.Om==null)return;O=this.Om}if(O==null)delete H.add.lmfx;
else H.add.lmfx=JSON.parse(O);y.data={Q:A.Q,OG:this.On,Oo:O,Ov:this.dX,OU:JSON.stringify(this.OE)};q.jj(y);
this.dX=null;this.On=null}H.A.di=!0;q.U()};Jw.pk.pb=function(A,M){if(M.add.iOpa==null)M.add.iOpa=255;
var q=M.Da()?["pass"].concat(zU.DA):zU.DA;return{lrMd:{v:q.indexOf(M.B_)},Opct:{v:{type:"#Prc",val:Math.round(M.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(M.add.iOpa*100/255)},t:"UntF"},OJ:A.js(),Oz:A.jA(),Da:M.Da()}};
Jw.pk.pL=function(A,M,q){var V=M.Da()?["pass"].concat(zU.DA):zU.DA;M.B_=V[q.lrMd.v];M.opacity=Math.round(q.Opct.v.val*255/100);
M.add.iOpa=Math.round(q.iOpa.v.val*255/100);A.jc(q.OJ);A.jg(q.Oz)};Jw.pk.prototype.cR=function(A,M){var q=M.T[A.Q];
if(A.OG==null)delete q.add.lmfx;else q.add.lmfx=JSON.parse(A.OG);Jw.pk.pL(M,q,JSON.parse(A.Ov));q.A.di=!0;
M.U()};Jw.pk.prototype.cl=function(A,M){var q=M.T[A.Q];if(A.Oo==null)delete q.add.lmfx;else q.add.lmfx=JSON.parse(A.Oo);
Jw.pk.pL(M,q,JSON.parse(A.OU));q.A.di=!0;M.U()};Jw.pZ=function(){Jw.pM.call(this,d.Ah)};Jw.pZ.prototype=new Jw.pM;
Jw.pZ.prototype.cm=function(A,M,q,V){var F=JSON.parse(JSON.stringify(q.NI)),H=JSON.parse(JSON.stringify(q.NI)),w=null,C=null,r=null,G=-1,J=!1;
if(A.H=="delLC"){var m=Jw.pZ.pI(q.NI,A.eE),u=q.NI.lastAppliedComp?q.NI.lastAppliedComp.v:0;H.list.v.splice(m,1);
if(u==A.eE)delete H.lastAppliedComp;w="Delete Layer Comp"}if(A.H=="editLC"){var m=Jw.pZ.pI(q.NI,A.eE),W=H.list.v[m].v;
if(A.d_!=null)W.Nm.v=A.d_;if(A.Ol!=null){var y=A.Ol,O=W.capturedInfo.v,h=O&(1<<y)-1;O=O>>y;if((O&1)==1)O--;
else O++;W.capturedInfo.v=(O<<y)+h}w="Layer Comp properties"}if(A.H=="setLC"){Jw.pZ.pY(q);if(A.eE==0)delete H.lastAppliedComp;
else H.lastAppliedComp={t:"long",v:A.eE};w="Switch Layer Comp";J=!0}if(A.H=="updLC"){Jw.pZ.pY(q);C=Jw.pZ.pB(q,A.eE);
r=Jw.pZ.pN(q,A.eE);H.lastAppliedComp={t:"long",v:A.eE};w="Update Layer Comp";G=A.eE;J=!0}if(A.H=="addLC"){Jw.pZ.pY(q);
var I=1;for(var Z=0;Z<H.list.v.length;Z++)I=Math.max(I,H.list.v[Z].v.compID.v)+1;I+=Math.floor(Math.random()*1e4);
var L={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(H.list.v.length+1)},compID:{t:"long",v:I},capturedInfo:{t:"long",v:7}}};
H.list.v.push(L);H.lastAppliedComp={t:"long",v:I};w="New Layer Comp";var Y=Jw.pZ.pN(q,I);Jw.pZ.pw(q,Y,I)}var B=new zv(w,this);
B.data={OR:F,OH:H,Or:C,OW:r,eE:G,xH:J};this.cl(B.data,q);q.jj(B)};Jw.pZ.prototype.cl=function(A,M){M.NI=A.OH;
M.uN=!0;if(A.OW)Jw.pZ.pw(M,A.OW,A.eE);if(A.xH){var q=M.NI.lastAppliedComp?M.NI.lastAppliedComp.v:0,V=Jw.pZ.pI(M.NI,q),F=V==-1?null:M.NI.list.v[V].v,H=F?F.capturedInfo.v:7;
Jw.pZ.pq(M,q,H);M.U()}};Jw.pZ.prototype.cR=function(A,M){M.NI=A.OR;M.uN=!0;if(A.Or)Jw.pZ.pw(M,A.Or,A.eE);
if(A.xH){var q=M.NI.lastAppliedComp?M.NI.lastAppliedComp.v:0,V=Jw.pZ.pI(M.NI,q),F=V==-1?null:M.NI.list.v[V].v,H=F?F.capturedInfo.v:7;
Jw.pZ.pq(M,q,H);M.U()}};Jw.pZ.pY=function(A){if(A.NI.lastAppliedComp!=null||!A.Oh)return;var M=Jw.pZ.pN(A,0);
Jw.pZ.pw(A,M,0);A.Oh=!1};Jw.pZ.pi=function(A,M,q){A.v.Hrzn.v+=M;A.v.Vrtc.v+=q};Jw.pZ.pI=function(A,M){var q=A.list.v;
for(var V=0;V<q.length;V++)if(q[V].v.compID.v==M)return V;return-1};Jw.pZ.p$=function(A){var M=A.layerSettings.v,F=null;
if(M.length==0)return;var q="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),V=M[0].v;
if(V.enab==null)V.enab={t:"bool",v:!0};if(V.Ofst==null)V.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var H=0;H<M.length;H++){var w=M[H].v;if(F==null)F=JSON.parse(JSON.stringify(w));else for(var C=0;
C<q.length;C++){var r=q[C];if(w[r])F[r]=JSON.parse(JSON.stringify(w[r]))}M[H].v=JSON.parse(JSON.stringify(F))}};
Jw.pZ.pK=function(A,M){var q=A.add.shmd.cmls,V=q.layerSettings.v;for(var F=0;F<V.length;F++){var H=V[F].v,w=H.compList.v[0].v;
if(w==M)return F}return-1};Jw.pZ.pe=function(A,M){var q=Jw.pZ.pK(A,M);return q==-1?null:A.add.shmd.cmls.layerSettings.v[q].v};
Jw.pZ.pq=function(A,M,q){for(var V=0;V<A.T.length;V++){var F=A.T[V],H=F.add.shmd.cmls,w=H.layerSettings.v,C=Jw.pZ.pe(F,M);
if(C==null){F.tE(!1);continue}if((q&1)!=0){if(C.enab)F.tE(C.enab.v);else F.tE(!0)}if((q&2)!=0){if(C.Ofst){var r=C.Ofst.v,G=F.tG(A),J=Math.round(r.Hrzn.v-G.x),m=Math.round(r.Vrtc.v-G.y);
if(J!=0||m!=0)d.gS.gQ(A,[V],null,J,m)}}if((q&4)!=0){if(C.Lefx){var u=JSON.parse(JSON.stringify(C.Lefx.v));
zP.HY(u);if(JSON.stringify(u)!=JSON.stringify(F.add.lmfx)){F.add.lmfx=u;F.A.di=!0}}else delete F.add.lmfx;
if(C.blendOptions){var W=C.blendOptions.v;if(W.Opct)F.opacity=Math.round(255*W.Opct.v.val/100);if(W.Md)F.B_=F.add.lsct==zT.tA?"norm":zU.DP(W.Md.v.BlnM)}else{F.opacity=255;
F.B_=F.Da()?"pass":"norm"}}}};Jw.pZ.pB=function(A,M){var q={};for(var V=0;V<A.T.length;V++){var F=A.T[V];
if(F.add.shmd==null||F.add.shmd.cmls==null)continue;q["l"+F.add.lyid]=JSON.parse(JSON.stringify(Jw.pZ.pe(F,M)))}return q};
Jw.pZ.pN=function(A,M){var q={};for(var V=0;V<A.T.length;V++){var F=A.T[V],H=F.add.lyid;q["l"+H]=Jw.pZ.pQ(A,F,M)}return q};
Jw.pZ.pQ=function(A,M,q){var V=M.add.shmd?M.add.shmd.cmls:null,F={classID:"null"},H=M.tG(A),w={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:H.x},Vrtc:{t:"long",v:H.y}}};
F.compList={t:"VlLs",v:[{t:"long",v:q}]};F.enab={t:"bool",v:M.Dy()};F.Ofst=JSON.parse(JSON.stringify(w));
F.FXRefPoint=JSON.parse(JSON.stringify(V&&V.origFXRefPoint?V.origFXRefPoint:w));F.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:zU.EvD(M.B_)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*M.opacity/255}}}};
if(M.add.vmsk){F.vectorMask={t:"Objc",v:{classID:"null"}};F.vectorMask.v.Ofst=JSON.parse(JSON.stringify(w))}if(M.add.lmfx){F.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(M.add.lmfx))};
zP.Hi(F.Lefx.v)}return F};Jw.pZ.p_=function(A,M){var q=M.add.lyid;if(M.add.shmd==null)M.add.shmd={};
if(M.add.shmd.cmls==null){M.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:q},layerSettings:{t:"VlLs",v:[{t:"Objc",v:Jw.pZ.pQ(A,M,0)}]}}}};
Jw.pZ.pw=function(A,M,q){for(var V=0;V<A.T.length;V++){var F=A.T[V],H=F.add.lyid;Jw.pZ.p_(A,F);var w=F.add.shmd.cmls,C=w.layerSettings.v,r=M["l"+H];
if(r!=null)r={t:"Objc",v:JSON.parse(JSON.stringify(r))};var G=Jw.pZ.pK(F,q);if(G==-1){if(r==null)continue;
else C.push(r)}else{if(r==null)C.splice(G,1);else C[G]=r}}};Jw.pZ.py=function(A,M){for(var q=0;q<A.T.length;
q++){var V=A.T[q],F=V.add.lyid;if(V.add.shmd==null||V.add.shmd.cmls==null)continue;var H=V.tG(A),w=Math.round(H.x),C=Math.round(H.y);
if(!M){w=-w;C=-C}var r=V.add.shmd.cmls,G=r.layerSettings.v;if(r.origFXRefPoint)Jw.pZ.pi(r.origFXRefPoint,-w,-C);
for(var J=0;J<G.length;J++){var m=G[J].v;Jw.pZ.pi(m.Ofst,w,C);if(m.imageMask)Jw.pZ.pi(m.imageMask.v.Ofst,w,C);
if(m.vectorMask)Jw.pZ.pi(m.vectorMask.v.Ofst,w,C)}}};Jw.pu=function(){Jw.pM.call(this,d.AU);this.wh=null};
Jw.pu.prototype=new Jw.pM;Jw.pu.prototype.cm=function(A,M,q,V,F){var H=A.H;if(H=="edit_layer")this.pd(A,M,q,V);
if(H=="edit"||H=="confirm"||H=="cancel")this.pO(A,q,F);if(H=="start"){var w=q.T[q.k[0]];if(A.OT=="nvrt"&&(w.z==1||w.z==3)){var C=new N(_.E.V,!0);
C.v=d.AH;C.data={H:w.z==1?S.tq:S.tB};M.t(C);return}if(w.add.SoLd){var C=new N(_.E.V,!0);C.v=d.AW;C.data={H:"start",filter:A.OT};
M.t(C);return}if(!q.jr())return;if(EX[A.OT]){if(q.k.length!=1)alert("Will be applied to "+q.k.length+" layers.");
var C=new N(_.E.K,!0);C.data={H:_.u.S_,KL:"adjust_"+A.OT};M.t(C)}else{this.pO({H:"edit",lI:1,BW:A.OT},q,F);
this.pO({H:"confirm",BW:A.OT},q,F)}}};Jw.pu.prototype.pd=function(A,M,q,V){var F=A.H,H=q.k[0],w=q.T[H],C=q.history[q.y_],r;
if(C&&C.v==this&&C.data.uD!=null&&C.data.Q==H)r=C;else{var r=new zv([6,39],this);r.data={Q:H,uD:zG.Dm(w.add),ut:A.o};
q.jj(r)}r.data.ut=A.o;this.cl(r.data,q)};Jw.pu.getData=function(A,M){var q=[];for(var V=0;V<A.k.length;
V++){var F={Q:A.k[V]};q.push(F);var H=A.T[A.k[V]];if(A.q)F.Os=A.q.rect.vt(H.rect);else F.Os=M?H.rect.vP(new U(0,0,A.n,A.J)):H.rect.clone();
var w=F.Os.X();F._v=Q.b(w*4);F.Oc=Q.b(w*4);Q.mL(H.buffer,H.rect,F._v,F.Os);Q.mL(H.buffer,H.rect,F.Oc,F.Os);
if(A.q){F.OA=Q.b(w);Q.mC(A.q.channel,A.q.rect,F.OA,F.Os)}}return q};Jw.pu.prototype.pO=function(A,M,q){if(this.wh==null)this.wh=Jw.pu.getData(M);
if(A.H=="edit"){var V=zG.PQ(A.BW,A.lI);if(V!=null){for(var F=0;F<this.wh.length;F++){var H=this.wh[F];
zG.P_(V,H._v,H.Oc)}Jw.pu.fn(M,this.wh)}}if(A.H=="cancel"){Jw.pu.pX(M,this.wh);this.wh=null}if(A.H=="confirm"){Jw.pu.pF(M,this.wh,zG.names[A.BW],this);
this.wh=null}M.U()};Jw.pu.pF=function(A,M,q,V){for(var F=0;F<M.length;F++){var H=M[F],w=A.T[H.Q];w.mX();
w.U();Q.mL(w.buffer,w.rect,H.Oc,H.Os)}var C=new zv(q,V);C.data=M;A.jj(C)};Jw.pu.pX=function(A,M){for(var q=0;
q<M.length;q++){var V=M[q],F=A.T[V.Q];Q.mL(V._v,V.Os,F.buffer,F.rect);F.U()}};Jw.pu.fn=function(A,M){for(var q=0;
q<M.length;q++){var V=M[q],F=A.T[V.Q];F.extend(V.Os);if(V.OA){Q.mL(V._v,V.Os,F.buffer,F.rect);Q.S.Jt(V.Oc,V.Os,F.buffer,F.rect,V.OA,V.Os,0,V.Os,1)}else Q.mL(V.Oc,V.Os,F.buffer,F.rect);
F.U()}};Jw.pu.fE=function(A,M,q){for(var V=0;V<M.length;V++){var F=M[V],H=A.T[F.Q];H.extend(F.Os);Q.mL(q?F.Oc:F._v,F.Os,H.buffer,H.rect);
H.mX();H.U()}};Jw.pu.prototype.cR=function(A,M){var q=M.T[A.Q];if(A.uD!=null)zG.rM(A.uD,q.add);else Jw.pu.fE(M,A,!1);
M.U()};Jw.pu.prototype.cl=function(A,M){var q=M.T[A.Q];if(A.uD!=null)zG.rM(A.ut,q.add);else Jw.pu.fE(M,A,!0);
M.U()};Jw.fm=function(){Jw.pM.call(this,d.AW);this.wh=null;this.H=null};Jw.fm.prototype=new Jw.pM;Jw.fm.prototype.cm=function(A,M,q,V,F){if(A.H=="start"){var H=q.T[q.k[0]],w;
if(H.add.SoLd){w={Q:q.k[0],index:0};if(H.add.SoLd.filterFX!=null)w.index=H.add.SoLd.filterFX.v.filterFXList.v.length}else if(!q.jr())return;
var C=A.filter;if(mn[C]||EX[C]){if(q.k.length!=1)alert("Will be applied to "+q.k.length+" layers.");
var r=new N(_.E.K,!0);r.data={H:_.u.S_,KL:"filter_"+C,Og:w};M.t(r)}else A={H:"edit",filter:A.filter,Og:w}}if(A.H=="edit"||A.H=="cancel"||A.H=="confirm"){if(A.Og)this.fJ(A,q,F);
else this.fG(A,q,F)}};Jw.fm.prototype.fJ=function(A,M,q){var V=M.T[A.Og.Q],F=A.filter;if(A.H=="edit"){if(this.H==null){var H=Ju.names[F];
if(H==null)H=zG.names[F];this.H=new zv(H,this);this.H.data={Og:A.Og,Ox:JSON.parse(JSON.stringify(V.add.SoLd))}}if(!V.tJ()){V.add.SoLd.filterFX=Ju.Ds();
this.H.data.dN={id:V.add.SoLd.placed.v,rect:new U,buffer:Q.b(1),a:new S.tg};M.MO(this.H.data.dN);V.DI(M)}var w=V.add.SoLd.filterFX.v.filterFXList.v;
if(w[A.Og.index]==null){w.push(Ju.Dc(F,q))}if(A.lI)w[A.Og.index].v.Fltr.v=A.lI;this.H.data.Op=JSON.parse(JSON.stringify(V.add.SoLd));
this.cl(this.H.data,M);if(A.lI==null)A={H:"confirm"}}if(A.H=="cancel"){this.cR(this.H.data,M);this.H=null}if(A.H=="confirm"){M.jj(this.H);
this.H=null}};Jw.fm.prototype.fz=function(A){return{e:A>>16,g:A>>8&255,$:A&255}};Jw.fm.prototype.fG=function(A,M,q){if(this.wh==null)this.wh=Jw.pu.getData(M,!0);
if(A.H=="edit"){for(var V=0;V<this.wh.length;V++){var F=this.wh[V],H={rect:F.Os,buffer:F._v},w={rect:F.Os,buffer:F.Oc};
Ju.P_(A.filter,H,A.lI,this.fz(q._c),this.fz(q._A),w)}Jw.pu.fn(M,this.wh);if(A.lI==null)A={H:"confirm",filter:A.filter}}if(A.H=="cancel"){Jw.pu.pX(M,this.wh);
this.wh=null}if(A.H=="confirm"){Jw.pu.pF(M,this.wh,Ju.names[A.filter],this);this.wh=null}M.U()};Jw.fm.prototype.cR=function(A,M){if(A.Og){var q=M.T[A.Og.Q];
if(A.dN)M.MF(A.dN);q.add.SoLd=JSON.parse(JSON.stringify(A.Ox));if(q.tJ())q.D$(M);else{q.DI(M);q.z=0}}else Jw.pu.fE(M,A,!1);
M.U()};Jw.fm.prototype.cl=function(A,M){if(A.Og){var q=M.T[A.Og.Q];if(A.dN)M.MO(A.dN);q.add.SoLd=JSON.parse(JSON.stringify(A.Op));
if(q.tJ())q.D$(M);else q.DI(M);if(!q.Dd())q.Nj+=32}else Jw.pu.fE(M,A,!0);M.U()};var EW={fo:"0",fv:"1",fU:"2",fl:"3",fR:"4",fH:"5",fr:"6",fW:"7",fh:"8",fT:"10",fs:"10.5",fc:"11",fA:"13",cY:"20",fg:"21",fx:"22",ERh:"23",ff:"23.0",fP:"23.1",fD:"23.2",ft:"23.3",fM:"23.4",fj:"30",fa:"31",fV:"40",fC:"41"};
function R(){this.Of={};this.OP=0}R.prototype.reset=function(){this.Of={};this.OP=0};R.prototype.fS=function(A){this.OP++;
A=R.fY(A);this.Of[A]=!0};R.prototype.fk=function(A){this.OP--;A=R.fY(A);delete this.Of[A];if(this.OP<=0||A=="Meta")this.reset()};
R.prototype.j=function(A){return this.Of[A]==!0};R.prototype.fL=function(){var A=this,M=A.j(R.fq)?10:1,q=0,V=0;
if(A.j(R.fO))q=-M;if(A.j(R.fX))q=M;if(A.j(R.fF))V=-M;if(A.j(R.Pn))V=M;return new f(q,V)};R.prototype.fZ=function(){var A=this;
for(var M=0;M<10;M++)if(A.j(""+M))return M;return-1};R.fY=function(A){return A.length==1?A.toUpperCase():A};
R.fi=function(A){A=R.fY(A);return R.ElY.indexOf(A)==-1};R.EzI=function(A){if(A==null)return"";var M=[];
for(var q=0;q<A.length;q++){var V=A[q];M.push(R.f$(V))}return M.join(" + ")};R.f$=function(A){return A};
R.ElY="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape V".split(" ");
R.fe="Enter";R.fq="Shift";R.fB="Control";R.fN="Meta";R.fQ="Alt";R.f_="Escape";R.fw=" ";R.fy="Tab";R.fu="Home";
R.fd="End";R.fO="ArrowLeft";R.fF="ArrowUp";R.fX="ArrowRight";R.Pn="ArrowDown";R.ERr="+";R.EvI="-";R.Emb=";";
R.EmZ="Dead";R.Ema="=";R.EoM="Backspace";R.Pv="Delete";R.EmG="[";R.EoD="]";R.EoP="{";R.Eof="}";R.ERB=".";
R.u="A";R.Ph="B";R.fz="C";R.Js="D";R.E="E";R.HH="F";R.PT="G";R.EEM="H";R.Pc="I";R.PA="J";R.Pg="K";R.Px="L";
R.Pp="M";R.Pf="N";R.PP="O";R.PD="P";R.Evq="Q";R.EnX="R";R.Pj="S";R.A="T";R.Pa="U";R.PV="V";R.EGw="W";
R.PS="X";R.EHW="Y";R.Pb="Z";R.ElS="0";R.Evr="1";R.EnQ="2";R.Enq="3";R.ERy="4";R.EUt="5";R.EGC="6";R.EnW="7";
R.Enf="8";R.EJk="9";function zv(A,M,q){if(q==null)q=!1;this.name=A;this.v=M;this.OD=q;this.data=null}var zG={};
zG.get=function(A){for(var M in zG.names)if(A[M]!=null)return M;return null};zG.PQ=function(A,M){var q;
if(A=="brit"){var V=M[0],F=M[1],H=M[2];if(H){var w=V/255,C=1+F/100;if(C>1)C=1+Math.tan(Math.PI/2*F/100);
var r=(1-C)/2,G=Q.GO.GX(w,w,w),J=[C,0,0,r,0,C,0,r,0,0,C,r,0,0,0,1],m=Q.GO.multiply(G,J),u=new Q.JU(256);
for(var W=0;W<256;W++)u.e[W]=W;Q.GO.transform(u,u,m);q={type:"remap",qi:u.e,qI:u.e,q$:u.e,Ot:!1,OM:!1}}else{var y=1024,O=-30+60*(F+100)/200,h=[],Z;
for(var W=0;W<4;W++)h.push(Q.vC.vS(W/3*255,W/3*255,!0));h[1].v.Hrzn.v=64;h[1].v.Vrtc.v=64-O;h[2].v.Hrzn.v=128+64;
h[2].v.Vrtc.v=128+64+O;h.sort(function(GB,GN){return GB.v.Hrzn.v-GN.v.Hrzn.v});var I=Q.vC.ve(h,y);h=[];
for(var W=0;W<3;W++)h.push(Q.vC.vS(W/2*255,W/2*255,!0));if(V<0){var L=128+10*V/150,Y=128-120*V/150;h[1].v.Hrzn.v=Y;
h[1].v.Vrtc.v=L;Z=Q.vC.ve(h,y);for(var W=0;W<y;W++)if(W*(255/y)<Y)Z[W]=W*(255/y)/Y*L/255}else{h[1].v.Hrzn.v=128-64*V/150;
h[1].v.Vrtc.v=128+24*V/150;Z=Q.vC.ve(h,y)}var B=new Uint8Array(y);for(var W=0;W<y;W++){var X=Math.round((y-1)*Z[W]);
B[W]=Math.round(255*I[X])}q={type:"remap",qi:B,qI:B,q$:B,Ot:!1,OM:!1}}}if(A=="levl"){var E=M,c,o,G,s,z,k;
c=-E[0][0]/255;o=1/(E[0][1]/255-E[0][0]/255);G=Q.GO.multiply(Q.GO.on(o,o,o),Q.GO.GX(c,c,c));s=Q.GO.on(1/(E[1][1]/255-E[1][0]/255),1/(E[2][1]/255-E[2][0]/255),1/(E[3][1]/255-E[3][0]/255));
z=Q.GO.GX(-E[1][0]/255,-E[2][0]/255,-E[3][0]/255);k=Q.GO.multiply(s,z);var B=new Q.JU(256);for(var W=0;
W<256;W++)B.e[W]=B.g[W]=B.$[W]=W;var b=1/(E[0][4]/100),T=1/(E[1][4]/100),l=1/(E[2][4]/100),$=1/(E[3][4]/100);
Q.GO.transform(B,B,k);for(var W=0;W<256;W++){B.e[W]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.e[W]/255,T))));
B.g[W]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.g[W]/255,l))));B.$[W]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.$[W]/255,$))))}Q.GO.transform(B,B,G);
for(var W=0;W<256;W++){B.e[W]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.e[W]/255,b))));B.g[W]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.g[W]/255,b))));
B.$[W]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.$[W]/255,b))))}c=E[0][2]/255;o=E[0][3]/255-E[0][2]/255;
G=Q.GO.multiply(Q.GO.GX(c,c,c),Q.GO.on(o,o,o));s=Q.GO.on(E[1][3]/255-E[1][2]/255,E[2][3]/255-E[2][2]/255,E[3][3]/255-E[3][2]/255);
z=Q.GO.GX(E[1][2]/255,E[2][2]/255,E[3][2]/255);k=Q.GO.multiply(z,s);Q.GO.transform(B,B,Q.GO.multiply(G,k));
q={type:"remap",qi:B.e,qI:B.g,q$:B.$,Ot:!1,OM:!1}}if(A=="curv"){var e=M[0].length==256?1:0,i=[];if(e==0){var g=Q.vC.vB(M[0],256);
for(var W=1;W<4;W++){var P=Q.vC.vB(M[W],256);i.push(Q.vC.vN(P,g))}}else{var n=[];for(var W=0;W<4;W++){var p=new Uint8Array(256);
n.push(p);for(var t=0;t<256;t++)p[t]=M[W][t]}for(var W=1;W<4;W++)i.push(Q.vC.vN(n[W],n[0]))}q={type:"remap",qi:i[0],qI:i[1],q$:i[2],Ot:!1,OM:!1}}if(A=="expA"){var x=M[0],D=M[1],Gp=M[2],B=new Uint8Array(256);
for(var W=0;W<256;W++){var M=W/255,zY=Math.pow(Math.abs(D),1/(Math.PI/2));if(D>0){M=Math.max(D/Math.E,M);
M=M*Math.exp(D/1.75+x/Math.PI);M=(1-zY)*M+zY*1}else{M=M*Math.exp(-D*1.75+x/Math.PI);M=M+-zY*1.14}M=Math.pow(M,1/Gp);
M=Math.max(0,Math.min(1,M));B[W]=Math.round(M*255)}q={type:"remap",qi:B,qI:B,q$:B,Ot:!1,OM:!1}}if(A=="vibA"){q={type:"vibrance",KI:M}}if(A=="hue2"){M=JSON.parse(JSON.stringify(M));
var zi=[],zI=[],z$=[];for(var W=0;W<256;W++){zi[W]=W/255;zI[W]=0;z$[W]=0}var zK=M.N_?M.Kr:M.Nw,ze=1+zK[2]/100,zq=ze<1?1:0,zB=zq*ze+1-zq,zN=(1-zq)*(ze-1);
if(M.N_){var zQ=zK[0]/360,z_=Math.tan(Math.PI/2*zK[1]/100);for(var W=0;W<256;W++){zi[W]=zQ;zI[W]=z_}}else{for(var W=0;
W<256;W++){var zw=zi[W],zy=zI[W];zi[W]+=zK[0]/360;var zu=zK[1]/100;if(zu>0)zu=Math.tan(Math.PI/2*zK[1]/100);
for(var t=0;t<6;t++){var zd=M.Ny[t].BO,zO=M.Ny[t].Nu,zY=0;for(var zF=1;zF<4;zF++)if(zO[zF]<zO[0])zO[zF]+=360;
var zX=zO[0],Gn=zO[1],GE=zO[2],Gm=zO[3],GJ=zw*360;if(GJ<zO[0])GJ+=360;var Gz=(GJ-zX)/(Gn-zX),GG=(GJ-GE)/(Gm-GE);
if(Gz<0)zY=0;else if(Gz<1)zY=Gz;else if(GG<0)zY=1;else if(GG<1)zY=1-GG;else zY=0;var C=zd[1]/100;if(C>0)C=Math.tan(Math.PI/2*zd[1]/100);
zi[W]+=zY*zd[0]/360;zI[W]+=zY*C;z$[W]+=zY*zd[2]/100}}for(var W=0;W<256;W++){zI[W]=(1+zI[W])*(1+zu)-1;
z$[W]=Math.max(-1,Math.min(1,z$[W]))}}var Go=new Uint8Array(256),Gv=new Uint8Array(256),GU=new Uint8Array(256);
for(var W=0;W<256;W++){zi[W]-=Math.floor(zi[W]);var Gl=zI[W];if(Gl<0)zI[W]=(1+zI[W])*.5;else zI[W]=.5+.49*Math.atan2(zI[W],1)/(Math.PI/2);
z$[W]=(1+z$[W])/2;Go[W]=Math.round(255*zi[W]);Gv[W]=Math.round(255*zI[W]);GU[W]=Math.round(255*z$[W])}q={type:"remapHSL",_C:Go,qM:Gv,_S:GU,_k:zB,_b:zN,_L:M.N_?1:0}}if(A=="nvrt"){var B=new Uint8Array(256);
for(var W=0;W<256;W++)B[W]=255-W;q={type:"remap",qi:B,qI:B,q$:B,Ot:!1,OM:!1}}if(A=="grdm"){var GH=M[0],Gr=Q.r.GP(GH.Clrs.v,0,0),y=1024,GW=Q.r.GM(GH,Gr,y),Gh=Q.b(y),GT=Q.b(y),Gs=Q.b(y);
Q.mH(GW,Gh,0);Q.mH(GW,GT,1);Q.mH(GW,Gs,2);if(M[1]){Gh.reverse();GT.reverse();Gs.reverse()}q={type:"remap",qi:Gh,qI:GT,q$:Gs,Ot:!0,OM:!1}}if(A=="selc"){var Gc=new Float32Array(9*3*2),GA=M.NO,Gg=M.Nd;
for(var t=1;t<10;t++){var Gx=(t-1)*6,Jy=GA[t][0]/100,Gf=GA[t][1]/100,GP=GA[t][2]/100,GD=GA[t][3]/100;
if(Gg){Gc[Gx]=Gc[Gx+1]=Gc[Gx+2]=1;Gc[Gx+3]=Jy*(1+GD)+GD;Gc[Gx+4]=Gf*(1+GD)+GD;Gc[Gx+5]=GP*(1+GD)+GD}else{Gc[Gx+0]=(1+Jy)*(1+GD);
Gc[Gx+1]=(1+Gf)*(1+GD);Gc[Gx+2]=(1+GP)*(1+GD)}}q={type:"selc",zT:Gc}}if(A=="blwh"){var Gt=[],GC=0,GS=0;
for(var W=0;W<6;W++)Gt.push((M[W]-50)/50);var GM=Q.r.GD(M[7]);GM.e/=255;GM.g/=255;GM.$/=255;var Gj=Q.EX(GM.e,GM.g,GM.$),Ga=Q.EK(Q.EF(Gj.eU,1,.5)),GV=Gj.eD*Gj.lI;
if(Ga==.5)GC=GS=.5;else{GC=GV*(.5-Ga)/(.5/Ga-1);GS=1-GV*(.5-Ga)-1/(2*(1-Ga));GS/=1-1/(2*(1-Ga))}q={type:"blwh",Oj:Gt,qe:M[6]?1:0,Oa:Gj.eU,EK:Ga,OV:GV,BD:GC,OC:GS}}if(A=="blnc"){var E=[];
for(var W=0;W<3;W++){var Gk=M.BO[W][0]/100,Gb=M.BO[W][1]/100,GZ=M.BO[W][2]/100,GY=M.EK?GY=(Math.min(Gk,Gb,GZ)+Math.max(Gk,Gb,GZ))/2:0;
E[W]=[Gk-GY,Gb-GY,GZ-GY]}var i=[Q.b(256),Q.b(256),Q.b(256)];for(var t=0;t<3;t++)for(var W=0;W<256;W++){var Gi=W*(1/255),GI=0,O=0,G$=0;
O=E[2][t];G$=Math.abs(O);if(O<0)GI=Math.pow(Gi,Math.SQRT2);else GI=1.63*(Math.pow(Gi+.04,.5)-.2);Gi=G$*GI+(1-G$)*Gi;
O=E[1][t];G$=Math.abs(O);if(O<0)GI=Math.pow(Gi,2);else GI=Math.min(2.35*(Math.pow(Gi+.09,.5)-.3),Math.pow(Gi,1/2));
Gi=G$*GI+(1-G$)*Gi;O=E[0][t];G$=Math.abs(O);if(O<0)GI=Gi<.4?0:Math.pow((Gi-.4)/.6,Math.SQRT2);else GI=Math.pow(Gi,Math.SQRT2/2);
Gi=G$*GI+(1-G$)*Gi;Gi=Math.max(0,Math.min(1,Gi));i[t][W]=Math.round(Gi*255)}q={type:"remap",qi:i[0],qI:i[1],q$:i[2],Ot:!1,OM:!1}}if(A=="phfl"){var GK=[M.Kr.Rd.v/255,M.Kr.Grn.v/255,M.Kr.Bl.v/255],Ge=M.Nn/100,i=[Q.b(256),Q.b(256),Q.b(256)];
for(var t=0;t<3;t++)for(var W=0;W<256;W++){var Gi=W*(1/255),Gq=Gi*GK[t];Gq=Math.max(0,Math.min(1,Gq));
Gi=Ge*Gq+(1-Ge)*Gi;i[t][W]=Math.round(Gi*255)}q={type:"remap",qi:i[0],qI:i[1],q$:i[2],Ot:!1,OM:M.NE}}if(A=="thrs"){var B=Q.b(256);
for(var W=M;W<256;W++)B[W]=255;q={type:"remap",qi:B,qI:B,q$:B,Ot:!0,OM:!1}}return q};zG.P_=function(A,M,q){var V=Date.now();
if(A.type=="blwh"){var F=A.OV,H=A.EK,w=A.BD,C=A.OC,r=M.length;for(var G=0;G<r;G+=4){var J=M[G]*(1/255),m=M[G+1]*(1/255),u=M[G+2]*(1/255),W=Q.Ed(J,m,u),y=0;
for(var O=0;O<6;O++)y+=Math.min(1,1.7*(1-W.et))*W.eD*A.Oj[O]*zG.Py(W.eU,O*(1/6));var h=Math.max(0,Math.min(1,W.et*(1+y)));
if(A.qe==1){var I=0;if(h<w)I=h*(.5/H);else if(h<C)I=h+F*(.5-H);else I=1-(1-h)*.5/(1-H);W.eU=A.Oa;W.eD=Math.min(1,F+3*F*Math.abs(h-.5*(w+C)));
W.et=I}else{W.eU=0;W.eD=0;W.et=h}var Z=Q.EF(W.eU,W.eD,W.et);q[G]=Math.round(Z.e*255);q[G+1]=Math.round(Z.g*255);
q[G+2]=Math.round(Z.$*255)}}if(A.type=="selc"){var L=A.zT,r=M.length,Y=1/255;for(var G=0;G<r;G+=4){var J=M[G]*Y,m=M[G+1]*Y,u=M[G+2]*Y,W=Q.Ed(J,m,u),B=Math.max(J,Math.max(m,u)),X=Math.min(J,Math.min(m,u)),E=1-J,c=1-m,o=1-u,s=0,z=0,k=0;
for(var O=0;O<9;O++){var b=O*6,e=0;if(L[b]==1&&L[b+1]==1&&L[b+2]==1&&L[b+3]==0&&L[b+4]==0&&L[b+5]==0)continue;
var T=E*L[b]+L[b+3],l=c*L[b+1]+L[b+4],$=o*L[b+2]+L[b+5];if(O<6)e=zG.Py(W.eU,O*(1/6))*W.eD*2*Math.min(W.et,1-W.et);
else if(O==6)e=Math.max(0,X-.5)*2;else if(O==7)e=1-(Math.abs(B-.5)+Math.abs(X-.5));else e=Math.max(0,.5-B)*2;
s+=(Math.max(0,Math.min(1,T))-E)*e;z+=(Math.max(0,Math.min(1,l))-c)*e;k+=(Math.max(0,Math.min(1,$))-o)*e}E=Math.max(0,Math.min(1,E+s));
c=Math.max(0,Math.min(1,c+z));o=Math.max(0,Math.min(1,o+k));J=1-E;m=1-c;u=1-o;q[G]=Math.round(J*255);
q[G+1]=Math.round(m*255);q[G+2]=Math.round(u*255)}}if(A.type=="remap"){Q.EEe(M,q,A.qi,A.qI,A.q$,A.Ot,A.OM)}if(A.type=="remapHSL"){var i=new Uint32Array(M.buffer),g=new Uint32Array(q.buffer),r=i.length;
for(var G=0;G<r;G++){var P=i[G],J=(P&255)*(1/255),m=(P>>>8&255)*(1/255),u=(P>>>16&255)*(1/255),n=P>>>24,zi;
J=A._k*J+A._b*(1-J);m=A._k*m+A._b*(1-m);u=A._k*u+A._b*(1-u);var W=Q.Ed(J,m,u),p=W.eU,t=W.eD,x=W.et,D=A._C[Math.round(p*255)]*(1/255),Gp=A.qM[Math.round(p*255)]*(1/255)*2-1,zY=A._S[Math.round(p*255)]*(1/255)*2-1;
if(A._L==1)zi=Gp;else{if(Gp>0)Gp=Math.tan(Math.PI/2*Gp);var zi=Math.min(t*(1+Gp),1)}var zI=Math.abs(zY),z$=Q.EF(D,zi*(1-zI),x+(zY>0?1:-1)*Math.min(x,1-x)*t),Z=Q.EF(D,zi,x);
J=Z.e*(1-zI)+z$.e*zI;m=Z.g*(1-zI)+z$.g*zI;u=Z.$*(1-zI)+z$.$*zI;g[G]=n<<24|u*255<<16|m*255<<8|J*255}}if(A.type=="vibrance"){var i=new Uint32Array(M.buffer),g=new Uint32Array(q.buffer),r=i.length,zK=A.KI[0]/100,ze=A.KI[1]/100;
for(var G=0;G<r;G++){var P=i[G],J=(P&255)*(1/255),m=(P>>>8&255)*(1/255),u=(P>>>16&255)*(1/255),n=P>>>24,W=Q.EX(J,m,u),p=W.eU,t=W.eD,x=W.lI,zq=0,zB=45/360,zN=p<zB?Math.cos(Math.PI/2*(p-zB/2)/(zB/2)):0;
t=t+.2*(1-.4*zN)*zK*Math.max(0,Math.sin(t*Math.PI));t=t*(1+ze);t=Math.max(0,Math.min(1,t));var Z=Q.mn(p,t,x);
J=Z.e;m=Z.g;u=Z.$;g[G]=n<<24|u*255<<16|m*255<<8|J*255}}};zG.EmL=function(A,M,q){if(A.type=="remap")v.my(M,{e:A.qi,g:A.qI,$:A.q$},A.Ot,A.OM,q);
if(A.type=="remapHSL")v.RF(M,{e:A._C,g:A.qM,$:A._S},q,A._k,A._b,A._L);if(A.type=="vibrance")v.HE(M,A.KI[0]/100,A.KI[1]/100,q);
if(A.type=="selc")v.Hm(M,A.zT,q);if(A.type=="blwh")v.HJ(M,A.Oj,[A.qe,A.Oa,A.EK,A.OV,A.BD,A.OC],q)};zG.Py=function(A,M){var q=Q.EN(M,A)*6;
return Math.max(0,Math.min(1,q<0?1+q:1-q))};zG.ready={brit:1,levl:1,curv:1,expA:1,vibA:1,hue2:1,blnc:1,blwh:1,phfl:1,nvrt:1,thrs:1,grdm:1,selc:1};
zG.Pu=["expA","phfl"];zG.Pd={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Thrs:"thrs",GrMp:"grdm",SlcC:"selc"};
zG.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15]};
zG.keys={levl:[R.fB,R.Px],curv:[R.fB,R.Pp],hue2:[R.fB,R.Pa],nvrt:[R.fB,R.Pc],blnc:[R.fB,R.Ph]};zG.PO=function(A,M){if(A=="brit"){M.brit={Bw:0,By:0,Bu:0,Bd:0};
M.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}}}if(A=="levl"){M[A]=[];
for(var q=0;q<62;q++)M[A].push([0,255,0,255,100])}if(A=="curv")M[A]=[[0,0,255,255],[0,0,255,255],[0,0,255,255],[0,0,255,255]];
if(A=="expA")M[A]=[0,0,1];if(A=="vibA")M[A]={classID:"null",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};
if(A=="hue2")M[A]={N_:!1,Kr:[0,25,0],Nw:[0,0,0],Ny:[{Nu:[315,345,15,45],BO:[0,0,0]},{Nu:[15,45,75,105],BO:[0,0,0]},{Nu:[75,105,135,165],BO:[0,0,0]},{Nu:[135,165,195,225],BO:[0,0,0]},{Nu:[195,225,255,285],BO:[0,0,0]},{Nu:[255,285,315,345],BO:[0,0,0]}]};
if(A=="nvrt")M[A]=1;if(A=="grdm")M[A]={rev:!1,NJ:!1,r:{Clrs:{t:"VlLs",v:[{t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:255},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}},{t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:255},Grn:{t:"doub",v:255},Bl:{t:"doub",v:255}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:4096},Mdpn:{t:"long",v:50}}}]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:"Foreground to Background\0"},Trns:{t:"VlLs",v:[{t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}},{t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:4096},Mdpn:{t:"long",v:50}}}]}},mode:0,Nz:867527939,NG:!1,No:!0,Nv:2048,NU:3,Nl:[0,0,0,0],NR:[32768,32768,32768,32768]};
if(A=="selc"){M[A]={Nd:!0,NO:[]};for(var q=0;q<10;q++)M[A].NO.push([0,0,0,0])}if(A=="blwh")M[A]={classID:"null",Rd:{t:"long",v:50},Yllw:{t:"long",v:50},Grn:{t:"long",v:50},Cyn:{t:"long",v:50},Bl:{t:"long",v:50},Mgnt:{t:"long",v:50},useTint:{t:"bool",v:!1},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:255},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}},bwPresetKind:{t:"long",v:3},blackAndWhitePresetFileName:{t:"TEXT",v:""}};
if(A=="blnc")M[A]={BO:[[0,0,0],[0,0,0],[0,0,0]],EK:!1};if(A=="thrs")M[A]=128;if(A=="phfl")M[A]={color:{BX:7,lI:[1254,3530,63045,0]},Nn:10,NE:!1}};
zG.PF=function(A,M,q){if(A=="brit"){q.Brgh.v=M[0];q.Cntr.v=M[1];q.useLegacy.v=M[2]}if(A=="levl"){var V=q.Adjs.v=[];
for(var F=0;F<4;F++){var H=M[F],w={classID:"LvlA",Chnl:zG.Dn(F)};w.Inpt={t:"VlLs",v:[{l$:"long",lI:H[0]},{l$:"long",lI:H[1]}]};
w.Otpt={t:"VlLs",v:[{l$:"long",lI:H[2]},{l$:"long",lI:H[3]}]};w.Gmm={l$:"doub",lI:H[4]/100};V.push({t:"Objc",v:w})}}if(A=="curv"){var V=q.Adjs.v=[];
for(var F=0;F<4;F++){var H=M[F],w={classID:"CrvA",Chnl:zG.Dn(F),Crv:{t:"VlLs",v:[]}};for(var C=0;C<H.length;
C++)w.Crv.v.push(H[C]);V.push({t:"Objc",v:w})}}if(A=="expA"){q.Exps.v=M[0];q.Ofst.v=M[1];q.gammaCorrection.v=M[2]}if(A=="vibA"){q.vibrance.v=M[0];
q.Strt.v=M[1]}if(A=="hue2"){q.Clrz.v=M.N_;var V=q.Adjs.v=[];for(var F=0;F<7;F++){var r=F==0?M.N_?M.Kr:M.Nw:M.Ny[F-1].BO,G=zG.PX(r);
V.push({t:"Objc",v:G});if(F!=0){var J=M.Ny[F-1].Nu;G.LclR={t:"long",v:F},G.BgnR={t:"long",v:J[0]};G.BgnS={t:"long",v:J[1]};
G.EndS={t:"long",v:J[2]};G.EndR={t:"long",v:J[3]}}}}if(A=="blnc"){q.PrsL.v=M.EK;var m=["ShdL","MdtL","HghL"];
for(var F=0;F<3;F++){var V=q[m[F]].v;for(var C=0;C<3;C++)V[C].v=M.BO[F][C]}}if(A=="blwh")zG.write(A,M,q);
if(A=="phfl"){q.Dnst.v=M.Nn;q.PrsL.v=M.NE;var u=Q.r.GD(M.Kr),W=zG.Dz([u.e,u.g,u.$,0]);W={classID:"LbCl",Lmnc:{t:"doub",v:W[0]/100},A:{t:"doub",v:W[1]/100},B:{t:"doub",v:W[2]/100}};
q.Clr={t:"Objc",v:W}}if(A=="grdm"){q.Grad.v=M[0];q.Rvrs={t:"bool",v:M[1]}}if(A=="selc"){q.Mthd.v=M.Nd?"Absl":"Rltv";
var y=["Cyn","Mgnt","Ylw","Blck"],O="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" "),V=q.ClrC.v=[];
for(var F=1;F<10;F++){var h=M.NO[F],G={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:O[F-1]}}};for(var C=0;C<4;
C++)G[y[C]]={t:"UntF",v:{type:"#Prc",val:h[C]}};V.push({t:"Objc",v:G})}}if(A=="thrs")q.Lvl.v=M;return q};
zG.PX=function(A){return{classID:"Hst2",H:{t:"long",v:A[0]},Strt:{t:"long",v:A[1]},Lght:{t:"long",v:A[2]}}};
zG.Dn=function(A){var M=["Cmps","Rd","Grn","Bl"];return{t:"obj ",v:[{t:"Enmr",v:{class:"Chnl",type:"Chnl",enum:M[A]}}]}};
zG.DE=function(A,M){var q,V={Cmps:0,Rd:1,Grn:2,Bl:3};if(A=="brit")q=zG.DG("brit",M);if(A=="levl"){var F=M.Adjs.v;
q=[];for(var H=0;H<4;H++)q.push([0,255,0,255,100]);for(var H=0;H<F.length;H++){var w=F[H].v,C=V[w.Chnl.v[0].v.enum],r=q[C];
if(w.Inpt){r[0]=w.Inpt.v[0].v;r[1]=w.Inpt.v[1].v}if(w.Otpt){r[2]=w.Otpt.v[0].v;r[3]=w.Otpt.v[1].v}if(w.Gmm)r[4]=Math.round(w.Gmm.v*100)}}if(A=="curv"){var F=M.Adjs.v;
q=[];for(var H=0;H<4;H++)q.push([Q.vC.vS(0,0,!0),Q.vC.vS(255,255,!0)]);for(var H=0;H<F.length;H++){var w=F[H].v,C=V[w.Chnl.v[0].v.enum],G=w.Crv.v,J=[];
for(var m=0;m<G.length;m++)J.push(Q.vC.vS(G[m].v.Hrzn.v,G[m].v.Vrtc.v));q[C]=J}}if(A=="expA")q=[M.Exps.v,M.Ofst.v,M.gammaCorrection.v];
if(A=="vibA")q=zG.DG(A,M);if(A=="hue2"){var F=M.Adjs.v;q={N_:M.Clrz.v,Kr:[100,25,0],Nw:[0,0,0],Ny:[{Nu:[315,345,15,45],BO:[0,0,0]},{Nu:[15,45,75,105],BO:[0,0,0]},{Nu:[75,105,135,165],BO:[0,0,0]},{Nu:[135,165,195,225],BO:[0,0,0]},{Nu:[195,225,255,285],BO:[0,0,0]},{Nu:[255,285,315,345],BO:[0,0,0]}]};
for(var H=0;H<F.length;H++){var w=F[H].v,u=[w.H.v,w.Strt.v,w.Lght.v];if(w.LclR==null)q.Nw=q.Kr=u;else q.Ny[w.LclR.v-1].BO=u}}if(A=="blnc"){q={BO:[[0,0,0],[0,0,0],[0,0,0]],EK:M.PrsL.v};
var W=["ShdL","MdtL","HghL"];for(var H=0;H<3;H++){var F=M[W[H]].v;q.BO[H]=[F[0].v,F[1].v,F[2].v]}}if(A=="blwh")q=zG.DG(A,M);
if(A=="phfl"){var y=[255,0,0];if(M.Clr){var O=M.Clr.v;if(O.classID=="LbCl")y=zG.DJ([O.Lmnc.v*100,O.A.v*100,O.B.v*100])}q={Nn:M.Dnst.v,NE:M.PrsL.v,Kr:Q.r.Gt({e:y[0],g:y[1],$:y[2]})}}if(A=="grdm")q=[M.Grad.v,M.Rvrs?M.Rvrs.v:!1];
if(A=="selc"){var h=["Cyn","Mgnt","Ylw","Blck"],V="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
q={Nd:M.Mthd.v!="Rltv",NO:[]};for(var H=0;H<10;H++)q.NO.push([0,0,0,0]);var F=M.ClrC.v;for(var H=0;H<F.length;
H++){var w=F[H].v,C=V.indexOf(w.Clrs.v.Clrs),I=q.NO[C+1];for(var m=0;m<4;m++)if(w[h[m]])I[m]=w[h[m]].v.val}}if(A=="thrs")return M.Lvl.v;
return q};zG.Dm=function(A){var M=zG.get(A);if(M=="brit"){if(A.CgEd)return zG.DG(M,A.CgEd);else return[A.brit.Bw,A.brit.By,!0]}else if(M=="levl"){var q=[];
for(var V=0;V<4;V++)q.push(JSON.parse(JSON.stringify(A[M][V])));return q}else if(M=="curv"){var q=A[M];
if(q[0].length==256)return q;var F=[];for(var V=0;V<4;V++){var H=q[V],w=[];F.push(w);for(var C=0;C<H.length;
C+=2)w.push(Q.vC.vS(H[C],H[C+1],!0))}return F}else if(M=="vibA")return zG.DG(M,A[M]);else if(M=="grdm"){var r=A[M];
return[r.r,r.rev]}else if(M=="blwh")return zG.DG(M,A[M]);else if(M=="phfl"){var r=A[M],G=[255,0,0];if(r.color){var H=r.color;
if(H.BX==7)G=zG.DJ(H.lI)}return{Nn:r.Nn,NE:r.NE,Kr:Q.r.Gt({e:G[0],g:G[1],$:G[2]})}}else return A[M]};
zG.DJ=function(A){var M=A[0]/100,q=A[1]/100,V=A[2]/100,F=903.3,H=.008856,w=(M+16)/116,C=w*w*w,r=w-V/200,G=r*r*r,J=q/500+w,m=J*J*J,u=G>H?G:(116*r-16)/F,W=C>H?C:(116*w-16)/F,y=m>H?m:(116*J-16)/F,O=y*96.72,h=W*100,I=u*81.427,Z=Q.GO.oJ(Q.GO.oo,[O/100,h/100,I/100,0]);
for(var Y=0;Y<4;Y++)Z[Y]=Math.max(0,Math.min(255,Q.E_(Z[Y])*255));return Z};zG.Dz=function(A){for(var M=0;
M<4;M++)A[M]=Q.EHm(A[M]/255);var q=Q.GO.oJ(Q.GO.mx(Q.GO.oo),A),V=100*q[0]/96.72,F=100*q[1]/100,H=100*q[2]/81.427;
if(V>.008856)V=Math.pow(V,1/3);else V=7.787*V+16/116;if(F>.008856)F=Math.pow(F,1/3);else F=7.787*F+16/116;
if(H>.008856)H=Math.pow(H,1/3);else H=7.787*H+16/116;var w=116*F-16,C=500*(V-F),r=200*(F-H);return[w*100,C*100,r*100,0]};
zG.DG=function(A,M){if(A=="blwh"){var q="Rd Yllw Grn Cyn Bl Mgnt".split(" "),V=[];for(var F=0;F<6;F++)V.push(M[q[F]].v);
V.push(M.useTint.v,M.tintColor.v);return V}if(A=="brit")return[M.Brgh.v,M.Cntr.v,M.useLegacy?M.useLegacy.v:!0];
if(A=="vibA")return[M.vibrance?M.vibrance.v:0,M.Strt?M.Strt.v:0]};zG.write=function(A,M,q){console.log(q);
if(A=="blwh"){var V="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var F=0;F<6;F++)q[V[F]].v=M[F];q.useTint.v=M[6];
q.tintColor.v=M[7]}};zG.rM=function(A,M){var q=zG.get(M);if(q=="brit"){if(!A[2]){M.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:A[0]},Cntr:{t:"long",v:A[1]},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}};
M.brit={Bw:0,By:0,Bu:0,Bd:0}}else{delete M.CgEd;M.brit.Bw=A[0];M.brit.By=A[1]}}else if(q=="levl"){for(var V=0;
V<4;V++)M[q][V]=JSON.parse(JSON.stringify(A[V]))}else if(q=="curv"){if(A[0].length==256)M[q]=A;else{var F=[];
for(var V=0;V<4;V++){var H=A[V],w=[];F.push(w);for(var C=0;C<H.length;C++)w.push(H[C].v.Hrzn.v,H[C].v.Vrtc.v)}M[q]=F}}else if(q=="vibA"){M[q]={classID:"null",vibrance:{t:"long",v:A[0]},Strt:{t:"long",v:A[1]}}}else if(q=="grdm"){M[q].r=A[0];
M[q].rev=A[1]}else if(q=="blwh")zG.write(q,A,M[q]);else if(q=="phfl"){var r={color:{BX:7,lI:[8445,-4871,1032,0]},Nn:A.Nn,NE:A.NE},G=Q.r.GD(A.Kr);
r.color.lI=zG.Dz([G.e,G.g,G.$,0]);M[q]=r}else M[q]=A};var Ju={};Ju.Dv=[{DU:[24,2],Dl:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,\0\0\x02\xB5".split(",")},{DU:[24,6],Dl:["AdNs","DstS","Mdn "]},{DU:[24,8],Dl:["ClrH","Msc "]},{DU:[24,10],Dl:["Clds"]},{DU:[24,12],Dl:["Shrp","ShrM","UnsM"]},{DU:[24,14],Dl:["FndE"]},{DU:[24,16],Dl:["HghP","Mxm ","Mnm ","Ofst"]}];
Ju.names={GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],"\0\0\x02\xB5":[24,3,10],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],"Msc ":[24,9,5],Clds:[24,11,0],Shrp:[24,13,0],ShrM:[24,13,2],UnsM:[24,13,4],FndE:[24,15,3],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4]};
Ju.DR=function(A){var M=null;if(A=="\0\0\x02\xB1")M={__name:"Box Blur\0",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};
if(A=="GsnB")M={__name:"Gaussian Blur\0",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};if(A=="\0\0\x02\xB5")M={__name:"Surface Blur\0",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(A=="AdNs")M={__name:"Add Noise\0",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(A=="DstS")M={__name:"Dust & Scratches\0",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};
if(A=="Mdn ")M={__name:"Median\0",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};if(A=="ClrH")M={__name:"Color Halftone\0",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(A=="Msc ")M={__name:"Mosaic\0",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(A=="UnsM")M={__name:"Unsharp Mask\0",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(A=="HghP")M={__name:"High Pass\0",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(A=="Mxm ")M={__name:"Maximum\0",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(A=="Mnm ")M={__name:"Minimum\0",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(A=="Ofst")M={__name:"Offset\0",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(A=="brit")M={__name:"Brightness/Contrast\0",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(A=="levl")M={__name:"Levels\0",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(A=="curv")M={__name:"Curves\0",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(A=="expA")M={__name:"Exposure\0",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:0}};
if(A=="vibA")M={__name:"Vibrance\0",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};
if(A=="hue2")M={__name:"Hue/Saturation\0",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(A=="blnc")M={__name:"Color Balance\0",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(A=="blwh")M={__name:"Black & White\0",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(A=="phfl")M={__name:"Photo Filter\0",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(A=="grdm")M={__name:"Gradient Map\0",classID:"GrMp",Rvrs:{t:"bool",v:!0},Grad:JSON.parse(j.ju[6]).Grad};
if(A=="selc")M={__name:"Selective Color\0",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Absl"}},ClrC:{t:"VlLs",v:[]}};
if(A=="thrs")M={__name:"Threshold\0",classID:"Thrs",Lvl:{t:"long",v:128}};return M};Ju.Evy=function(A){var M=new f(0,0);
if(A.enab.v==!1)return M;var q=A.filterFXList.v;for(var V=0;V<q.length;V++){var F=q[V].v,w=0,C=0;if(F.enab.v==!1)continue;
var H=K.rN(F.filterID.v);if("Blr ,BlrM,GsnB,\0\0\x02\xB1,UnsM,HghP".split(",").indexOf(H)!=-1){var r;
if(H=="Blr ")r=.5;if(H=="BlrM")r=.8;if(["GsnB","\0\0\x02\xB1","UnsM","HghP"].indexOf(H)!=-1)r=F.Fltr.v.Rds.v.val;
w=C=r*2.57}if(H=="Ofst"){w=C=1e4}w=Math.ceil(w);C=Math.ceil(C);if(w>M.x)M.x=w;if(C>M.y)M.y=C}return M};
Ju.P_=function(A,M,q,V,F,H){if(H==null)H={buffer:Q.b(M.buffer.length),rect:M.rect.clone()};Q.mc(M.buffer,H.buffer);
if(A=="Avrg"){var w=0,C=0,r=0,G=0,J=1;for(var m=0;m<M.buffer.length;m+=4){var u=M.buffer[m+3];r+=M.buffer[m]*u;
C+=M.buffer[m+1]*u;w+=M.buffer[m+2]*u;G+=u}var W=1/G;w=Math.round(J*(w*W)+(1-J)*255);C=Math.round(J*(C*W)+(1-J)*255);
r=Math.round(J*(r*W)+(1-J)*255);Q.mh(H.buffer,w<<16|C<<8|r,4278190080)}if("Blr ,BlrM,GsnB,\0\0\x02\xB1,UnsM,HghP".split(",").indexOf(A)!=-1){var y;
if(A=="Blr ")y=.5;if(A=="BlrM")y=.8;if(["GsnB","\0\0\x02\xB1","UnsM","HghP"].indexOf(A)!=-1)y=q.Rds.v.val;
var O=A=="\0\0\x02\xB1"?Q.blur.J$:Q.blur.Ji,h=new Q.JU(H.rect.X());Q.mR(H.buffer,h);Ju.DW(y,O,h,h,H.rect);
Q.mU(h,H.buffer);if(A=="UnsM"){var I=q.Amnt.v.val/100,Z=q.Thsh.v;for(var m=0;m<M.buffer.length;m++){if((m&3)==3){H.buffer[m]=M.buffer[m];
continue}var L=M.buffer[m],Y=H.buffer[m],B=I*(L-Y);if(B>0)B=Math.max(0,B-Z);else B=Math.min(0,B+Z);H.buffer[m]=Math.max(0,Math.min(255,L+B))}}if(A=="HghP")for(var m=0;
m<M.buffer.length;m++){if((m&3)==3){H.buffer[m]=M.buffer[m];continue}var L=M.buffer[m],Y=H.buffer[m];
H.buffer[m]=Math.max(0,Math.min(255,128+L-Y))}}if(A=="\0\0\x02\xB5"){var X=q.Rds.v.val,E=q.Thsh.v,c=M.rect.n,o=M.rect.J,h=new Q.JU(c*o);
Q.mR(M.buffer,h);var s=new Q.JU(c*o);Q.zq.z_(h.e,h.M,s.e,c,o,X,Q.zq.zX,[E]);Q.zq.z_(h.g,h.M,s.g,c,o,X,Q.zq.zX,[E]);
Q.zq.z_(h.$,h.M,s.$,c,o,X,Q.zq.zX,[E]);Q.mc(h.M,s.M);Q.mU(s,H.buffer)}if(A=="AdNs"){var z=new Uint8ClampedArray(H.buffer.buffer),k=255*q.Nose.v.val/100,b;
if(q.Dstr.v.Dstr=="Gsn")b=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else b=function(){return Math.random()*2-1};for(var m=0;m<z.length;m+=4){var X=z[m],T=z[m+1],l=z[m+2],$,e,i;
if(q.Mnch.v){$=e=i=b()}else{$=b();e=b();i=b()}X+=k*$;T+=k*e;l+=k*i;z[m]=X;z[m+1]=T;z[m+2]=l}}if(A=="Mdn "||A=="DstS"||A=="Mxm "||A=="Mnm "){var X=0;
if(A=="Mdn "||A=="Mxm "||A=="Mnm ")X=q.Rds.v.val;if(A=="DstS")X=q.Rds.v;var O=Q.zq.EEV;if(A=="Mxm ")O=Q.zq.EmE;
if(A=="Mnm ")O=Q.zq.EHn;var c=M.rect.n,o=M.rect.J,h=new Q.JU(c*o);Q.mR(M.buffer,h);var s=new Q.JU(c*o);
Q.zq.z_(h.e,h.M,s.e,c,o,X,O);Q.zq.z_(h.g,h.M,s.g,c,o,X,O);Q.zq.z_(h.$,h.M,s.$,c,o,X,O);if(A=="Mdn "){Q.set(h.e,255);
Q.zq.z_(h.M,h.e,s.M,c,o,X,O)}else if(A=="Mxm "||A=="Mnm "){var g=Q.b(h.M.length);Q.set(g,255);Q.mx(h.M);
Q.zq.z_(h.M,g,s.M,c,o,X,O);Q.mx(h.M);Q.mx(s.M)}else Q.mc(h.M,s.M);Q.mU(s,H.buffer);if(A=="DstS"){var E=q.Thsh.v;
for(var m=0;m<c*o*4;m++){var P=Math.abs(M.buffer[m]-H.buffer[m]);if(P<=E)H.buffer[m]=M.buffer[m]}}}if(A=="ClrH"){var X=q.Rds.v;
X=Math.round(X*Math.sqrt(2));var c=M.rect.n,o=M.rect.J,h=new Q.JU(c*o);Q.mR(M.buffer,h);Q.mx(h.e);Q.mx(h.g);
Q.mx(h.$);var n=_.L("canvas","");n.width=c;n.height=o;var p=n.getContext("2d"),t=Q.b(c*o*4);for(var x=0;
x<3;x++){var D=x==0?h.e:x==1?h.g:h.$,Gp=Math.PI*q["Ang"+(x+1)].v/180,zY=new zo(1/X,0,0,1/X,0,0);zY.rotate(Gp);
Q.mr(D,t,3);var zi=d.f.xF([t,M.rect],zY,!0),zI=zi.rect;p.clearRect(0,0,c,o);var z$=Math.sin(Gp),zK=Math.cos(Gp);
for(var m=0;m<zI.J;m++)for(var ze=0;ze<zI.n;ze++){var zq=(ze+zI.x+.5)*X,zB=(m+zI.y+.5)*X,zN=zq,zQ=zB;
zq=zK*zN-z$*zQ;zB=z$*zN+zK*zQ;var z_=zi.buffer[(m*zI.n+ze<<2)+3]*(1/255),y=X*Math.sqrt(z_*(1/Math.PI));
p.beginPath();p.arc(zq,zB,y,0,2*Math.PI);p.fill()}var zw=p.getImageData(0,0,c,o);Q.mH(zw.data,D,3)}Q.mx(h.e);
Q.mx(h.g);Q.mx(h.$);Q.mU(h,H.buffer)}if(A=="Msc "){var zy=q.ClSz.v.val,c=M.rect.n,o=M.rect.J,zu=Math.ceil(c/zy),zd=Math.ceil(o/zy),zO=Q.b(zu*zd*4);
Q.scale.vr(M.buffer,c,o,zO,zu,zd,1/zy);Q.scale.vr(zO,zu,zd,H.buffer,c,o,zy)}if(A=="Clds"){Q.mh(H.buffer,4278190080);
var zF=new Float32Array(H.rect.X()),zX=0;for(var m=0;m<8;m++){noise.seed(Math.random());var Gn=Math.pow(2,m),GE=Gn/170,Gm=1/Gn;
zX+=Gm;for(var zB=0;zB<H.rect.J;zB++)for(var zq=0;zq<H.rect.n;zq++)zF[zB*H.rect.n+zq]+=noise.perlin2(zq*GE,zB*GE)*Gm}zX=1/zX;
for(var m=0;m<zF.length;m++){var GJ=Math.max(0,Math.min(1,.5+.7*zF[m]*zX)),Gz=1-GJ;H.buffer[4*m]=Math.round(GJ*V.e+Gz*F.e);
H.buffer[4*m+1]=Math.round(GJ*V.g+Gz*F.g);H.buffer[4*m+2]=Math.round(GJ*V.$+Gz*F.$)}}if(A=="Shrp"||A=="ShrM"){var c=M.rect.n,o=M.rect.J,GG;
if(A=="Shrp")GG=14;if(A=="ShrM")GG=11;var Go=Q.zq.zN([-1,-1,-1,-1,GG,-1,-1,-1,-1]);Q.zq.zQ(M.buffer,H.buffer,c,o,Go,3)}if(A=="FndE"){var c=M.rect.n,o=M.rect.J;
Ju.EUB(M.buffer,H.buffer,c,o)}if(A=="Ofst"){var c=M.rect.n,o=M.rect.J,Gv=new Uint32Array(M.buffer.buffer),GU=new Uint32Array(H.buffer.buffer),zN=q.Hrzn.v,zQ=q.Vrtc.v,Gl=q.Fl.v.FlMd;
Q.mh(GU,0);if(Gl=="Bckg"||Gl=="Rpt"){var GH=M.rect.clone();GH.offset(zN,zQ);Q.mL(Gv,GH,GU,H.rect)}if(Gl=="Rpt"){var Gr,GW,Gh,GT,Gs;
zN=Math.max(-c,Math.min(c,zN));zQ=Math.max(-o,Math.min(o,zQ));Gr=zN>0?zN:0;Gh=zN>0?c:c+zN;GW=zQ>0?0:zQ+o;
GT=zQ>0?zQ:o;Gs=zQ>0?0:c*(o-1);for(var zB=GW;zB<GT;zB++)for(var zq=Gr;zq<Gh;zq++)GU[zB*c+zq]=Gv[Gs+zq-zN];
Gr=zN>0?0:c+zN;Gh=zN>0?zN:c;GW=zQ>0?zQ:0;GT=zQ>0?o:o+zQ;Gs=zN>0?0:c-1;for(var zB=GW;zB<GT;zB++)for(var zq=Gr;
zq<Gh;zq++)GU[zB*c+zq]=Gv[Gs+c*(zB-zQ)];if(zN>=0&&zQ>=0){Gr=0;Gh=zN;GW=0;GT=zQ;Gs=0}if(zN>=0&&zQ<0){Gr=0;
Gh=zN;GW=o+zQ;GT=o;Gs=c*(o-1)}if(zN<0&&zQ>=0){Gr=c+zN;Gh=c;GW=0;GT=zQ;Gs=c-1}if(zN<0&&zQ<0){Gr=c+zN;
Gh=c;GW=o+zQ;GT=o;Gs=c*o-1}for(var zB=GW;zB<GT;zB++)for(var zq=Gr;zq<Gh;zq++)GU[zB*c+zq]=Gv[Gs]}if(Gl=="Wrp"){zN=(zN+100*c)%c;
zQ=(zQ+100*o)%o;var GH=new U(zN-c,zQ-o,c,o);Q.mL(Gv,GH,GU,H.rect);GH.offset(c,0);Q.mL(Gv,GH,GU,H.rect);
GH.offset(0,o);Q.mL(Gv,GH,GU,H.rect);GH.offset(-c,0);Q.mL(Gv,GH,GU,H.rect)}}return H};Ju.EUB=function(A,M,q,V){var F=Q.b(A.length);
Q.zq.zQ(A,M,q,V,[-1,0,1,-2,0,2,-1,0,1],3);Q.zq.zQ(A,F,q,V,[1,2,1,0,0,0,-1,-2,-1],3);for(var H=0;H<F.length;
H+=4){var w=M[H],C=M[H+1],r=M[H+2],G=M[H+3],J=F[H],m=F[H+1],u=F[H+2],W=F[H+3];M[H]=255-Math.max(0,Math.min(255,Math.sqrt(w*w+J*J)));
M[H+1]=255-Math.max(0,Math.min(255,Math.sqrt(C*C+m*m)));M[H+2]=255-Math.max(0,Math.min(255,Math.sqrt(r*r+u*u)))}};
Ju.DW=function(A,M,q,V,F){var H=Q.b(q.M.length);Ju.multiply(q.e,q.M,H);M(H,V.e,F,A);Ju.multiply(q.g,q.M,H);
M(H,V.g,F,A);Ju.multiply(q.$,q.M,H);M(H,V.$,F,A);Q.mc(q.M,H);M(H,V.M,F,A);Ju.DT(V.e,V.M,V.e);Ju.DT(V.g,V.M,V.g);
Ju.DT(V.$,V.M,V.$)};Ju.multiply=function(A,M,q){var V=A.length;for(var F=0;F<V;F++)q[F]=Q.mi(A[F]*M[F])};
Ju.ElT=function(){var A=new Uint8Array(256*256);for(var M=0;M<256;M++)for(var q=0;q<256;q++)A[M*256+q]=Math.round(255*M/q);
return A}();Ju.DT=function(A,M,q){var V=A.length,F=Ju.ElT;for(var H=0;H<V;H++)q[H]=F[A[H]<<8|M[H]]};
Ju.Ds=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
Ju.Dc=function(A,M){var q={e:M._c>>16,g:M._c>>8&255,$:M._c&255},V={e:M._A>>16,g:M._A>>8&255,$:M._A&255},F=Ju.names[A];
if(F==null)F=zG.names[A];var H=A;for(var w in zG.Pd)if(zG.Pd[w]==A)H=w;var C={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:zJ.get(F)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:Q.r.Gt(q)},BckC:{t:"Objc",v:Q.r.Gt(V)},filterID:{t:"long",v:K.EUX(H)}}};
if(mn[A]||EX[A])C.v.Fltr={t:"Objc",v:Ju.DR(A)};return C};function zU(){}zU.DA="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
zU.Dg="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
zU.Dx="Normal,Dissolve,Darken,Multiply,Color Burn,Linear Burn,Darker Color,Lighten,Screen,Color Dodge,Linear Dodge,Lighter Color,Overlay,Soft Light,Hard Light,Vivid Light,Linear Light,Pin Light,Hard Mix,Difference,Exclusion,Subtract,Divide,Hue,Saturation,Color,Luminosity".split(",");
zU.Df=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
zU.DP=function(A){if(A=="passThrough")return"pass";return zU.DA[zU.Dg.indexOf(A)]};zU.EvD=function(A){if(A=="pass")return"passThrough";
return zU.Dg[zU.DA.indexOf(A)]};zU.getName=function(A){return zU.Dx[zU.DA.indexOf(A)]};function S(){this.rect=null;
this.B_="norm";this.opacity=255;this.NM=!1;this.Nj=0;this.Nk=[0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535];
this.name=null;this.add={};this.buffer=null;this.ND=null;this.Na=null;this.a=null;this.NC=null;this.OS=0;
this.Ok=_.L("canvas","").getContext("2d");this.Ob=_.L("canvas","").getContext("2d");this.OL=_.L("canvas","").getContext("2d");
this.OZ=_.L("canvas","").getContext("2d");this.z=0;this.uB=!1;this._a=null;this.A=new S.Dt}S.Dt=function(){this.OY=!0;
this.di=!0;this.Oi=Q.b(0);this.OI=Q.b(0);this.O$=null;this.OK={};this.Oe=null;this.Oq=null;this.OB=null;
this.ON=null;this.OQ=null;this.O_=null;this.Ow=null;this.Oy=null;this.Ou=null;this.Od=null;this.OO=null;
this.OF=null;this.OX=!1};S.Dt.prototype.DM=function(){this.OY=!1;this.di=!1;this.O$=null;this.OX=v.Rx};
S.Dt.prototype.EGF=function(){Ez.aW(this.OK);this.Oi=Q.b(0);this.OI=Q.b(0);if(this.ON)this.ON.delete();
if(this.OQ)this.OQ.delete();this.ON=null;this.OQ=null;var A=[this.O_,this.Ow,this.Oy,this.Ou,this.Od,this.OO];
for(var M=0;M<6;M++)if(A[M]!=null&&A[M]instanceof v.JU)A[M].delete();this.O_=null;this.Ow=null;this.Oy=null;
this.Ou=null;this.Od=null;this.OO=null};S.prototype.U=function(A){if(A==null)A=this.rect.clone();if(this.A.O$==null)this.A.O$=A;
else this.A.O$=this.A.O$.vP(A)};S.prototype.Da=function(){return this.add.lsct==zT.ts||this.add.lsct==zT.tc};
S.prototype.DV=function(){var A=this.add;return A.SoCo!=null||A.GdFl!=null||A.PtFl!=null};S.prototype.DC=function(){var A=this.add.lmfx;
if(A==null)return;var M=["GrFl","patternFill"];for(var q=0;q<M.length;q++){var V=j.jK[j.order.indexOf(M[q])],F=A[V].v;
if(F.length==0)continue;for(var H=0;H<F.length;H++){var w=F[H].v;if(w.enab.v&&(w.Algn==null||!w.Algn.v))this.A.di=!0}}};
S.prototype.DS=function(){var A=this.a;if(this.DV())A=this.tl();if(!v.Rx)return A.tx();if(this.A.OQ==null||this.A.OY||v.Rx!=this.A.OX){if(this.A.OQ)this.A.OQ.delete();
this.A.OQ=new v.Ri(A.Ak().n,A.Ak().J);this.A.OQ.set(A.tx())}return this.A.OQ};S.prototype.Dk=function(A){var M=this.rect,q=this.buffer;
if(!v.Rx){var V=this.DL(A,q,M);if(V){q=V.ej;M=V.rect}return q}if(this.A.O$!=null||v.Rx!=this.A.OX){var V=this.DL(A,q,M);
if(V){q=V.ej;M=V.rect}var F=M;if(v.Rx!=this.A.OX||this.A.ON==null||this.A.ON.n!=F.n||this.A.ON.J!=F.J){if(this.A.ON)this.A.ON.delete();
this.A.ON=new v.JU(F.n,F.J);this.A.ON.set(q)}else{var H=this.A.O$.clone();H.offset(-M.x,-M.y);this.A.ON.set(q,H)}}return this.A.ON};
S.prototype.Db=function(){var A=this.a;if(this.DV())A=this.tl();return A!=null&&A.isEnabled&&(A.GD()==0||A.GD()!=0&&!A.rect.zZ())};
S.prototype.DL=function(A,M,q){if(this.tJ()){var V=this.tR(A);if(V.a&&V.a.isEnabled&&(!V.a.rect.zZ()||V.a.color==0)){var F=this.add.SoLd.filterFX.v;
V.a.qj=F.filterMaskDensity?F.filterMaskDensity.v:255;V.a.NV=F.filterMaskFeather?F.filterMaskFeather.v:0;
var H=V.buffer,w=V.a.tf(q);Q.mx(w);M=Q.clone(M);Q.S.Jt(H,V.rect,M,q,w,q,0,q,1);return{ej:M,rect:q}}}};
S.prototype.EET=function(){var A={Fn:!1,FE:!1,Fm:0,FJ:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)A.FE=!0;
if(this.tl()&&this.tl().isEnabled)A.Fn=!0;if(A.Fn&&A.FE){A.Fm=this.tl().rect.x-this.add.vmsk.tl().rect.x;
A.FJ=this.tl().rect.y-this.add.vmsk.tl().rect.y}return A};S.prototype.DY=function(A){if(this.add.lsct==zT.tA)return;
var M=this,q=this.tl()!=null&&this.tl().NK,V=this.add.vmsk!=null&&this.add.vmsk.NK,F=this.EET(),H=JSON.stringify(F)!=this.A.Oe||F.Fn&&q||F.FE&&V;
if(H){if(F.FE){var w=this.add.vmsk.tl();if(F.Fn){this.a=this.tl().Gh(w);this.A.Oq=new f(this.a.rect.x-this.tl().rect.x,this.a.rect.y-this.tl().rect.y)}else this.a=w}if(this.a)this.A.OY=!0;
if(this.a)this.A.OB=new f(this.rect.x-this.a.rect.x,this.rect.y-this.a.rect.y);if(F.Fn)this.tl().NK=!1;
if(F.FE)this.add.vmsk.NK=!1;this.U()}else{if(F.Fn&&F.FE){this.a.rect.x=this.tl().rect.x+this.A.Oq.x;
this.a.rect.y=this.tl().rect.y+this.A.Oq.y}}if(M.DV()){this.Di(A)}if(M.Du()){var C;if(this.a)C=new f(this.rect.x-this.a.rect.x,this.rect.y-this.a.rect.y);
if(this.a&&this.a.isEnabled&&(this.A.OB==null||!C.mg(this.A.OB))){this.A.OB=C;this.U();this.A.OY=!0}}if(zG.get(M.add)!=null)this.A.OY=!0;
this.A.Oe=JSON.stringify(F)};S.prototype.Di=function(A){var M=this,q=M.add.vstk,V,F=M.add.vmsk?this.add.vmsk.tl():null,w=!0;
if(F&&F.isEnabled&&F.GD()==0)V=F.Ak().clone();else V=new U(0,0,A.n,A.J);var H=M.tl();if(H&&H.isEnabled&&H.GD()==0)V=V.vt(M.a.Ak());
if(q&&!q.fillEnabled.v)w=!1;var C=F&&q;if(q&&(!q.strokeEnabled.v||q.strokeStyleLineWidth.v.val==0))C=!1;
var r=Q.b(V.X()*4);if(w){if(M.add.SoCo)Ez.aV(r,M.add.SoCo.Clr.v);if(M.add.GdFl)Ez.ap(M.add.GdFl,r,V,A,null,F&&F.color==0?F.rect:null);
if(M.add.PtFl)Ez.vv(M.add.PtFl,r,V,A,M.add.fxrp)}if(F){var G=F.qj;if(C)F.qj=255;var J=Q.b(V.X());if(F.GD()!=0)Q.set(J,Math.round(F.GD()));
if(F&&F.isEnabled){var m=F.Ak(),u=F.tx();if(m.mg(V))Q.mc(u,J);else Q.mC(u,m,J,V)}if(M.add.SoCo&&w){Q.mr(J,r,3)}else Q.mB(J,V,r,V);
if(C)F.qj=G}M.buffer=r;M.rect=V;if(C){var W=j.az.ao.indexOf(q.strokeStyleLineAlignment.v.strokeStyleLineAlignment),y=q.strokeStyleContent.v,O=j.az.av.indexOf(y.classID),h=this.add.vmsk.tl(q);
if(M.rect.mg(new U(0,0,A.n,A.J)))M.rect=M.rect;else if(W!=0){var I=M.rect.vP(h.Ak()),Z=Q.b(I.X()*4);
Q.mL(M.buffer,M.rect,Z,I);M.buffer=Z;M.rect=I}var G=h.qj;h.qj=255;var L=h.tf(M.rect);h.qj=G;if(h.color==255)Q.mx(L);
var Y=Q.b(M.rect.X()*4);if(O==0)Ez.aV(Y,y.Clr.v);if(O==1)Ez.ap(y,Y,M.rect,A,null,F.color==0?F.rect:null);
if(O==2)Ez.vv(y,Y,M.rect,A,M.add.fxrp);var B=q.strokeStyleOpacity.v.val/100;if(B!=1)Q.mI(L,B);Q.mr(L,Y,3);
if(h.color==255)W=2-W;if(W==0){Q.S.JW("norm",Y,M.rect,M.buffer,M.rect,M.rect,1);Q.mB(J,M.rect,M.buffer,M.rect)}if(W==1){Q.S.JW("norm",Y,M.rect,M.buffer,M.rect,M.rect,1)}if(W==2){Q.mx(J);
Q.S.Jt(Y,M.rect,M.buffer,M.rect,J,V,255,M.rect,1,!1);Q.mx(J)}if(h.qj!=255){var X=Q.clone(Y);Q.mh(X,4278190080,16777215);
Q.S.JW("norm",X,M.rect,M.buffer,M.rect,M.rect,1-h.qj/255)}G=F.qj;F.qj=255;this.OI=F.tf(M.rect);F.qj=G}this.U()};
S.prototype.DI=function(A,M){var q=this,V=q.add.SoLd.Idnt.v,F=q.add.SoLd,H=A.jf(V,F.Crop?F.Crop.v:null);
if(H==null)return;var w=H.QP;F.Sz.v.Wdth.v=w[1].n;F.Sz.v.Hght.v=w[1].J;var C=F.warp.v,r=d.f.pE(F.nonAffineTransform),G=Q.GG.Gv(r,w[1]);
if(C&&!Q.ls.lc(C)){var J=Q.O.GB(Q.ls.lx(C)),m=J.x,u=J.y,W=1/J.n,y=1/J.J;G=Q.GG.Gv(r);G=Q.GG.Gh(G,[W,0,-m*W,0,y,-u*y,0,0])}var O=d.f.xX(w,M,G,C);
if(O==null){q.buffer=Q.b();q.rect=new U}else if(q.tJ()){var h=q.tR(A);h.buffer=O.buffer;h.rect=O.rect.clone();
this.D$(A,M)}else{q.buffer=O.buffer;q.rect=O.rect}q.DY(A);q.U();A.U()};S.prototype.D$=function(A,M){if(M==null)M=!1;
var q=this.tR(A),V=this.add.SoLd.filterFX.v,F=Ju.Evy(V),H=new U(0,0,A.n,A.J),w=q.rect.vP(H),C=q.rect.clone();
C.hW(F.x,F.y);var r={buffer:null,rect:w.vt(C)};r.buffer=Q.b(r.rect.n*r.rect.J*4);Q.mL(q.buffer,q.rect,r.buffer,r.rect);
if(V.enab.v&&M==!1){var G=V.filterFXList.v;for(var J=0;J<G.length;J++){var m=G[J].v;if(m.enab.v==!1)continue;
var u=Q.r.GD(m.FrgC.v),W=Q.r.GD(m.BckC.v),y=K.rN(m.filterID.v),O=m.Fltr?m.Fltr.v:null;if(zG.Pd[y]!=null){var h=zG.Pd[y],I=zG.DE(h,O),Z=zG.PQ(h,I);
zG.P_(Z,r.buffer,r.buffer)}else r=Ju.P_(y,r,O,u,W)}}this.rect=r.rect;this.buffer=r.buffer;this.mX();
this.U();A.U()};S.prototype.DK=function(A,M,q){this._a=this.Dq(A,M,q)};S.prototype.De=function(A,M){var q=this.Dq(A,M,!0);
if(q==null)return null;var V={dV:q.z,yl:q._j,rect:q.qC};if(V.dV==1||V.dV==3){var F=V.rect,H=Q.b(F.n*F.J*4);
Q.mr(V.yl,H,0);Q.mr(V.yl,H,1);Q.mr(V.yl,H,2);Q.mS(A.q.channel,A.q.rect,H,F);V.yl=H}return V};S.prototype.Dq=function(A,M,q){var V,F,H,w,C,r,G;
if(this.z<=0){var J=Q.b(this.rect.n*this.rect.J);Q.mH(this.buffer,J,3);V=Q.vx.vp(M,{channel:J,rect:this.rect},"intersection");
if(V==null)return null;var m=Q.mO(V.channel,V.rect);w=V.rect.clone();C=this.rect.clone();F=Q.b(w.n*w.J*4);
Q.mL(this.buffer,C,F,w);Q.mr(V.channel,F,3);H=Q.clone(this.buffer);if(!q){var u=Q.clone(M.channel);Q.mx(u);
Q.mB(u,M.rect,H,C)}r=Q.clone(this.buffer);G=this.rect.clone()}if(this.z==1||this.z==3){var W=this.z==1?this.tl():this.tR(A).a;
w=M.rect.clone();C=W.rect.clone();F=W.tp(w);var H=Q.clone(W.channel);if(!q)Q.S.Jk(W.color==255?Q.Jz(w.n*w.J):Q.Jo(w.n*w.J),w,H,C,M.channel,w,1);
r=Q.clone(W.channel);G=W.rect.clone()}return{z:this.z,_j:F,qC:w,Qn:H,wc:C,Fz:r,FG:G}};S.prototype.DB=function(A,M){var q=this._a;
if(q.z==0){this.rect=q.FG;this.buffer=q.Fz;this.U()}if(q.z==1||q.z==3){var V=q.z==1?this.tl():this.tR(A).a;
V.channel=q.Fz;V.rect=q.FG;if(this.z==1){V.NK=!0;this.DY(A)}if(this.z==3)this.U()}this._a=M};S.prototype.DN=function(A,M){var q=this._a;
if(q==null)return!1;if(q.z!=this.z)return!1;if(!M.rect.mg(q.qC))return!1;var V=q.wc.vP(q.qC);if(q.z<=0){if(!V.mg(this.rect))return!1;
var F=Q.b(q._j.length>>2);Q.mH(q._j,F,3);if(!Q.mg(M.channel,F))return!1;var H=Q.b(V.n*V.J*4);Q.mL(q.Qn,q.wc,H,V);
Q.S.JW("norm",q._j,q.qC,H,V,V,1);return Q.mg(H,this.buffer)}if(q.z==1||q.z==3){var w=q.z==1?this.tl():this.tR(A).a;
if(!V.mg(w.rect))return!1;var C=Q.b(V.X());Q.set(C,w.color);Q.mC(q.Qn,q.wc,C,V);Q.S.Jk(q._j,q.qC,C,V,M.channel,V,1);
return Q.mg(C,w.channel)}};S.prototype.DQ=function(A,M,q,V){var F=this._a;F.qC.offset(M,q);var H=F.wc.vP(F.qC);
if(F.z<=0){var w=Q.b(H.X()*4);Q.mL(F.Qn,F.wc,w,H);Q.S.JW("norm",F._j,F.qC,w,H,H,1);this.buffer=w;this.rect=H;
this.U()}else{var C=this.z==1?this.tl():this.tR(A).a,r=Q.b(H.X());Q.set(r,C.color);Q.mC(F.Qn,F.wc,r,H);
Q.S.Jk(F._j,F.qC,r,H,V.channel,H,1);C.channel=r;C.rect=H.clone();if(this.z==1){C.NK=!0;this.DY(A)}if(this.z==3)this.U()}};
S.prototype.D_=function(){var A=[-1,0,1,2];if(this.a)A.push(-2);if(this.NC)A.push(-3);return A};S.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
S.prototype.Dw=function(A){this.add.luni=this.name=A};S.prototype.Dy=function(){return(this.Nj&1<<1)==0};
S.prototype.Du=function(){return(this.Nj&1<<4)==0};S.prototype.Dd=function(){return(this.Nj&1<<5)!=0};
S.prototype.EoL=function(){var A=this.add.lspf;return A==null?!1:(A>>0&1)!=0};S.prototype.EHE=function(){var A=this.add.lspf;
return A==null?!1:(A>>1&1)!=0};S.prototype.EHv=function(){var A=this.add.lspf;return A==null?!1:(A>>2&1)!=0};
S.prototype.Eob=function(){var A=this.add.lspf;return A==null?!1:(A>>31&1)!=0};S.prototype.tE=function(A){if(A&&!this.Dy())this.Nj-=2;
if(!A&&this.Dy())this.Nj+=2};S.prototype.tm=function(){var A=this.add.lmfx;if(A==null)return!1;for(var M in A){if(M=="masterFXSwitch")continue;
if(M=="Scl")continue;if(M=="classID")continue;if(A[M].v.length>0)return!0}return!1};S.prototype.tJ=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
S.prototype.tz=function(){var A=this.add.lmfx;if(A==null)return!1;if(!A.masterFXSwitch.v)return!1;for(var M in A){if(M=="masterFXSwitch")continue;
if(M=="Scl")continue;if(M=="classID")continue;var q=A[M].v;for(var V=0;V<q.length;V++)if(q[V].v.enab.v)return!0}return!1};
S.prototype.tG=function(A,M,q){var V=new U,F=this.tU(A,q);if(F.indexOf(0)!=-1)V=V.vP(this.rect);if(F.indexOf(1)!=-1)V=V.vP(this.tl().Ak());
if(F.indexOf(2)!=-1){var H=this.add.vmsk;V=V.vP(Q.m.Uk(H.C,H.k.length!=0&&M?H.k:null))}if(F.indexOf(3)!=-1)V=V.vP(this.tR(A).a.Ak());
if(F.length==0&&this.DV())V=new U(0,0,A.n,A.J);return V};S.prototype.to=function(){var A=this.add.artb.artboardRect.v,M=A.Btom.v,q=A.Left.v,V=A.Rght.v,top=A.Top.v;
return new U(q,top,V-q,M-top)};S.prototype.tv=function(A){var M={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
M.Btom.v=A.y+A.J;M.Left.v=A.x;M.Rght.v=A.x+A.n;M.Top.v=A.y;if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null}};
this.add.artb.artboardRect.v=M};S.prototype.tU=function(A,M){var q=[],V=this;if(V.z<=0||M){if(V.Du())if(!this.rect.zZ())q.push(0);
if(V.tl()&&!V.tl().rect.zZ())if(V.tl().NH||M)q.push(1);if(V.add.vmsk)if(V.add.vmsk.NH||M)q.push(2);if(V.tJ()&&V.tR(A).a&&!V.tR(A).a.rect.zZ())q.push(3)}else if(V.z==1){q.push(1);
if(V.tl().NH&&!V.tl().rect.zZ()){if(V.Du())if(!this.rect.zZ())q.push(0);if(V.add.vmsk)if(V.add.vmsk.NH)q.push(2)}}else if(V.z==3&&!V.tR(A).a.rect.zZ())q.push(3);
if(V.add.artb&&q.indexOf(0)==-1)q.push(0);q.sort();return q};S.prototype.tl=function(){var A=this;return A.NC?A.NC:A.add.vmsk&&A.add.vmsk.isEnabled?null:A.a};
S.prototype.tR=function(A){var M=this.add.SoLd.placed.v,q=A.add.FEid;if(q==null)return null;for(var V=0;
V<q.length;V++)if(q[V].id==M)return q[V];return null};S.prototype.extend=function(A){Q.EoC(this,A)};
S.prototype.tH=function(A,M){var q=A.clone();if(this.tz()){var V=this.add.lmfx,F=M.root.MZ(M.T.indexOf(this)),H=V.gradientFillMulti.v,w=!1;
for(var C=0;C<H.length;C++)if(H[C].v.enab.v&&H[C].v.Algn.v)w=!0;if(w)q=q.vP(F.Ak(M,!1));var r=Ez.Elj(this,M);
q.offset(r.x,r.y);q.n+=r.n;q.J+=r.J}return q};S.prototype.mX=function(){if(this.Du())Q.Jn(this);var A=this.tl();
if(A)A.mX()};S.prototype.clone=function(){var A=new S;A.rect=this.rect.clone();A.buffer=Q.clone(this.buffer);
A.B_=this.B_;A.opacity=this.opacity;A.NM=this.NM;A.Nj=this.Nj;A.name=this.name;if(this.a)A.a=this.a.clone();
if(this.NC)A.NC=this.NC.clone();for(var M in this.add)A.add[M]=zP.clone(M,this.add[M]);return A};S.prototype.tr=function(A){var M=this;
if(M.add.TySh)delete M.add.TySh;if(M.add.SoLd){var q=this.DL(A,this.buffer,this.rect);if(q){this.buffer=q.ej;
this.rect=q.rect;this.U()}delete M.add.SoLd}if(M.add.SoCo||M.add.GdFl||M.add.PtFl){if(M.add.SoCo)delete M.add.SoCo;
if(M.add.GdFl)delete M.add.GdFl;if(M.add.PtFl)delete M.add.PtFl;if(M.add.vmsk){console.log(M.NC,M.a);
delete M.add.vmsk;if(M.NC==null&&M.a)delete M.a;else if(M.NC!=null&&M.a!=null){M.a=M.NC;delete M.NC}}}if(!M.Da()&&zG.get(M.add)==null&&!this.Du())this.Nj-=16};
S.prototype.tW=function(A){var M=255,q=0;if(A==2){var V=this.add.SoLd.filterFX.v;if(V.filterMaskDensity)M=V.filterMaskDensity.v;
if(V.filterMaskFeather)q=V.filterMaskFeather.v}else{var F=A==0?this.tl():this.add.vmsk;M=F.qj;q=F.NV}return{dF:A,Fo:M,Fv:q}};
S.prototype.th=function(A){if(A.dF==2){var M=this.add.SoLd.filterFX.v;if(A.Fo==255)delete M.filterMaskDensity;
else M.filterMaskDensity={t:"long",v:A.Fo};if(A.Fv==0)delete M.filterMaskFeather;else M.filterMaskFeather={t:"doub",v:A.Fv};
this.U()}else{var q=A.dF==0?this.tl():this.add.vmsk;q.qj=A.Fo;q.NV=A.Fv;q.NK=!0}};var zT={tT:0,ts:1,tc:2,tA:3};
S.tg=function(){this.color=255;this.NH=!0;this.isEnabled=!0;this.NS=!1;this.qj=255;this.NV=0;this.rect=new U;
this.channel=Q.b(0);this.Eol=null;this.EnV=null;this.NK=!0};S.tg.prototype.Gh=function(A){if(!this.isEnabled)return A;
var M=new S.tg;M.color=Math.round(this.GD()*A.GD()/255);if(this.GD()==0&&A.GD()==0)M.rect=this.Ak().vt(A.Ak());
else if(A.GD()==0)M.rect=A.Ak().clone();else if(this.GD()==0)M.rect=this.Ak().clone();else M.rect=this.Ak().vP(A.Ak());
M.channel=this.tf(M.rect);M.qj=255;M.NV=0;var q=A.tf(M.rect);Q.EoA(q,M.rect,M.channel,M.rect);return M};
S.tg.prototype.Ak=function(){if(this.NV==0)return this.rect;var A=Math.ceil(this.NV*2.2),M=this.rect.clone();
M.hW(A,A);return M};S.tg.prototype.tx=function(){if(this.NV==0&&this.qj==255)return this.channel;if(this.NV==0){var A=Q.clone(this.channel);
Q.mx(A);Q.mI(A,this.qj/255);Q.mx(A);return A}var M=this.Ak(),q=this.tp(M),A=Q.b(M.X());Q.blur.Ji(q,A,M,this.NV);
if(this.qj!=255){Q.mx(A);Q.mI(A,this.qj/255);Q.mx(A)}return A};S.tg.prototype.GD=function(){return Math.round(255-(255-this.color)*(this.qj/255))};
S.tg.prototype.extend=function(A){Q.extend(this,A,this.color)};S.tg.prototype.mX=function(){if(this.color==255)Q.mx(this.channel);
Q.mX(this);if(this.color==255)Q.mx(this.channel)};S.tg.prototype.clone=function(){var A=new S.tg;A.color=this.color;
A.NH=this.NH;A.isEnabled=this.isEnabled;A.NS=this.NS;A.qj=this.qj;A.NV=this.NV;A.rect=this.rect.clone();
A.channel=Q.clone(this.channel);return A};S.tg.prototype.tp=function(A,M){if(M==null)M=Q.b(A.X());Q.set(M,this.color);
Q.mC(this.channel,this.rect,M,A);return M};S.tg.prototype.tf=function(A,M){var q=this.Ak(),V=this.tx();
if(M==null)M=Q.b(A.X());Q.set(M,this.GD());Q.mC(V,q,M,A);return M};S.tP=function(){this.NH=!0;this.isEnabled=!0;
this.qj=255;this.NV=0;this.C=[{type:6},{type:8,all:0}];this.NC=null;this.NK=!0;this.k=[];this.uj=[]};
S.tP.prototype.offset=function(A,M){this.NC=this.tl();Q.m.Ut(this.C,new zo(1,0,0,1,A,M));this.NC.rect.offset(A,M)};
S.tP.prototype.tl=function(A){if(!this.NK&&this.NC&&A==null){this.NC.isEnabled=this.isEnabled;return this.NC}var M=Q.m.Uk(this.C);
if(A){var q=Math.ceil(A.strokeStyleLineWidth.v.val);M.hW(q,q)}M=Q.O.ok(M);var V=new S.tg;V.color=Q.m.ln(this.C)?0:255;
V.NH=this.NH;V.isEnabled=this.isEnabled;V.NS=!0;V.rect=M;V.qj=this.qj;V.NV=this.NV;V.channel=Q.b(V.rect.X());
if(!M.zZ())Q.m.Emj(this.C,V.channel,V.rect,A);if(A==null){this.NC=V;this.NK=!1}return V};S.tP.prototype.clone=function(){var A=new S.tP;
A.NH=this.NH;A.isEnabled=this.isEnabled;A.qj=this.qj;A.NV=this.NV;A.C=S.tP.tD(this.C);A.k=this.k.slice(0);
A.uj=this.uj.slice(0);return A};S.tP.prototype.concat=function(A){var M=A.C.slice(2);if(M.length==0)return;
M[0].qz=3;this.C=this.C.concat(M)};S.tP.tD=function(A){var M=[];for(var q=0;q<A.length;q++){var V=A[q];
if(V.type>5||V.type==0||V.type==3)M.push(JSON.parse(JSON.stringify(V)));else M.push({type:V.type,qo:V.qo.clone(),s:V.s.clone(),qU:V.qU.clone()})}return M};
S.tP.ERP=function(A,M,q){if(A.length!=M.length)return!1;for(var V=2;V<A.length;V++){var F=A[V],H=M[V];
if(F.type!=H.type)return!1;if(F.type==0||F.type==3){if(F.length!=H.length||!q&&F.qz!=H.qz)return!1}else if(!F.qo.mg(H.qo)||!F.s.mg(H.s)||!F.qU.mg(H.qU))return!1}return!0};
S.tP.prototype.Elo=function(){var A=this.C;for(var M=3;M<A.length;M++)if(A[M].type==0||A[M].type==3)A[M].qz=-1};
S.tj=function(){this.type=null;this.Ng=2;this.qx=null;this.Nx="";this.Np="";this.Nf="";this.open=0;this.raw=null;
this.QP=null};S.tj.prototype.clone=function(){var A=new S.tj;A.type=this.type;A.Ng=this.Ng;A.qx=this.qx;
A.Nx=this.Nx;A.Np=this.Np;A.Nf=this.Nf;A.open=this.open;A.raw=new Uint8Array(this.raw.buffer.slice(0));
return A};S.ta="0";S.tV="1";S.tC="2";S.tS="3";S.tk="4";S.tb="5";S.tL="6";S.tZ="7";S.tY="8";S.ti="9";
S.tI="10";S.t$="11";S.tK="12";S.te="13";S.tq="13.5";S.tB="13.7";S.tN="14";S.tQ="15";S.t_="16";S.tw="17";
S.ty="18";S.tu="19";S.td="20";S.tO="21";S.tF="21.5";S.tX="22";S.Mn="22.5";S.ME="23";S.EzO="24";S.MJ="25";
S.Mz="26";S.MG="27";S.Mo="28";S.Mv="29";S.MU="30";S.Ml="31";S.MR="32";S.MH="33";S.Mr="34";S.MW="35";
S.Mh="36";S.MT="37";S.Ms="38";S.Mc="39";S.MA="40";S.Mg="41";S.Mx="50";S.Mp="51";S.Mf="52";S.MP="53";
S.MD="54";S.Mt="54.5";S.MM="54.6";S.Mj="54.7";S.Ma="55";S.MV="55.5";S.MC="56";S.MS="56.5";S.Mk="57";
S.Mb="58";function En(){this.depth=0;this.index=-1;this.Q=null;this.FR=null;this.FH=-1;this.children=null;
this.parent=null;this.Fr=null}En.prototype.EUD=function(){var A=0;if(this.Q.Da()){for(var M=0;M<this.children.length;
M++)A+=this.children[M].EUD()}else if(this.Q.buffer)A+=this.Q.buffer.length;return A};En.prototype.MZ=function(A){var M=this.Fr[A];
return this.Fr[A]};En.prototype.Jm=function(A){var M=this.Q;if(!M.Dy())return null;if(M.Db()){if(M.a.rect.hH(A)){if(!Q.Jm(A,M.a.channel,M.a.rect))return null}else if(M.a.color==0)return null}if(M.Da()){for(var q=this.children.length-1;
q>=0;q--){var V=this.children[q],F=V.Jm(A);if(F)return F}return null}else if(M.add.TySh&&M.rect.hH(A))return this;
else if(Q.Eok(A,M.buffer,M.rect))return this;return null};En.prototype.MY=function(A){var M=this.Q;if(!M.Dy())return null;
var q=M.add.vmsk;if(q&&q.isEnabled){var V=Q.m.Jm(q.C,A).eE;if(V!=-1)return{ue:this,uq:V}}if(M.Da()){for(var F=this.children.length-1;
F>=0;F--){var H=this.children[F],w=H.MY(A);if(w)return w}return null}return null};En.prototype.Mi=function(A,M){A.push(this.index);
if(this.Q.Da()){A.push(this.FH);if(M)if(this.Q.z==1&&this.Q.tl().NH==!1)return;for(var q=0;q<this.children.length;
q++)this.children[q].Mi(A)}};En.prototype.vQ=function(A,M,q){var V=this.Q,F,H;if(V.Da()&&V.add.artb!=null)M=V.to();
if(M.n>M.J){F=q;H=Math.floor(q*(M.J/M.n))}else{F=Math.floor(q*(M.n/M.J));H=q}var w=H;if(V.DV()&&V.add.vmsk){var C=V.rect.clone(),r,G;
if(C.zZ())C=new U(0,0,20,20);if(C.n>C.J){r=q;G=Math.floor(q*(C.J/C.n))}else{r=Math.floor(q*(C.n/C.J));
G=q}if(r*G==0)r=G=16;Q.UU.UW(V.Ok,r,G,C,V.buffer,V.rect,!1);Q.UU.Evl(V.Ok,r,G);w=G}else if(V.add.SoCo){w=Math.max(16,Math.min(F,H));
Q.UU.Enp(V.Ok,w,w,V.add.SoCo)}else if(V.add.GdFl){Q.UU.EJs(V.Ok,w,w,V.add.GdFl)}else if(V.add.PtFl){Q.UU.Enb(V.Ok,w,w,V.add.PtFl,A)}else if(V.add.TySh){Q.UU.EJc(V.Ok,w,w,V.add.TySh)}else if(zG.get(V.add)!=null){Q.UU.EvJ(V.Ok,w,w,V.add)}else if(V.add.SoLd){Q.UU.UW(V.Ok,F,H,M,V.buffer,V.rect,!1);
Q.UU.EJg(V.Ok,F,H,V.add.SoLd)}else if(V.Da()){w=16}else{if(V.Du())Q.UU.UW(V.Ok,F,H,M,V.buffer,V.rect,!1);
else{Q.UU.ElC(V.Ok,w,w)}}var J=V.tl();if(J)Q.UU.UR(V.Ob,F,H,M,J);if(V.tJ()&&V.tR(A)&&V.tR(A).a){var m=V.tR(A).a;
Q.UU.UR(V.OZ,F,H,M,m)}if(V.add.vmsk){Q.UU.UR(V.OL,F,H,M,V.add.vmsk.tl(),!0)}if(V.add.vmsk||J)w=Math.max(w,H);
V.OS=Math.max(w,16);if(V.Da()&&V.add.lsct==zT.ts)for(var u=0;u<this.children.length;u++)this.children[u].vQ(A,M,q)};
En.prototype.MI=function(A,M,q,V){this.depth=q;var F=A[M];if(V==null)V=[];this.Fr=V;if(F.add.lsct==zT.tA){this.FR=F;
this.FH=M-1;this.children=[];var H=M+1;while(!0){var w=A[H];if(w==null)console.log(H,A.length);if(w.add.lsct==zT.ts||w.add.lsct==zT.tc){if(F.add.lyid==w.add.lyid)F.add.lyid+=16777215;
this.Q=w;this.index=H-1;V[this.index]=this;break}var C=new En;C.parent=this;H=C.MI(A,H,q+1,V);this.children.push(C)}return H+1}else{this.Q=F;
this.index=M-1;V[this.index]=this;return M+1}};En.prototype.M$=function(A,M,q){var V=this.MZ(q),F=A;
while(V.parent!=null){F=V.Q.tH(F,M);V=V.parent}return F};En.prototype.Ak=function(A,M){var q=this.Q,V=new U;
if(!q.Dy())return V;var F=q.tl();if(q.Da())for(var H=0;H<this.children.length;H++){var w=this.children[H].Ak(A,!0);
V=V.vP(w)}else if(zG.get(q.add)!=null)V=q.Db()&&q.a.color==0?q.a.Ak().clone():new U(0,0,A.n,A.J);else if(q.DV()&&q.add.vmsk&&q.add.vmsk.isEnabled&&q.add.vstk){var C=q.add.vmsk,r=q.add.vstk,G=Math.ceil(C.NV*2.2),J=r.strokeEnabled.v?Math.ceil(r.strokeStyleLineWidth.v.val):0,m=j.az.ao.indexOf(r.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(m==0)J=0;else if(m==1)J/=2;V=Q.O.ok(Q.m.Uk(C.C));V.hW(Math.ceil(G+J),Math.ceil(G+J))}else if(q.DV()&&F&&F.isEnabled&&F.GD()!=0)V=new U(0,0,A.n,A.J);
else V=q.tG(A,!1,!0);return M?q.tH(V,A):V};En.prototype.MK=function(A,M,q,V,F){var H=this.Q,w=Ez.pb(H);
if(!H.Dy())return;if(H.opacity==255){this.Me(A,M,q,V,F);return}var C=Q.clone(A);this.Me(C,M,q,V,F);Q.S.Jt(C,M,A,M,null,null,0,q,H.opacity/255,H.B_=="diss")};
En.prototype.Me=function(A,M,q,V,F){var H=this.Q,w=Ez.pb(H),C=zG.get(H.add)!=null,m,y;if(H.Da()&&H.B_=="pass"&&!H.Db()&&!(F.length>0||w.fill!=1||H.tz())){this.Mq(A,M,q,V);
return}var r=H.Da()&&H.B_=="pass"&&(F.length>0||w.fill!=1||H.tz()),G=H.rect,J=H.buffer;if(H.Da()){G=this.Ak(V,!1);
var u=Q.b(G.X()*4);m=Q.b(G.X());this.Mq(u,G,q,V);Q.mH(u,m,3)}else if(C){G=M.clone();m=Q.b(G.X());Q.set(m,255)}else{G=H.rect;
m=Q.b(G.X());Q.mH(J,m,3)}if(H.Db()){var W=H.a.tf(G);Q.mK(W,m)}if(H.tz())y=Ez.aT(H.add.lmfx,H.add.fxrp,m,G,V);
if(H.tz())Ez.aP(H.add.lmfx,y,G,A,M,q);if(H.Da()){J=Q.b(G.X()*4);if(H.B_=="pass")Q.mL(A,M,J,G);if(r){var u=Q.b(G.X()*4);
this.Mq(u,G,q,V);var O=Q.b(G.X());Q.mH(u,O,3);Q.mB(O,G,J,G)}this.Mq(J,G,q,V)}if(C){J=Q.clone(A);Q.mh(J,4278190080,16777215);
var h=zG.get(H.add),I=zG.PQ(h,zG.Dm(H.add));zG.P_(I,J,J)}var Z=Q.clone(J);Q.mh(Z,4278190080,16777215);
for(var L=0;L<F.length;L++)F[L].MK(Z,G,q,V,[]);var Y=Q.b(G.X()*4);Q.mL(A,M,Y,G);if(C)w.ea=!0;Q.S.JW(H.B_=="pass"?"norm":H.B_,Z,G,Y,G,q,1,w);
if(H.tz()){var B=H.A.OK.type.FrFX,X=null;if(B.length!=0){X=B[0];for(var L=0;L<B.length;L++)if(B[L].FW.n>X.FW.n)X=B[L];
var E=Q.b(X.FW.n*X.FW.J*4);Q.mL(A,M,E,X.FW)}Ez.aD(H.add.lmfx,y,G,A,M,q,Y,E,X?X.FW:null)}Q.S.Jt(Y,G,A,M,m,G,0,q,1,H.B_=="diss")};
En.prototype.Mq=function(A,M,q,V){var F=this.children;for(var H=0;H<F.length;H++){var w=[];for(var C=H+1;
C<F.length;C++)if(F[C].Q.NM)w.push(F[C]);else break;F[H].MK(A,M,q,V,w);H+=w.length}};En.Pa={delete:function(A){if(A&&A.n)A.delete()},b:function(A,M){return v.Rx?new v.JU(A,M):Q.b(A*M*4)},MB:function(A,M,q){if(v.Rx){if(A==null||A.n!=M||A.J!=q){En.Pa.delete(A);
return new v.JU(M,q)}}else{if(A==null||!(A instanceof Uint8Array)||A.length!=M*q*4){En.Pa.delete(A);
return Q.b(M*q*4)}}return A},mC:function(A,M,q,V,F){(v.Rx?v.mZ:Q.mL)(A,M,q,V,F)},Jt:function(A,M,q,V,F,H,w,C,r,G){(v.Rx?v.S.Hl:Q.S.Jt)(A,M,q,V,F,H,w,C,r,G)},JW:function(A,M,q,V,F,H,w,C){if(v.Rx)v.S.HU(A,M,q,V,F,H,w,C);
else Q.S.JW(A,M,q,V,F,H,w,C)},mh:function(A,M,q){if(v.Rx){v.Ra(A);v.mW(M,q)}else Q.mh(A,M,q)},EUg:function(A,M,q,V,F){if(v.Rx){v.S.Hl(null,null,V,F,A,M,q,F,1,!1)}else{if(q==255)Q.mB(A,M,V,F);
else{var H=Q.b(M.X());Q.mk(V,F,H,M);Q.mK(A,H);Q.mh(V,0,16777215);Q.mS(H,M,V,F)}}},mN:function(A,M,q,V){if(v.Rx)v.S.Hl(null,null,q,V,A,M,0,V,1,!1);
else Q.mN(A,M,q,V)}};En.prototype.MQ=function(A,M,q,V,F){var H=this.Q,w=Ez.pb(H),C=En.Pa,r=H.DV()?H.tl():H.a;
if(!H.Dy())return;if(H.Db()&&r.rect.zZ()){return}if(H.add.vstk==null&&this.Ak(V,!1).zZ()){return}var G=this.Ak(V,!0).vt(q);
if(!M.mg(q)&&!q.hT(G))return;if(H.Da()&&H.add.artb)q=q.vt(H.to());var J=En.M_(H,F);if(!J){this.Mw(A,M,q,V,F);
return}H.A.O_=C.MB(H.A.O_,G.n,G.J);C.mC(A,M,H.A.O_,G,q);this.Mw(H.A.O_,G,q,V,F);C.Jt(H.A.O_,G,A,M,null,null,0,q,H.opacity/255,H.B_=="diss")};
En.M_=function(A,M){return A.opacity!=255&&(M.length!=0||A.Da()||A.tz())};En.prototype.Mw=function(A,M,q,V,F){var H=this.Q,w=Ez.pb(H),C=zG.get(H.add)!=null,r=En.Pa,G=En.M_(H,F),J=G?1:H.opacity/255,m=H.DV()?H.tl():H.a,u=H.Da()&&H.B_=="pass"&&!(F.length>0||w.fill!=1||H.tz()),W=!H.Da()&&!C&&!H.tz()&&F.length==0,y=C&&!H.tz()&&F.length==0,L=null,Y=null,B=null,o;
if(u||W||y){var O=A,h=M;if(H.Db()){h=this.Ak(V,!1);O=H.A.Ou=r.MB(H.A.Ou,h.n,h.J);r.mC(A,M,H.A.Ou,h)}if(u)this.Mu(O,h,q,V);
if(W)r.JW(H.B_,H.Dk(V),H.rect,O,h,q,J,w);if(y){var I=H.Db()&&m.GD()==0?m.Ak().clone():h.clone();H.A.Oy=this.My(O,h,H.A.Oy,I,H.add);
w.ea=!0;r.JW(H.B_,H.A.Oy,I,O,h,q,J,w)}if(H.Db())r.Jt(O,h,A,M,H.DS(),m.Ak(),m.GD(),q,1,H.B_=="diss");
H.A.DM();return}var Z=H.Da()&&H.B_=="pass"&&(F.length>0||w.fill!=1||H.tz()),I=H.rect;if(H.Da()){I=this.Ak(V,!1);
B=H.A.Oy=r.MB(H.A.Oy,I.n,I.J);r.mh(B,0);this.Mu(B,I,I,V);Y=r.MB(H.A.Ow,I.n,I.J);r.mC(B,I,Y,I)}else if(C){I=H.Db()&&m.GD()==0?m.Ak().clone():M.clone();
Y=r.MB(H.A.Ow,I.n,I.J);r.mh(Y,4294967295)}else{I=H.rect;L=H.Dk(V);Y=r.MB(H.A.Ow,I.n,I.J);r.mC(L,I,Y,I)}H.A.Ow=Y;
if(H.Db())r.EUg(H.DS(),m.Ak(),m.GD(),Y,I);if(H.tz())if(H.A.O$||H.A.di||H.A.OX!=v.Rx||H.A.OY||H.Da()){var X=Y;
if(v.Rx){X=Q.b(I.n*I.J*4);Y.get(X)}var E=Q.b(I.n*I.J);Q.mH(X,E,3);if(H.A.di||H.A.OX!=v.Rx||!Q.mg(E,H.A.Oi)){var c=null;
if(H.DV()&&H.add.vmsk&&H.add.vmsk.isEnabled&&H.add.vmsk.tl().color==0)c=H.add.vmsk.tl().rect;Ez.EEp(H.A.OK,E,I,H.add.lmfx,H.add.fxrp,V,c);
H.A.Oi=Q.clone(E)}}if(H.tz())Ez.aP(H.add.lmfx,H.A.OK,I,A,M,q);if(H.Da()){L=r.MB(H.A.Ou,I.n,I.J);r.mh(L,0);
if(H.B_=="pass")r.mC(A,M,L,I);if(Z)r.mN(B,I,L,I);this.Mu(L,I,q,V);H.A.Ou=L}if(C){L=H.A.Ou=this.My(A,M,H.A.Ou,I,H.add)}if(H.Da()||C)o=L;
else{o=r.MB(H.A.Ou,I.n,I.J);r.mC(L,I,o,I,q);H.A.Ou=o}r.mh(o,4278190080,16777215);for(var s=0;s<F.length;
s++)F[s].MQ(o,I,q,V,[]);var z=H.A.Od=r.MB(H.A.Od,I.n,I.J);r.mC(A,M,z,I,q);if(C)w.ea=!0;r.JW(H.B_=="pass"?"norm":H.B_,o,I,z,I,q,1,w);
if(H.tz()){var k=H.A.OK.type.FrFX,b=null;if(k.length!=0){b=k[0];for(var s=0;s<k.length;s++)if(k[s].FW.n>b.FW.n)b=k[s];
H.A.OO=r.MB(H.A.OO,b.FW.n,b.FW.J);r.mC(A,M,H.A.OO,b.FW,q);H.A.OF=r.MB(H.A.OF,b.FW.n,b.FW.J)}Ez.aD(H.add.lmfx,H.A.OK,I,A,M,q,z,H.A.OO,H.A.OF,b?b.FW:null)}if(!v.Rx){var T=Q.b(I.X());
Q.mH(Y,T,3);Y=T}r.Jt(z,I,A,M,Y,I,0,q,1,H.B_=="diss");H.A.DM()};En.prototype.My=function(A,M,q,V,F){var H=En.Pa;
q=H.MB(q,V.n,V.J);H.mC(A,M,q,V);var w=zG.get(F),C=zG.PQ(w,zG.Dm(F));if(C!=null){if(v.Rx){var r=V.clone();
r.x=r.y=0;zG.EmL(C,q,r)}else zG.P_(C,q,q)}return q};En.prototype.Mu=function(A,M,q,V){var F=this.children;
for(var H=0;H<F.length;H++){var w=[];for(var C=H+1;C<F.length;C++)if(F[C].Q.NM)w.push(F[C]);else break;
F[H].MQ(A,M,q,V,w);H+=w.length}};function EE(A){this.name=A;this.Nb=-1;this.Fh=null;this.FT=null;this.Fs=null;
this.Fc=null;this.n=0;this.J=0;this.T=[];this.NY={};this.add={};this.buffer=null;this.Ne=4;this.k=[];
this.Ni=[[],[]];this.NI={classID:"CompList",list:{t:"VlLs",v:[]}};this.root=null;this.FA=null;this.Qo=!1;
this.Fg=!1;this.Oh=!1;this._Z=!1;this._X=!1;this.wS=!1;this.uN=!1;this.yJ=!1;this.O$=null;this.Fx=null;
this._a={};this.q=null;this.p={wj:[],Fp:[],wx:null,_O:null,yr:null,yS:null};this.history=[new zv([1,0],null)];
this.y_=0;this.Ff=0;this.w=new Em(this)}EE.prototype.Md=function(){var A=this.name;return A.slice(0,A.length-4).endsWith("-sketch")};
EE.prototype.MO=function(A){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(A)==-1)this.add.FEid.push(A)};
EE.prototype.MF=function(A){var M=this.add.FEid.indexOf(A);this.add.FEid.splice(M,1);if(this.add.FEid.length==0)delete this.add.FEid};
EE.prototype.U=function(A){if(A==null)A=new U(0,0,this.n,this.J);if(this.O$==null)this.O$=A;else this.O$=this.O$.vP(A)};
EE.prototype.EmC=function(A){return this.O$!=null};EE.prototype.jn=function(A){var M=this.T[A],q=this.root.MZ(A);
if(q==null)return!1;if(M.Da()||q.parent.children.indexOf(q)==0)return!1;return!0};EE.EzU=function(A){if(A.add.lnk2)for(var M=0;
M<A.add.lnk2.length;M++){var q=A.add.lnk2[M].qx;A.add.lnk2[M].qx=EE.jz()+q.slice(8);for(var V=0;V<A.T.length;
V++){var F=A.T[V].add.SoLd;if(F&&F.Idnt.v==q)F.Idnt.v=A.add.lnk2[M].qx}}};EE.prototype.jm=function(A){A.sort(function(G,J){return G-J});
var top=A[A.length-1],M=this.T.slice(0),q=this.k.slice(0),V=[],F=[];for(var H=0;H<this.T.length;H++){if(A.indexOf(H)!=-1)F.push(this.T[H]);
else V.push(this.T[H])}this.jb(F);this.k=[];var w=this.root.Ak(this,!0);if(w.zZ())w=new U(0,0,100,100);
var C=new Uint8Array(zm.PSD.Ej(this));this.jb(M);this.k=q;var r=new EE(this.T[top].getName());zm.PSD.Ea(C.buffer,r);
delete r.add.artd;r.jb(r.T);EE.EzU(r);d.AB.A_(r,w);r.jP();r.jv();return[r,w,V,top]};EE.prototype.jJ=function(A,M){var q=this.jm(A),V=q[0],F=q[1],H=q[2],top=q[3],w=new Uint8Array(zm.PSD.Ej(V));
if(M)H=this.T.slice(0);var C=this.jo(w,V.name,F.x,F.y);if(top==this.T.length-1)H.push(C);else H.splice(M?top+1:top-A.length+1,0,C);
this.jb(H);this.k=[H.indexOf(C)]};EE.jz=function(){var A="";for(var M=0;M<8;M++)A+=Math.floor(Math.random()*16).toString(16);
return A};EE.prototype.jG=function(A){if(A==null)return;if(this.add.Patt==null)this.add.Patt=[];var M=this.add.Patt;
for(var q=0;q<M.length;q++)if(M[q].id==A.id)return;M.push(A)};EE.prototype.jo=function(A,M,q,V){if(this.add.lnk2==null)this.add.lnk2=[];
var F=null;for(var H=0;H<this.add.lnk2.length;H++)if(Q.mg(A,this.add.lnk2[H].raw)){F=this.add.lnk2[H].qx;
break}var w=zm.Ec(A.buffer);if(F==null){F=EE.jz()+"-d71c-11e5-b1ae-a548a96e5f9f";var C=new S.tj;C.qx=F;
C.Nf=w=="psd"?"8BIM":"    ";C.Nx=M+"."+(w=="psd"?w:w+"\0");C.Np=w=="psd"?"8BPB":"    ";C.open=0;C.raw=A;
C.type="liFD";C.Ng=2;this.add.lnk2.push(C)}var r=this.jf(F),G=EE.jz()+"-d71c-11e5-b1ae-a548a96e5f9f",J=this.jD();
J.Dw(M);if(r!=null){J.rect=r.QP[1].clone();J.rect.offset(q,V);J.buffer=Q.b(J.rect.X()*4);Q.mc(r.QP[0],J.buffer)}J.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:F},placed:{t:"TEXT",v:G},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:Q.ls.b(J.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:J.rect.n},Hght:{t:"doub",v:J.rect.J}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var m=Q.O.oL(J.rect).G;J.add.SoLd.Trnf=d.f.pm(m);J.add.SoLd.nonAffineTransform=d.f.pm(m);return J};EE.prototype.jv=function(){if(v.Rx&&this.Fx){this.FA.get(this.buffer);
this.Fx=null}return this.buffer};EE.prototype.jU=function(){for(var A=0;A<this.T.length;A++)this.T[A].DC();
this.U()};EE.prototype.jl=function(){for(var A=0;A<this.T.length;A++)if(this.T[A].add.lmfx)this.T[A].A.di=!0};
EE.prototype.jR=function(){var A=this.NY.r1044;if(A==null){A=this.NY.r1044=new Uint8Array(4);var M=0;
for(var q=0;q<this.T.length;q++)M=Math.max(M,this.T[q].add.lyid);K.WM(A,0,M)}var V=K.d(A,0);K.WM(A,0,V+1);
return V+1};EE.prototype.jH=function(A){if(A==null)A=!0;var M=this;if(M.k.length!=1){if(A)alert("More than one layer selected.");
return!1}return this.jr(A)};EE.prototype.jr=function(A){if(A==null)A=!0;var M=this;for(var q=0;q<M.k.length;
q++){var V=M.T[M.k[q]];if(V.add.lsct!=null&&V.add.lsct!=zT.tT&&V.z!=1){if(A)alert("Layer is not editable.");
return!1}if(V.z<=0&&!V.Du()){if(A)alert("Layer is not editable.");return!1}if(V.z<=0&&V.add.TySh){if(A)alert("Text Layer must be rasterized first");
return!1}if(V.z<=0&&V.add.SoLd){if(A)alert("Smart Object must be rasterized first");return!1}}return!0};
EE.prototype.jW=function(A){var M=this.root.MZ(A);if(M.parent)return M.Q.Dy()&&this.jW(M.parent.index);
else return M.Q.Dy()};EE.prototype.jh=function(A){var M=this.root.MZ(A);if(M==null)return null;var q=M.Q;
if(q.add.artb)return q.to();if(M.parent)return this.jh(M.parent.index);return null};EE.prototype.jT=function(){var A=this.T[this.k[0]];
if(A.z<=0&&!A.rect.hT(this.q.rect)){alert("Selected area is empty.");return!1}if(this.k.length==1&&this.q){var M=Q.b(this.q.channel.length);
Q.mk(A.buffer,A.rect,M,this.q.rect);Q.mK(this.q.channel,M);if(Q.mY(M,0)){alert("Selected area is empty.");
return!1}}return!0};EE.prototype.js=function(){if(this.NY["r"+1037]==null)this.jc(30);return K.Wg(this.NY["r"+1037],0)};
EE.prototype.jc=function(A){if(this.NY["r"+1037]==null)this.NY["r"+1037]=new Uint8Array(4);if(K.Wg(this.NY["r"+1037],0)==A)return;
K.Wx(this.NY["r"+1037],0,A);this.jl()};EE.prototype.jA=function(){if(this.NY["r"+1049]==null)this.jg(30);
return K.Wg(this.NY["r"+1049],0)};EE.prototype.jg=function(A){if(this.NY["r"+1049]==null)this.NY["r"+1049]=new Uint8Array(4);
if(K.Wg(this.NY["r"+1049],0)==A)return;K.Wx(this.NY["r"+1049],0,A);this.jl()};EE.prototype.jx=function(A){if(this.add.lnk2==null)return null;
for(var M=0;M<this.add.lnk2.length;M++)if(this.add.lnk2[M].qx==A)return this.add.lnk2[M];return null};
EE.prototype.Eml=function(A){var M=this.jx(A);if(M==null)return!1;var q=zm.Ec(M.raw.buffer);if(q==null)return!1;
if(zm.Eg(q)!=null||q=="psd")return!0;return!1};EE.prototype.jf=function(A,M){var q=this.jx(A);if(q==null)return null;
if(q.QP)return q;var V=zm.Ec(q.raw.buffer);if(V==null){alert("Unsupported format: "+K.Wo(q.raw,0,4));
return null}var F=zm.Eg(V);if(F.EL){var H=new EE(name+(V=="psd"?"":"-"+V)+".psd");F.Ea(q.raw.buffer,H);
for(var w=0;w<H.T.length;w++)if(H.T[w].DV())H.T[w].DY(H);H.jL();H.U();H.jP();q.QP=[H.jv(),new U(0,0,H.n,H.J)]}else if(F){var C=F.Ea(q.raw.buffer)[0];
q.QP=[new Uint8Array(C.data),C.eG]}if(q.QP){if(M==1){var r=q.QP[0],G=q.QP[1],J=Q.b(G.X());Q.mH(r,J,3);
var m=Q.mO(J,G),u=Q.b(m.X()*4);Q.mL(r,G,u,m);q.QP=[u,m]}Q.mD(q.QP);return q}};EE.prototype.jP=function(){var A=this.n,M=this.J,q=new U(0,0,A,M),V=q.vt(this.O$);
if(V.zZ())return;if(v.Rx&&this.FA==null)this.FA=new v.JU(A,M);if(this.buffer==null||this.buffer.length!=A*M*4||v.Rx&&(this.FA.n!=A||this.FA.J!=M)){this.buffer=Q.b(A*M*4);
if(this.FA)this.FA.delete();if(v.Rx)this.FA=new v.JU(A,M)}if(!V.mg(q)){if(!v.Rx){var F=Q.Jo(V.X()*4);
Q.mL(F,V,this.buffer,q)}if(v.Rx){v.Ra(this.FA,V);v.mW(0)}}else{if(v.Rx){this.FA.set(null)}else{Q.set(this.buffer,0)}}var H=Date.now(),w=v.Rx?this.FA:this.buffer;
this.root.MQ(w,q,V,this,[]);this.Fx=this.O$.clone()};EE.prototype.jD=function(){var A=new S;A.rect=new U(0,0,0,0);
A.buffer=Q.b(1);A.add.luni=new f(0,0);A.add.lyid=this.jR();A.add.lsct=zT.tT;A.add.lclr=0;A.add.fxrp=new f(0,0);
return A};EE.prototype.jt=function(){var A=this.jD();A.Dw("</Layer group>");A.add.lsct=zT.tA;A.Nj=24;
return A};EE.prototype.jM=function(){return this.y_!=this.Ff};EE.prototype.jj=function(A){while(this.history.length>this.y_+1)this.history.pop();
if(this.Ff>this.y_)this.Ff=-1;if(A.v.id!=d.Ah){this.Oh=!0;if(this.NI.lastAppliedComp){delete this.NI.lastAppliedComp;
this.uN=!0}}this.history.push(A);this.y_++;this.wS=!0;var M=0;for(var q=this.history.length-1;q>=0;q--){var V=this.history[q];
if(V.OD)continue;M++;if(M==30){this.y_-=q;this.history=this.history.slice(q);break}}};EE.prototype.ja=function(){if(this.y_!=this.history.length-1)return null;
return this.history[this.history.length-1]};EE.prototype.jV=function(A,M){if(A==null)A=!1;var q=M!=null?[M]:this.k,V=[];
for(var F=0;F<q.length;F++){var H=this.jS(q[F],A);for(var w=0;w<H.length;w++)if(V.indexOf(H[w])==-1)V.push(H[w])}return V};
EE.prototype.jC=function(A){var M=this,q=M.jV(!1,A);q.sort(function(r,G){return r-G});var V=[];for(var F=0;
F<q.length;F++){var H=M.T[q[F]].clone();H.add.lyid=M.jR();if(H.tJ()){var w=H.tR(M),C={id:EE.jz()+w.id.slice(8),buffer:Q.clone(w.buffer),rect:w.rect.clone(),a:w.a?w.a.clone():null};
M.MO(C);H.add.SoLd.placed.v=C.id}H.DY(M);V.push(H)}return V};EE.prototype.jS=function(A,M){var q=[],V=this.root.MZ(A);
if(V)V.Mi(q,M);return q};EE.prototype.jk=function(){this.root.vQ(this,new U(0,0,this.n,this.J),32)};
EE.prototype.jb=function(A){for(var M=0;M<this.T.length;M++){var q=this.T[M];if(A.indexOf(q)==-1){q.A.EGF();
q.U()}}this.T=A.slice(0);this.jL()};EE.prototype.jL=function(){this.root=new En;var A=this.jD();A.B_="pass";
A.add.lsct=zT.ts;var M=this.jt(),q=[M];for(var V=0;V<this.T.length;V++)q.push(this.T[V]);q.push(A);this.root.MI(q,0,0);
if(this.k.length==0)this.k=[this.T.length-1]};EE.prototype.jZ=function(){if(this.k.length!=1)return;
var A=this.root.MZ(this.k[0]);while(A.parent!=null){var M=A.parent.Q;M.add.lsct=zT.ts;A=A.parent}this._X=this.Enk=!0};
function Em(A){this.wb=A;this.Y=0;this._V=new f(0,0);this.B=new U(0,0,1,1);this.FD=new U(0,0,A.n,A.J);
this.__=null;this.Ft=null;this.FM=new Uint32Array(0);this.qs=null;this.qc=null;this.Fj=Q.b(0);this.Fa=null;
this.FV=null}Em.prototype.jY=function(A,M){var q=Math.round((this.B.n-this.wb.n*this.Y)/2+this._V.x),V=Math.round((this.B.J-this.wb.J*this.Y)/2+this._V.y),F=(A-q)/this.Y,H=(M-V)/this.Y;
return new f(F,H)};Em.prototype.ji=function(A,M){var q=Math.round((this.B.n-this.wb.n*this.Y)/2+this._V.x),V=Math.round((this.B.J-this.wb.J*this.Y)/2+this._V.y),F=A*this.Y+q,H=M*this.Y+V;
return new f(F,H)};Em.prototype.jI=function(){var A=this.wb,M=this,q=this.B.n,V=this.B.J,F=Math.floor(A.n*M.Y),H=Math.floor(A.J*M.Y);
if(M.Y<.99){var w=Q.mV(null,new U(0,0,A.n,A.J),M.Y).rect;F=w.n;H=w.J}return new U(Math.round((q-F)/2+M._V.x),Math.round((V-H)/2+M._V.y),F,H)};
Em.prototype.j$=function(){var A=this.wb,M=this,q=this.jI();return new U(Math.floor((M.B.x-q.x)/M.Y),Math.floor((M.B.y-q.y)/M.Y),Math.ceil(M.B.n/M.Y)+1,Math.ceil(M.B.J/M.Y)+1)};
function j(){}j.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");j.jK="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
j.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];j.EGZ=["DrSh","IrSh","SoFi","GrFl","FrFX"];
j.jq=["Clr"];j.jB="Grad Rvrs Type Algn Angl Scl Ofst".split(" ");j.jN=["Ptrn","Scl","Algn","phase"];
j.jQ={};j.jQ.j_="{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}";
j.jQ.r="{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}";
j.jQ.jw="{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}";
j.jQ.jy="{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}";
j.jQ.j_="\"Clr\": "+j.jQ.j_;j.jQ.r="\"Grad\":"+j.jQ.r+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"}";
j.jQ.jy="\"Ptrn\":"+j.jQ.jy+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
j.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
j.ju=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+j.jQ.j_+","+j.jQ.r+","+j.jQ.jy+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+j.jQ.j_+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+j.jQ.r+",\"Dthr\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+j.jQ.jy+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":57},\"t\":\"UntF\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
j.r={};j.r.types="Lnr Rdl Angl Rflc Dmnd shapeburst".split(" ");j.r.names=[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]];
j.stroke={};j.stroke.types=["InsF","CtrF","OutF"];j.stroke.names=[[19,5,2],[19,5,1],[19,5,0]];j.stroke.jd=["SClr","GrFl","Ptrn"];
j.stroke.EUl=[[13,0],[12,37],[12,62]];j.jF={};j.jF.types=["SfBL","PrBL"];j.jF.names=[[19,1,0],[19,1,1]];
j.jF.jX=["SrcC","SrcE"];j.jF.ERk=[[19,5,1],[12,69]];j.aE={};j.aE.types=["OtrB","InrB","Embs","PlEb","strokeEmboss"];
j.aE.style=[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]];j.aE.am=["SfBL","PrBL","Slmt"];j.aE.ERj=[[19,3,0],[19,3,1],[19,3,2]];
j.aE.dir=[[19,4,0],[19,4,1]];j.az={};j.az.aG=["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"];
j.az.ao=["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"];j.az.join=["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"];
j.az.av=["solidColorLayer","gradientLayer","patternLayer"];j.az.default={classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!0},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignOutside"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+j.jQ.j_+"}")},strokeStyleResolution:{t:"doub",v:72}};
j.aU=[{classID:"null",Clr:{t:"Objc",v:{}}},{classID:"null",Dthr:{t:"bool",v:!0},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}},Grad:{t:"Objc",v:{}}},{classID:"null",Ptrn:{t:"Objc",v:{}},Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
j.aU[0].Clr.v=JSON.parse(j.ju[5]).Clr.v;j.aU[1].Grad.v=JSON.parse(j.ju[6]).Grad.v;j.aU[2].Ptrn.v=JSON.parse(j.ju[7]).Ptrn.v;
var Ez={};Ez.ERx=function(A,M,q){if(A.zZ())return;var V=Q.m.EJU(A.C);V.x=Math.floor(V.x*M);V.n=Math.ceil(V.n*M);
V.y=Math.floor(V.y*q);V.J=Math.ceil(V.J*q);A.rect=V;A.channel=Q.b(V.X());Q.EZ.width=V.n;Q.EZ.height=V.J;
var F=Q.B;F.fillStyle="#ffffff";Q.m.Ezr(F,A.C,M,q,-V.x,-V.y);F.fill();var H=F.getImageData(0,0,V.n,V.J).data;
Q.mH(H,A.channel,3)};Ez.aR=function(A){var M,q;if(A){if(A.solidFillMulti.v.length>0)M=A.solidFillMulti.v[0].v;
if(A.gradientFillMulti.v.length>0)q=A.gradientFillMulti.v[0].v;if(M&&(M.enab.v==!1||M.Opct.v.val!=100||M.Md.v.BlnM!="Nrml"))M=null;
if(q&&(q.enab.v==!1||q.Opct.v.val!=100||q.Md.v.BlnM!="Nrml"))q=null}return[M,q]};Ez.Elj=function(A,M){var q=new U(-.5,-.5,1,1),V=A.add.lmfx;
for(var F=0;F<j.order.length;F++){var H=j.order[F],w=V[j.jK[F]].v;for(var C=0;C<w.length;C++){var r=w[C].v,u;
if(!r.enab.v)continue;var G=r.blur?r.blur.v.val:0,J=r.Ckmt?r.Ckmt.v.val/100:0,m=Math.round(G*J);if(H=="DrSh"){u=new U(-.5,-.5,1,1);
u.hW(G,G);Ez.aC(u,r,M,0)}if(H=="OrGl"){u=new U(-.5,-.5,1,1);u.hW(G,G)}if(H=="FrFX"){var W=Ez.ar(r)[1];
u=new U(-.5,-.5,1,1);u.hW(Math.ceil(W),Math.ceil(W))}if(H=="ebbl"){var G=r.blur.v.val;if(r.bvlS.v.BESl=="Embs"||r.bvlS.v.BESl=="PlEb")G/=2;
var y=["OtrB","InrB","Embs","PlEb","strokeEmboss"],O=["SfBL","PrBL","Slmt"],h=["In","Out"],I=r.bvlT.v.bvlT!="SfBL"?G:G*.43,Z=Math.round(G);
u=new U(-Z,-Z,2*Z,2*Z)}if(u)q=q.vP(u)}}if(q.x!=Math.ceil(q.x)){q.x=Math.ceil(q.x);q.n-=1}if(q.y!=Math.ceil(q.y)){q.y=Math.ceil(q.y);
q.J-=1}return q};Ez.ar=function(A){var M=0,q=0,V=A.Styl.v.FStl,F=A.Sz.v.val;if(V=="OutF")q=F;if(V=="InsF")M=F;
if(V=="CtrF")M=q=F/2;return[M,q]};Ez.aW=function(A){if(A.all==null)return;for(var M=0;M<A.all.length;
M++){var q=A.all[M];if(q.Fk)q.Fk.delete();if(q.Fb)q.Fb.delete();if(q.FL)q.FL.delete()}};Ez.EEp=function(A,M,q,V,F,H,w){Ez.aW(A);
var C=Ez.aT(V,F,M,q,H,w);A.type=C.type,A.all=C.all;if(v.Rx)for(var r=0;r<A.all.length;r++){var G=A.all[r];
G.Fk=new v.JU(G.FZ.n,G.FZ.J);G.Fk.set(G.ej);delete G.ej;if(G.FY){G.Fb=new v.Ri(G.FZ.n,G.FZ.J);G.Fb.set(G.FY);
delete G.FY}if(G.Fi){G.FL=new v.Ri(G.FZ.n,G.FZ.J);G.FL.set(G.Fi);delete G.Fi}}};Ez.aT=function(A,M,q,V,F,H){if(H==null)H=V;
var w=0,C=0;for(var r=0;r<j.order.length;r++){var G=j.order[r],J=j.jK[r],m=A[J].v;for(var u=0;u<m.length;
u++){var W=m[u].v;if(G=="DrSh"&&W.enab.v&&W.Ckmt.v.val>0&&W.blur.v.val>0)w=Math.max(w,Math.ceil(W.Ckmt.v.val*W.blur.v.val/100));
if(G=="OrGl"&&W.enab.v&&W.Ckmt.v.val>0&&W.blur.v.val>0&&W.GlwT.v.BETE=="SfBL")w=Math.max(w,Math.ceil(W.Ckmt.v.val*W.blur.v.val/100));
if(G=="OrGl"&&W.enab.v&&W.blur.v.val>0&&W.GlwT.v.BETE=="PrBL")w=Math.max(w,W.blur.v.val);if(G=="FrFX"&&W.enab.v&&W.Sz.v.val>0){if(W.Styl.v.FStl=="OutF")w=Math.max(w,W.Sz.v.val);
if(W.Styl.v.FStl=="CtrF")w=Math.max(w,Math.ceil(W.Sz.v.val/2));C=Math.max(C,Ez.ar(W)[1])}}}var y=new Ez.aL(q,V,w),O={type:{},all:[]};
for(var h=0;h<j.order.length;h++){var G=j.order[h],J=j.jK[h];O.type[G]=[];for(var I=A[J].v.length-1;
I>=0;I--){var Z=A[J].v[I].v;if(!Z.enab.v)continue;var L=Z.blur?Z.blur.v.val:0,Y=Z.Ckmt?Z.Ckmt.v.val/100:0,B=L*Y;
if(G=="DrSh"){var X=y.aK(B,L-B,!0),E=X.aZ,c=X.qa;c.offset(-y.rect().x-1,-y.rect().y-1);Ez.aa(E,Z);Ez.aC(c,Z,F,0);
var o=Q.b(c.X()*4);Ez.aV(o,Z.Clr.v);Q.mr(E,o,3);var s={ej:o,FZ:c,q$:zU.DP(Z.Md.v.BlnM),_Y:Z.Opct.v.val/100,FI:Z.layerConceals.v};
O.type[G].push(s);O.all.push(s)}if(G=="IrSh"){var X=y.aK(B,L-B,!1);Ez.aC(X.qa,Z,F,0);var c=y.rect().clone(),E=Q.b(c.X());
Q.set(E,255);Q.mC(X.aZ,X.qa,E,c);Ez.aa(E,Z);var o=Q.b(c.X()*4);Ez.aV(o,Z.Clr.v);Q.mr(E,o,3);c.offset(-y.rect().x-1,-y.rect().y-1);
var s={ej:o,FZ:c,q$:zU.DP(Z.Md.v.BlnM),_Y:Z.Opct.v.val/100};O.type[G].push(s);O.all.push(s)}if(G=="GrFl"){var o=Q.b(y.rect().X()*4);
Ez.ap(Z,o,y.rect(),F,null,H);var c=y.rect().clone();c.offset(-y.rect().x-1,-y.rect().y-1);var s={ej:o,FZ:c,q$:zU.DP(Z.Md.v.BlnM),_Y:Z.Opct.v.val/100};
O.type[G].push(s);O.all.push(s)}if(G=="SoFi"){var o=Q.b(y.aZ().length*4);Ez.aV(o,Z.Clr.v);var c=y.rect().clone();
c.offset(-y.rect().x-1,-y.rect().y-1);var s={ej:o,FZ:c,q$:zU.DP(Z.Md.v.BlnM),_Y:Z.Opct.v.val/100};O.type[G].push(s);
O.all.push(s)}if(G=="ebbl"){var z=!1,n=1;if(z)console.log(Z);var k=Date.now(),b=Z.bvlS.v.BESl;if(b=="strokeEmboss"){var T=A.frameFXMulti.v;
if(T.length==0)continue;T=T[0].v;if(!T.enab.v)continue;var l=T.Styl.v.FStl;if(l=="OutF")b="OtrB";if(l=="CtrF")b="Embs";
if(l=="InsF")b="InrB"}var L=Z.blur.v.val;if(b=="Embs"||b=="PlEb")L/=2;var $=["OtrB","InrB","Embs","PlEb","strokeEmboss"],e=["SfBL","PrBL","Slmt"],i=["In","Out"],g=Z.bvlT.v.bvlT!="SfBL"?L:L*.45,P=Math.round(L);
L*=n;g*=n;P*=n;var p=y.rect().clone();p.x*=n;p.y*=n;p.n*=n;p.J*=n;var t=p.clone();t.hW(P,P);var x=t.n,D=t.J,Gp=x*D,zY=y.rect().n,zi=y.rect().J,zI=Q.b(zY*zi*n*n);
Q.scale.vH(y.aZ(),zY,zi,zI,zY*n,zi*n,n);var z$=Q.b(Gp);Q.mC(zI,p,z$,t);var zK=new Float64Array(Gp),ze=new Float64Array(Gp);
Q.style.vy(z$,zK,x,D);Q.mx(z$);Q.style.vy(z$,ze,x,D);if(z)console.log("distTransform computed",Date.now()-k);
var zq=ze;ze=new Float64Array(Gp);for(var r=0;r<Gp;r++)zq[r]=zq[r]-zK[r];for(var r=0;r<Gp;r++){var zB=zq[r];
if(zB<-g)zq[r]=-g;else if(zB>g)zq[r]=g}if(z)console.log("summing + cropping",Date.now()-k);if(Z.bvlT.v.bvlT=="SfBL"){Q.blur.JI(zq,zK,t,Math.max(2,Math.pow(L*.21,1.22)));
var zN=zq;zq=zK;zK=zN}if(z)console.log("blurring",Date.now()-k);var zQ=new Float64Array(Gp);Q.mc(zq,zQ);
if(Z.useShape.v){var z_=Math.min(100,Z.Inpr.v.val+1)/100;if(b!="OtrB"&&b!="InrB")z_=1;var zw=Q.vC.ve(Z.MpgS.v.Crv.v,2e3),zy=Math.round(2e3/z_);
zw=Q.vC.Elg(zw,zy,b=="InrB");var zu=.5/g;for(var r=0;r<Gp;r++){var zd=zq[r],zO=.99999*(zd+g)*zu;zq[r]=-g+2*g*zw[~~(zO*(zy-1))]}if(z)console.log("applying shape",Date.now()-k)}if(Z.useTexture.v){var zF=Q.b(x*D*4);
Ez.vv(Z,zF,t,F,M);var zX=Q.b(x*D);Q.mo(zF,zX);var Gn=Q.b(x*D);Q.blur.J$(zX,Gn,t,1);zX=Gn;var GE=L*Z.textureDepth.v.val*(1/100)*(1/255);
if(Z.InvT.v)GE=-GE;for(var r=0;r<Gp;r++)zq[r]+=-GE*zX[r];if(z)console.log("applying texture",Date.now()-k)}var Gm=(Z.bvlT.v.bvlT=="SfBL"?1:.5)*(Z.bvlD.v.BESs=="In"?1:-1)*Z.srgR.v.val/100;
for(var r=0;r<Gp;r++)zq[r]*=Gm;if(z)console.log("scaling",Date.now()-k);var GJ=Z.uglg&&Z.uglg.v?F.js():Z.lagl.v.val;
GJ=GJ*(Math.PI/180);var Gz=Z.uglg&&Z.uglg.v?F.jA():Z.Lald.v.val;Gz=Gz*(Math.PI/180);var GG=Math.cos(GJ)*Math.cos(Gz),Go=-Math.sin(GJ)*Math.cos(Gz),Gv=Math.sin(Gz),GU=new Float64Array(Gp),Gl=new Float64Array(Gp),GH=b=="PlEb";
for(var r=0;r<D;r++)for(var u=0;u<x;u++){var Gr=r*x+u,GW=-(r==0?zq[Gr+x]-zq[Gr]:r==D-1?zq[Gr]-zq[Gr-x]:.5*(zq[Gr+x]-zq[Gr-x])),Gh=-(u==0?zq[Gr+1]-zq[Gr]:u==x-1?zq[Gr]-zq[Gr-1]:.5*(zq[Gr+1]-zq[Gr-1])),GT=1,Gs=1/Math.sqrt(Gh*Gh+GW*GW+1);
Gh*=Gs;GW*=Gs;GT*=Gs;var Gc=Gh*GG+GW*Go+GT*Gv,GA=Gc;if(GH)GA=-Gh*GG-GW*Go+GT*Gv;if(Gc>0)GU[Gr]=Gc;if(GA>0)Gl[Gr]=GA}if(z)console.log("raycasting",Date.now()-k);
if(Z.Sftn.v.val!=0){Q.blur.JI(GU,zK,t,Z.Sftn.v.val*.43);var zN=zK,zK=GU,GU=zN;if(GH){Q.blur.JI(Gl,zK,t,Z.Sftn.v.val*.43);
var zN=zK,zK=Gl,Gl=zN}else Q.mc(GU,Gl)}if(z)console.log("softening",Date.now()-k);var zw=Q.vC.ve(Z.TrnS.v.Crv.v,1024);
for(var r=0;r<Gp;r++){GU[r]=zw[~~(GU[r]*1024)];Gl[r]=zw[~~(Gl[r]*1024)]}if(z)console.log("contour remap",Date.now()-k);
x=Math.round(x/n);D=Math.round(D/n);var Gg=Q.b(x*D*4);Ez.aV(Gg,Z.hglC.v);var Gx=Q.b(x*D*4);Ez.aV(Gx,Z.sdwC.v);
var Jy=Q.b(x*D*4);Ez.aV(Jy,Z.hglC.v);var Gf=Q.b(x*D*4);Ez.aV(Gf,Z.sdwC.v);var GP=1/Gv,GD=1/(1-Gv),zu=1/g,Gt=new Float64Array(1e3);
for(var r=0;r<1e3;r++)Gt[r]=Math.pow(r*.001,.2);for(var r=0;r<D;r++)for(var u=0;u<x;u++){var Gr=r*x+u,GM=4*Gr+3,Gj=0,Ga=0;
if(n==1){Gj=GU[Gr];Ga=Gl[Gr]}else{var GV=n*n*r*x+n*u;Gj=.25*(GU[GV]+GU[GV+1]+GU[GV+n*x]+GU[GV+n*x+1]);
Ga=.25*(Gl[GV]+Gl[GV+1]+Gl[GV+n*x]+Gl[GV+n*x+1])}var GC=Math.max(0,Math.min(.9999,(zQ[Gr]+g*.993)*zu));
GC=Gt[Math.floor(GC*1e3)];var GS=GC*(1-Math.min(1,Gj*GP)),Gk=GC*(1-Math.min(1,(1-Gj)*GD)),Gb=GC*(1-Math.min(1,Ga*GP)),GZ=GC*(1-Math.min(1,(1-Ga)*GD));
Gx[GM]=Math.round(255*GS);Gg[GM]=Math.round(255*Gk);Gf[GM]=Math.round(255*Gb);Jy[GM]=Math.round(255*GZ)}if(z)console.log("baking textures",Date.now()-k);
t=y.rect().clone();t.hW(P/n,P/n);t.offset(-y.rect().x-1,-y.rect().y-1);var GY={F$:Z.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(b)!=-1){GY.FK={ej:Gg,FZ:t,q$:zU.DP(Z.hglM.v.BlnM),_Y:Z.hglO.v.val/100};
GY.Fe={ej:Gx,FZ:t,q$:zU.DP(Z.sdwM.v.BlnM),_Y:Z.sdwO.v.val/100};O.all.push(GY.FK,GY.Fe)}if(["OtrB","Embs","PlEb"].indexOf(b)!=-1){GY.Fq={ej:Jy,FZ:t,q$:zU.DP(Z.hglM.v.BlnM),_Y:Z.hglO.v.val/100};
GY.FB={ej:Gf,FZ:t,q$:zU.DP(Z.sdwM.v.BlnM),_Y:Z.sdwO.v.val/100};O.all.push(GY.Fq,GY.FB)}if(z)console.log(Date.now()-k);
O.type[G].push(GY)}if(G=="patternFill"){var Gi=y.rect(),o=Q.b(Gi.X()*4);Ez.vv(Z,o,Gi,F,M);var c=Gi.clone();
c.offset(-Gi.x-1,-Gi.y-1);var s={ej:o,FZ:c,q$:zU.DP(Z.Md.v.BlnM),_Y:Z.Opct.v.val/100};O.type[G].push(s);
O.all.push(s)}if(G=="ChFX"){var o=Q.b(y.aZ().length*4);Ez.aV(o,Z.Clr.v);var L=Z.blur.v.val,GI=y.rect().clone();
GI.hW(L,L);var G$=Q.b(GI.X()),GK=Q.b(GI.X());Q.mC(y.aZ(),y.rect(),GK,GI);Q.blur.Ji(GK,G$,GI,L*.43);var Ge=Q.vC.vB(Z.MpgS.v.Crv.v,256,!0);
Q.my(G$,Ge);var Gq=Q.b(y.aZ().length),GB=Q.b(y.aZ().length),GN=y.rect().clone();Ez.aC(GN,Z,F,0);Q.mC(G$,GI,Gq,GN);
GN=y.rect().clone();Ez.aC(GN,Z,F,Math.PI);Q.mC(G$,GI,GB,GN);var GQ=Gq.length;for(var r=0;r<GQ;r++)o[4*r+3]=Math.abs(Gq[r]-GB[r]);
if(Z.Invr.v)for(var r=0;r<GQ;r++)o[4*r+3]=255-o[4*r+3];var c=y.rect().clone();c.offset(-y.rect().x-1,-y.rect().y-1);
var s={ej:o,FZ:c,q$:zU.DP(Z.Md.v.BlnM),_Y:Z.Opct.v.val/100};O.type[G].push(s);O.all.push(s)}if(G=="OrGl"){var X;
if(Z.GlwT.v.BETE=="SfBL")X=y.aK(B,L-B,!0);else X=y.ae(L,Y,!0);var E=X.aZ,c=X.qa;Ez.aj(E,Z);Ez.aa(E,Z);
var o=Q.b(c.X()*4);if(Z.Grad==null){Ez.aV(o,Z.Clr.v);Q.mr(E,o,3)}else{var G_={eN:E,eq:255,ee:0,eB:c};
Ez.ap(Z,o,c,F,G_);for(var r=0;r<o.length;r+=4){var Gw=E[r>>2];if(Gw<32)o[r+3]=Math.max(0,Gw-1)<<3}}c.offset(-y.rect().x-1,-y.rect().y-1);
var s={ej:o,FZ:c,q$:zU.DP(Z.Md.v.BlnM),_Y:Z.Opct.v.val/100};O.type[G].push(s);O.all.push(s)}if(G=="IrGl"){var X;
if(Z.GlwT.v.BETE=="SfBL")X=y.aK(B,L-B,!1);else X=y.ae(L,Y,!1);var E=X.aZ,c=X.qa;Ez.aj(E,Z);Ez.aa(E,Z);
if(Z.glwS.v.IGSr=="SrcC")Q.mx(E);var o=Q.b(c.X()*4);if(Z.Grad==null){Ez.aV(o,Z.Clr.v);Q.mr(E,o,3)}else{var G_={eN:E,eq:255,ee:0,eB:c};
Ez.ap(Z,o,c,F,G_)}c.offset(-y.rect().x-1,-y.rect().y-1);var s={ej:o,FZ:c,q$:zU.DP(Z.Md.v.BlnM),_Y:Z.Opct.v.val/100};
O.type[G].push(s);O.all.push(s)}if(G=="FrFX"){var Gy=Ez.ar(Z),Gu=Gy[0],Gd=Gy[1],c=y.rect().clone(),GO=null,GF=null;
c.hW(Math.ceil(C),Math.ceil(C));if(Gd>0){var X=y.aK(Gd,0,!0);GF=X.aZ;if(GF.length<c.X()){GF=Q.b(c.X());
Q.mC(X.aZ,X.qa,GF,c)}}if(Gu>0){var X=y.aK(Gu,0,!1);GO=Q.b(c.X());Q.set(GO,255);Q.mC(X.aZ,X.qa,GO,c)}c.offset(-y.rect().x-1,-y.rect().y-1);
var o=Q.b(c.X()*4),GX=Z.PntT.v.FrFl;if(GX=="SClr")Ez.aV(o,Z.Clr.v);if(GX=="GrFl")Ez.ap(Z,o,c,F,y.EJN(Gu,Gd));
if(GX=="Ptrn")Ez.vv(Z,o,c,F,M);var s={ej:o,FZ:c,q$:zU.DP(Z.Md.v.BlnM),_Y:Z.Opct.v.val/100,Fi:GF,FY:GO};
O.type[G].push(s);O.all.push(s)}}}return O};Ez.as=function(A){var M=1/Math.sqrt(A.x*A.x+A.y*A.y+A.qq*A.qq);
A.x*=M;A.y*=M;A.qq*=M};Ez.ERg=function(A,M){return{x:A.y*M.qq-A.qq*M.y,y:A.qq*M.x-A.x*M.qq,qq:A.x*M.y-A.y*M.x}};
Ez.EJd=function(A,M){return A.x*M.x+A.y*M.y+A.qq*M.qq};Ez.pb=function(A){var M=Ez.ag();return{fill:A.add.iOpa!=null?A.add.iOpa/255:M.fill,FN:A.add.brst!=null?A.add.brst:M.FN,FQ:A.add.knko!=null?A.add.knko:M.FQ,style:!1,ea:!1}};
Ez.ag=function(){return{fill:1,FN:[1,1,1],FQ:0,style:!1,ea:!1}};Ez.ax=function(A,M){if(M==null)return null;
var q=A.Idnt.v,V=null;for(var F=0;F<M.length;F++)if(M[F].id==q)return M[F];return null};Ez.vv=function(A,M,q,V,F){var H=Ez.ax(A.Ptrn.v,V.add.Patt);
if(H!=null&&!q.zZ()){var w=Q.scale.vv(H.ej,H.qa.n,H.qa.J),C=A.Scl.v.val/100,r=-q.x+A.phase.v.Hrzn.v-1,G=-q.y+A.phase.v.Vrtc.v-1;
if(A.Algn!=null&&!A.Algn.v){}else{r+=F.x;G+=F.y}Q.scale.EUo(w,M,q.n,q.J,C,C,r+1,G+1)}};Ez.ap=function(A,M,q,V,F,H){if(H==null)H=q;
var w=A.Type?A.Type.v.GrdT:"shapeburst",C=A.Algn&&A.Algn.v?H:new U(0,0,V.n,V.J),r=A.Angl?Q.r.GV(A,C):[new f(0,0),new f(100,0)],G=r[0].x,J=r[0].y,m=r[1].x-G,u=r[1].y-J,W=Math.sqrt(m*m+u*u);
W=1/(2*W*W);var y=[m*W,u*W,-u*W,m*W];Q.r.Gf(A.Grad.v,M,q,y,G,J,A.Rvrs?A.Rvrs.v:!1,j.r.types.indexOf(w),0,0,F)};
Ez.EEF=function(A,M){for(var q=0;q<A.all.length;q++){var V=A.all[q];V.FW=V.FZ.clone();V.FW.offset(M.x,M.y)}};
Ez.aP=function(A,M,q,V,F,H){var w=v.Rx?Ez.aM:Ez.at;Ez.EEF(M,q);var C=M.type.DrSh;for(var r=0;r<C.length;
r++)if(!C[r].FI)w(C[r],V,F,H)};Ez.aD=function(A,M,q,V,F,H,w,C,r,G){var J=q,m=v.Rx?Ez.aM:Ez.at,u=v.Rx?v.S.Hl:Q.S.Jt,W;
W=M.type.DrSh;for(var y=0;y<W.length;y++)if(W[y].FI)m(W[y],V,F,H);W=M.type.OrGl;for(var y=0;y<W.length;
y++)m(W[y],V,F,H);var O="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var h=0;h<O.length;h++){var W=M.type[O[h]];
for(var y=0;y<W.length;y++)m(W[y],w,J,H)}var I=M.type.ebbl[0],Z=I!=null&&I.F$;W=M.type.FrFX;for(var y=0;
y<W.length;y++){var L=W[y];En.Pa.mC(C,G,r,G,H);m(L,r,G,H);if(Z&&y==W.length-1){if(I.FB)m(I.FB,r,G,H);
if(I.Fq)m(I.Fq,r,G,H);if(I.Fe)m(I.Fe,r,G,H);if(I.FK)m(I.FK,r,G,H)}if(L.FY||L.Fb)u(r,G,w,J,v.Rx?L.Fb:L.FY,L.FW,0,H,1);
if(L.Fi||L.FL)u(r,G,V,F,v.Rx?L.FL:L.Fi,L.FW,0,H,1)}if(!Z&&I!=null){if(I.FB)m(I.FB,V,F,H);if(I.Fq)m(I.Fq,V,F,H);
if(I.Fe)m(I.Fe,w,J,H);if(I.FK)m(I.FK,w,J,H)}};Ez.at=function(A,M,q,V){var F=Ez.ag();F.fill=A._Y;F.style=!0;
Q.S.JW(A.q$,A.ej,A.FW,M,q,V,1,F)};Ez.aM=function(A,M,q,V){var F=Ez.ag();F.fill=A._Y;F.style=!0;v.S.HU(A.q$,A.Fk,A.FW,M,q,V,1,F)};
Ez.aj=function(A,M){var q=1-M.Inpr.v.val/100,V=1+Math.tan(q*(Math.PI/2)),F=A.length;for(var H=0;H<F;
H++)A[H]=Math.min(255,Math.round(A[H]*V))};Ez.aa=function(A,M){var q=M.blur.v.val,V=Math.round(q*(M.Ckmt.v.val/100));
if(q>V){var F=Q.vC.vB(M.TrnS.v.Crv.v,256,!0);Q.my(A,F)}if(M.Nose.v.val>0)Q.style.Eno(A,M.Nose.v.val/100)};
Ez.aV=function(A,M,q){if(q==null)q=255;var V=Q.r.GD(M),F=q<<24|V.$<<16|V.g<<8|V.e;Q.mh(A,F)};Ez.aC=function(A,M,q,V){var F=M.uglg&&M.uglg.v?q.js():M.lagl.v.val;
F=F*Math.PI/180+V;var H=Math.cos(F)*M.Dstn.v.val,w=Math.sin(F)*M.Dstn.v.val;A.x-=Math.round(H);A.y+=Math.round(w)};
Ez.aS=function(A){if(A==null)return null;var M=A.frameFXMulti.v;if(M.length==0)return null;M=M[0].v;
var q=JSON.parse(JSON.stringify(j.az.default));Ez.ak(M,q);return q};Ez.ak=function(A,M){var q=j.stroke.jd.indexOf(A.PntT.v.FrFl),V=[j.jq,j.jB,j.jN][q],F=M.strokeStyleContent.v={classID:j.az.av[q]};
for(var H=0;H<V.length;H++)F[V[H]]=A[V[H]];M.strokeEnabled=A.enab;M.strokeStyleLineWidth=A.Sz;M.strokeStyleLineAlignment.v.strokeStyleLineAlignment=j.az.ao[j.stroke.types.indexOf(A.Styl.v.FStl)];
M.strokeStyleOpacity=A.Opct;M.strokeStyleBlendMode=A.Md};Ez.ab=function(A,M){var q=[];for(var V=0;V<A.length;
V++)q.push({t:"UntF",v:{type:"#Nne",val:Math.round(A[V]*M)}});return q};Ez.aL=function(A,M,q){this.F_=M.clone();
this.F_.hW(1,1);this.Fw=M.clone();this.Fw.hW(q,q);this.Fy=Q.b(this.F_.X());Q.mC(A,M,this.Fy,this.F_);
this.Fu=null;this.Fd=null;this.FO=null};Ez.aL.prototype.aZ=function(){return this.Fy};Ez.aL.prototype.rect=function(){return this.F_};
Ez.aL.prototype.aY=function(){return this.Fw};Ez.aL.prototype.JR=function(){if(this.Fu)return this.Fu;
this.Fu=Q.clone(this.aZ());Q.mx(this.Fu);return this.Fu};Ez.aL.prototype.ai=function(){if(this.Fd)return this.Fd;
this.Fd=new Float64Array(this.rect().X());Q.style.vy(this.JR(),this.Fd,this.rect().n,this.rect().J);
return this.Fd};Ez.aL.prototype.aI=function(){if(this.FO)return this.FO;var A=this.aY(),M=Q.b(A.X());
Q.mC(this.aZ(),this.rect(),M,A);this.FO=new Float64Array(A.X());Q.style.vy(M,this.FO,A.n,A.J);return this.FO};
Ez.aL.prototype.EJN=function(A,M){var q={eq:-M,ee:A,eB:null,eN:null};if(M==0){q.eB=this.rect();q.eN=this.ai();
return q}var V=this.aI().slice(0),F=this.aY();q.eB=F;q.eN=V;for(var H=0;H<V.length;H++)V[H]=-V[H];if(A==0)return q;
var w=this.ai(),C=this.rect();for(var r=0;r<C.J;r++)for(var G=0;G<C.n;G++){var J=r*C.n+G,m=(r+C.y-F.y)*F.n+G+C.x-F.x;
V[m]+=w[J]}return q};Ez.aL.prototype.aK=function(A,M,q){var V=Math.ceil(A+M),F={qa:this.rect().clone(),aZ:null};
F.qa.hW(V,V);F.aZ=Q.b(F.qa.X());if(A==0&&M==0)Q.mc(q?this.aZ():this.JR(),F.aZ);else{var H=Q.b(F.qa.X());
Q.mC(this.aZ(),this.rect(),H,F.qa);if(!q)Q.mx(H);if(A!=0){if(q)Q.style.v_(H,F.qa,this.aI(),this.aY(),A);
else Q.style.v_(H,F.qa,this.ai(),this.rect(),A)}if(M!=0)Q.blur.Ji(H,F.aZ,F.qa,Math.max(1,M*.43));else F.aZ=H}return F};
Ez.aL.prototype.ae=function(A,M,q){var V=A*(M-.5),F={qa:this.rect().clone(),aZ:null};if(q)F.qa.hW(A,A);
F.aZ=Q.b(F.qa.X());var H=F.qa.n,w=F.qa.J,C=q?this.aI():this.ai(),r=q?this.aY():this.rect(),G=F.qa,J=G.vt(r),H=J.n,w=J.J,m=J.x-G.x,u=J.y-G.y,W=J.x-r.x,y=J.y-r.y,O=1-M*2;
for(var h=0;h<w;h++)for(var I=0;I<H;I++){var Z=C[(h+y)*r.n+I+W],L=Z/A;F.aZ[(h+u)*G.n+I+m]=Math.max(0,Math.min(255,255-255*((L+O)/(1+O))))}return F};
function EG(){}EG.aq=function(A){return JSON.parse(JSON.stringify(A))};EG.aB=function(){return EG.aq(EG.EzP)};
EG.EzP={classID:"brushPreset",Nm:{t:"TEXT",v:"$$$/Presets/Brushes/BasicBrushes_abr/HardMechanical5pixels=Hard Mechanical 5 pixels"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:5}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
EG.as={};EG.as.check=function(A){var M=EG.as.aw;for(var q=0;q<M.length;q++)if(A[M[q]]==null)A[M[q]]=JSON.parse(EG.as.ay[M[q]]);
var V=[];for(var q=0;q<M.length;q++)V.push(M[q]);var F=EG.as.ad;for(var q=0;q<F.length;q++){var H=F[q][0],w=F[q][1],C=!0;
for(var r=0;r<H.length;r++)C=C&&A[H[r]].v==!0;if(C)for(var r=0;r<w.length;r++){if(A[w[r]]==null)console.log("Missing conditional parameter "+w[r]);
else V.push(w[r])}}for(var G in A)if(V.indexOf(G)==-1)console.log("Extra parameter "+G);A=A.Brsh.v;M=EG.as.a_.aw;
for(var q=0;q<M.length;q++)if(A[M[q]]==null)A[M[q]]=JSON.parse(EG.as.a_.ay[M[q]]);V=[];for(var q=0;q<M.length;
q++)if(A[M[q]])V.push(M[q]);else console.log("Missing default parameter "+M[q]);F=EG.as.a_.Evc[A.classID];
for(var q=0;q<F.length;q++)if(A[F[q]]==null&&F[q]!="dtipsGridSize"&&F[q]!="dtipsErodibleTipHeightMap"&&A.Ezi!=1)console.log("Missing conditional parameter "+F[q]);
else V.push(F[q]);for(var G in A)if(V.indexOf(G)==-1)console.log("Extra parameter "+G)};EG.as.aQ=function(A){var M=EG.as.ad;
for(var q=0;q<M.length;q++){var V=M[q][0],F=M[q][1],H=!0;for(var w=0;w<V.length;w++)H=H&&A[V[w]]&&A[V[w]].v==!0;
if(H){for(var w=0;w<F.length;w++)if(A[F[w]]==null){A[F[w]]=JSON.parse(EG.as.ay[F[w]])}}else for(var w=0;
w<F.length;w++)if(A[F[w]]!=null){delete A[F[w]]}}};EG.as.a_={};EG.as.a_.aw="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
EG.as.a_.ay={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};EG.as.a_.Evc={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
EG.as.ad=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
EG.as.aw="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
EG.as.ay={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function Eo(A,M,q,V,F,H,w,C,r,G){this.$=A;this.Nq=M;this.NB=q;this._c=F;this._A=H;this.FX=V;this.Xn=r;
this.XE=G;this.wE=null;this._G=null;this.Xm=0;this.XJ=0;this.Xz=0;this.XG=0;this.Nz=0;this.Xo=w;this.eG=new U;
this.rect=new U;this.ej=Q.b(0);if(w&&w.X()<200*200){this.rect=w.clone();this.ej=Q.b(w.X()*4)}if(C!=null){this.ej=C;
this.rect=w.clone()}this.history=[];this.Xv=Eo.VG(A,this.Nq,this.NB)}Eo.prototype.EvX=function(A,M){this.$=A;
this._c=M;this.history=[];this.Xv=Eo.VG(A,this.Nq,this.NB)};Eo.prototype.moveTo=function(A,M,q){if(q==null)q=1;
this.Xm=q;var V=new f(A,M),F=this.$.Brsh.v.Dmtr.v.val;this.wE=V.clone();this._G=V.clone();if(this.Xn!=Eo.cN)this.Vn(V,this.aX()*q,new f(0,0));
this.XG=V.clone()};Eo.prototype.lineTo=function(A,M,q){if(q==null)q=1;this.eG=new U;var V=new f(A,M),F=this.$.Brsh.v.Dmtr.v.val,H=Math.ceil(F)+1,w=new U(Math.round(this._G.x),Math.round(this._G.y),0,0);
w.hW(H,H);var C=new U(Math.round(A),Math.round(M),0,0);C.hW(H,H);this.Vz(w.vP(C));var r=V.Hs(this._G);
r.normalize(1);var G=f.Hc(this._G,V),J=-this.XJ,m=this._G.clone();while(!0){var u=this.aX()*(this.Xm+(q-this.Xm)*(J/G)),W=this.EUE()*(u+this.Xz)/2;
if(this.Xn==Eo.cN)W=1;if(J+W<G){J+=W;var y=new f(this._G.x+r.x*J,this._G.y+r.y*J),I=1;if(this.Xn==Eo.cN){var O=m.clone();
O.x+=r.x>0?1:-1;var h=m.clone();h.y+=r.y>0?1:-1;if(f.Hc(O,y)<f.Hc(h,y))y=O;else y=h;J=f.Hc(y,this._G)}if(this.$.useScatter.v==!0){I=this.$.Cnt.v;
var Z=this.$.countDynamics.v.jitter.v.val/100,L=Z*(-1+2*this.VE());I+=Math.round(I*L)}for(var Y=0;Y<I;
Y++)this.Vn(y,u,r);m=y}else break}this.XJ=G-J;this._G=V;this.Xm=q};Eo.prototype.EUE=function(){var A=this.$.Brsh.v.Spcn.v.val,M=Math.max(5,this.$.Brsh.v.Rndn.v.val);
return M/100*(A/100)};Eo.prototype.aX=function(){var A=this.$,M=A.Brsh.v.Dmtr.v.val;if(A.useTipDynamics.v){var q=M*(A.minimumDiameter.v.val/100);
M=q+(M-q)*(1-this.VE()*(A.szVr.v.jitter.v.val/100))}return M};Eo.prototype.Vn=function(A,M,q){var V=this.$,F=this.$.Brsh.v,H=F.Dmtr.v.val,w=new zo;
w.translate(-this.Xv.XU.n/2,-this.Xv.XU.J/2);w.scale(1/this.Xv.Xl,1/this.Xv.Xl);w.scale(M/H,M/H);w.scale(1,Math.max(5,F.Rndn.v.val)/100);
if(V.useTipDynamics.v){var C=V.minimumRoundness.v.val/100;w.scale(1,C+(1-C)*Math.round(100-this.VE()*V.roundnessDynamics.v.jitter.v.val)/100);
w.rotate((-.5+this.VE())*4*Math.PI*(V.angleDynamics.v.jitter.v.val/100))}w.rotate(F.Angl.v.val*(Math.PI/180));
if(V.useScatter.v){var r=(-1+2*this.VE())*V.scatterDynamics.v.jitter.v.val/100;w.translate(-r*M*q.y,r*M*q.x)}w.translate(A.x,A.y);
var G=this.ElK(w,A);this.Vz(G.rect);this.eG=this.eG.vP(G.rect);if(this.Xn==null){var J=this.GD(V);Q.mh(G.XR,Math.round(J.$*255)<<16|Math.round(J.g*255)<<8|Math.round(J.e*255)<<0,4278190080);
Q.S.EzG(G.XR,G.rect,this.ej,this.rect,G.rect,this.FX)}if(this.Xn==Eo.cN){var m=new f(G.rect.x+G.rect.n/2,G.rect.y+G.rect.J/2),u=Math.round(m.x-this.XG.x),W=Math.round(m.y-this.XG.y),y=G.rect.clone();
y.offset(-u,-W);var O=y.vt(this.rect);O.offset(u,W);Q.mL(this.ej,this.rect,G.XR,y);Q.S.EJh(G.XR,G.rect,this.ej,this.rect,G.XH,G.rect,this.FX)}if(this.Xn==Eo.cq||this.Xn==Eo.cB||this.Xn==Eo.VW){var h=G.rect.vt(this.rect),I=Q.b(h.X());
Q.mC(G.XH,G.rect,I,h);var Z=G.XR;Q.mL(this.ej,this.rect,Z,h);if(this.Xn==Eo.cB){var L=Q.clone(Z),Y=Q.zq.zN([-1,-1,-1,-1,25,-1,-1,-1,-1]);
Q.zq.zQ(Z,L,h.n,h.J,Y,3);Q.mc(L,Z)}else if(this.Xn==Eo.VW){var B=Ju.DR("UnsM");B.Amnt.v.val=15;B.Thsh.v=0;
B.Rds.v.val=5;var L=Q.b(Z.length);Ju.P_("UnsM",{buffer:Z,rect:h},B,0,0,{buffer:L,rect:h});Q.mc(L,Z)}else{var X=new Q.JU(h.X()),E=new Q.JU(h.X());
Q.mR(Z,X);Ju.DW(1,Q.blur.J$,X,E,h);Q.mU(E,Z)}Q.S.Jt(Z,h,this.ej,this.rect,I,h,0,h,this.FX,!1)}this.Xz=M;
this.XG=m};Eo.prototype.GD=function(A){var M=Eo.Vm(this._c);if(A.useColorDynamics.v){var q=1-this.VE()*A.clVr.v.jitter.v.val/100,V=Eo.Vm(this._A);
M.e=q*M.e+(1-q)*V.e;M.g=q*M.g+(1-q)*V.g;M.$=q*M.$+(1-q)*V.$;var F=(-.5+this.VE())*A.H.v.val/100,H=(-1+2*this.VE())*A.Strt.v.val/100,w=(-1+2*this.VE())*A.Brgh.v.val/100,C=Q.EX(M.e,M.g,M.$);
C.eU=(C.eU+F+1)%1;C.eD=C.eD+H;if(C.eD<0)C.eD=-C.eD;if(C.eD>1)C.eD=1-(C.eD-1);C.lI=C.lI+w;if(C.lI<0)C.lI=-C.lI;
if(C.lI>1)C.lI=1-(C.lI-1);M=Q.mn(C.eU,C.eD,C.lI)}return M};Eo.prototype.as=function(A){return Math.max(0,Math.min(1,A))};
Eo.prototype.VE=function(){this.Nz++;return Eo.hash(this.Nz)};Eo.Vm=function(A){return{e:(A>>16&255)/255,g:(A>>8&255)/255,$:(A>>0&255)/255}};
Eo.hash=function(A){A=A^61^A>>16;A=A+(A<<3);A=A^A>>4;A=A*668265261;A=A^A>>15;return(A&16777215)/16777215};
Eo.prototype.ElK=function(A,M){if(this.XE){A=A.clone();A.eI=Math.floor(A.eI);A.eK=Math.floor(A.eK)}var q,V=new f(A.eI%1,A.eK%1);
for(var F=0;F<this.history.length;F++){var H=this.history[F];if(!(H.qR.M==A.M&&H.qR.$==A.$&&H.qR.ei==A.ei&&H.qR.e$==A.e$))continue;
if(f.Hc(H.yT,V)<.2){q=H;break}}if(q){q.rect.x=Math.round(q._y.x-q.qR.eI+A.eI);q.rect.y=Math.round(q._y.y-q.qR.eK+A.eK)}else{var w=Math.round(this.$.Brsh.v.Dmtr.v.val),C;
if(this.XE&&w<=3){C={buffer:Q.b(w*w*4),rect:new U(Math.round(M.x-w/2),Math.round(M.y-w/2),w,w)};Q.mh(C.buffer,4278190080)}else C=d.f.xF([this.Xv.XR,this.Xv.XU],A);
if(this.XE){for(var F=0;F<C.buffer.length;F++)C.buffer[F]=C.buffer[F]>127?255:0}if(C==null)C={buffer:Q.b(0),rect:new U};
q={XR:C.buffer,XH:Q.b(C.rect.X()),rect:C.rect,_y:C.rect.clone(),qR:A,yT:new f(A.eI%1,A.eK%1)};Q.mH(q.XR,q.XH,3);
this.history.push(q);if(this.history.length>200)this.history=this.history.slice(100)}return q};Eo.prototype.Vz=function(A){if(this.Xo){A=A.vt(this.Xo);
if(A.X()*2>=this.Xo.X())A=this.Xo.clone()}if(A.zZ())return;if(!this.rect.hr(A)){var M=this.rect.vP(A),q=Q.b(M.X()*4);
if(this.ej)Q.mL(this.ej,this.rect,q,M);this.rect=M;this.ej=q}};Eo.VG=function(A,M,q){var V,F,H,w=A.Brsh.v.Dmtr.v.val;
if(A.Brsh.v.classID=="computedBrush"){var C=A.Brsh.v.Hrdn.v.val/100,r=1.55;H=1.2;var G=Math.round(H*w*r),J=Math.pow(C,.55);
F=new U(0,0,G,G);V=Q.b(G*G);var m=G/2,u=1/m,M=Eo.Vv(C);for(var W=0;W<G;W++){var y=r*(W-m+.25)*u,O=r*(W-m+.75)*u;
for(var h=0;h<G;h++){var I=r*(h-m+.25)*u,Z=r*(h-m+.75)*u,L=Math.floor(Math.sqrt(I*I+y*y)*(1e3/1.55)),Y=Math.floor(Math.sqrt(Z*Z+y*y)*(1e3/1.55)),B=Math.floor(Math.sqrt(I*I+O*O)*(1e3/1.55)),X=Math.floor(Math.sqrt(Z*Z+O*O)*(1e3/1.55));
V[W*G+h]=Math.round(255*.25*(M[L]+M[Y]+M[B]+M[X]))}}}if(A.Brsh.v.classID=="sampledBrush"){var E;for(var W=0;
W<M.length;W++)if(M[W].id==A.Brsh.v.sampledData.v)E=M[W];V=E.channel;F=new U(0,0,E.rect.n,E.rect.J);
H=Math.min(F.n,F.J)/w}var c=Q.b(F.X()*4);Q.mr(V,c,3);while(Math.min(F.n,F.J)>w*2){var o=new U(F.x,F.y,Math.floor(F.n/2),Math.floor(F.J/2)),s=d.f.xF([c,F],new zo(o.n/F.n,0,0,o.J/F.J,0,0));
H*=o.n/F.n;F=s.rect;c=s.buffer}return{Xl:H,XU:F,XR:c}};Eo.Vo=[];Eo.Vv=function(A){if(Eo.Vo[A])return Eo.Vo[A];
var M=Math.pow(A,.55),q=new Float64Array(2e3);for(var V=0;V<2e3;V++)q[V]=Eo.VU(V*(1/1e3)*1.55,M);Eo.Vo[A]=q;
return q};Eo.VU=function(A,M){var q=A<M?1:Eo.Vl((A-M)/Math.pow(1.001-M,.86));return q};Eo.Vl=function(A){var M=A*.85;
return Math.exp(-(M*M)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};Eo.prototype.Ak=function(){return this.rect.clone()};
Eo.prototype.VR=function(){return this.rect.vt(this.eG)};Eo.prototype.VH=function(){return this.ej};
Eo.vQ=function(A,M,q,V,F){var H=_.L("canvas",""),w=H.getContext("2d");H.width=V;H.height=F;w.fillStyle="#ffffff";
w.fillStyle="#000000";w.font=Math.floor(10*_.F())+"px Arial";var C=""+A.Brsh.v.Dmtr.v.val,r=w.measureText(C);
w.fillText(C,(V-r.width)/2,F-2);var G=V,J=F-10*_.F(),m=Math.min(G,J),u=A.Brsh.v.Dmtr.v.val,W=A.Brsh.v.classID;
if(W=="computedBrush"){w.translate(G/2,J/2);w.rotate(-A.Brsh.v.Angl.v.val*Math.PI/180);w.scale(1,.1+.9*A.Brsh.v.Rndn.v.val/100);
var y=Math.min(.95*m/2,C/2)+.5,O=.9*A.Brsh.v.Hrdn.v.val/100,h=w.createRadialGradient(0,0,0,0,0,y);h.addColorStop(O,"rgba(0,0,0,1)");
h.addColorStop((.5+O)/1.5,"rgba(0,0,0,.5)");h.addColorStop(1,"rgba(0,0,0,0)");w.fillStyle=h;w.fillRect(-y,-y,2*y,2*y)}else if(W=="sampledBrush"){var I;
for(var Z=0;Z<M.length;Z++)if(M[Z].id==A.Brsh.v.sampledData.v)I=M[Z];var L=_.L("canvas",""),Y=L.getContext("2d");
L.width=I.rect.n;L.height=I.rect.J;var B=Y.getImageData(0,0,L.width,L.height),X=new Q.JU(L.width*L.height);
X.M=I.channel;Q.mU(X,B.data);Y.putImageData(B,0,0);m=Math.min(m,A.Brsh.v.Dmtr.v.val);var E=Math.max(L.width,L.height),c=.85*L.width*m/E,o=.85*L.height*m/E;
w.drawImage(L,(G-c)/2,(J-o)/2,c,o)}else{}return H.toDataURL()};Eo.Vr=function(A,M,q){if(q==0)q=1;var V=new U(0,0,128,128),F=A.Brsh.v.Dmtr.v.val;
A.Brsh.v.Dmtr.v.val=Math.min(180,F*q);var H=A.Brsh.v.Dmtr.v.val,w=new Eo(A,M,null,1,0,0,V);A.Brsh.v.Dmtr.v.val=F;
w.moveTo(V.n/2,V.J/2);var C=new Q.JU(V.X()),r=Q.b(V.X()*4);Q.mL(w.VH(),w.Ak(),r,V);Q.mR(r,C);if(H>=3){var G=Q.b(V.X());
Q.q.EzZ(C.M,G,V);var J=Q.b(V.X());Q.blur.Ji(Q.clone(G),J,V,1);Q.mW(C,255);Q.mc(J,C.M);for(var m=0;m<G.length;
m++)if(G[m]==255){C.M[m]=255;C.e[m]=C.g[m]=C.$[m]=0}}else{var u=64*128+64,W=C.M,y=10;for(var m=0;m<4;
m++){W[u-y*128+m*128-1]=W[u-y*128+m*128]=255;W[u+y*128-m*128-1-128]=W[u+y*128-m*128-128]=255;W[u-128-y+m]=W[u-128-y+m+128]=255;
W[u-128+y-m-1]=W[u-128+y-m-1+128]=255}}var O=Q.b(V.X()*4);Q.mU(C,O);O[3]=Math.max(O[3],1);var h=zm.EP(O,V.n,V.J);
return h};Eo.cN="0";Eo.cq="1";Eo.cB="2";Eo.VW="3";var Ev={};Ev.Vh=function(A,M){var q=A.Vt(),r;if(q.x==Infinity||q.zZ())return{ej:Q.b(0),rect:new U,NT:new U};
var V=A.Vt(),F=Ev.VT(A,M),H=Q.O.ob(F.G);if(H.zZ())return{ej:Q.b(0),rect:new U,NT:new U};var w=_.L("canvas","");
w.width=H.n;w.height=H.J;var C=w.getContext("2d");C.translate(-H.x,-H.y);Ev.Vs(F,C);if(A.QU.length!=0){var G=C.getImageData(0,0,H.n,H.J);
r=new Uint8Array(G.data.buffer)}else r=Q.b(H.X()*4);return{ej:r,rect:H,NT:V}};Ev.VT=function(A,M){var q={qm:[],G:[]};
Ev.VA(A,q);if(!Q.ls.lc(M.Nh)){var V=Q.O.GB(q.G);q=Q.O.oZ(q);q=Q.O.oY(q,Math.min(V.n,V.J)/8);var F=a.Ak(M,A),H=Q.ls.lx(M.Nh,F);
Q.h.apply(H,q.G,F)}var w=M.oC;Q.O.oC(q.G,w,q.G);return q};Ev.Vs=function(A,M){Typr.U.pathToContext({crds:A.G,cmds:A.qm},M)};
Ev.Vc=function(A,M){var q=A.Ns.ResourceDict.FontSet,V=[],F=A.Ns.EngineDict.StyleRun.RunArray,w=!0;for(var H=0;
H<F.length;H++)V.push(a.VN(A.Ns,H).Font);for(var H=0;H<V.length;H++){var C=V[H];if(M.Xb(q[C].Name)==null)w=!1}return w};
Ev.VA=function(A,M){var q=new zo;for(var V=0;V<A.Ql.length;V++)Ev.Vg(A.QU,A.Ql[V],M,q)};Ev.Vg=function(A,M,q,V){V.translate(M.yT.x,M.yT.y);
for(var F=0;F<M.yh.length;F++){var H={},w=M.yh[F];if(!w.Xr)break;V.translate(w.yT.x,w.yT.y);for(var C=w.start;
C<w.end;C++)Ev.Vp(A,M.XW[C],H,q,V);V.translate(-w.yT.x,-w.yT.y)}V.translate(-M.yT.x,-M.yT.y)};Ev.Vx="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
Ev.Vp=function(A,M,q,V,F){F.translate(M.yT.x,M.yT.y);for(var H=M.start;H<M.end;H++){var w=A[H];if(w.path.qm.length==0)continue;
var C=F.clone();C.translate(w.yT.x,w.yT.y);var r=w.Xh.FontSize/w.XT.head.unitsPerEm,G=a.GD(w.Xh),J=(Math.round(G.e)<<16)+(Math.round(G.g)<<8)+Math.round(G.$);
V.qm.push("#"+Q.EI(J));var m=new zo(r,0,0,-r,0,0);if(w.yW==1&&Ev.Vx.indexOf(w.yv)!=-1)m.concat(new zo(-1,0,0,1,w.rect.n,0));
if(w.Xh.FauxItalic)m.concat(new zo(1,0,-Math.tan(.18),1,0,0));m.scale(w.scale.x,w.scale.y);m.concat(C);
Q.O.concat(V,w.path,m);if(w.Xh.Underline){if(q.Xs==null)q.Xs=w.XT.post.underlineThickness*r;if(q.Xc==null)q.Xc=w.XT.post.underlinePosition*r;
var u=0,W=-q.Xc+q.Xs/2,y=1.05*w.rect.n/w.scale.x,O=q.Xs;Q.O.concat(V,{qm:["M","L","L","L"],G:[u,W,u+y,W,u+y,W+O,u,W+O]},C)}if(w.Xh.Strikethrough){var h=w.XT["OS/2"].yStrikeoutSize*r,I=w.XT["OS/2"].yStrikeoutPosition*r,u=0,W=-I-h/2,y=1.05*w.rect.n/w.scale.x,O=h;
Q.O.concat(V,{qm:["M","L","L","L"],G:[u,W,u+y,W,u+y,W+O,u,W+O]},C)}V.qm.push("X")}F.translate(-M.yT.x,-M.yT.y)};
function EU(A,M){var q,V=a.Ve(A);if(V)q=new U(V[0],V[1],V[2],V[3]);this.yH=0;this.Ql=[];this.rect=new U;
this.QU=[];var F=a.Vi(A),H={};for(var w=0;w<F.length;w++){var C={yv:F.charAt(w),Xh:a.VB(A,w),XA:0,path:null,XT:null,rect:new U,XU:new U,yT:new f(0,0),scale:new f(0,0),Xg:0,lineHeight:0,Xx:0,Xp:0,yW:0,eE:w},r=A.ResourceDict.FontSet[C.Xh.Font].Name,G=C.XT=M.Xb(r);
if(H[r]==null){H[r]=Typr.U.stringToGlyphs(G,F)}var J=H[r],m=Typr.U.codeToGlyph(G,C.yv.charCodeAt(0));
if(C.yv=="\n")C.XA=-1;else if(J[w]==m&&C.Xh.FontCaps!=0)C.XA=Typr.U.codeToGlyph(G,C.yv.toUpperCase().charCodeAt(0));
else C.XA=J[w];if(C.XA==-1)C.path={qm:[],G:[]};else{var u=Typr.U.glyphToPath(G,C.XA);C.path={qm:u.cmds,G:u.crds}}C.scale.x=C.Xh.HorizontalScale==null?1:C.Xh.HorizontalScale;
C.scale.y=C.Xh.VerticalScale==null?1:C.Xh.VerticalScale;var W=G["OS/2"],y=G.hhea;if(C.Xh.FontCaps==1&&J[w]==m&&C.yv!=C.yv.toUpperCase()){var O=W.sxHeight?W.sxHeight/W.sTypoAscender:.76;
C.scale.x*=O;C.scale.y*=O}var h=1/G.head.unitsPerEm*C.Xh.FontSize;if(C.Xh.FontBaseline==1){var O=A.ResourceDict.SuperscriptSize;
C.scale.x*=O;C.scale.y*=O;C.yT.y-=A.ResourceDict.SuperscriptPosition*C.Xh.FontSize}if(C.Xh.FontBaseline==2){var O=A.ResourceDict.SubscriptSize;
C.scale.x*=O;C.scale.y*=O;C.yT.y+=A.ResourceDict.SubscriptPosition*C.Xh.FontSize}if(C.Xh.BaselineShift)C.yT.y-=C.Xh.BaselineShift;
C.rect.x=0;C.rect.n=C.scale.x*(C.XA==-1?0:G.hmtx.aWidth[C.XA])*h;C.rect.y=-y.ascender*h;C.rect.J=-C.rect.y;
if(G.glyf==null){C.XU=C.rect.clone();C.XU.J*=C.scale.y;C.XU.y-=C.XU.J-C.rect.J;C.XU.J*=1.3}else if(G.glyf[C.XA]!=null){var I=G.glyf[C.XA];
C.XU.x=I.xMin*h;C.XU.n=(I.xMax-I.xMin)*h*C.scale.x;C.XU.y=-I.yMax*h*C.scale.y;C.XU.J=(I.yMax-I.yMin)*h*C.scale.y}C.XU.y=-h*(W?W.usWinAscent:G.head.yMax)*.9357;
C.XU.J=-C.XU.y-h*G.head.yMin;C.Xg=(W?W.sTypoAscender:G.head.unitsPerEm)*h;if(C.Xg==0)C.Xg=y.ascender*h;
C.lineHeight=(y.ascender-y.descender)*h;C.Xx=y.ascender*h;C.Xp=(-y.descender+y.lineGap)*h;if(C.Xh.AutoLeading==!1)C.lineHeight=C.Xh.Leading;
this.QU.push(C)}for(var w=0;w<A.EngineDict.ParagraphRun.RunLengthArray.length;w++){var Z=new EU.Va(A,M,this.QU,w,q);
this.Ql.push(Z)}var L=q==null?0:this.Ql[0].yh[0].Xg;for(var w=0;w<this.Ql.length;w++){var Y=this.Ql[w].yh;
if(w>0)L+=Y[0].lineHeight;this.Ql[w].yT.y=L;this.yH+=Y.length;if(q)for(var B=0;B<Y.length;B++)Y[B].Xr=Y[B].yT.y+L<q.y+q.J;
var X=this.Ql[w].rect.clone();X.hs(this.Ql[w].yT);this.rect=this.rect.vP(X);for(var B=1;B<Y.length;B++)L+=Y[B].lineHeight;
L+=a.VQ(A,w).SpaceAfter;if(w<this.Ql.length-1)L+=a.VQ(A,w+1).SpaceBefore}}EU.prototype.Vf=function(A){for(var M=0;
M<this.QU.length;M++)if(this.QU[M].eE==A)return this.QU[M];return null};EU.prototype.VP=function(A,M){var q=-1;
for(var V=0;V<this.Ql.length;V++){var F=this.Ql[V];for(var H=0;H<F.yh.length;H++){q++;var w=F.yh[H],C=F.yh[H+1];
if(C==null&&V<this.Ql.length-1)C=this.Ql[V+1].yh[0];if(M!=null){if(q!=M)continue}else{if(C!=null&&F.yT.y+w.yT.y<A.y)continue}for(var r=w.start;
r<w.end;r++){var G=F.XW[r];if(r<w.end-1&&F.yT.x+w.yT.x+F.XW[r+1].yT.x<A.x)continue;for(var J=G.start;
J<G.end;J++){var m=this.QU[J],u=F.yT.x+w.yT.x+G.yT.x+m.yT.x,W=F.yT.y+w.yT.y+G.yT.y+m.yT.y;if(J<G.end-1&&u-m.yT.x+this.QU[J+1].yT.x<A.x)continue;
else break}return this.QU[J].eE}}}};EU.prototype.VD=function(A){var M=0,F=0;for(var q=0;q<this.QU.length;
q++)if(this.QU[q].eE==A)M=q;var V={rect:null,yR:0};for(var H=0;H<this.Ql.length;H++){var w=this.Ql[H];
for(var C=0;C<w.yh.length;C++){var r=w.yh[C];V.yR=F;F++;for(var G=r.start;G<r.end;G++){var J=w.XW[G],m,u,W,y;
for(u=J.start;u<J.end;u++){m=this.QU[u];W=w.yT.x+r.yT.x+J.yT.x+m.yT.x;y=w.yT.y+r.yT.y+J.yT.y+m.yT.y;
if(u==M){V.rect=new U(W,y-m.lineHeight,m.rect.n,m.lineHeight);return V}}}}}};EU.prototype.Vt=function(){var A=Infinity,M=Infinity,q=-Infinity,V=-Infinity;
for(var F=0;F<this.Ql.length;F++){var H=this.Ql[F];for(var w=0;w<H.yh.length;w++){var C=H.yh[w];if(!C.Xr)break;
for(var r=C.start;r<C.end;r++){var G=H.XW[r];for(var J=G.start;J<G.end;J++){var m=this.QU[J],u=H.yT.x+C.yT.x+G.yT.x+m.yT.x,W=H.yT.y+C.yT.y+G.yT.y+m.yT.y;
A=Math.min(A,u+m.XU.x);M=Math.min(M,W+m.XU.y);q=Math.max(q,u+m.XU.x+m.XU.n);V=Math.max(V,W+m.XU.y+m.XU.J)}}}}return new U(A,M,q-A,V-M)};
EU.VM=function(A,M,q,V,F,H){var w=[V],C=0;for(var r=V;r<F;r++){if(q[r]==null)console.log(r,V,F,q);var G=q[r].yv,J=G.charCodeAt(0);
if(J==32){w.push(C,r,1,r+1);C=0}else if(19968<=J&&J<=40959||12288<=J&&J<=12543){w.push(C,r);C=1}else if(H!=null&&(H.indexOf(r-V)!=-1||r!=V&&q[r].yW!=q[r-1].yW)){w.push(C,r);
C=1}else C++}w.push(C);var m=[];for(var r=0;r<w.length;r+=2){var u=w[r],W=w[r+1];if(W==0)continue;m.push(new EU.VC(A,M,q,u,W))}return m};
EU.Vj=function(A,M,q,V){var F=[[],[]],H=0,w=0;while(H<A.length){var C=0,r=H,G=M?M.n-q.StartIndent-q.EndIndent-(H==0?q.FirstLineIndent:0):Infinity;
while(!0){if(H==A.length)break;var J=A[H],m=C==0;if(V)m=m||V.indexOf(w)==-1;else m=m||(J.Xf||J.XP)||C+J.rect.n<G;
if(m){J.yT.x=C;C+=J.rect.n;H++;w+=J.end-J.start}else break}F[0].push(H-r);F[1].push(G)}return F};EU.Va=function(A,M,q,V,F){this.XW=[];
this.yh=[];this.rect=new U;this.XU=new U;this.yT=new f(0,0);var H=a.VQ(A,V),w=A.EngineDict.ParagraphRun.RunLengthArray,C=w[V],r=0,O=0,B=0,X=0,l=0;
for(var G=0;G<V;G++)r+=w[G];var J=H._Direction?H._Direction:0,m=UnicodeBidirectional.resolve,u=UnicodeBidirectional.reorderPermutation,W=a.Vi(A).slice(r,r+C),y=[];
for(var G=0;G<W.length;G++){var h=W.charCodeAt(G);y.push(h);if(h>O)O=h}var I=[];for(var G=0;G<W.length;
G++)I.push(0);if(O>1424)I=m(y,J);for(var G=0;G<y.length;G++)q[r+G].yW=I[G]&1;var Z=EU.VM(A,M,q,r,r+C),L=EU.Vj(Z,F,H)[0],Y=[];
for(var E=0;E<L.length;E++){var c=X;for(var G=0;G<L[E];G++){var o=Z[B+G];X+=o.end-o.start}Y.push(X);
var s=I.slice(c,X),z=u(s),k=q.slice(r+c,r+X);if(z.length==k.length)for(var G=0;G<k.length;G++)q[r+c+G]=k[z[G]];
B+=L[E]}this.XW=EU.VM(A,M,q,r,r+C,Y);var b=EU.Vj(this.XW,F,H,Y),L=b[0],T=b[1];for(var E=0;E<L.length;
E++){var $={start:l,end:0,rect:new U,XU:new U,yT:new f(0,0),Xg:0,lineHeight:0,Xx:0,Xp:0,Xr:!0};this.yh.push($);
l+=L[E];$.end=l;var e=$.end==this.XW.length,i=T[E],g=a.VL(H);if(F&&g>2&&(g==6||!e))this.VV($,this.XW,q,i,J);
for(var G=$.start;G<$.end;G++){var P=this.XW[G].rect.clone();P.hs(this.XW[G].yT);$.rect=$.rect.vP(P);
var n=this.XW[G].XU.clone();n.hs(this.XW[G].yT);$.XU=$.XU.vP(n);$.Xg=Math.max($.Xg,this.XW[G].Xg);$.lineHeight=Math.max($.lineHeight,this.XW[G].lineHeight);
$.Xx=Math.max($.Xx,this.XW[G].Xx);$.Xp=Math.max($.Xp,this.XW[G].Xp)}if(F){var p=this.lineWidth($,this.XW,J);
$.yT.x=0;if(g==1||e&&g==4)$.yT.x=p[1]+(i-p[0]);if(g==2||e&&g==5)$.yT.x=p[1]+(i-p[0])/2;if(this.yh.length==1)$.yT.x+=H.FirstLineIndent;
$.yT.x+=H.StartIndent}else{if(g==0)$.yT.x=H.StartIndent+H.FirstLineIndent;if(g==1)$.yT.x=-$.rect.n-H.EndIndent;
if(g==2)$.yT.x=-$.rect.n/2}if(this.yh.length==1)$.yT.y=0;else $.yT.y=this.yh[this.yh.length-2].yT.y+Math.max(this.yh[this.yh.length-2].Xp+$.Xx,$.lineHeight)}for(var G=0;
G<this.yh.length;G++){var t=this.yh[G].rect.clone();t.hs(this.yh[G].yT);this.rect=this.rect.vP(t);var x=this.yh[G].XU.clone();
x.hs(this.yh[G].yT);this.XU=this.XU.vP(x)}};EU.Va.prototype.lineWidth=function(A,M,q){var V=0,F=0;for(var H=A.start;
H<A.end;H++)V+=M[H].rect.n;if(q==0)for(var H=A.end-1;H>=A.start;H--)if(M[H].Xf||M[H].XP)V-=M[H].rect.n;
else break;if(q==1)for(var H=A.start;H<A.end;H++)if(M[H].Xf||M[H].XP){var w=M[H].rect.n;V-=w;F-=w}else break;
return[V,F]};EU.Va.prototype.VV=function(A,M,q,V,F){var H=0,w=0,C=0,r=0;for(var G=A.start;G<A.end;G++)if(M[G].Xf)C++;
else{H+=M[G].rect.n;w++}if(F==0)for(var G=A.end-1;G>=A.start;G--)if(M[G].Xf||M[G].XP){if(M[G].Xf){C--}}else break;
if(F==1)for(var G=A.start;G<A.end;G++)if(M[G].Xf||M[G].XP){if(M[G].Xf){C--;r++}}else break;if(w<=1||C==0)return;
var J=(V-H)/C,m=-r*J;for(var G=A.start;G<A.end;G++){if(M[G].Xf)q[M[G].start].rect.n=M[G].rect.n=J;M[G].yT.x=m;
m+=M[G].rect.n}};EU.VC=function(A,M,q,V,F){this.Xf=F==1&&q[V].yv==" ";this.XP=F==1&&q[V].yv=="\n";this.start=V;
this.end=V+F;this.rect=new U;this.XU=new U;this.yT=new f(0,0);this.Xg=0;this.lineHeight=0;this.Xx=0;
this.Xp=0;var H=0,w=0;if(F==0){this.lineHeight=q[V].lineHeight;this.Xg=q[V].Xg;this.rect=new U(0,-q[V].lineHeight,0,q[V].lineHeight)}for(var C=0;
C<F;C++){var r=q[V+C],G=[1611,1612,1614,1615,1618,1623,1624,1761,1613,1616,1622,1617,1552-1556,1625,1750-1756,1759,1760,1762,1764,1767,1768,1771,1772,1763,1770,1773,1648,1619,1620,1621].indexOf(r.yv.charCodeAt(0))!=-1&&r.XT.kern==null&&r.XT.GPOS==null,J=1/r.XT.head.unitsPerEm*r.Xh.FontSize,y=0;
if(!r.Xh.AutoKerning)H+=r.Xh.Kerning*2*J;r.yT.x=H;if(r.XT.hmtx.aWidth[r.XA])H+=(G?0:r.XT.hmtx.aWidth[r.XA])*r.scale.x*J;
if(r.Xh.AutoKerning&&C<F-1){var m=q[V+C+1].XA,u=0;if(m!=-1){u=Typr.U.getPairAdjustment(r.XT,r.XA,m);
if(G)r.yT.x+=r.scale.x*J*r.XT.hmtx.aWidth[m]/2}if(u==null)u=0;H+=u*J}var W=r.rect.clone();W.hs(r.yT);
if(r.Xh.Tracking)y=r.Xh.Tracking*.001*r.Xh.FontSize;H+=y;if(F==1&&r.yv==" ")W.n+=2*y;this.rect=this.rect.vP(W);
var O=r.XU.clone();O.hs(r.yT);this.XU=this.XU.vP(O);this.Xg=Math.max(this.Xg,r.Xg);this.lineHeight=Math.max(this.lineHeight,r.lineHeight);
this.Xx=Math.max(this.Xx,r.Xx);this.Xp=Math.max(this.Xp,r.Xp)}};function a(){}a.aq=function(A){return JSON.parse(JSON.stringify(A))};
a.VS=function(A,M){for(var q in M)A[q]=M[q]};a.Vk=function(A,M,q){var V=a.CE();if(q)a.Vu(V,0,0,q);var F={oC:new zo(1,0,0,1,Math.round(A),Math.round(M)),Ns:V};
F.NW=a.VX();F.Nh=Q.ls.b();F.NT=new U;return F};a.Vb=function(A){var M=["CharacterDirection",0];for(var q=0;
q<M.length;q+=2){if(A[M[q]]!=null&&A[M[q]]!=M[q+1]){throw"e";console.log(M[q],A[M[q]])}}if(A instanceof Array)for(var q=0;
q<A.length;q++)a.Vb(A[q]);else if(A instanceof Object)for(var V in A)a.Vb(A[V])};a.VL=function(A,M){if(M==null)M=A.Justification;
var q=A._Direction?A._Direction:0;if(q==1){if(M==0||M==3)M++;else if(M==1||M==4)M--}return M};a.GD=function(A){var M={e:0,g:0,$:0};
if(A.FillColor){var q=A.FillColor,V=q.Values;if(q.Type==1)M={e:V[1]*255,g:V[2]*255,$:V[3]*255};else if(q.Type==2){var F={classID:"CMYC",Cyn:{t:"doub",v:V[1]*100},Mgnt:{t:"doub",v:V[2]*100},Ylw:{t:"doub",v:V[3]*100},Blck:{t:"doub",v:V[4]*100}};
M=Q.r.GD(F)}else console.log("Unknown color type")}return M};a.Ak=function(A,M){var q;if(a.V$(A.Ns)==1){var V=a.Ve(A.Ns);
q=new U(0,0,V[2]-V[0],V[3]-V[1])}else q=M.Vt();return q};a.Gh=function(A){var M=A[0];for(var q=0;q<A.length;
q++)M=a.VZ(M,A[q]);return M};a.VZ=function(A,M){var q={};for(var V in A)if(JSON.stringify(A[V])==JSON.stringify(M[V]))q[V]=A[V];
return q};a.VY=function(A,M){var q=A.Qr,V=-1;for(var F=0;F<q.length;F++)if(q[F].Name==M)V=F;if(V==-1){V=q.length;
q.push({FontType:1,Name:M,Script:0,Synthetic:0})}A.QU.Font=V};a.Vi=function(A){return A.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
a.VI=function(A,M){A.EngineDict.Editor.Text=M.replace(/\n/g,"\r")};a.V$=function(A){return A.EngineDict.Rendered.Shapes.Children[0].ShapeType};
a.VK=function(A,M){var q=A.EngineDict.Rendered.Shapes.Children[0];q.ShapeType=M;var V=q.Cookie.Photoshop;
V.ShapeType=M;V.Base.ShapeType=M;if(M==0){delete V.BoxBounds;V.PointBase=[0,0]}if(M==1){delete V.PointBase;
V.BoxBounds=[0,0,1,1]}};a.Ve=function(A){return A.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
a.Vq=function(A,M){A.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=M};a.VB=function(A,M){return a.VN(A,a.Cn(A.EngineDict.StyleRun.RunLengthArray,M).XD)};
a.VN=function(A,M){var q=A.ResourceDict.StyleSheetSet[0].StyleSheetData,V={};for(var F in q)V[F]=q[F];
var H=A.EngineDict.StyleRun.RunArray[M].StyleSheet.StyleSheetData;a.VS(V,H);return V};a.VQ=function(A,M){var q=A.ResourceDict.ParagraphSheetSet[0].Properties,V=a.aq(q),F=A.EngineDict.ParagraphRun.RunArray[M].ParagraphSheet.Properties;
a.VS(V,F);return V};a.V_=function(A,M,q){if(q=="")return;var V=a.Vi(A);a.VI(A,V.substring(0,M)+q+V.substring(M,V.length));
var F=a.Cn(A.EngineDict.StyleRun.RunLengthArray,M-1);A.EngineDict.StyleRun.RunLengthArray[F.XD]+=q.length;
var H=A.EngineDict.ParagraphRun,w=H.RunLengthArray,C=a.Cn(w,M),r=q.split("\n");if(r.length==1){w[C.XD]+=q.length;
return}w.splice(C.XD+1,0,w[C.XD]-(M-C.Xt));H.RunArray.splice(C.XD+1,0,a.aq(H.RunArray[C.XD]));w[C.XD]-=w[C.XD+1];
w[C.XD]+=r[0].length+1;for(var G=1;G<r.length-1;G++){H.RunArray.splice(C.XD+G,0,a.aq(H.RunArray[C.XD+G-1]));
H.RunLengthArray.splice(C.XD+G,0,r[G].length+1)}w[C.XD+r.length-1]+=r[r.length-1].length};a.Vw=function(A,M,q){var V=a.Vi(A);
a.VI(A,V.substring(0,M)+V.substring(q,V.length));a.Vy(A.EngineDict.ParagraphRun,M,q,!0);a.Vy(A.EngineDict.StyleRun,M,q,!1)};
a.Vy=function(A,M,q,V){var F=A.RunLengthArray,H=a.Cn(F,M),w=a.Cn(F,q),C=[];for(var r=0;r<F.length;r++)for(var G=0;
G<F[r];G++)C.push(r);C.splice(M,q-M);var J=[];for(var r=0;r<F.length;r++)J.push(0);for(var r=0;r<C.length;
r++)J[C[r]]++;for(var r=0;r<F.length;r++){if(J[r]==0){J.splice(r,1);F.splice(r,1);A.RunArray.splice(r,1);
r--}else if(J[r]<F[r])F[r]=J[r]}if(V&&H.XD!=w.XD&&H.Xt!=M){F[H.XD]+=F[H.XD+1];F.splice(H.XD+1,1);A.RunArray.splice(H.XD+1,1)}};
a.Vu=function(A,M,q,V){A.ResourceDict.FontSet=V.Qr.slice(0);if(M<=q)a.Vd(A.EngineDict.StyleRun,V.QU,M,q,!0);
a.Vd(A.EngineDict.ParagraphRun,V.Ql,M,q,!1)};a.Vd=function(A,M,q,V,F){var H=A.RunLengthArray;if(F){var w=a.Cn(H,q);
if(w.Xt!=q){var C=H[w.XD];H.splice(w.XD,0,q-w.Xt);H[w.XD+1]=C-H[w.XD];A.RunArray.splice(w.XD+1,0,a.aq(A.RunArray[w.XD]))}var r=a.Cn(H,V);
if(r.Xt+H[r.XD]-1!=V){var C=H[r.XD];H.splice(r.XD,0,V-r.Xt+1);H[r.XD+1]=C-H[r.XD];A.RunArray.splice(r.XD+1,0,a.aq(A.RunArray[r.XD]))}}var w=a.Cn(H,q),r=a.Cn(H,V);
if(F)for(var G=w.XD;G<=r.XD;G++)a.VS(A.RunArray[G].StyleSheet.StyleSheetData,M);else for(var G=w.XD;
G<=r.XD;G++)a.VS(A.RunArray[G].ParagraphSheet.Properties,M)};a.VO=function(A,M,q){var V={Qr:A.ResourceDict.FontSet.slice(0),QU:[],Ql:[]},F=A.EngineDict.StyleRun.RunLengthArray,H=a.Cn(F,M).XD,w=a.Cn(F,q).XD;
for(var C=H;C<=w;C++){var r=a.aq(A.ResourceDict.StyleSheetSet[0].StyleSheetData),G=A.EngineDict.StyleRun.RunArray[C].StyleSheet.StyleSheetData;
a.VS(r,G);V.QU.push(r)}var J=A.EngineDict.ParagraphRun.RunLengthArray,m=a.Cn(J,M).XD,u=a.Cn(J,q).XD;
for(var C=m;C<=u;C++){V.Ql.push(a.aq(A.EngineDict.ParagraphRun.RunArray[C].ParagraphSheet.Properties))}V.QU=a.Gh(V.QU);
V.Ql=a.Gh(V.Ql);return V};a.VF=function(){return a.VO(a.Cz,0,0)};a.VX=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
a.Cn=function(A,M){var q=0,V=0;while(q+A[V]<=M){q+=A[V];V++}return{XD:V,Xt:q}};a.CE=function(){var A=a.aq(this.Cz);
return A};a.Cm={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
a.CJ={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
a.Cz={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(a.Cm))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(a.Cm))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(a.CJ))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var ER={};ER.CG=function(A,M,q){var V={};V._98={_0:"i7"};V._0=ER.Co(A,M,q?q._0:null);V._1=ER.CH(A,M,V._0,q?q._1:null);
return V};ER.Co=function(A,M,q){var V={};V._1=ER.Cv(A,q?q._1:null);V._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
V._3=JSON.parse(JSON.stringify(ER.Cc));V._4=JSON.parse(JSON.stringify(ER.CA));V._5=ER.CU(A,V._1._0,q?q._5:null);
V._6=ER.Cl(A,q?q._6:null);V._8=ER.CR(A,M,q?q._8:null);V._9=ER.Cp;return V};ER.Cv=function(A,M){var q=[],V=[];
for(var F=0;F<A.length;F++){var H=A[F].ResourceDict.FontSet;for(var w=0;w<H.length;w++){var C=H[w];if(V.indexOf(C.Name)!=-1)continue;
q.push(C);V.push(C.Name)}}var r={_0:[]};for(var F=0;F<q.length;F++){var G=q[F],J={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+G.Name,_1:"i"+G.Script,_2:"i"+G.FontType}}};
if(G.Script==0)delete J._0._0._1;r._0.push(J)}return r};ER.CU=function(A,M,q){var V={_0:[],_1:[]},F={_0:JSON.parse(JSON.stringify(ER.Cg))};
ER.Ch(F._0,A[0].ResourceDict.StyleSheetSet[0],M,A[0].ResourceDict.FontSet);V._0.push(F);V._1.push({_0:"i0"});
V._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});V._1.push({_0:"i1"});return V};ER.Cl=function(A,M){var q={_0:[],_1:[]},V={_0:JSON.parse(JSON.stringify(ER.Cx))};
ER.CT(V._0,A[0].ResourceDict.ParagraphSheetSet[0]);q._0.push(V);q._1.push({_0:"i0"});V={_0:JSON.parse(JSON.stringify(ER.Cx))};
ER.CT(V._0,A[0].ResourceDict.ParagraphSheetSet[0]);V._0._0="sBasic Paragraph";V._0._6="i0";q._0.push(V);
q._1.push({_0:"i1"});return q};ER.CR=function(A,M,q){var V={_0:[]};for(var F=0;F<A.length;F++){var H={};
V._0.push({_0:H});var w=a.V$(A[F]);if(w==1){var C=a.Ve(A[F]),r=C[2],G=C[3];H._1={_0:ER.Cs("f",[0,0,0,0,r,0,r,0,r,0,r,0,r,G,r,G,r,G,r,G,0,G,0,G,0,G,0,G,0,0,0,0])}}H._2={};
H._2._0="i"+w;H._2._6=w==0?["f-1","f-1"]:["f-2","f-2"];H._2._11={_4:"i-"+(w==0?1:2),_7:!1}}return V};
ER.CH=function(A,M,q,V){var F={};F._0=JSON.parse(JSON.stringify(ER.Cf));F._1=ER.Cr(A,M,q,V?V._1:null);
F._2=JSON.parse(JSON.stringify(ER.Cg._6));F._3=JSON.parse(JSON.stringify(ER.Cx._5));return F};ER.Cr=function(A,M,q,V){var F=[],H=q._1._0;
for(var w=0;w<A.length;w++){var C=A[w],r={_0:{}};F.push(r);var G=V?V[w]:null;r._0._0="s"+C.EngineDict.Editor.Text;
r._0._0=r._0._0;var J={_0:[]};r._0._5=J;var m=C.EngineDict.ParagraphRun;for(var u=0;u<m.RunArray.length;
u++){var W={_0:{}};J._0.push(W);W._0._0={_0:"s",_5:{},_6:"i1"};ER.CT(W._0._0,C.EngineDict.ParagraphRun.RunArray[u].ParagraphSheet);
W._1="i"+m.RunLengthArray[u]}var y={_0:[]};r._0._6=y;var O=G?G._0._6:null;m=C.EngineDict.StyleRun;for(var u=0;
u<m.RunArray.length;u++){var h={_0:{}};y._0.push(h);var I=O?O._0:null;h._0._0={_0:"s",_5:"i1",_6:{}};
ER.Ch(h._0._0,C.EngineDict.StyleRun.RunArray[u].StyleSheet,H,C.ResourceDict.FontSet,I?h._0._0:null);
h._1="i"+m.RunLengthArray[u]}r._0._10={_0:"i4",_2:!0};r._1=ER.view.CS(C,null,w,null)}return F};ER.Ch=function(A,M,q,V,F){A._0="s"+(M.Name?M.Name:"");
var H=A._6,w=F?F._6:null,C=M.StyleSheetData;if(C.Font==null)return;var r=V[C.Font].Name,G=-1;for(var J=0;
J<q.length;J++)if("s"+r==q[J]._0._0._0){G=J;break}H._0="i"+G;if(C.FontSize!=null)H._1="f"+C.FontSize;
if(C.FauxBold!=null)H._2=C.FauxBold;if(C.FauxItalic!=null)H._3=C.FauxItalic;if(C.AutoLeading!=null)H._4=C.AutoLeading;
if(C.Leading!=null)H._5="f"+C.Leading;if(C.HorizontalScale!=null)H._6="f"+C.HorizontalScale;if(C.VerticalScale!=null)H._7="f"+C.VerticalScale;
if(C.Tracking!=null)H._8="i"+C.Tracking;if(C.BaselineShift!=null)H._9="f"+C.BaselineShift;if(C.AutoKerning!=null)H._11="i"+(C.AutoKerning?1:0);
if(C.FontCaps!=null)H._12="i"+C.FontCaps;if(C.FontBaseline!=null)H._13="i"+C.FontBaseline;if(C.Strikethrough!=null)H._15="i"+(C.Strikethrough?1:0);
if(C.Underline!=null)H._16="i"+(C.Underline?2:0);if(C.Ligatures!=null)H._18=C.Ligatures;if(C.DLigatures!=null)H._19=C.DLigatures;
if(C.Language!=null)H._38="i"+C.Language;if(C.FillColor!=null)H._53={_99:"/SimplePaint",_0:{_0:"i1",_1:ER.Cs("f",C.FillColor.Values)}}};
ER.CT=function(A,M){A._0="s"+(M.Name?M.Name:"");var q=A._5,V=M.Properties;if(V.Justification!=null)q._0="i"+V.Justification;
if(V.FirstLineIndent!=null)q._1="f"+V.FirstLineIndent;if(V.StartIndent!=null)q._2="f"+V.StartIndent;
if(V.EndtIndent!=null)q._3="f"+V.EndtIndent;if(V.SpaceBefore!=null)q._4="f"+V.SpaceBefore;if(V.SpaceAfter!=null)q._5="f"+V.SpaceAfter;
if(V.AutoHyphenate!=null)q._9=V.AutoHyphenate;if(V._Direction!=null)q._33="i"+V._Direction};ER.Cs=function(A,M){var q=[];
for(var V=0;V<M.length;V++)q.push(A+M[V]);return q};ER.Cc={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
ER.CA={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
ER.Cg={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
ER.Cx={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
ER.Cp={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
ER.Cf={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var EH={};EH.CP=function(A){return EH.Ct(A,EH.RX)};EH.Ena=function(A){return EH.CM(A,EH.RX)};EH.Ct=function(A,M){var q;
if(typeof A=="string")return A;if(A instanceof Array){q=[];for(var V=0;V<A.length;V++)q[V]=EH.Ct(A[V],M)}else{q={};
var F={};for(var H in M){var w=M[H],C="_"+w[0];if(A[C]!=null){q[H]=w[1]?EH.Ct(A[C],w[1]):A[C];F[C]=!0}}for(var H in A){if(F[H]==null){console.log(F);
console.log(H,A);throw"e"}}}return q};EH.CM=function(A,M){var q;if(A instanceof Array){q=[];for(var V=0;
V<A.length;V++)q[V]=EH.CM(A[V],M)}else{q={};var F={};for(var H in M){var w=M[H],C="_"+w[0];if(A[H]!=null){q[C]=w[1]?EH.CM(A[H],w[1]):A[H];
F[H]=!0}}for(var H in A){if(F[H]==null){console.log(F);console.log(H,A);throw"e"}}}return q};EH.Cj={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
EH.Dg={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,EH.Cj],_StrokeColor:[54,EH.Cj],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,EH.Cj],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
EH.Ca={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,EH.Dg],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
EH.CV={_Name:[0],_Features:[5,EH.Ca],_Parent:[6]};EH.CC={_Name:[0],_Parent:[5],_Features:[6,EH.Dg]};
EH.RX={_98:[98,{_0:[0]}],_DocumentResources:[0,{_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,EH.CC]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,EH.CV]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_3:[3],_Spacing:[4],_5:[5],_7:[7]}]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,EH.CV]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,EH.CC]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,EH.Dg],_OriginalNormalParagraphFeatures:[3,EH.Ca]}]};
ER.view={};ER.view.CS=function(A,M,q,V){var F={},H=a.V$(A);F._0=[{_0:"i"+q}];return F};function CSS(){}CSS.Ck=function(A){var M=A.add,q=M.vmsk,V=M.vstk,F=M.lmfx,H=M.TySh,w=[];
if(A.DV()&&q){var C=Q.m.Uk(q.C);if(!C.zZ()){w.push("width: "+Math.round(C.n)+"px");w.push("height: "+Math.round(C.J)+"px")}var r=Q.m.EmB(q.C);
if(r>0)w.push("border-radius: "+Math.round(r)+"px")}else if(H){var G=H.Ns;if(a.V$(G)==1){var C=a.Ve(G);
w.push("width: "+Math.round(C[2])+"px");w.push("height: "+Math.round(C[3])+"px")}CSS.CZ(w,a.VO(G,0,0),H.oC,!1)}if(F&&F.dropShadowMulti.v.length!=0){var J=F.dropShadowMulti.v[0].v;
if(J.enab.v){var m=J.Dstn.v.val,u=J.lagl.v.val*Math.PI/180,W=m*Math.cos(u),y=m*Math.sin(u);w.push("box-shadow: "+(W==0?"0 ":CSS.sn(-W)+"px ")+(y==0?"0 ":CSS.sn(y)+"px ")+J.blur.v.val+"px "+CSS.CL(J.Clr.v,J.Opct.v.val/100)+"")}}var O=Ez.aR(F),h=O[0],I=O[1];
if(M.SoCo&&I==null||h){var Z=CSS.CL((h?h:M.SoCo).Clr.v,A.add.iOpa!=null?A.add.iOpa/255:1);w.push("background-color: "+Z)}else if(M.GdFl||I){var L=CSS.sz(I?I:M.GdFl);
w.push("background-image: "+L)}if(V==null||!V.strokeEnabled.v)V=Ez.aS(F);if(V&&V.strokeEnabled.v){var Y=V.strokeStyleContent.v,B=Y.classID,X=j.az.aG.indexOf(V.strokeStyleLineCapType.v.strokeStyleLineCapType),E=j.az.join.indexOf(V.strokeStyleLineJoinType.v.strokeStyleLineJoinType),c=V.strokeStyleOpacity.v.val/100,o=V.strokeStyleLineWidth.v.val,s="";
if(B=="solidColorLayer")s=CSS.CL(Y.Clr.v,c);w.push("border: "+o+"px solid "+s)}return w};CSS.Cb={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.sn=function(A){return""+parseFloat(A.toFixed(3))};CSS.Ti=function(A){if(A==null)return Q.r.Gt({e:0,g:0,$:0});
if(A.slice(0,4)=="rgb("){var M=A.slice(4,A.length-1).split(",").map(parseFloat);return Q.r.Gt({e:M[0],g:M[1],$:M[2]})}if(A.charAt(0)!="#"){var q=CSS.Cb;
if(q[A])A=q[A];else console.log("unknown color "+A)}A=A.slice(1);if(A.length==3)A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2];
A=parseInt(A,16);return Q.r.Gt({e:A>>16&255,g:A>>8&255,$:A&255})};CSS.CL=function(A,M){if(M==null)M=1;
A=Q.r.GD(A);var q=A.e<<16|A.g<<8|A.$;return M==1?"#"+Q.EI(q):"rgba("+Math.round(A.e)+","+Math.round(A.g)+","+Math.round(A.$)+","+M+")"};
CSS.sz=function(A){var M=A.Grad.v,q=M.Clrs.v.slice(0),V=M.Trns.v.slice(0),F=A.Ofst.v,H=A.Type.v.GrdT=="Rdl"?1:0,w=(H==1?"radial":"linear")+"-gradient",C=H==0?Math.round(-A.Angl.v.val+90)+"deg":"circle at center",r=A.Rvrs.v;
if(r){q.reverse();V.reverse()}for(var G=0;G<q.length;G++){var J=q[G].v,m=G<V.length?V[G].v.Opct.v.val/100:1,u=J.Lctn.v/4096;
if(r)u=1-u;C+=", "+CSS.CL(J.Clr.v,m)+" "+Math.round(u*100)+"%"}return w+"("+C+")"};CSS.CZ=function(A,M,q,V,F){var H=M.QU,w=V?1:d.f.HD(q),C=Math.round(H.FontSize*w);
A.push("font-size: "+C+"px");var r=H.Tracking;if(r!=null&&r!=0)A.push("letter-spacing: "+Math.round(r*C/1e3)+"px");
if(!H.AutoLeading)A.push("line-height: "+Math.round(H.Leading*w)+"px");if(H.Strikethrough)A.push("text-decoration: line-through");
var G=a.GD(H);G=[G.e,G.g,G.$].map(Math.round);A.push((V?"fill":"color")+": rgb("+G.join(",")+")");var J=M.Qr[H.Font].Name;
if(J){var m=F;if(m){var u=zs.KX.Xb(J);if(u==null||J!=zs.KZ(u))m=!1}if(m)A.push("font-family: \""+J+"\"");
else{A.push("font-family: \""+CSS.CY(J)+"\"");var W=J.toLowerCase();if(W.indexOf("light")!=-1)A.push("font-weight: 300");
else if(W.indexOf("black")!=-1||W.indexOf("extrabold")!=-1)A.push("font-weight: 800");else if(W.indexOf("bold")!=-1)A.push("font-weight: bold");
if(W.indexOf("italic")!=-1||W.indexOf("oblique")!=-1)A.push("font-style: italic;")}}var y=M.Ql.Justification;
if(y!=null&&y!=0)if(V)A.push("text-anchor: "+["start","end","middle"][y%3]);else A.push("text-align: "+["left","right","center"][y%3])};
CSS.CY=function(A){A=A.split("-")[0];while(A.endsWith("MT")||A.endsWith("PS"))A=A.slice(0,A.length-2);
var M=!0;for(var q=0;q<A.length;q++){var V=A.charAt(q);if(!M&&V.toLowerCase()!=V){A=A.slice(0,q)+" "+A.slice(q);
q++;M=!0}else M=!1}return A};function Er(){}Er.Ci=function(A,M){var q=acorn.parse(A),V=JSON.parse(JSON.stringify(Er.Ce.Cw));
V.__return=!1;V.__break=!1;V.__throw=!1;Er.eval(q,M,V)};Er.eval=function(A,M,q){var V=A.type;if(!1){}else if(V=="Program"||V=="BlockStatement"){var F=A.body;
for(var H=0;H<F.length;H++){var w=F[H].type;if(w=="FunctionDeclaration")q[F[H].id.name]=F[H]}for(var H=0;
H<F.length;H++){var w=F[H].type,C=Er.eval(F[H],M,q);if(q.__return||q.__break||q.__throw)return C}}else if(V=="ReturnStatement"){q.__return=!0;
return A.argument?Er.Gj(A.argument,M,q):null}else if(V=="BreakStatement"){q.__break=!0}else if(V=="VariableDeclaration"){var r=A.declarations;
for(var H=0;H<r.length;H++)Er.eval(r[H],M,q)}else if(V=="VariableDeclarator"){q[A.id.name]=A.init?Er.Gj(A.init,M,q):null}else if(V=="FunctionDeclaration"){q[A.id.name]=A}else if(V=="MemberExpression"){var G=Er.Gj(A.object,M,q),J=A.computed?Er.Gj(A.property,M,q):Er.eval(A.property,M,q),C;
if(G.QE!=null)C=Er.Ce.CB(G,J,M,q);else C=G[J];return C}else if(V=="ArrayExpression"){var m=[],u=A.elements;
for(var H=0;H<u.length;H++)m.push(Er.Gj(u[H],M,q));return m}else if(V=="ObjectExpression"){var m={},u=A.properties;
for(var H=0;H<u.length;H++){var W=u[H],y=u[H].key.name?u[H].key.name:u[H].key.value;m[y]=Er.Gj(u[H].value,M,q)}return m}else if(V=="ExpressionStatement"){return Er.eval(A.expression,M,q)}else if(V=="NewExpression"){var O=A.arguments,h=A.callee,I=h.type,m=null;
if(I=="Identifier")m=Er.Ce.Cq(h.name,O,M,q);else throw"e";if(m==null)throw"e";return m}else if(V=="CallExpression"){var O=A.arguments,h=A.callee,I=h.type,Z={};
for(var L in q)Z[L]=q[L];var Y=[];for(var H=0;H<O.length;H++)Y.push(Er.Gj(O[H],M,q));if(I=="Identifier"){var B=q[h.name];
if(B){if(B.params){var X=B.params;for(var H=0;H<X.length;H++)Z[X[H].name]=Y[H];return Er.eval(B.body,M,Z)}else{return B.apply(null,Y)}}else if(window[h.name]==null)console.log("Unknown function "+h.name);
else{var E=window[h.name].apply(window,Y);return E}}else if(I=="MemberExpression"){var G=Er.Gj(h.object,M,q),J=h.computed?Er.Gj(h.property,M,q):Er.eval(h.property,M,q);
if(G.QE!=null)return Er.Ce.Aj(G,J,Y,M,q);else return G[J].apply(G,Y)}else console.log(A)}else if(V=="AssignmentExpression"){var c=A.operator,o=A.left,s=o.type,z=Er.Gj(o,M,q),k=Er.Gj(A.right,M,q),C=null;
if(!1){}else if(c=="=")C=k;else if(c=="+=")C=z+k;else if(c=="-=")C=z-k;else if(c=="*=")C=z*k;else if(c=="/=")C=z/k;
else if(c=="%=")C=z%k;else if(c=="&=")C=z&k;else if(c=="|=")C=z|k;else if(c=="&&=")C=z&&k;else if(c=="||=")C=z||k;
else console.log(A);if(s=="Identifier"){var b=o.name;if(!q.hasOwnProperty(b))throw"e";q[b]=C}else if(s=="MemberExpression"){var T=Er.eval(o.property,M,q),l=Er.Gj(o.object,M,q);
if(l.QE!=null)Er.Ce.C_(l,T,C,M,q);else l[T]=C}else console.log(A)}else if(V=="Identifier")return A.name;
else if(V=="Literal")return A.value;else if(V=="UpdateExpression"){var c=A.operator,$=A.argument.name,m=Er.Gj(A.argument,M,q);
if(!1){}else if(c=="++"){q[$]++;return A.prefix?q[$]:q[$]-1}else if(c=="--"){q[$]--;return A.prefix?q[$]:q[$]+1}else console.log(A)}else if(V=="UnaryExpression"){var c=A.operator,e=Er.Gj(A.argument,M,q);
if(e.QE=="UnitValue"){if(c=="-")return-e.o;else return Er.C$(e.o,c)}else return Er.C$(e,c)}else if(V=="BinaryExpression"||V=="LogicalExpression"){var c=A.operator,o=Er.Gj(A.left,M,q),e=Er.Gj(A.right,M,q);
if(o==null||e==null)return Er.CI(o,e,c);else if(o.QE=="UnitValue"&&e.QE=="UnitValue")return Er.CI(o.o,e.o,c);
else if(o.QE=="UnitValue")return Er.CI(o.o,e,c);else if(e.QE=="UnitValue"){if(c=="-")return-(o-e.o);
else return Er.CI(o,e.o,c)}else return Er.CI(o,e,c)}else if(V=="IfStatement"||V=="ConditionalExpression"){var i=Er.eval(A.test,M,q);
if(i)return Er.eval(A.consequent,M,q);else if(A.alternate)return Er.eval(A.alternate,M,q)}else if(V=="ForInStatement"){Er.eval(A.left,M,q);
var g=A.left.declarations[0].id.name,P=Er.Gj(A.right,M,q);for(var L in P){q[g]=L;var n=Er.eval(A.body,M,q);
if(q.__break)break;if(q.__return)return n}q.__break=!1}else if(V=="ForStatement"){Er.eval(A.init,M,q);
while(Er.eval(A.test,M,q)){var n=Er.eval(A.body,M,q);if(q.__break)break;if(q.__return)return n;Er.eval(A.update,M,q)}q.__break=!1}else if(V=="DoWhileStatement"){do{var n=Er.eval(A.body,M,q);
if(q.__break)break;if(q.__return)return n}while(Er.eval(A.test,M,q));q.__break=!1}else if(V=="TryStatement"){Er.eval(A.block,M,q);
if(q.__throw){var p=A.handler;q[p.param.name]=q.__throw;q.__throw=!1;Er.eval(p.body,M,q);delete q[p.param.name]}}else console.log(A)};
Er.CI=function(A,M,q){if(q=="+")return A+M;else if(q=="-")return A-M;else if(q=="*")return A*M;else if(q=="/")return A/M;
else if(q=="%")return A%M;else if(q=="^")return A^M;else if(q=="&")return A&M;else if(q=="&&")return A&&M;
else if(q=="|")return A|M;else if(q=="||")return A||M;else if(q=="<")return A<M;else if(q==">")return A>M;
else if(q=="==")return A==M;else if(q=="<=")return A<=M;else if(q==">=")return A>=M;else if(q=="!=")return A!=M;
else if(q=="<<")return A<<M;else if(q==">>")return A>>M;else console.log(obj)};Er.C$=function(A,M){if(M=="-")return-A;
else if(M=="!")return!A;else if(M=="~")return~A;else console.log(obj)};Er.Gj=function(A,M,q){var V=A.type;
if(V=="Identifier")return Er.CK(A.name,M,q);else return Er.eval(A,M,q)};Er.CK=function(A,M,q){if(A=="undefined")return undefined;
else if(q.hasOwnProperty(A))return q[A];else if(A=="app")return{QE:"Application"};else if(window[A])return window[A];
else{q[A]=null;return null}};Er.Ce={};Er.Ce.Cq=function(A,M,q,V){if(A=="SolidColor")return{QE:"SolidColor",o:[1,0,0,0]}};
Er.Ce.CB=function(A,M,q,V){if(!1){}else if(M=="typename"){if(A.QE=="Layer")return A.o.Da()?"LayerSet":"ArtLayer";
else return A.QE}else if(["Document","Layer"].indexOf(A.QE)!=-1&&["layers","artLayers","layerSets"].indexOf(M)!=-1){var F=q.$N(),H=F.root,w={QE:"Layers",o:[]};
if(A.QE=="Layer")H=F.root.MZ(F.T.indexOf(A.o));for(var C=0;C<H.children.length;C++){var r=H.children[C].Q,G=r.Da();
if(G&&M=="artLayers"||!G&&M=="layerSets")continue;w.o.push({QE:"Layer",o:r})}w.o.reverse();return w}else if(A.QE=="Documents"||A.QE=="Layers"||A.QE=="HistoryStates"){if(!1){}else if(M=="length")return A.o.length;
else if(Number.isInteger(M))return A.o[M];else console.log(A.QE+": unknown property ",M)}else if(A.QE=="Application"){if(!1){}else if(M=="activeDocument")return{QE:"Document",o:q.$N()};
else if(M=="documents"){var w={QE:"Documents",o:[]};for(var C=0;C<q.XM.length;C++)w.o.push({QE:"Document",o:q.XM[C]});
return w}else if(M=="fonts")return{QE:"TextFonts"};else if(M=="preferences")return{QE:"Preferences"};
else if(M=="displayDialogs")return{QE:"DialogModes"};else console.log(A,M)}else if(A.QE=="Document"){var F=A.o;
if(!1){}else if(M=="activeLayer"){var r=F.T[F.k[0]];return{QE:"Layer",o:r}}else if(M=="width")return F.n;
else if(M=="height")return F.J;else if(M=="name")return F.name;else if(M=="selection")return{QE:"Selection"};
else if(M=="activeHistoryState")return{QE:"HistoryState",eE:F.y_};else if(M=="historyStates"){var J=[];
for(var C=0;C<F.history.length;C++)J.push({QE:"HistoryState",eE:C});return{QE:"HistoryStates",o:J}}else console.log(A,M)}else if(A.QE=="Layer"){var r=A.o;
if(!1){}else if(M=="visible")return r.Dy();else if(M=="transparentPixelsLocked")return r.EoL();else if(M=="pixelsLocked")return r.EHE();
else if(M=="positionLocked")return r.EHv();else if(M=="allLocked")return r.Eob();else if(M=="opacity")return r.opacity*100/255;
else if(M=="name")return r.getName();else if(M=="textItem")return{QE:"TextItem",o:r};else if(M=="bounds"){var F=q.$N(),m=d.f.Ak(F,[F.T.indexOf(r)]),u=[m.x,m.y,m.x+m.n,m.y+m.J];
return Er.Ce.CN(u)}else if(M=="parent"){var W=q.XM;for(var C=0;C<W.length;C++)if(W[C].T.indexOf(r)!=-1)return{QE:"Document",o:W[C]}}else if(M=="kind"){var y=Er.Ce.Cy;
for(var C=0;C<y.length;C++)if(r.add[y[C]]!=null)return C;return 0}else console.log(A,M)}else if(A.QE=="TextItem"){var O=A.o.add.TySh,h=O.Ns,I=a.Vi(h),Z=a.VO(h,0,Math.max(0,I.length-2));
if(M=="contents")return I;else if(M=="font")return Z.QU.Font!=null?Z.Qr[Z.QU.Font].Name:null;else if(M=="size")return{QE:"UnitValue",o:Z.QU.FontSize};
else if(M=="tracking")return{QE:"UnitValue",o:Z.QU.Tracking};else if(M=="kind")return 1-a.V$(h);else if(M=="color")return{QE:"SolidColor",o:Z.QU.FillColor.Values.slice(0)};
else if(M=="width"||M=="height"){var L=a.Ve(h),Y=L[2]-L[0],B=L[3]-L[1];return M=="width"?Y:B}else if(M=="horizontalScale"||M=="verticalScale"){var X=O.oC.clone(),E=Math.atan2(-X.$,X.M),c=new zo;
c.rotate(-E);X.concat(c);var o=M=="horizontalScale"?X.M:X.e$;return o*100}else console.log(A,M)}else if(A.QE=="Preferences"){if(M=="rulerUnits")return 5;
else console.log(A,M)}else if(A.QE=="SolidColor"){if(M=="rgb")return{QE:"RGBColor",o:A.o};else console.log(A,M)}else if(A.QE=="RGBColor"){if(!1){}else if(M=="red")return Math.round(255*A.o[1]);
else if(M=="green")return Math.round(255*A.o[2]);else if(M=="blue")return Math.round(255*A.o[3]);else console.log(A,M)}else if(A.QE=="UnitValue"){if(M=="value")return A.o;
else throw"e"}else console.log(A,M)};Er.Ce.CN=function(A){var M=[];for(var q=0;q<A.length;q++)M.push({QE:"UnitValue",o:A[q]});
return M};Er.Ce.CQ=function(A){var M=[];for(var q=0;q<A.length;q++)M.push(A[q].QE?A[q].o:A[q]);return M};
Er.Ce.C_=function(A,M,q,V,F){var H=new N(_.E.V,!0),w=new N(_.E.K,!0),C=V.$N();if(!1){}else if(A.QE=="Application"){if(!1){}else if(M=="activeDocument"){w.data={H:_.u.Sy,wb:q.o};
V.t(w)}else if(M=="displayDialogs"){}else console.log(A,M,q)}else if(A.QE=="Document"){if(!1){}else if(M=="activeLayer"){C.k=[C.T.indexOf(q.o)]}else if(M=="activeHistoryState"){H.v=d.AR;
H.data={H:"h_itemchange",index:q.eE}}else console.log(A,M)}else if(A.QE=="Layer"){H.v=d.AH;var r={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},G=A.o,J=C.T.indexOf(G);
if(!1){}else if(M=="visible"){if(G.Dy()!=q)H.data={H:S.ME,Q:J}}else if(M=="opacity"){H.data={H:S.tO,Q:J,ut:Math.round(255*q/100)}}else if(M=="name"){H.data={H:S.Ms,Q:J,name:q}}else if(r[M]!=null){H.data={H:S.tF,Q:J,dD:r[M],dt:q}}else if(M=="kind"){H.data={H:S.Mn,Q:J,dM:Er.Ce.Cy[q]}}else console.log(A,M,q)}else if(A.QE=="TextItem"){H.v=d.cd;
var G=A.o,m=G.add.TySh,u=JSON.parse(JSON.stringify(m.Ns)),W=m.oC.clone(),y=a.Vi(u),O=a.VO(u,0,y.length-2),h=!1;
if(!1){}else if(M=="contents"){a.Vw(u,0,y.length-1);a.V_(u,0,q)}else if(M=="size"){O.QU.FontSize=q.o!=null?q.o:q;
h=!0}else if(M=="tracking"){O.QU.Tracking=q.o!=null?q.o:q;h=!0}else if(M=="kind"){a.VK(u,1-q)}else if(M=="font"){a.VY(O,q);
h=!0}else if(M=="color"){O.QU.FillColor.Values=q.o.slice(0);h=!0}else if(M=="width"||M=="height"){var I=a.Ve(u).slice(0);
if(M=="width")I[2]=Math.round(I[0]+q);else I[3]=Math.round(I[1]+q);a.Vq(u,I)}else if(M=="horizontalScale"||M=="verticalScale"){var Z=1,L=1;
if(M=="horizontalScale")Z=q/100;else L=q/100;var Y=new zo;Y.scale(Z,L);Y.concat(W);W=Y}else console.log(A,M,q);
if(h)a.Vu(u,0,y.length-1,O);H.data={H:"newED",wX:C.T.indexOf(G),Elb:u,oC:W}}else if(A.QE=="Preferences"){if(!1){}else if(M=="rulerUnits"){if(q!=5)console.log("only pixel units supported")}else console.log(A,M,q)}else if(A.QE=="RGBColor"){if(!1){}else if(M=="red")A.o[1]=q/255;
else if(M=="green")A.o[2]=q/255;else if(M=="blue")A.o[3]=q/255;else console.log(A,M)}else console.log(A,M,q);
if(H.data!=null)V.t(H)};Er.Ce.Aj=function(A,M,q,V,F){var H=A.QE,w=null,C=new N(_.E.V,!0),r=new N(_.E.K,!0),G=V.$N(),J=V.XM;
if(!1){}else if(H=="Application"){if(!1){}else if(M=="open"){r.data={H:_.u.SZ,KI:{url:q[0]}};if(q[2]&&J.length!=0)r.data.KI.Xj=J.indexOf(G)}}else if(H=="Document"){var G=A.o;
if(!1){}else if(M=="save"){r.data={H:_.u.S$}}else if(M=="saveToOE"){r.data={H:_.u.S$,Xa:q}}else if(M=="resizeImage"||M=="resizeCanvas"){var m=q[0],u=q[1];
if(typeof m!="number"){m=G.n*parseFloat(m.slice(0,m.length-1))/100;u=G.J*parseFloat(u.slice(0,u.length-1))/100}C.data={H:M=="resizeImage"?"imgsize":"canvsize",wU:Math.round(m),wl:Math.round(u),wH:q[2]};
C.v=d.cC}else if(M=="paste"){r.data={H:_.u.SN}}else if(M=="close"){r.data={H:_.u.kH,XV:G}}else console.log(A,M,q)}else if(H=="Layer"){var W=A.o,y=G.T.indexOf(W);
if(!1){}else if(M=="duplicate"){if(q.length==0){C.data={H:S.ta,Q:y};C.v=d.AH;w={QE:"Layer",o:G.T[G.k[0]]}}else if(q[0].QE=="Document"){C.data={H:S.MU,T:G.jC(y),dZ:G,dY:q[0].o};
C.v=d.AH}}else if(M=="convertToSO"){C.data={H:S.tS,Q:y};C.v=d.AH;w={QE:"Layer",o:G.T[G.k[0]]}}else if(M=="merge"||M=="remove"){C.data={H:M=="merge"?S.tY:S.tC,Q:y};
C.v=d.AH;if(M!="remove")w={QE:"Layer",o:G.T[G.k[0]]}}else if(M=="move"){C.data={H:S.Mh,source:y,target:G.T.indexOf(q[0].o),dq:q[1]!=3};
C.v=d.AH}else if(M=="rotate"){C.data={H:"rot",KY:[2,5],o:-q[0]*Math.PI/180,wH:q[1],Q:y};C.v=d.Ao}else if(M=="resize"){C.data={H:"scl",KY:[2,4],o:new f(q[0]/100,q[1]/100),wH:q[2],Q:y};
C.v=d.Ao}else if(M=="translate"){var O=Er.Ce.CQ(q);C.data={H:"trsl",Q:y,EUu:O[0],EEL:O[1]};C.v=d.cf}else console.log(A,M,q)}else if(H=="Documents"){if(M=="getByName"){for(var h=0;
h<J.length;h++)if(J[h].name==q[0])return{QE:"Document",o:J[h]};return null}else throw"e"}else if(H=="Layers"){if(M=="getByName"){for(var h=0;
h<A.o.length;h++)if(A.o[h].o.getName()==q[0]){w=A.o[h];break}if(w==null)F.__throw={message:"No layer with a name "+q[0]}}else if(M=="add"){C.data={H:S.MR};
C.v=d.AH;V.t(C);C.data=null;w={QE:"Layer",o:G.T[G.k[0]]}}else console.log(A,M,q)}else if(A.QE=="Selection"){C.v=d.cP;
if(M=="select"){var I=q[0],Z={qm:["M"],G:[I[0][0],I[0][1]]};for(var h=1;h<I.length;h++){Z.qm.push("L");
Z.G.push(I[h][0],I[h][1])}C.data={H:"polygon",KY:"Select area",uG:Z}}else if(M=="copy"){r.data={H:_.u.Sq}}else if(M=="deselect"){C.data={H:"deselect"}}else console.log(A,M,q)}else console.log(A,M,q);
if(C.data)V.t(C);if(r.data)V.t(r);return w};Er.Ce.Cw={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{CM:0,INCHES:1,MM:2,PERCENT:3,PICAS:4,PIXELS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,TEXT:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2}};
Er.Ce.Cy=["----","TySh"];var _={};_.Cu=0;_.Cd=function(){_.Cu++;return _.Cu};_.CO="uint8";_.L=function(A,M){var q=document.createElement(A);
if(M!=null)q.setAttribute("class",M);return q};_.CX=function(A){while(A.firstChild)A.removeChild(A.firstChild)};
_.Sn=function(A,M){var q=A.getAttribute("class").split(" ");if(q.indexOf(M)==-1)q.push(M);A.setAttribute("class",q.join(" "))};
_.SE=function(A,M){var q=A.getAttribute("class").split(" ");if(q.indexOf(M)!=-1)q.splice(q.indexOf(M),1);
A.setAttribute("class",q.join(" "))};_.Sm=document;_.SJ=function(A){var M=0;for(var q=0;q<A;q++)M+=Math.random();
return M/A<Math.PI/4};_.Sz=function(A,M){var q="";if(!_.SJ(29))M-=4;for(var V=0;V<A.length;V++)q+=String.fromCharCode(A.charCodeAt(V)-M-V);
return q};_.SG=function(A,M){var q="";if(!_.SJ(29))M+=4;for(var V=0;V<A.length;V++)q+=String.fromCharCode(A.charCodeAt(V)+M+V);
return q};_.So=function(A,M){var q="";if(!_.SJ(29))M+=3;for(var V=0;V<A.length;V++)q+=String.fromCharCode((256<<16)+A.charCodeAt(V)+M*V&255);
return q};_.Sv=function(A){var M=Math.random();_.CO="uint"+(3+M);return new A};_.SU=0;_.Sl=function(A,M){var q=0;
if(Date.now()-_.SU>1e3){q=M==0?100:M*10}else{if(A%10!=0)A*=10;q=(A+M)%100}_.SU=Date.now();return q};
_.SR=function(A,M){if(window.PointerEvent){A.addEventListener("pointerdown",M,!1);return}A.addEventListener("mousedown",M,!1);
A.addEventListener("touchstart",M,!1)};_.SH=function(A,M){if(window.PointerEvent){A.addEventListener("pointermove",M,!1);
return}A.addEventListener("mousemove",M,!1);A.addEventListener("touchmove",M,!1)};_.Sr=function(A,M){if(window.PointerEvent){A.addEventListener("pointerup",M,!1);
return}A.addEventListener("mouseup",M,!1);A.addEventListener("touchend",M,!1)};_.EJm=function(A,M){if(window.PointerEvent){A.removeEventListener("pointerdown",M,!1);
return}A.removeEventListener("mousedown",M,!1);A.removeEventListener("touchstart",M,!1)};_.Sh=function(A,M){if(window.PointerEvent){A.removeEventListener("pointermove",M,!1);
return}A.removeEventListener("mousemove",M,!1);A.removeEventListener("touchmove",M,!1)};_.ST=function(A,M){if(window.PointerEvent){A.removeEventListener("pointerup",M,!1);
return}A.removeEventListener("mouseup",M,!1);A.removeEventListener("touchend",M,!1)};_.Ss=function(A){A.addEventListener("touchstart",_.Sp,!1);
A.addEventListener("touchmove",_.Sp,!1);A.addEventListener("touchend",_.Sp,!1)};_.Sc=function(A,M,q,V){var F=_.F();
A.width=Math.floor(M*F);A.height=Math.floor(q*F);A.style.width=A.width/F+"px";A.style.height=A.height/F+"px";
if(V)V.setTransform(F,0,0,F,0,0)};_.SA=function(A,M,q){A.setAttribute("style","width:"+M/_.F()+"px; height:"+q/_.F()+"px")};
_.Sg=function(A,M){if(M==null)M=A.currentTarget;var q=M.getBoundingClientRect();if(A.touches)A=A.touches.item(0);
return{x:A.clientX-q.left,y:A.clientY-q.top}};_.F=function(A){return window.devicePixelRatio||1};_.Sp=function(A){A.preventDefault()};
_.Sf=function(A){var M=64/_.F(),q=64*_.F();return"url("+A+") "+64+" "+64+", auto; cursor: -webkit-image-set( url("+A+") "+_.F()+"x  ) "+M+" "+M+", auto;"};
_.SP=function(A,M,q){q=q?q:"";if(PIMG["__"+A]==null)q+=" gsicon";return"<img src=\""+PIMG[A]+"\" alt=\""+(M?M:"")+"\" class=\""+q+"\" />"};
_.SD=function(A,M,q,V){var F=A.dataTransfer.getData("text/uri-list");if(F!=null&&F.startsWith("http")){var H=new N(_.E.K,!0);
H.data={H:_.u.SZ,KI:{url:F,XC:!0,Xj:q,XS:V}};M.t(H)}if(A.dataTransfer.files.length==0)return;var H=new N(_.E.K,!0);
H.data={H:_.u.SF,data:A.dataTransfer.files,Xj:q,XS:V};M.t(H)};var N=function(A,M){if(!M)M=!1;this.type=A;
this.target=null;this.currentTarget=null;this.bubbles=M;this.v=null;this.Xk=!1};_.E={V:"0",K:"1",N:"2",Sa:"3",SV:"4"};
_.u={SC:"10",SS:"11",Sk:"12",Sb:"13",SL:"14",SZ:"15",SY:"16",Si:"17",SI:"18",S$:"19",SK:"20",Se:"21",Sq:"22",SB:"22.5",SN:"23",SQ:"24",S_:"25",Sw:"26",Sy:"27",Su:"28",Sd:"28.5",SO:"29",SF:"30",SX:"31",kn:"32",kE:"33",km:"34",kJ:"35",kz:"37",kG:"38",ko:"39",kv:"40",kU:"41",kl:"42",kR:"43",kH:"44"};
var ET={};ET.kr=function(A){var M=ET.kW[A],q=document.documentElement.style,F=20;q.setProperty("--bg-color","#"+Q.EI(M["--bg-color"]));
q.setProperty("--bg-panel","#"+Q.EI(M["--bg-panel"]));q.setProperty("--bg-canvas","#"+Q.EI(M["--bg-canvas"]));
q.setProperty("--bg-input","#"+Q.EI(M["--bg-input"]));q.setProperty("--bg-bbtn","#"+Q.EI(M["--bg-bbtn"]));
q.setProperty("--bg-bbtnOver","#"+Q.EI(M["--bg-bbtnOver"]));q.setProperty("--brdr","#"+Q.EI(M["--brdr"]));
q.setProperty("--text-color","#"+Q.EI(M["--text-color"]));q.setProperty("--brdrLgt","rgba(255,255,255,"+M["--brdrLgt"]+")");
q.setProperty("--brdrDrk","rgba(  0,  0,  0,"+M["--brdrDrk"]+")");q.setProperty("--alphaDark",""+M["--alphaDark"]);
q.setProperty("--gs-invert",""+M["--gs-invert"]);var V=M["--sh-clr"];q.setProperty("--sh-clr","rgba("+(V>>16)+","+(V>>8&255)+","+(V&255)+", 0.45)");
q.setProperty("--sh-dy",""+M["--sh-dy"]+"px");if(1<_.F()&&_.F()<1.5)F/=_.F();q.setProperty("--img20",F+"px");
var H="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape".split(" ");
for(var A=0;A<H.length;A++){var w=H[A],C=w.split("/").pop(),r=PIMG["__"+w]==null?M["--gs-invert"]:"0";
q.setProperty("--icon_"+C,"url("+PIMG[w]+")");q.setProperty("--icon_"+C+"_invrt",r)}};ET.kW=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function Es(){zC.call(this);this.parent=null;this.R=null;this.ev=0;this.eU=0}Es.prototype=new zC;Es.prototype.kh=function(A){var M=this;
while(M!=null){if(M==A)return!0;M=M.parent}return!1};Es.prototype.kT=function(){var A=this.R;return A.offsetWidth+A.clientLeft};
Es.prototype.ks=function(){var A=this.R;return A.offsetHeight+A.clientTop};Es.prototype.update=function(A){};
Es.prototype.t=function(A){zC.prototype.t.call(this,A);if(A.bubbles&&this.parent!=null)this.parent.t(A)};
Es.prototype.EJl=function(A){A.stopPropagation();A.preventDefault()};Es.prototype.kA=function(A){_.SE(this.R,"disabled")};
Es.prototype.kg=function(A){_.Sn(this.R,"disabled")};function Ec(A){Es.call(this);this.XL=null;this.XZ=this.AY.bind(this);
this.XY=this.kP.bind(this);this.Xi=this.kD.bind(this);this.XI=this.kt.bind(this);this.uG=[];this.X$=[];
this.XK=[];this.Xe=[];this.R=_.L("div","contextpanel");this.R.addEventListener("contextmenu",_.Sp,!1);
this.Xq=null;this.XB=0;this.XN=A;this.XQ=[];for(var M=0;M<A.length;M++){var q=_.L("div","enab");this.X$.push(q);
this.R.appendChild(q);if(A[M].UU){var V=_.L("img","thumb");V.setAttribute("src",PIMG[A[M].UU]);q.appendChild(V)}else{var F=_.L("span","check");
this.Xe.push(F);q.appendChild(F)}var H=_.L("span","label");H.innerHTML=typeof A[M].name=="string"?A[M].name:zJ.get(A[M].name);
q.appendChild(H);this.XK.push(H);if(A[M].title)q.title=A[M].title;if(A[M].Ka)this.R.appendChild(_.L("hr"));
if(A[M].Kj||A[M].sub){var w=_.L("span","right");q.appendChild(w);if(A[M].Kj)w.innerHTML=A[M].Kj;if(A[M].sub)w.innerHTML="\u25B6"}q.addEventListener("click",this.XZ,!1);
q.addEventListener("mouseover",this.XY,!0);q.addEventListener("mouseout",this.Xi,!0);if(A[M].sub){var C=new Ec(A[M].sub);
C.parent=this;this.XQ.push(C);C.l("select",this.kj,this)}else this.XQ.push(null)}}Ec.prototype=new Es;
Ec.prototype.kx=function(A){_.CX(this.R);for(var M=0;M<A.length;M++)if(A[M]!=0){this.R.appendChild(this.X$[M]);
if(A[M]!=1)this.XQ[M].kx(A[M])}};Ec.prototype.D=function(){var A=this.XN;for(var M=0;M<A.length;M++)this.XK[M].innerHTML=typeof A[M].name=="string"?A[M].name:zJ.get(A[M].name);
for(var M=0;M<this.XQ.length;M++)if(this.XQ[M])this.XQ[M].D()};Ec.prototype.update=function(A,M,q){for(var V=0;
V<M.length;V++){if(M[V].Z){var F=M[V].Z(A,q);if(F.Z!=null)this.X$[V].setAttribute("class",F.Z?"enab":"disab");
if(F.X_!=null)this.XK[V].textContent=F.X_;if(F.Xw!=null)this.Xe[V].textContent=F.Xw?"\u2713":""}}for(var V=0;
V<this.XQ.length;V++)if(this.XQ[V])this.XQ[V].update(A,M[V].sub,q)};Ec.prototype.kf=function(){return this.uG};
Ec.prototype.AY=function(A){if(A.button!=0)return;var M=this.X$.indexOf(A.currentTarget);if(this.XQ[M]){this.XB=M;
this.kt()}else{this.XL=null;this.uG=[M];this.t(new N("select",!1));var q=new N(_.E.K,!0);q.data={H:_.u.Sb};
this.t(q)}};Ec.prototype.kP=function(A){var M=this.X$.indexOf(A.currentTarget);if(this.Xq){clearTimeout(this.Xq);
this.Xq=null}if(this.XQ[M]==null)return;this.XB=M;this.Xq=setTimeout(this.XI,300)};Ec.prototype.kD=function(A){var M=this.X$.indexOf(A.currentTarget);
if(this.Xq){clearTimeout(this.Xq);this.Xq=null}};Ec.prototype.kt=function(){if(this.Xq){clearTimeout(this.Xq);
this.Xq=null}var A=this.XB;if(this.XL)this.XL.kM();this.XL=this.XQ[A];var M=this.X$[A].getBoundingClientRect(),q=new N(_.E.K,!0);
q.data={H:_.u.SS,KH:this.XQ[A],x:M.left+M.width+2,y:M.top};this.t(q)};Ec.prototype.kM=function(){for(var A=0;
A<this.XQ.length;A++)if(this.XQ[A])this.XQ[A].kM();var M=new N(_.E.K,!0);M.data={H:_.u.Sk,KH:this};this.t(M)};
Ec.prototype.kj=function(A){var M=this.XQ.indexOf(A.target);this.uG=[M].concat(A.target.kf());this.t(new N("select",!1))};
function EA(A,M,q,V,F,H,w){Es.call(this);this.R=_.L("span","fitem");var C=_.Cd();this.Xy=A;this.eq=M;
this.ee=q;this.Xu=V;this.Xd=F;this.XO=H;this.XF=w;this.e_=_.L("label","flabel");this.e_.innerHTML=A;
this.e_.setAttribute("for",C);this.e_.setAttribute("style","cursor:col-resize;");this.XX=_.L("input","");
this.XX.setAttribute("type","range");if(w){this.XX.min=0;this.XX.max=400}else{this.XX.min=M;this.XX.max=q;
if(F!=0)this.XX.step=(q-M)/200}this.kd=_.L("input","");this.kd.setAttribute("type","text");this.kd.setAttribute("id",C);
this.mb=_.L("span","");this.mb.innerHTML=V;this.kd.addEventListener("change",this.kS.bind(this),!1);
this.kd.addEventListener("keydown",this.kb.bind(this),!1);this.kd.addEventListener("wheel",this.kL.bind(this),!1);
this.XX.addEventListener("input",this.kS.bind(this),!1);this.XX.addEventListener("mouseup",this.kY.bind(this),!1);
this.Enm=this.ki.bind(this);this.rA=this.kI.bind(this);this.rg=this.k$.bind(this);this.Uo=0;this.Uv=0;
_.SR(this.e_,this.Enm)}EA.prototype=new Es;EA.prototype.ka=function(A){this.e_.textContent=A};EA.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);
this.e_.textContent=A+":"};EA.prototype.P=function(A){A=Math.max(this.eq,A);if(this.Xd==0)A=Math.round(A);
this.kd.value=(this.Xd!=0?A.toFixed(this.Xd):A)+(this.XO&&this.Xu?" "+this.Xu:"");var M=100*Math.log(1+(5*A-this.eq)/(this.ee-this.eq));
this.XX.value=this.XF?M:A};EA.prototype.c=function(){return parseFloat(this.kd.value)};EA.prototype.kS=function(A){var M=0;
if(A.currentTarget==this.kd)M=parseFloat(A.target.value);else{M=A.target.value;if(this.XF)M=.2*(this.eq+(this.ee-this.eq)*(Math.exp(M/100)-1))}this.P(M);
this.kk()};EA.prototype.kk=function(){this.t(new N(_.E.N))};EA.prototype.kb=function(A){var M=0;if(A.key==R.fF)M=1;
if(A.key==R.Pn)M=-1;if(M!=0)this.kZ(M,A.shiftKey)};EA.prototype.kL=function(A){this.kZ(A.deltaY>0?-1:1,A.shiftKey)};
EA.prototype.kZ=function(A,M){var q=this.Xd,V=A*(q==null||q==0?1:.1);if(M)V*=10;var F=this.c()+V;if(!this.XF)F=Math.min(this.ee,F);
this.P(F);this.kk()};EA.prototype.kY=function(A){if(A.detail<=1||this.XF)return;var M=(this.ee+this.eq)/2;
this.P(M);this.kk()};EA.prototype.ki=function(A){_.SH(document,this.rA);_.Sr(document,this.rg);this.Uo=_.Sg(A,document.body).x;
this.Uv=this.c()};EA.prototype.kI=function(A){var M=_.Sg(A,document.body).x,q=(M-this.Uo)*(1/120)*(this.ee-this.eq),V=this.Uv+q;
if(!0){V=Math.max(this.eq,V);if(V==this.eq){this.Uo=M;this.Uv=this.eq}}if(!this.XF){V=Math.min(this.ee,V);
if(V==this.ee){this.Uo=M;this.Uv=this.ee}}this.P(V);this.kk()};EA.prototype.k$=function(A){_.Sh(document,this.rA);
_.ST(document,this.rg)};function Eg(A){Es.call(this);this.vL=0;this.alt=0;var M="ai"+_.Cd();this.R=_.L("span","fitem angleinput");
if(A){this.e_=_.L("label","flabel");this.Xy=A;this.R.appendChild(this.e_);this.e_.setAttribute("for",M)}this.uU=20;
this.Ix=_.L("canvas","gsicon");this.bs=this.Ix.getContext("2d");_.Sc(this.Ix,this.uU*2+1,this.uU*2+1,this.bs);
this.R.appendChild(this.Ix);_.SR(this.Ix,this.kK.bind(this));this.rU=this.ke.bind(this);this.r_=this.kq.bind(this);
this.kd=_.L("input","");this.kd.setAttribute("type","text");this.kd.size=2;this.R.appendChild(this.kd);
this.kd.setAttribute("id",M);this.kd.addEventListener("change",this.kS.bind(this),!1);this.mb=_.L("span","");
this.mb.innerHTML="\xB0";this.R.appendChild(this.mb);this.P(this.vL,this.alt)}Eg.prototype=new Es;Eg.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);
this.e_.textContent=A+":"};Eg.prototype.ka=function(A){this.e_.textContent=A};Eg.prototype.c=function(){return{vL:this.vL,alt:this.alt}};
Eg.prototype.P=function(A,M){if(A!=null)this.vL=A;if(M!=null)this.alt=M;this.kd.value=this.vL;A=Math.PI*this.vL/180;
M=.9*this.uU*(90-this.alt)/90;var q=this.uU+.5,V=this.bs;V.clearRect(0,0,100,100);V.strokeStyle="#000000";
V.beginPath();V.arc(q,q,.9*this.uU,0,2*Math.PI);V.moveTo(q,q);V.lineTo(q+Math.cos(A)*this.uU*.9,q-Math.sin(A)*this.uU*.9);
V.stroke();V.strokeStyle="#ff0000";V.beginPath();V.moveTo(q+Math.cos(A)*M-3,q-Math.sin(A)*M);V.lineTo(q+Math.cos(A)*M+3,q-Math.sin(A)*M);
V.moveTo(q+Math.cos(A)*M,q-Math.sin(A)*M-3);V.lineTo(q+Math.cos(A)*M,q-Math.sin(A)*M+3);V.stroke()};
Eg.prototype.kS=function(A){var M=parseInt(this.kd.value);M=M%360;this.P(M);this.t(new N(_.E.N,!1))};
Eg.prototype.kK=function(A){_.SH(window,this.rU);_.Sr(window,this.r_);this.ke(A)};Eg.prototype.ke=function(A){var M=_.Sg(A,this.Ix),q=M.x-this.uU,V=M.y-this.uU,F=180*Math.atan2(-V,q)/Math.PI,H=90-90*Math.min(1,Math.sqrt(q*q+V*V)/(.9*this.uU));
this.P(Math.round(F),Math.round(H));this.t(new N(_.E.N,!1))};Eg.prototype.kq=function(A){this.t(new N(_.E.N,!1));
_.Sh(window,this.rU);_.ST(window,this.r_)};function Ex(A){Es.call(this);this.Tc=0;this.R=_.L("span","fitem angleinput");
if(A){this.e_=_.L("label","flabel");this.Xy=A;this.R.appendChild(this.e_)}this.Ix=_.L("canvas","gsicon");
this.bs=this.Ix.getContext("2d");_.Sc(this.Ix,41,41);this.R.appendChild(this.Ix);_.SR(this.Ix,this.kK.bind(this));
this.rU=this.ke.bind(this);this.r_=this.kq.bind(this);this.P(0)}Ex.prototype=new Es;Ex.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);
this.e_.textContent=A+":"};Ex.prototype.ka=function(A){this.e_.textContent=A};Ex.prototype.c=function(){return this.Tc};
Ex.prototype.P=function(A){this.Tc=A;var M=this.Ix.width,q=Math.floor(A/3),V=A-3*q,F=(V+.5)*M/3,H=(q+.5)*M/3,w=this.bs,C=[.5,Math.round(M/3)+.5,Math.round(2*M/3)+.5,M-.5];
w.clearRect(0,0,M,M);w.setLineDash([]);w.strokeStyle=w.fillStyle="#000000";w.beginPath();for(var r=0;
r<4;r++){var G=C[r];w.moveTo(G,0);w.lineTo(G,M);w.moveTo(0,G);w.lineTo(M,G)}w.stroke();w.setLineDash([1,2]);
var J=M*.53,m=Math.max(0,Math.min(M-J,F-J/2)),u=Math.max(0,Math.min(M-J,H-J/2));w.strokeRect(Math.round(m)+.5,Math.round(u)+.5,Math.round(J),Math.round(J));
w.beginPath();w.arc(F,H,M/8,0,Math.PI*2);w.fill()};Ex.prototype.kK=function(A){_.SH(window,this.rU);
_.Sr(window,this.r_);this.ke(A)};Ex.prototype.ke=function(A){var M=_.Sg(A,this.Ix),q=Math.max(0,Math.min(2,Math.floor(M.x/(41/3)))),V=Math.max(0,Math.min(2,Math.floor(M.y/(41/3))));
this.P(V*3+q)};Ex.prototype.kq=function(A){this.t(new N(_.E.N,!1));_.Sh(window,this.rU);_.ST(window,this.r_)};
function Ep(){Es.call(this);this.ez=null;this.Pq=!0;this._M=null;this.R=_.L("button","fitem brushbutton nopadding");
this.R.addEventListener("click",this.kB.bind(this),!1);this.qT=_.L("img","gsicon");this.R.appendChild(this.qT);
var A=_.L("span");A.textContent="\u25BC";this.R.appendChild(A);this.eh=new Es;this.eh.R=_.L("div","floatcont");
this.eh.R.setAttribute("style","width: 17em;");this.Sj=new Ew("...",1,100," px",0,!0);this.Sj.l(_.E.N,this.kQ,this);
this.eh.R.appendChild(this.Sj.R);this.va=new Ew("...",0,100,"%");this.va.l(_.E.N,this.kQ,this);this.eh.R.appendChild(this.va.R);
this.TG=new EZ(!0);this.eh.R.appendChild(this.TG.R);this.TG.l(_.E.N,this.kN,this);this.TG.R.style.height="10em"}Ep.prototype=new Es;
Ep.prototype.D=function(){this.Sj.ka(zJ.get([12,14])+":");this.va.ka(zJ.get([12,17])+":")};Ep.prototype.kB=function(A){this.kw();
var M=this.R.getBoundingClientRect(),q=new N(_.E.K,!0);q.data={H:_.u.SS,KH:this.eh,x:M.left,y:M.top+M.height};
this.t(q)};Ep.prototype.kN=function(A){var M=this.ez;this.ky(M.NN.Brsh.v[this.TG.c()].v,M.Nq,M.NB);this.t(new N(_.E.N))};
Ep.prototype.kQ=function(A){var M=this.ez,q=this._M;q.Brsh.v.Dmtr.v.val=this.Sj.c();if(q.Brsh.v.Hrdn!=null)q.Brsh.v.Hrdn.v.val=this.va.c();
this.ky(q,M.Nq,M.NB);this.t(new N(_.E.N))};Ep.prototype.k_=function(A){this.ez=A;this.Pq=!0};Ep.prototype.kw=function(){if(!this.Pq)return;
var A=[],M=[],q=this.ez,V=Math.floor(33*_.F()),F=Math.floor(40*_.F());for(var H=0;H<q.NN.Brsh.v.length;
H++){var w=q.NN.Brsh.v[H].v,C=Eo.vQ(w,q.Nq,q.NB,V,F);A.push(C);M.push(w.Nm.v)}this.TG.bQ(A,M,V,F);this.Pq=!1};
Ep.prototype.ky=function(A,M,q){this._M=JSON.parse(JSON.stringify(A));var V=Math.floor(20*_.F()),F=Math.floor(24*_.F()),H=Eo.vQ(A,M,q,V,F);
this.qT.setAttribute("src",H);_.SA(this.qT,V,F);this.Sj.P(A.Brsh.v.Dmtr.v.val);if(A.Brsh.v.Hrdn!=null){this.va.kA();
this.va.P(A.Brsh.v.Hrdn.v.val)}else this.va.kg()};Ep.prototype.ku=function(){return this._M};function Ef(A,M,q,V){Es.call(this);
this.R=_.L("button","fitem"+(M?" spread":"")+(V?" bbtn":""));this.Xy=A;this.JV=q;this.D();this.R.addEventListener("click",this.kB.bind(this),!1);
if(q!=null)this.R.setAttribute("title",q)}Ef.prototype=new Es;Ef.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);
this.R.innerHTML=A;if(this.JV){var M=typeof this.JV=="string"?this.JV:zJ.get(this.JV);this.R.setAttribute("title",M)}};
Ef.prototype.Enn=function(A){this.R.setAttribute("title",A)};Ef.prototype.kB=function(A){this.t(new N("click",!1))};
Ef.prototype.kO=function(){_.Sn(this.R,"active")};Ef.prototype.kF=function(){_.SE(this.R,"active")};
Ef.prototype.ka=function(A,M){if(A)this.Xy=A;if(M)this.JV=M;this.D()};Ef.prototype.P=function(A){if(A)this.kO();
else this.kF()};Ef.prototype.kX=function(){return this.R.getAttribute("class").indexOf("active")!=-1};
function EP(A){Es.call(this);this.Enx;this.Cj={e:0,g:0,$:0};this.Uh=A;this.R=_.L("span","fitem colorsample");
this.R.addEventListener("click",this.kB.bind(this),!1)}EP.prototype=new Es;EP.prototype.D=function(){};
EP.prototype.kB=function(A){var M=this.Cj,q=new N(_.E.K,!0);q.data={H:_.u.S_,KL:"colorpicker",PB:M.e<<16|M.g<<8|M.$,EnP:this.bn.bind(this),EnD:this.Uh};
this.t(q)};EP.prototype.bn=function(A){this.bJ(A);this.t(new N(_.E.N))};EP.prototype.bE=function(){this.kB(null)};
EP.prototype.bm=function(){var A=this.Cj;return A.e<<16|A.g<<8|A.$};EP.prototype.c=function(){return Q.r.Gt(this.Cj)};
EP.prototype.bJ=function(A){this.Cj={e:A>>16&255,g:A>>8&255,$:A&255};this.bz()};EP.prototype.P=function(A){this.Cj=Q.r.GD(A);
this.bz()};EP.prototype.bz=function(){var A=this.Cj,M=A.e<<16|A.g<<8|A.$;this.R.setAttribute("style","background-color:#"+Q.EI(M))};
EP.EnN=function(A){return A.e<<16|A.g<<8|A.$};function ED(A){Es.call(this);this.R=_.L("span","fitem cswatch");
this.rf=0;this.bd=[];this.Q$=[];var M=this.bo.bind(this);for(var q=0;q<A;q++){this.bd.push(0);var V=_.L("span","colorsample");
V.addEventListener("click",M,!1);this.Q$.push(V);this.R.appendChild(V)}var F=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],H=Math.min(A,F.length);
for(var q=0;q<H;q++)this.bd[q]=F[q];this.bv()}ED.prototype=new Es;ED.prototype.bo=function(A){this.rf=this.Q$.indexOf(A.currentTarget);
this.t(new N(_.E.N))};ED.prototype.c=function(){return this.bd[this.rf]};ED.prototype.P=function(A){var M=this.bd,q=M.indexOf(A);
if(q!=-1)M.splice(q,1);else M.pop();M.unshift(A);this.bv()};ED.prototype.bv=function(){for(var A=0;A<this.bd.length;
A++){this.Q$[A].setAttribute("style","background-color:#"+Q.EI(this.bd[A]))}};function Et(A){Es.call(this);
this.ez=null;this.CD=null;this.R=_.L("span","fitem contourbutton");this.eh=new Es;this.eh.R=_.L("div","floatcont");
this.eh.R.setAttribute("style","width: 17em;");this.eh.parent=this;if(A){this.Xy=A;this.e_=_.L("label","flabel");
this.R.appendChild(this.e_)}this.H=_.L("button");this.R.appendChild(this.H);this.H.addEventListener("click",this.bR.bind(this),!1);
this.Fl=_.L("button");this.Fl.innerHTML="\u25BC";this.R.appendChild(this.Fl);this.Fl.addEventListener("click",this.bU.bind(this),!1);
this.sS=new EZ;this.eh.R.appendChild(this.sS.R);this.sS.l(_.E.N,this.bl,this);this.sS.R.style.height="10.5em"}Et.prototype=new Es;
Et.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);this.e_.textContent=A+":"};
Et.prototype.ka=function(A){this.e_.textContent=A};Et.prototype.bU=function(A){var M=this.H.getBoundingClientRect(),q=new N(_.E.K,!0);
q.data={H:_.u.SS,KH:this.eh,x:M.left,y:M.top+M.height+4};this.t(q)};Et.prototype.bl=function(A){this.P(this.ez[A.target.c()]);
this.t(new N(_.E.N))};Et.prototype.bR=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.S_,KL:"contoureditor",B:this.CD,response:this.bH.bind(this)};
this.t(M)};Et.prototype.bH=function(A){this.P(A);this.t(new N(_.E.N))};Et.prototype.k_=function(A){var M=Math.floor(38*_.F()),q=Math.floor(38*_.F());
this.ez=A;var V=[];for(var F=0;F<A.length;F++)V.push(Q.vC.vQ(A[F].Crv.v,M,q));this.sS.bQ(V,null,M,q)};
Et.prototype.P=function(A){this.CD=JSON.parse(JSON.stringify(A));var M=this.CD.Crv.v;for(var q=0;q<M.length;
q++)if(M[q].v.Cnty==null)M[q].v.Cnty={t:"bool",v:!0};this.br()};Et.prototype.br=function(){var A=Math.floor(30*_.F()),M=Math.floor(30*_.F()),q=Q.vC.vQ(this.CD.Crv.v,A,M);
this.H.innerHTML="<img src=\""+q+"\" />";_.SA(this.H.firstChild,A,M)};Et.prototype.c=function(){return JSON.parse(JSON.stringify(this.CD))};
function EM(A){Es.call(this);this.bw=null;this.FP=null;this.yf=null;this.Ug=null;this.rj=[];this.ra=[];
this.R=_.L("span","fitem fillbutton");this.eh=new Es;this.eh.R=_.L("div","floatcont form");this.eh.R.setAttribute("style","width: 21em;");
this.eh.parent=this;this.To=A;this.e_=this.e_=_.L("label","flabel");this.R.appendChild(this.e_);this.Ix=_.L("canvas");
this.bs=this.Ix.getContext("2d");this.rV=null;this.R.appendChild(this.Ix);this.Ix.addEventListener("click",this.bU.bind(this),!1);
this.Rr=new EV([12,66],["","Color","Grad","Patt"]);this.eh.R.appendChild(this.Rr.R);this.Rr.l(_.E.N,this.bW,this);
this.eh.R.appendChild(_.L("hr"));this.En$=_.L("span");this.Tx=new EP(!0);this.Tx.parent=this.eh;this.Tx.l(_.E.N,this.bW,this);
this.Yi=_.L("div","marged hiline");this.Yi.appendChild(this.Tx.R);this.Pi=new mW("GrFl",!0);this.Pi.parent=this.eh;
this.Pi.l(_.E.N,this.bW,this);this.Gw=_.L("div","marged hiline");var M="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
for(var q=0;q<M.length;q++){var V=this.Pi.bG[M[q]].R;this.Gw.appendChild(V)}this.PY=new mW("patternFill",!0);
this.PY.parent=this.eh;this.PY.l(_.E.N,this.bW,this);this.GZ=_.L("div","marged hiline");var M=["Ptrn","Scl","Algn","phase"];
for(var q=0;q<M.length;q++){var V=this.PY.bG[M[q]].R;this.GZ.appendChild(V)}}EM.prototype=new Es;EM.prototype.cr=function(A,M){if(M==EW.fW){this.rj=[];
this.ra=[];if(this.bw)this.P(this.yf,this.c(),this.bw)}this.FP=A;this.Pi.cr(A,M);this.PY.cr(A,M)};EM.prototype.D=function(){this.e_.textContent=zJ.get(this.To)+": ";
this.Rr.D();this.Tx.D();this.Pi.D();this.PY.D()};EM.prototype.bW=function(A){var M=A.currentTarget;if(M==this.Rr){var q=this.Rr.c(),V={Np:q,uM:this.bw[q]};
if(q>0&&V.uM==null)V.uM=JSON.parse(JSON.stringify(j.aU[q-1]));if(this.bw)this.P(this.yf,V,this.bw)}this.t(new N(_.E.N,!1))};
EM.prototype.bU=function(A){var M=this.Ix.getBoundingClientRect(),q=new N(_.E.K,!0);q.data={H:_.u.SS,KH:this.eh,x:M.left,y:M.top+M.height+4};
this.t(q)};EM.prototype.P=function(A,M,q){this.bw=q;this.yf=A;var V=[[13,1,0],[13,0],[12,37],[12,62]],F=this.rj,H=this.ra,w=!1,m;
for(var C=0;C<4;C++){var r={Np:C,uM:q[C]},G=EM.bh(r);if(H[C]==G)continue;w=!0;var J=EM.bT(null,r,this.FP,this.yf,22,22,!1);
F[C]="<img width=\"22\" height=\"22\" src=\""+J+"\" />";H[C]=G}if(w)this.Rr.bg(F,V);this.Rr.P(M.Np);
var G=EM.bh(M);if(G!=this.rV)EM.bT(this.bs,M,this.FP,this.yf,30,23,!0);this.rV=G;var u=M.Np;if(u==0){m=this.En$}if(u==1){this.Tx.P(M.uM.Clr.v);
m=this.Yi}if(u==2){this.Pi.update(A,M.uM);m=this.Gw}if(u==3){this.PY.update(A,M.uM);m=this.GZ}if(m!=this.Ug){if(this.Ug!=null){this.eh.R.removeChild(this.Ug)}this.eh.R.appendChild(m);
this.Ug=m}};EM.prototype.c=function(){var A={Np:this.Rr.c()};if(A.Np==1){A.uM=JSON.parse(JSON.stringify(j.aU[0]));
A.uM.Clr.v=this.Tx.c()}if(A.Np==2){A.uM=this.Pi.c()}if(A.Np==3){A.uM=this.PY.c()}return A};EM.bh=function(A){var M=A.Np,q=A.uM,V="empty";
if(M==1){V=Q.r.GD(q.Clr.v);V=V.e+","+V.g+","+V.$}if(M==2)V=JSON.stringify(q.Grad.v);if(M==3)V=q.Ptrn.v.Idnt.v;
return V};EM.bT=function(A,M,q,V,F,H,w){if(A==null)A=EM.bs;var C=Math.floor(F*_.F()),r=Math.floor(H*_.F()),G=A.canvas,J;
G.width=C;G.height=r;_.SA(G,C,r);var m=M.Np;if(m==0){A.fillStyle="#ffffff";A.fillRect(0,0,C,r);A.strokeStyle="#ff0000";
A.lineWidth=2;A.moveTo(0,0);A.lineTo(C,r);A.moveTo(0,r);A.lineTo(C,0);A.stroke()}if(m==1){var u=M.uM.Clr.v;
u=Q.r.GD(u);A.fillStyle="#"+Q.EI(u.e<<16|u.g<<8|u.$);A.fillRect(0,0,C,r)}if(m==2){d.gG.vQ(M.uM.Grad.v,C,r,0,q._c,q._A,G)}if(m==3){var W=M.uM.Ptrn.v,y;
if(V!=null)y=Ez.ax(W,V.add.Patt);if(y==null)y=Ez.ax(W,q.de);Ej.vQ(y,C,r,G)}if(w){A.beginPath();A.strokeStyle="#000000";
A.fillStyle="#ffffff";A.lineWidth=2;var O=C*.7,h=Math.floor(r*.7),I=7*_.F();A.moveTo(O,h);A.lineTo(O+I,h);
A.lineTo(O+I/2,h+I/2);A.closePath();A.stroke();A.fill()}if(A==EM.bs)return G.toDataURL()};EM.bs=_.L("canvas").getContext("2d");
function Ej(A){Es.call(this);this.ez=null;this.Pq=!0;this.vo=null;this.R=_.L("span","fitem patternbutton");
this.eh=new Es;this.eh.R=_.L("div","floatcont");this.eh.R.setAttribute("style","width: 18em;");this.eh.parent=this;
if(A){this.Xy=A;this.e_=_.L("label","flabel");this.R.appendChild(this.e_)}this.H=_.L("button");this.R.appendChild(this.H);
this.Fl=_.L("button");this.Fl.innerHTML="\u25BC";this.R.appendChild(this.Fl);this.R.addEventListener("click",this.bU.bind(this),!1);
this.GL=new EZ;this.eh.R.appendChild(this.GL.R);this.GL.l(_.E.N,this.bc,this);this.GL.R.style.height="10em"}Ej.prototype=new Es;
Ej.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);this.e_.textContent=A+":"};
Ej.prototype.ka=function(A){this.e_.textContent=A};Ej.prototype.bU=function(A){this.kw();var M=this.H.getBoundingClientRect(),q=new N(_.E.K,!0);
q.data={H:_.u.SS,KH:this.eh,x:M.left,y:M.top+M.height};this.t(q)};Ej.prototype.bc=function(A){var M=this.ez[this.GL.c()];
this.vo={classID:"Ptrn",Nm:{t:"TEXT",v:M.name},Idnt:{t:"TEXT",v:M.id}};this.t(new N(_.E.N));this.br()};
Ej.prototype.k_=function(A){this.ez=A;this.Pq=!0};Ej.prototype.kw=function(){if(!this.Pq)return;var A=this.ez,M=Math.floor(34*_.F()),q=Math.floor(34*_.F()),V=[],F=[];
for(var H=0;H<A.length;H++){V.push(Ej.vQ(A[H],M,q));F.push(A[H].name)}this.GL.bQ(V,F,M,q);this.Pq=!1};
Ej.prototype.P=function(A,M){if(this.vo&&A.Idnt.v==this.vo.Idnt.v)return;this.vo=JSON.parse(JSON.stringify(A));
this.br(M)};Ej.prototype.c=function(){return JSON.parse(JSON.stringify(this.vo))};Ej.prototype.br=function(A){var M=Math.floor(50*_.F()),q=Math.floor(50*_.F()),V;
if(A!=null)V=Ez.ax(this.vo,A.add.Patt);if(V==null)V=Ez.ax(this.vo,this.ez);var F=Ej.vQ(V,M,q);this.H.innerHTML="<img src=\""+F+"\" />";
_.SA(this.H.firstChild,M,q)};Ej.vJ=_.L("canvas","");Ej.vz=Ej.vJ.getContext("2d");Ej.vQ=function(A,M,q,V){if(V==null)V=Ej.vJ;
var F=V.getContext("2d");V.width=M;V.height=q;if(A){var H=A.qa.n,w=A.qa.J,C=A.ej,r=Math.min(M/H,q/w),G=r;
if(G*H<2)G=2/H;var J=r;if(J*w<2)J=2/w;var m=d.f.xF([C,A.qa],new zo(G,0,0,J,0,0),!1),u=m.rect.n,W=m.rect.J,y=F.createImageData(u,W);
Q.mc(m.buffer,y.data);F.putImageData(y,Math.floor((M-u)/2),Math.floor((q-W)/2))}return V.toDataURL()};
function Ea(){Es.call(this);this.R=_.L("span","fitem curveeditor");this.mode=0;this.Bo=null;this.Th=null;
this._G=new f;this.WG=this.ke.bind(this);this.WT=this.kq.bind(this);this.Ix=_.L("canvas","");this.bs=this.Ix.getContext("2d");
_.Ss(this.Ix);_.Sc(this.Ix,256,256,this.bs);this.R.appendChild(this.Ix);_.SR(this.Ix,this.kK.bind(this))}Ea.prototype=new Es;
Ea.prototype.P=function(A,M){var q=JSON.stringify(A),V=JSON.stringify(this.Bo);if(q==JSON.stringify(this.Bo))return;
this.mode=A.length==256?1:0;this.Bo=JSON.parse(q);if(M!=null)this.Th=this.Bo[M];this.xH()};Ea.prototype.c=function(){return JSON.parse(JSON.stringify(this.Bo))};
Ea.prototype.bA=function(){return this.Bo.indexOf(this.Th)};Ea.prototype.kK=function(A){var M=_.Sg(A,this.Ix),q=M.x,V=256-M.y;
this._G.HT(q,V);if(this.mode==0){var F=null;for(var H=0;H<this.Bo.length;H++){var w=this.Bo[H].v,C=Math.sqrt((w.Hrzn.v-q)*(w.Hrzn.v-q)+(w.Vrtc.v-V)*(w.Vrtc.v-V));
if(C<5)F=this.Bo[H]}if(F==null){F=Q.vC.vS(q,V,!0);this.Bo.push(F)}this.Th=F}_.SH(document.body,this.WG);
_.Sr(document.body,this.WT);this.ke(A)};Ea.prototype.ke=function(A){var M=_.Sg(A,this.Ix),q=Math.max(0,Math.min(255,M.x)),V=Math.max(0,Math.min(255,256-M.y));
if(this.mode==0){this.Th.v.Hrzn.v=Math.max(0,Math.min(255,Math.round(q)));this.Th.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(V)));
var F=this.Bo,H=!0;for(var w=0;w<F.length;w++){if(F[w]==this.Th)continue;if(F[w].v.Hrzn.v==this.Th.v.Hrzn.v)H=!1}if(q<0||q>255||V<0||V>255)H=!1;
if(H&&F.indexOf(this.Th)==-1)F.push(this.Th);if(!H&&F.indexOf(this.Th)!=-1&&F.length>2)F.splice(F.indexOf(this.Th),1);
if(F[0].v.Hrzn.v==F[1].v.Hrzn.v)if(F[0].v.Hrzn.v==0)F[1].v.Hrzn.v=1;else F[0].v.Hrzn.v--;this.Bo.sort(function(u,W){return u.v.Hrzn.v-W.v.Hrzn.v})}else{var C=this._G.x,r=q,G=this._G.y,J=V;
if(q<this._G.x){r=C;C=q;J=G;G=V}this.Bo[q]=V;if(C!=r)for(var m=C;m<=r;m++)this.Bo[m]=Math.round(G+(m-C)*(J-G)/(r-C))}this._G.HT(q,V);
this.xH();this.t(new N(_.E.N))};Ea.prototype.kq=function(A){_.Sh(document.body,this.WG);_.ST(document.body,this.WT);
this.t(new N(_.E.N))};Ea.prototype.xH=function(){var A=this.bs;A.fillStyle="#ffffff";A.fillRect(0,0,256,256);
A.strokeStyle="#aaaaaa";A.lineWidth=1;A.beginPath();for(var M=1;M<4;M++){A.moveTo(0,64*M-.5);A.lineTo(255,64*M-.5);
A.moveTo(64*M-.5,0);A.lineTo(64*M-.5,255)}A.stroke();if(this.mode==0){var q=this.Bo,V=Q.vC.vB(q,256);
A.strokeStyle="#000000";A.beginPath();A.moveTo(0,255.5-V[0]);for(var M=0;M<256;M++)A.lineTo(M,255.5-V[M]);
A.stroke();A.lineWidth=2;for(var M=0;M<q.length;M++){var F=q[M].v;A.fillStyle=this.Th==q[M]?"#333":"#fff";
A.beginPath();A.moveTo(F.Hrzn.v,255.5-F.Vrtc.v);A.arc(F.Hrzn.v,255.5-F.Vrtc.v,3,0,2*Math.PI);A.stroke();
A.fill()}}else{var V=this.Bo;A.strokeStyle="#000000";A.beginPath();A.moveTo(0,255.5-V[0]);for(var M=0;
M<256;M++)A.lineTo(M,255.5-V[M]);A.stroke()}};function EV(A,M){Es.call(this);if(!M)return;this.Of=0;
this.R=_.L("span","fitem bbmenu");if(A){this.Xy=A;this.e_=_.L("label","flabel");this.e_.textContent=A+":";
this.R.appendChild(this.e_)}this.dR=[];this.PM=null;this.bg(M);this.P(0)}EV.prototype=new Es;EV.prototype.ka=function(A){this.Xy=A;
this.D()};EV.prototype.D=function(){if(this.Xy!=null){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);
this.e_.textContent=A+": "}for(var M=0;M<this.dR.length;M++)this.dR[M].D()};EV.prototype.c=function(){return this.Of};
EV.prototype.bg=function(A,M){while(this.dR.length>0)this.R.removeChild(this.dR.pop().R);this.PM=A;for(var q=0;
q<A.length;q++){var V=new Ef(A[q],!1,M?M[q]:null);V.l("click",this.kS,this);this.R.appendChild(V.R);
this.dR.push(V)}this.D()};EV.prototype.P=function(A){this.Of=A;for(var M=0;M<this.dR.length;M++)this.dR[M].kF();
this.dR[A].kO()};EV.prototype.kS=function(A){var M=this.dR.indexOf(A.target);this.P(M);this.t(new N(_.E.N,!1))};
function EC(A,M){Es.call(this);if(!M)return;this.Of=0;var q="dd"+_.Cd();this.R=_.L("span","fitem ddmenu");
if(A){this.Xy=A;this.e_=_.L("label","flabel");this.e_.textContent=A+":";this.R.appendChild(this.e_);
this.e_.setAttribute("for",q)}this.JD=_.L("select","bbtn");this.JD.setAttribute("id",q);this.R.appendChild(this.JD);
this.JD.addEventListener("change",this.kS.bind(this),!1);this.dR=[];this.PM=null;this.bg(M)}EC.prototype=new Es;
EC.prototype.ka=function(A){this.Xy=A;this.D()};EC.prototype.D=function(){if(this.Xy!=null){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);
this.e_.textContent=A+":"}if(this.PM)this.bg(this.PM);this.P(this.Of)};EC.prototype.c=function(){return this.Of};
EC.prototype.bg=function(A){while(this.dR.length>0)this.JD.removeChild(this.dR.pop());this.PM=A;for(var M=0;
M<A.length;M++){var q=_.L("option");if(typeof A[M]=="string")q.textContent=A[M];else q.textContent=zJ.get(A[M]);
q.setAttribute("value",M);this.JD.appendChild(q);this.dR.push(q)}};EC.prototype.P=function(A){this.Of=A;
this.JD.selectedIndex=A};EC.prototype.kS=function(A){this.Of=this.JD.selectedIndex;this.t(new N(_.E.N,!1))};
function ES(){Es.call(this);this.wL=null;this.yU=1;this.oa=new Ek;this.oa.l(_.E.N,this.bD,this);this.oa.parent=this;
this.oc=new Ee([12,14],1,60,"px",0,!0);this.oc.l(_.E.N,this.bt,this);this.oc.parent=this;this.oW=new E_([16,0]," px",3);
this.oW.l(_.E.N,this.bP,this);this.oz=new Ee([16,1],-200,200,"%");this.oz.l(_.E.N,this.bP,this);this.oz.parent=this;
this.LJ=new Ee("V-scal",0,300,"%");this.LJ.l(_.E.N,this.bP,this);this.LJ.parent=this;this.Ju=new Ee("H-scal",0,300,"%");
this.Ju.l(_.E.N,this.bP,this);this.Ju.parent=this;this.zb=new Ee([16,2],-10,10,"px");this.zb.l(_.E.N,this.bP,this);
this.zb.parent=this;this.Gd=new EP(!0);this.Gd.l(_.E.N,this.bM,this);this.Gd.parent=this;this.LN=new Ef("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");
this.wg=new Ef("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");this.Lw=new Ef("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");
this.Ub=new Ef("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");this.ws=new Ef("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");
this.Ly=new Ef("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");this.DZ=new Ef("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");
var A=[this.LN,this.wg,this.Lw,this.Ub,this.ws,this.Ly,this.DZ];for(var M=0;M<A.length;M++)A[M].l("click",this.bf,this);
this.Zo=new Ef("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");this.lL=new Ef("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");
this.lb=new Ef("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");this.rZ=new Ef("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");
this.rY=new Ef("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");this.ah=new Ef("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");
this.Kw=new Ef("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");this.be=[this.Zo,this.lL,this.lb,this.rZ,this.rY,this.ah,this.Kw];
for(var M=0;M<this.be.length;M++)this.be[M].l("click",this.bP,this);this.Iu=new Ee("L ind",-20,20,"px");
this.Iu.l(_.E.N,this.bP,this);this.Iu.parent=this;this.YY=new Ee("R ind",-20,20,"px");this.YY.l(_.E.N,this.bP,this);
this.YY.parent=this;this.Ps=new Ee("First line indent",-20,20,"px");this.Ps.l(_.E.N,this.bP,this);this.Ps.parent=this;
this.iE=new Ee("Before",-20,20,"px");this.iE.l(_.E.N,this.bP,this);this.iE.parent=this;this.GE=new Ee("After",-20,20,"px");
this.GE.l(_.E.N,this.bP,this);this.GE.parent=this;this.zF=new EV("Direction",["L to R","R to L"]);this.zF.l(_.E.N,this.bP,this);
this.zF.parent=this}ES.prototype=new Es;ES.prototype.D=function(){this.oa.D();this.oc.D();this.oW.D();
this.oz.D();this.zb.D()};ES.prototype.bx=function(A){this.yU=A.yU;this.yo=JSON.parse(JSON.stringify(A.yo));
var M=this.yo,q=M.QU,V=M.Ql;this.LN.P(q.FauxItalic);this.wg.P(q.FontCaps==2);this.Lw.P(q.FontCaps==1);
this.ws.P(q.FontBaseline==1);this.Ub.P(q.FontBaseline==2);this.Ly.P(q.Underline);this.DZ.P(q.Strikethrough);
this.oa.P(q.Font==null?null:M.Qr[q.Font].Name,A.ec,A.UN);var F=q.FontSize==null?20:q.FontSize*this.yU;
this.oc.P(F);this.oz.P(q.Tracking);if(q.AutoLeading)this.oW.P("Auto");else this.oW.P(q.Leading*this.yU);
this.LJ.P(q.VerticalScale*100);this.Ju.P(q.HorizontalScale*100);this.zb.P(q.BaselineShift*this.yU);if(q.FillColor){var H=a.GD(q);
this.Gd.bJ(Math.round(H.e)<<16|Math.round(H.g)<<8|Math.round(H.$))}else this.Gd.bJ(0);var w=V._Direction?V._Direction:0,C=a.VL(V);
for(var r=0;r<this.be.length;r++)this.be[r].P(C==r);this.zF.P(w);this.Iu.P(V.StartIndent*this.yU);this.YY.P(V.EndIndent*this.yU);
this.Ps.P(V.FirstLineIndent*this.yU);this.iE.P(V.SpaceBefore*this.yU);this.GE.P(V.SpaceAfter*this.yU)};
ES.prototype.bp=function(){var A=new N(_.E.K,!0);A.data={H:_.u.kJ,KI:EW.fT,yo:this.yo,yU:this.yU};this.t(A)};
ES.prototype.bf=function(A){var M=this.yo.QU,q=A.target,V=!q.kX();if(q==this.LN)M.FauxItalic=V;if(q==this.wg)M.FontCaps=V?2:0;
if(q==this.Lw)M.FontCaps=V?1:0;if(q==this.ws)M.FontBaseline=V?1:0;if(q==this.Ub)M.FontBaseline=V?2:0;
if(q==this.Ly)M.Underline=V;if(q==this.DZ)M.Strikethrough=V;this.bp()};ES.prototype.bP=function(A){var M=this.yo.QU,q=this.yo.Ql,V=this.yU,F=A.target;
if(F==this.oz)M.Tracking=this.oz.c();if(F==this.oW){var H=this.oW.c().toLowerCase();M.AutoLeading=H=="auto";
M.Leading=H=="auto"?40:parseInt(H)/V}if(F==this.LJ)M.VerticalScale=F.c()/100;if(F==this.Ju)M.HorizontalScale=F.c()/100;
if(F==this.zb)M.BaselineShift=F.c()/V;if(this.be.indexOf(F)!=-1){q.Justification=a.VL(q,this.be.indexOf(F))}if(F==this.Iu)q.StartIndent=F.c()/V;
if(F==this.YY)q.EndIndent=F.c()/V;if(F==this.Ps)q.FirstLineIndent=F.c()/V;if(F==this.iE)q.SpaceBefore=F.c()/V;
if(F==this.GE)q.SpaceAfter=F.c()/V;if(F==this.zF)q._Direction=F.c();this.bp()};ES.prototype.bD=function(A){var M=this.yo,q=this.oa.c(),V=-1;
for(var F=0;F<M.Qr.length;F++)if(M.Qr[F].Name==q)V=F;if(V==-1){V=M.Qr.length;var H=JSON.parse(JSON.stringify(M.Qr[0]));
H.Name=q;M.Qr.splice(V,0,H)}M.QU.Font=V;this.bp()};ES.prototype.bt=function(A){var M=parseFloat(this.oc.c())/this.yU;
if(isNaN(M))return;this.yo.QU.FontSize=M;this.bp()};ES.prototype.bM=function(A){var M=this.Gd.bm(),q={Type:1,Values:[1,(M>>16&255)/255,(M>>8&255)/255,(M>>0&255)/255]};
for(var V=0;V<4;V++)q.Values[V]=Math.round(q.Values[V]*1e3)/1e3;this.yo.QU.FillColor=q;this.bp()};function Ek(){Es.call(this);
this.R=_.L("span","fontinput");this.Kd=null;this.lD=null;this.zK=null;this.zh=[];this.yi=[];this.zo="";
this.I={};this.It={};this.IZ=!1;this.Gu=_.L("button","fitem");this.Gu.setAttribute("style","width:9em;");
this.Gu.textContent="Family Name \u25BC";this.R.appendChild(this.Gu);this.Gu.addEventListener("mousedown",this.bS.bind(this),!1);
this.ye=new Es;this.ye.R=_.L("div","floatcont");var A=_.L("div","flexrow");this.ye.R.appendChild(A);
var M=_.L("div",""),q=_.L("div","");A.appendChild(M);A.appendChild(q);this.Dv=[];for(var V=0;V<FNTS.cats.length;
V++)this.Dv.push({name:FNTS.cats[V],index:V,qX:0});for(var V=0;V<FNTS.list.length;V++)this.Dv[FNTS.list[V][4]].qX++;
this.Dv.sort(function(C,r){return r.qX-C.qX});this.lA=new EL([7,0]);this.lA.l(_.E.N,this.bV,this);M.appendChild(this.lA.R);
this.mu=_.L("div","vlist marged scrollable");this.mu.setAttribute("style","width:10em; height:6.8em; ");
M.appendChild(this.mu);this.lr=[];for(var V=0;V<this.Dv.length;V++){var F=this.Dv[V],H=new EL(F.name);
this.lr.push(H);H.l(_.E.N,this.bk,this);H.P(!0);this.mu.appendChild(H.R);this.zh.push(1)}this.lH=new EL([7,0]);
this.lH.l(_.E.N,this.bC,this);q.appendChild(this.lH.R);this.lR=_.L("div","vlist marged scrollable");
this.lR.setAttribute("style","width:10em; height:6.8em; ");q.appendChild(this.lR);this.lv=[];for(var V=0;
V<FNTS.subsetNames.length;V++){var H=new EL(FNTS.subsetNames[V]);this.lv.push(H);H.l(_.E.N,this.bb,this);
H.P(!1);this.lR.appendChild(H.R);this.yi.push(0)}var w=_.L("div","form");this.ye.R.appendChild(w);this.hy=new Ef(_.SP("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.hy.l("click",this.bj,this);w.appendChild(this.hy.R);this.HP=new E_("Find",null,14);this.HP.l("input",this.ba,this);
w.appendChild(this.HP.R);this.Uy=_.L("span","fitem imageset scrollable marged");this.Uy.style.height="30em";
this.ye.R.appendChild(this.Uy);this.ze=_.L("button","fitem");this.ze.setAttribute("style","width:6em;");
this.ze.textContent="SubFamily Name \u25BC";this.R.appendChild(this.ze);this.ze.addEventListener("mousedown",this.bS.bind(this),!1);
this.Uu=new Es;this.Uu.R=_.L("div","floatcont");this.Hq=_.L("span","fitem imageset scrollable marged");
this.Uu.R.appendChild(this.Hq)}Ek.prototype=new Es;Ek.prototype.D=function(){this.lA.D();this.lH.D();
this.hy.ka(_.SP("tools/cshape",null,"autoscale"))};Ek.prototype.bj=function(A){this.hy.P(!this.hy.kX());
this.bi()};Ek.prototype.ba=function(A){this.zo=this.HP.c().toLowerCase();this.bi()};Ek.prototype.bV=function(A){var M=A.target.c(),q=this.lr,V=this.zh;
for(var F=0;F<q.length;F++){q[F].P(M);V[F]=M?1:0}this.bi()};Ek.prototype.bC=function(A){var M=A.target.c(),q=this.lv,V=this.yi;
for(var F=0;F<q.length;F++){q[F].P(M);V[F]=M?1:0}this.bi()};Ek.prototype.bS=function(A){A.preventDefault();
A.stopPropagation();var M=A.currentTarget,q=M.getBoundingClientRect(),V=M==this.Gu;if(!V&&this.Kd.kC()[this.zK]==null)return;
var F=new N(_.E.K,!0);F.data={H:_.u.SS,KH:V?this.ye:this.Uu,x:q.left,y:q.top+q.height};this.t(F);if(V){this.bi();
this.HP.Lm()}};Ek.prototype.bk=function(A){var M=this.lr.indexOf(A.target),q=this.Dv[M].index;this.zh[q]=1-this.zh[q];
this.bi()};Ek.prototype.bb=function(A){var M=this.lv.indexOf(A.target);this.yi[M]=1-this.yi[M];this.bi()};
Ek.prototype.bL=function(A){var M=A.currentTarget.firstChild.nextSibling.textContent;if(A.target.tagName.toLowerCase()=="button"){var q=this.lD.slice(0),V=q.indexOf(M);
if(V==-1){q=q.slice(Math.max(0,q.length-9));q.push(M)}else q.splice(V,1);var F=new N(_.E.K,!0);F.data={H:_.u.kJ,KI:EW.fA,ut:q};
this.t(F);this.IZ=!0;this.bi()}else this.bY(M,null)};Ek.prototype.bZ=function(A){this.bY(null,A.currentTarget.firstChild.textContent)};
Ek.prototype.bY=function(A,M){var q=A==null?this.Uu:this.ye,V=this.Kd;if(A==null)A=V.kC()[this.zK][0];
else M=V._F(A)[0];var F=V.ef(A,M)[2];this.P(F,V);this.t(new N(_.E.N,!1));var H=new N(_.E.K,!0);H.data={H:_.u.Sk,KH:q};
this.t(H)};Ek.prototype.c=function(){return this.zK};Ek.prototype.P=function(A,M,q){var V=this.Kd;if(A!=null)this.zK=A;
else A=this.zK;this.Kd=M;this.lD=q;if(A!=null){var F=M.kC()[A],H,w;if(F==null){H="- "+A;w="-------"}else{H=F[0];
w=F[1];var C=M._F(H),r=C.indexOf(w),G=this.bZ.bind(this);this.Hq.textContent="";for(var J=0;J<C.length;
J++){var F=M.ef(H,C[J]),m=FNTS.list.indexOf(F);if(this.zh[F[4]]==0)continue;var u=_.L("div","fontitem");
u.addEventListener("click",G,!1);this.Hq.appendChild(u);var W=_.L("span","label");W.textContent=F[1];
u.appendChild(W);var y=_.L("span","thumb gsicon");if(F.en)y.setAttribute("style","background: url("+F.en+")");
else y.setAttribute("style","background-position:"+this.bI(m));u.appendChild(y)}}this.Gu.textContent=H.substring(0,15)+" \u25BC";
this.Gu.setAttribute("title",H);this.ze.textContent=w.substring(0,10)+" \u25BC";this.ze.setAttribute("title",w)}};
Ek.prototype.bi=function(){var A=this.Kd.kC()[this.zK],M=this.lD,q=null,V=this.Kd.EvR(),F=this.bL.bind(this);
for(var H in V){var w=V[H][0],C=this.Kd.ef(H,w),r=M.indexOf(H)!=-1,G=!0;if(this.zo.length>0&&C[0].toLowerCase().indexOf(this.zo)==-1)G=!1;
else if(this.zh[C[4]]==0)G=!1;else if(this.hy.kX()&&!r)G=!1;else for(var J=0;J<this.yi.length;J++)if(this.yi[J]==1&&(C[3]>>>J&1)==0)G=!1;
var m=this.I[H];if(m==null){var m=_.L("div","fontitem");m.addEventListener("click",F,!1);var u=_.L("button","star");
m.appendChild(u);var W=_.L("span","label");W.textContent=H;m.appendChild(W);var y=_.L("span","thumb gsicon");
if(C.en)y.setAttribute("style","background: url("+C.en+")");else y.setAttribute("style","background-position:"+this.bI(C.eE));
m.appendChild(y);this.I[H]=m;this.Uy.appendChild(m)}var O=G?"":"display:none; ",h="opacity: "+(r?"1":"0.2");
if(A&&A[0]==H){O+="background-color:rgba(0,0,0,0.13);";q=m}if(this.It[H]!=O+h){m.setAttribute("style",O);
m.firstChild.setAttribute("style",h);this.It[H]=O+h}}if(q&&!this.IZ)this.Uy.scrollTop=q.offsetTop-210;
this.IZ=!1};Ek.prototype.bI=function(A){var M=Math.ceil(FNTS.list.length/zs.cols),q=Math.floor(A/M),V=A%M;
return"-"+q*zs.qJ+"px -"+V*zs.Ki+"px;"};function Eb(A,M){Es.call(this);this.ez=null;this.Pq=!0;this._c=-1;
this._A=-1;this.af=null;this.NA=null;this.Emn=A;this.R=_.L("span","fitem gradientbutton");this.eh=new Es;
this.eh.R=_.L("div","floatcont");this.eh.R.setAttribute("style","width: 17em;");this.eh.parent=this;
if(M){this.Xy=M;this.e_=_.L("label","flabel");this.R.appendChild(this.e_)}this.H=_.L("button");this.R.appendChild(this.H);
this.H.addEventListener("click",this.bK.bind(this),!1);this.Fl=_.L("button");this.Fl.innerHTML="\u25BC";
this.R.appendChild(this.Fl);this.Fl.addEventListener("click",this.bU.bind(this),!1);this.zd=new EZ;this.eh.R.appendChild(this.zd.R);
this.zd.l(_.E.N,this.b$,this);this.zd.R.style.height="10em"}Eb.prototype=new Es;Eb.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);
this.e_.textContent=A+":"};Eb.prototype.ka=function(A){this.e_.textContent=A};Eb.prototype.bU=function(A){this.kw();
var M=this.H.getBoundingClientRect(),q=new N(_.E.K,!0);q.data={H:_.u.SS,KH:this.eh,x:M.left,y:M.top+M.height};
this.t(q)};Eb.prototype.b$=function(A){var M=this.ez;this.P(M[this.zd.c()].v.Grad.v);this.t(new N(_.E.N))};
Eb.prototype.bK=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.S_,KL:"gradienteditor",r:this.NA,response:this.EEP.bind(this)};
this.t(M)};Eb.prototype.EEP=function(A){this.P(A);this.t(new N(_.E.N))};Eb.prototype.k_=function(A){this.ez=A;
this.Pq=!0};Eb.prototype.kw=function(){if(!this.Pq)return;var A=[],M=this.ez;for(var q=0;q<M.length;
q++){var V=M[q].v.Grad.v,F=d.gG.vQ(V,36,36,Math.PI/4,this._c,this._A);A.push(F)}this.zd.bQ(A);this.Pq=!1};
Eb.prototype.bq=function(A,M){this.bB(this.NA,A,M)};Eb.prototype.P=function(A){this.bB(A,this._c,this._A)};
Eb.prototype.bB=function(A,M,q){this._c=M;this._A=q;if(A==null)return;var V=JSON.stringify(A),F=V+M+","+q;
if(F==this.af)return;this.af=F;this.NA=JSON.parse(V);var H=d.gG.vQ(this.NA,80,16,0,this._c,this._A);
this.H.innerHTML="<img src=\""+H+"\" />"};Eb.prototype.c=function(){if(this.NA==null)return null;var A;
if(this.Emn)A=d.gG.go(this.NA,this._c,this._A);else A=JSON.parse(JSON.stringify(this.NA));return A};
function EL(A,M,q){Es.call(this);this.R=_.L("span","fitem cbox");if(M==null)M=!0;if(q==null)q="flabel";
var V="cb"+Math.random();this.kd=_.L("input","");this.kd.setAttribute("type","checkbox");this.kd.setAttribute("id",V);
this.R.appendChild(this.kd);this.Xy=A;this.e_=_.L("label",q);if(M)this.e_.setAttribute("for",V);this.R.appendChild(this.e_);
this.D();this.kd.addEventListener("change",this.kS.bind(this),!1)}EL.prototype=new Es;EL.prototype.bN=function(){return this.Xy};
EL.prototype.ka=function(A){this.e_.textContent=A};EL.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);
this.e_.textContent=A};EL.prototype.kO=function(){this.kd.checked=!0};EL.prototype.kF=function(){this.kd.checked=!1};
EL.prototype.kX=function(){return this.kd.checked};EL.prototype.P=function(A){this.kd.checked=A};EL.prototype.c=EL.prototype.kX;
EL.prototype.kS=function(A){this.t(new N(_.E.N,!1))};function EZ(A){Es.call(this);this.I=[];this.Of=-1;
this.Emm=A;this.R=_.L("span","fitem imageset scrollable")}EZ.prototype=new Es;EZ.prototype.bQ=function(A,M,q,V){this.I=[];
this.R.innerHTML="";for(var F=0;F<A.length;F++){var H=_.L("img","image");if(q)_.SA(H,q,V);if(this.Emm)_.Sn(H,"gsicon");
var w=A[F];H.setAttribute("src",w);if(M)H.setAttribute("title",M[F]);H.addEventListener("mousedown",this.kB.bind(this),!1);
this.R.appendChild(H);this.I.push(H)}};EZ.prototype.kB=function(A){this.Of=this.I.indexOf(A.target);
this.t(new N(_.E.N))};EZ.prototype.c=function(){return this.Of};EZ.prototype.EUf=function(A){for(var M=0;
M<this.I.length;M++){var q=this.I[M];if(M==A)_.Sn(q,"active");else _.SE(q,"active")}};function EY(A,M,q,V,F,H){EA.call(this,A,M,q,V,F,!1,H);
this.R.appendChild(this.e_);var w=_.L("span","rangecont");this.R.appendChild(w);w.appendChild(this.XX);
this.R.appendChild(this.kd);this.kd.size=2;this.R.appendChild(this.mb)}EY.prototype=new EA;function Ei(A){if(A==null)A=!1;
Es.call(this);this.JB=new f;this.dd=new f;this.R=_.L("span","");this.QZ=new E_([12,41],null,6);this.R.appendChild(this.QZ.R);
this.QZ.l(_.E.N,this.bW,this);this.PU=new EC(null,A?["px","%"]:["px"]);this.R.appendChild(this.PU.R);
this.PU.l(_.E.N,this.bW,this);this.NQ=new E_([12,42],null,6);this.R.appendChild(this.NQ.R);this.NQ.l(_.E.N,this.bW,this);
this.Jd=new EL([12,51]);if(A)this.R.appendChild(this.Jd.R);this.Jd.l(_.E.N,this.bW,this);this.r$=new E$("Ratio: ");
if(A)this.R.appendChild(this.r$.R);if(A)this.R.appendChild(_.L("br",""));if(A)this.Jd.kO()}Ei.prototype=new Es;
Ei.prototype.EnS=function(A){this.Jd.P(A)};Ei.prototype.D=function(){this.QZ.D();this.NQ.D();this.Jd.D()};
Ei.prototype.bW=function(A){if(A.target==this.PU){this.by();return}var M=this.JB,q=parseFloat(this.QZ.c());
if(isNaN(q))q=1;var V=parseFloat(this.NQ.c());if(isNaN(V))V=1;if(this.PU.c()==1){q=this.JB.x*(q/100);
V=this.JB.y*(V/100)}if(this.Jd.kX()){if(A&&A.target==this.QZ)V=q*(M.y/M.x);else q=V*(M.x/M.y)}q=Math.max(Math.abs(q),1);
V=Math.max(Math.abs(V),1);this.dd=new f(Math.round(q),Math.round(V));this.by();this.t(new N(_.E.N,!1))};
Ei.prototype.P=function(A){this.JB=A.clone();this.dd=A.clone();this.by()};Ei.prototype.by=function(){var A=this.dd.x,M=this.dd.y,q=(A/M).toFixed(3);
while(q.charAt(q.length-1)=="0")q=q.substring(0,q.length-1);if(q.charAt(q.length-1)==".")q=q.substring(0,q.length-1);
this.r$.P("\u2003\u2003  "+q+" : 1");if(this.PU.c()==1){A=100*A/this.JB.x;M=100*M/this.JB.y}A=Math.round(A);
M=Math.round(M);this.QZ.P(A);this.NQ.P(M)};Ei.prototype.c=function(){return this.dd.clone()};function EI(){Es.call(this);
this.jp=0;this.EmR=[0,0,1,1,100,100];this.R=_.L("span","fitem");this.QS=new EC(null,["Free","Fixed Ratio","Fixed Size"]);
this.R.appendChild(this.QS.R);this.QS.l(_.E.N,this.bW,this);this.QZ=new E_("W",null,3);this.QZ.P(0);
this.R.appendChild(this.QZ.R);this.QZ.l(_.E.N,this.bW,this);this.NQ=new E_("H",null,3);this.NQ.P(0);
this.R.appendChild(this.NQ.R);this.NQ.l(_.E.N,this.bW,this);this.P({l$:0,x:0,y:0})}EI.prototype=new Es;
EI.prototype.D=function(){this.QZ.D();this.NQ.D();this.QS.D()};EI.prototype.bW=function(A){if(A.target==this.QS){var M=this.c(),q=this.EmR;
q[this.jp*2]=M.x;q[this.jp*2+1]=M.y;this.jp=M.l$;this.P({l$:M.l$,x:q[M.l$*2],y:q[M.l$*2+1]})}this.t(new N(_.E.N,!1))};
EI.prototype.P=function(A){this.QS.P(A.l$);this.QZ.P(A.x);this.NQ.P(A.y);if(A.l$==0){this.QZ.kg();this.NQ.kg()}else{this.QZ.kA();
this.NQ.kA()}};EI.prototype.c=function(){return{l$:this.QS.c(),x:parseInt(this.QZ.c()),y:parseInt(this.NQ.c())}};
function E$(A,M){Es.call(this);this.Xy=A;this.R=_.L("span","labelitem fitem"+(M?" spread":""));this.D()}E$.prototype=new Es;
E$.prototype.P=function(A){this.R.textContent=A};E$.prototype.c=function(){return this.R.textContent};
E$.prototype.kA=function(){this.R.removeAttribute("disabled")};E$.prototype.kg=function(){this.R.setAttribute("disabled","")};
E$.prototype.ka=function(A){this.R.textContent=A};E$.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);
this.R.textContent=A};E$.prototype.bN=function(){return this.Xy};function EK(A){Es.call(this);this.R=_.L("span","");
this.YQ=A;this.Gp=new EY("Off X",-100,100,A?"%":"px",0,!1);this.Jq=new EY("Off Y",-100,100,A?"%":"px",0,!1);
this.Gp.l(_.E.N,this.bW,this);this.Jq.l(_.E.N,this.bW,this);this.R.appendChild(this.Gp.R);this.R.appendChild(this.Jq.R)}EK.prototype=new Es;
EK.prototype.D=function(){this.Gp.D();this.Jq.D()};EK.prototype.bW=function(A){this.t(new N(_.E.N,!1))};
EK.prototype.EUW=function(A){this.Gp.P(A.x);this.Jq.P(A.y)};EK.prototype.EnM=function(){return new f(this.Gp.c(),this.Jq.c())};
EK.prototype.P=function(A){var M=A.Hrzn.v,q=A.Vrtc.v;if(this.YQ){M=M.val;q=q.val}this.Gp.P(M);this.Jq.P(q)};
EK.prototype.c=function(){var A=this.Gp.c(),M=this.Jq.c();if(this.YQ)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:A}},Vrtc:{t:"UntF",v:{type:"#Prc",val:M}}};
else return{classID:"Pnt",Hrzn:{v:A,t:"doub"},Vrtc:{v:M,t:"doub"}}};function Ee(A,M,q,V,F,H,w){EA.call(this,A,M,q,V,F,!0,H);
_.Sn(this.R,"rangedropinput");this.R.appendChild(this.e_);this.kd.setAttribute("style","width:3.3em");
this.R.appendChild(this.kd);this.re=_.L("span","rangecont");this.re.appendChild(this.XX);this.Ij=_.L("button");
this.Ij.innerHTML="\u25BC";this.Ij.addEventListener("click",this.EoR.bind(this),!1);if(w!=!0)this.R.appendChild(this.Ij);
this.iU=new Es;this.iU.R=this.re}Ee.prototype=new EA;Ee.prototype.EoR=function(A){var M=this.R.getBoundingClientRect();
this.XX.setAttribute("style","width:"+M.width+"px;");var q=new N(_.E.K,!0);q.data={H:_.u.SS,KH:this.iU,x:M.left,y:M.top+M.height};
this.t(q)};function Eq(){Es.call(this);this.R=_.L("span","fitem strokebutton");this.rq=[{strokeStyleLineDashSet:{t:"VlLs",v:[]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:4}},{t:"UntF",v:{type:"#Nne",val:2}}]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleRoundCap"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:0}},{t:"UntF",v:{type:"#Nne",val:2}}]}}];
this.Zf=null;this.zw=_.L("button");this.R.appendChild(this.zw);this.zw.addEventListener("click",this.bU.bind(this),!1);
var A=_.L("canvas","gsicon");_.Sc(A,40,16);this.bs=A.getContext("2d");this.zw.appendChild(A);var M=_.L("span");
M.textContent=" \u25BC";this.zw.appendChild(M);this.eh=new Es;this.eh.R=_.L("div","floatcont form");
this.eh.R.setAttribute("style","width: 12em;");this.eh.parent=this;this.I=[new EC([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new EC("Caps",["Butt","Round","Square"]),new EC("Corners",["Miter","Round","Bevel"]),new E_("Gaps")];
for(var q=0;q<this.rq.length;q++)this.I.push(new Ef(["Full","Dash","Dots"][q]));for(var q=0;q<this.I.length;
q++){var V=this.I[q];this.eh.R.appendChild(V.R);var F=q<4?_.E.N:"click";V.l(F,this.bW,this);if(q==3){this.eh.R.appendChild(_.L("br"))}}}Eq.prototype=new Es;
Eq.prototype.bU=function(A){var M=this.zw.getBoundingClientRect(),q=new N(_.E.K,!0);q.data={H:_.u.SS,KH:this.eh,x:M.left,y:M.top+M.height+4};
this.t(q)};Eq.prototype.bW=function(A){var M=this.Zf,JF=this.I,q=JF.indexOf(A.target),V=j.az.ao[JF[0].c()],F=j.az.aG[JF[1].c()],H=j.az.join[JF[2].c()];
M.strokeStyleLineAlignment.v.strokeStyleLineAlignment=V;M.strokeStyleLineCapType.v.strokeStyleLineCapType=F;
M.strokeStyleLineJoinType.v.strokeStyleLineJoinType=H;var w=M.strokeStyleLineDashSet.v=[],C=JF[3].c().split(" ");
for(var r=0;r<C.length;r++)w.push({t:"UntF",v:{type:"#Nne",val:parseInt(C[r])}});if(A.type=="click"){var G=JSON.parse(JSON.stringify(this.rq[q-4]));
for(var J in G)M[J]=G[J]}this.t(new N(_.E.N,!1))};Eq.prototype.D=function(){for(var A=0;A<this.I.length;
A++)this.I[A].D()};Eq.prototype.P=function(A){this.Zf=JSON.parse(JSON.stringify(A));var M=A.strokeStyleLineAlignment.v.strokeStyleLineAlignment,q=A.strokeStyleLineCapType.v.strokeStyleLineCapType,V=A.strokeStyleLineJoinType.v.strokeStyleLineJoinType,F=[],H=A.strokeStyleLineDashSet.v;
for(var w=0;w<H.length;w++)F.push(H[w].v.val);var JF=this.I;JF[0].P(j.az.ao.indexOf(M));JF[1].P(j.az.aG.indexOf(q));
JF[2].P(j.az.join.indexOf(V));JF[3].P(F.join(" "));var C=this.bs,r=C.canvas.width,G=C.canvas.height,J=Math.min(5,A.strokeStyleLineWidth.v.val);
for(var m=0;m<F.length;m++)F[m]*=J;C.clearRect(0,0,r,G);C.setLineDash(F);C.lineCap=["butt","round","square"][j.az.aG.indexOf(q)];
C.lineJoin=["miter","round","bevel"][j.az.join.indexOf(V)];C.lineWidth=J;C.beginPath();C.moveTo(0,G/2);
C.lineTo(r*2,G/2);C.stroke()};Eq.prototype.c=function(){return JSON.parse(JSON.stringify(this.Zf))};
function EB(A){Es.call(this);this.Zc=null;this.zo="";this.ez=null;this.Pq=!0;this.mp=null;this.CD=null;
this.R=_.L("span","fitem contourbutton");this.eh=new Es;this.eh.R=_.L("div","floatcont");this.eh.parent=this;
if(A){this.Xy=A;this.e_=_.L("label","flabel");this.R.appendChild(this.e_)}this.H=_.L("button");this.R.appendChild(this.H);
this.H.addEventListener("click",this.bU.bind(this),!1);this.Fl=_.L("button");this.Fl.innerHTML="\u25BC";
this.R.appendChild(this.Fl);this.Fl.addEventListener("click",this.bU.bind(this),!1);this.HP=new E_("Find",null,16);
this.HP.l("input",this.ba,this);this.eh.R.appendChild(this.HP.R);this.sS=new EZ;this.eh.R.appendChild(this.sS.R);
this.sS.l(_.E.N,this.bl,this);this.sS.R.setAttribute("style","width:34em; height:16em;  display:block;")}EB.prototype=new Es;
EB.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);this.e_.textContent=A+":"};
EB.prototype.ka=function(A){this.e_.textContent=A};EB.prototype.bU=function(A){this.kw();var M=this.H.getBoundingClientRect(),q=new N(_.E.K,!0);
q.data={H:_.u.SS,KH:this.eh,x:M.left,y:M.top+M.height+4};this.t(q)};EB.prototype.bl=function(A){this.P(this.Zc[A.target.c()]);
this.t(new N(_.E.N))};EB.prototype.ba=function(A){this.zo=this.HP.c().toLowerCase();this.bF()};EB.prototype.k_=function(A){if(this.CD==null)this.P(A[0]);
this.ez=A;this.Pq=!0};EB.prototype.kw=function(){if(!this.Pq)return;var A=this.ez,M=Math.floor(38*_.F()),q=Math.floor(38*_.F());
this.mp=[];for(var V=0;V<A.length;V++)this.mp.push(EB.Ln(A[V],M,q));this.bF();this.Pq=!1};EB.prototype.bF=function(){var A=Math.floor(38*_.F()),M=Math.floor(38*_.F());
this.Zc=[];var q=[],V=[],F=this.ez;for(var H=0;H<F.length;H++){if(F[H].NF.toLowerCase().indexOf(this.zo)==-1)continue;
this.Zc.push(F[H]);q.push(this.mp[H]);V.push(F[H].NF)}this.sS.bQ(q,V,A,M)};EB.prototype.P=function(A){this.CD=EB.clone(A);
this.br()};EB.prototype.br=function(){var A=Math.floor(23*_.F()),M=Math.floor(23*_.F()),q=EB.Ln(this.CD,A,M);
this.H.innerHTML="<img src=\""+q+"\" />";_.SA(this.H.firstChild,A,M)};EB.prototype.c=function(){return EB.clone(this.CD)};
EB.clone=function(A){return{NF:A.NF,NX:A.NX,C:S.tP.tD(A.C),Qn:A.Qn.clone()}};EB.vJ=null;EB.bX=null;EB.Ln=function(A,M,q){var V=S.tP.tD(A.C),F=A.Qn,H=Math.min(M/F.n,q/F.J)*.9,w=new zo;
w.translate(-.5,-.5);w.scale(.95,.95);w.translate(.5,.5);w.scale(H*F.n,H*F.J);Q.m.Ut(V,w);var C=new S.tP;
C.C=V;var r=C.tl();r.rect.x=Math.floor((M-r.rect.n)/2);r.rect.y=Math.floor((q-r.rect.J)/2);var G=Q.b(r.rect.X()*4);
Q.mh(G,4278190080);Q.mx(r.channel);Q.mr(r.channel,G,0);Q.mr(r.channel,G,1);Q.mr(r.channel,G,2);var J=EB;
if(J.vJ==null)J.vJ=_.L("canvas");var m=J.vJ,u=m.getContext("2d");if(m.width!=M||m.height!=q||J.bX==null){m.width=M;
m.height=q;J.bX=u.createImageData(M,q)}var W=J.bX;Q.mh(W.data,4294967295);Q.mL(G,r.rect,W.data,new U(0,0,M,q));
u.putImageData(W,0,0);return m.toDataURL()};function EN(){Es.call(this);this.lE=null;this.R=_.L("span","fitem");
this.LX=new EM([12,26]);this.Zn=new EM([14,9]);this.YN=new Ee([12,14],0,10,"pt",1,!0);this.Ts=new Eq;
this.lz=[this.LX,this.Zn,this.YN,this.Ts];for(var A=0;A<this.lz.length;A++){var M=this.lz[A];this.R.appendChild(M.R);
M.parent=this;M.l(_.E.N,this.bW,this)}}EN.prototype=new Es;EN.prototype.D=function(){for(var A=0;A<this.lz.length;
A++)this.lz[A].D()};EN.prototype.cr=function(A,M){this.LX.cr(A,M);this.Zn.cr(A,M)};EN.prototype.bW=function(A){var M={};
M.uf=this.LX.c();var q=this.lE.az,V=this.Zn.c(),F=V.Np;q.strokeEnabled.v=F!=0;if(F!=0){q.strokeStyleContent.v=V.uM;
V.uM.classID=j.az.av[F-1]}q.strokeStyleLineWidth.v.val=this.YN.c();if(A.target==this.Ts)q=this.Ts.c();
M.az=q;this.lE=M;this.t(new N(_.E.N,!1))};EN.prototype.P=function(A,M,q){this.lE=JSON.parse(JSON.stringify(M));
this.LX.P(A,M.uf,q[0]);var V=M.az.strokeEnabled.v,F=M.az.strokeStyleContent.v,H=V?{Np:1+j.az.av.indexOf(F.classID),uM:F}:{Np:0};
this.Zn.P(A,H,q[1]);this.YN.P(M.az.strokeStyleLineWidth.v.val);this.Ts.P(M.az)};EN.prototype.c=function(){return JSON.parse(JSON.stringify(this.lE))};
function EQ(A,M){Es.call(this);this.R=_.L("span","fitem");this.PG=["front","union","difference","intersection","xor"];
this.EmV=[[18,0],[18,1],[18,2],[18,3],[18,4]];this.X$=[];this.MX=0;for(var q=0;q<this.PG.length;q++){var V=new Ef("<img src=\""+PIMG["set/"+this.PG[q]]+"\" class=\"autoscale gsicon\" />",!1);
V.l("click",this.Eon,this);this.R.appendChild(V.R);this.X$.push(V)}this.X$[0].kO()}EQ.prototype=new Es;
EQ.prototype.c=function(){return this.PG[this.MX]};EQ.prototype.P=function(A){this.MX=this.PG.indexOf(A);
for(var M=0;M<this.X$.length;M++)this.X$[M].kF();this.X$[this.MX].kO()};EQ.prototype.Eon=function(A){this.P(this.PG[this.X$.indexOf(A.currentTarget)]);
this.t(new N(_.E.N,!1))};EQ.prototype.D=function(){};function E_(A,M,q){Es.call(this);var V=_.Cd();this.R=_.L("span","fitem tinput");
if(A){this.Xy=A;this.e_=_.L("label","flabel");this.R.appendChild(this.e_);this.e_.setAttribute("for",V);
this.D()}this.kd=_.L("input","");this.kd.setAttribute("type","text");this.kd.setAttribute("id",V);if(q)this.kd.setAttribute("style","width:"+q+"em");
this.R.appendChild(this.kd);if(M){this.mb=_.L("span","");this.mb.textContent=M;this.R.appendChild(this.mb)}this.kd.addEventListener("change",this.kS.bind(this),!1);
this.kd.addEventListener("input",this.EEG.bind(this),!1)}E_.prototype=new Es;E_.prototype.D=function(){if(this.Xy==null)return;
var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);this.e_.textContent=A+":"};E_.prototype.ka=function(A){this.e_.textContent=A};
E_.prototype.P=function(A){this.kd.value=A==null?"":A};E_.prototype.c=function(){return this.kd.value};
E_.prototype.Lm=function(){this.kd.select();this.kd.focus()};E_.prototype.kS=function(A){this.t(new N(_.E.N,!1))};
E_.prototype.EEG=function(A){this.t(new N("input",!1))};function Ew(A,M,q,V,F,H){EA.call(this,A,M,q,V,F,!0,H);
_.Sn(this.R,"trangeinput");this.R.appendChild(this.e_);this.R.appendChild(this.kd);var w=_.L("span","rangecont");
this.R.appendChild(w);w.appendChild(this.XX);this.XX.setAttribute("style","width:97%;")}Ew.prototype=new EA;
function Ey(){Es.call(this);this.QI={_E:20,_m:!0};this.R=_.L("span","");this.GA=new Ee([12,24],0,255);
this.GA.P(10);this.R.appendChild(this.GA.R);this.GA.l(_.E.N,this.bW,this);this.PJ=new EL([12,25]);this.PJ.kO();
this.R.appendChild(this.PJ.R);this.PJ.l(_.E.N,this.bW,this)}Ey.prototype=new Es;Ey.prototype.bW=function(){var A=parseInt(this.GA.c());
A=Math.max(0,Math.min(255,A));this.GA.P(A);this.QI._E=A;this.QI._m=this.PJ.kX();this.t(new N(_.E.N,!1))};
Ey.prototype.c=function(){return JSON.parse(JSON.stringify(this.QI))};Ey.prototype.D=function(){this.GA.D();
this.PJ.D()};function Eu(A,M){Es.call(this);if(M==null)M=!1;this.mp=[];this.Pw=0;this.Pz=[];this.Dx=[];
for(var q in Q.ls.type){if(q=="warpCustom"&&!M)continue;this.Pz.push(q);this.Dx.push(Q.ls.type[q])}this.R=_.L("span","fitem warpbutton");
this.eh=new Es;this.eh.R=_.L("div","floatcont");this.eh.R.setAttribute("style","width: 10em;");if(A){this.e_=_.L("label","flabel");
this.e_.innerHTML=A;this.R.appendChild(this.e_)}this.H=_.L("button");this.R.appendChild(this.H);this.H.addEventListener("click",this.bU.bind(this),!1);
this.sS=new EZ(!0);this.eh.R.appendChild(this.sS.R);this.sS.l(_.E.N,this.bl,this);this.D()}Eu.prototype=new Es;
Eu.prototype.ka=function(A){this.e_.textContent=A};Eu.prototype.D=function(){this.mp=[];var A=Math.floor(114*_.F()),M=Math.floor(23*_.F()),q=_.L("canvas","");
q.width=A;q.height=M;var V=q.getContext("2d");V.lineWidth=1;V.strokeStyle="#000000";V.font=Math.floor(13*_.F())+"px sans-serif";
var F=Math.floor(16*_.F()),H=new U(0,0,F,F);for(var w=0;w<this.Pz.length;w++){var C=this.Pz[w];V.clearRect(0,0,q.width,q.height);
var r=Q.ls.ls(H,C,!0,.3,0,0),G=Q.O.oL(H);G.qm.push("M","L","M","L");G.G.push(0,F/2,F,F/2);G.G.push(F/2,0,F/2,F);
G=Q.O.oZ(G);G=Q.O.oY(G,F/5);Q.h.apply(r,G.G,H);Q.O.oC(G.G,new zo(1,0,0,1,Math.floor(8*_.F())+.5,Math.floor(3*_.F())+.5),G.G);
V.beginPath();Typr.U.pathToContext({cmds:G.qm,crds:G.G},V);V.stroke();V.fillText(zJ.get(Q.ls.type[C]),Math.floor(40*_.F()),Math.floor(16*_.F()));
this.mp.push(q.toDataURL())}this.sS.bQ(this.mp,null,A,M);this.br()};Eu.prototype.bU=function(A){var M=this.H.getBoundingClientRect(),q=new N(_.E.K,!0);
q.data={H:_.u.SS,KH:this.eh,x:M.left,y:M.top+M.height+4};this.t(q)};Eu.prototype.bl=function(A){var M=new N(_.E.K,!0);
M.data={H:_.u.Sk,KH:this.eh};this.t(M);this.Pw=A.target.c();this.br();this.t(new N(_.E.N))};Eu.prototype.br=function(){this.sS.EUf(this.Pw);
this.H.innerHTML="<img src=\""+this.mp[this.Pw]+"\" class=\"gsicon\" />";var A=Math.floor(114*_.F()),M=Math.floor(23*_.F());
_.SA(this.H.firstChild,A,M)};Eu.prototype.c=function(){return this.Pz[this.Pw]};Eu.prototype.P=function(A){this.Pw=this.Pz.indexOf(A);
this.br()};function Ed(A,M,q){Es.call(this);if(A==null)A=!1;if(M==null)M=!1;if(q==null)q=!1;this.EmY=M;
this.ls=null;this.hb=new Eu("Style:",q);this.hb.parent=this;this.hb.l(_.E.N,this.bp,this);this.lO=new EC("Orientation:",["Horizontal","Vertical"]);
this.lO.l(_.E.N,this.bp,this);var V=A?Ee:Ew;this.mT=new V("Bend:",-100,100,"%");this.ms=new V("Horizontal Distortion:",-100,100,"%");
this.Wq=new V("Vertical Distortion:",-100,100,"%");this.mT.parent=this.ms.parent=this.Wq.parent=this;
this.mT.l(_.E.N,this.bp,this);this.ms.l(_.E.N,this.bp,this);this.Wq.l(_.E.N,this.bp,this)}Ed.prototype=new Es;
Ed.prototype.D=function(){var A=this.EmY?1:100;this.hb.ka(zJ.get([12,22])+":");this.hb.D();this.lO.ka(zJ.get([22,0])+":");
this.lO.bg([zJ.get([22,4,0]),zJ.get([22,4,1])]);this.mT.ka(zJ.get([22,1])+":");this.ms.ka(zJ.get([22,2]).substring(0,A)+":");
this.Wq.ka(zJ.get([22,3]).substring(0,A)+":")};Ed.prototype.bp=function(){var A=this.ls,M=this.hb.c(),q=A.warpStyle.v.warpStyle;
if(M=="warpCustom")Q.ls.lg(Q.ls.lx(A),A);else delete A.customEnvelopeWarp;A.warpStyle.v.warpStyle=this.hb.c();
A.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.lO.c()];A.warpValue.v=this.mT.c();A.warpPerspective.v=this.ms.c();
A.warpPerspectiveOther.v=this.Wq.c();if(M=="warpNone"||M=="warpCustom"){A.warpValue.v=0;A.warpPerspective.v=0;
A.warpPerspectiveOther.v=0}else if(q=="warpNone"||q=="warpCustom")A.warpValue.v=50;this.t(new N(_.E.N,!1));
this.P(A)};Ed.prototype.c=function(A){return JSON.parse(JSON.stringify(this.ls))};Ed.prototype.P=function(A){this.ls=JSON.parse(JSON.stringify(A));
this.hb.P(A.warpStyle.v.warpStyle);this.lO.P(A.warpRotate.v.Ornt=="Hrzn"?0:1);this.mT.P(A.warpValue.v);
this.ms.P(A.warpPerspective.v);this.Wq.P(A.warpPerspectiveOther.v);var M=A.warpStyle.v.warpStyle,q=M=="warpNone"||M=="warpCustom",V=[this.lO,this.mT,this.ms,this.Wq];
for(var F=0;F<V.length;F++)if(q)V[F].kg();else V[F].kA()};function EO(A){Es.call(this);this.R=_.L("div");
this.R.setAttribute("style","cursor:grab; cursor:-moz-grab; cursor:-webkit-grab;");this.Rh=A;this.US=new f(0,0);
this.EZ=_.L("canvas","canv");this.R.appendChild(this.EZ);this.bs=this.EZ.getContext("2d");this.UC=null;
this.h_=null;this.RH=null;this.Wz=0;this.Emy=this.Ll.bind(this);this.ZL=null;this.w=new Em({n:1,J:1});
this.zt=null;this.ux=null;this.EmO=this.AL.bind(this);this.ZZ=this.AZ.bind(this);this.ry=this.AY.bind(this);
this.Ua=null;this.LG(this.EZ)}EO.prototype=new Es;EO.prototype.Lz=function(A){this.R.setAttribute("style","cursor:"+A)};
EO.prototype.LG=function(A,M){if(M!=!0)_.SR(A,this.EmO);A.addEventListener("wheel",this.kL.bind(this),!1)};
EO.prototype.ERv=function(){return{Y:this.w.Y,_V:this.w._V}};EO.prototype.P=function(A){var M=A[0].eG;
if(this.h_!=null&&this.h_[0].eG.mg(M)){}else{this.w.wb={n:M.n,J:M.J};this.w._V=new f(0,0);this.w.Y=1}this.h_=A;
this.Lv();this.LU();this.Wz=0;this.Ll()};EO.prototype.kL=function(A){var M=_.Sg(A);M.x=_.F()*M.x;M.y=_.F()*M.y;
d.xP.xa(this.w,M,A.deltaY<0);this.Lv();this.xH();this.t(new N("zoom"))};EO.prototype.Lv=function(){this.RH=[];
var A=this.w.Y;for(var M=0;M<this.h_.length;M++){var q=this.h_[M],V=new Uint8Array(q.data),F;if(A>=1)F={ej:V,rect:q.eG};
else F=Q.mV(V,q.eG,A);this.RH.push(F)}};EO.prototype.LU=function(){clearTimeout(this.ZL)};EO.prototype.xH=function(){if(this.h_==null)return;
var A=this.h_[this.Wz],M=this.RH[this.Wz],q=this.w,V,F;if(q.Y<=1){var H=M.rect.clone();H.x=q._V.x+Math.floor((q.B.n-M.rect.n)/2);
H.y=q._V.y+Math.floor((q.B.J-M.rect.J)/2);V=M.ej;F=H}else{var w=q.j$(),C=q.jI(),r=new U(0,0,w.n*q.Y,w.J*q.Y);
r.x=w.x*q.Y+C.x;r.y=w.y*q.Y+C.y;if(q.FM==null||q.FM.length!=w.X()*4){q.FM=Q.b(w.X()*4)}if(q.Ft==null||q.Ft.length!=r.X()*4){q.Ft=Q.b(r.X()*4)}Q.mh(q.FM,0);
Q.mL(M.ej,M.rect,q.FM,w);Q.scale.vr(q.FM,w.n,w.J,q.Ft,r.n,r.J,q.Y);V=q.Ft;F=r}var C=q.jI();Q.mz(this.UC.data,q.B.n,q.B.J,8,-C.x,-C.y);
Q.S.JW("norm",V,F,this.UC.data,q.B,q.B,1);this.bs.setTransform(1,0,0,1,0,0);this.bs.putImageData(this.UC,0,0);
if(q.Y<1)C=F;var G=C.x,J=C.y,m=C.n,u=C.J;this.bs.clearRect(G,J,-1e3,u);this.bs.clearRect(G+m,J,1e3,u);
this.bs.clearRect(G-1e3,J,m+2e3,-1e3);this.bs.clearRect(G-1e3,J+u,m+2e3,1e3);this.bs.setTransform(1,0,0,1,0,q.B.J);
this.bs.scale(_.F(),_.F());this.bs.fillStyle="rgba(0,0,0,1)";this.bs.fillRect(0,0,50,-18);this.bs.font=11+"px monospace";
this.bs.fillStyle="rgba(255,255,255,1)";var W=q.Y*100;if(W<100)W=W.toFixed(2);W=W+"%";var y=this.bs.measureText(W).width;
this.bs.fillText(W,(50-y)/2,-6);this.t(new UIEvent("redraw"))};EO.prototype.Ll=function(){var A=this.h_,M=A.length,q=this.h_[this.Wz];
this.xH();if(M!=1&&A[(this.Wz+1)%M].eG.mg(q.eG)){var V=q.eo?parseInt(q.eo.split(",").pop()):30;if(V==0)V=16;
this.ZL=setTimeout(this.Emy,V)}this.Wz=(this.Wz+1)%M};EO.prototype.LR=function(A,M){var q=Math.floor(A*_.F()),V=Math.floor(M*_.F());
this.w.B=new U(0,0,q,V);this.EZ.width=q;this.EZ.height=V;this.EZ.setAttribute("style","width:"+q/_.F()+"px; height:"+V/_.F()+"px; display:block;");
this.UC=this.bs.createImageData(q,V);this.xH()};EO.prototype.AL=function(A){this.Ua=A.target;_.SH(document.body,this.ZZ);
_.Sr(document.body,this.ry);this.zt=_.Sg(A,this.EZ);this.zt.x*=_.F();this.zt.y*=_.F();this.US=this.zt;
this.ux=this.w._V.clone();if(this.Rh&&this.Ua==this.EZ)this.t(new N("mousedown"))};EO.prototype.AZ=function(A){var M=this.w,q=this.h_[this.Wz].eG.clone();
q.n*=M.Y;q.J*=M.Y;var V=_.Sg(A,this.EZ);V.x*=_.F();V.y*=_.F();this.US=V;if(this.Rh&&this.Ua==this.EZ)this.t(new N("mousemove"));
else if(!M.B.hr(q)){var F=V.x-this.zt.x,H=V.y-this.zt.y;M._V.x=this.ux.x+Math.round(F);M._V.y=this.ux.y+Math.round(H);
this.xH()}};EO.prototype.AY=function(A){_.Sh(document.body,this.ZZ);_.ST(document.body,this.ry);if(A.detail>1){this.w.Y=1;
this.w._V.HT(0,0);this.xH()}if(this.Rh&&this.Ua==this.EZ)this.t(new N("mouseup"))};EO.prototype.LH=function(){return this.w.jY(this.US.x,this.US.y)};
function EF(){Es.call(this);this.R=_.L("span","fitem");this.Tc=!1;this.RE=new Ef("No",!1,"Cancel");this.SW=new Ef("Yes",!1,"Confirm");
this.R.appendChild(this.RE.R);this.R.appendChild(this.SW.R);this.RE.l("click",this.Lr,this);this.SW.l("click",this.Lr,this);
this.D()}EF.prototype=new Es;EF.prototype.D=function(){this.RE.ka(_.SP("cross",null,"autoscale"));this.SW.ka(_.SP("checkmark",null,"autoscale"))};
EF.prototype.Lr=function(A){this.Tc=A.target==this.SW;this.t(new UIEvent("click"))};EF.prototype.c=function(){return this.Tc};
function EX(){Es.call(this);this.R=_.L("div")}EX.prototype=new Es;EX.prototype.P=function(A){};EX.prototype.LW=function(A){};
EX.prototype.bp=function(A){this.t(new N(_.E.N))};EX.prototype.D=function(){};EX.prototype.cr=function(A,M){};
EX.blnc=function(){EX.call(this);var A=this.R;this.Tc=null;this.QY=new EC([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.QY.l(_.E.N,this.Lh,this);A.appendChild(this.QY.R);this.BO=[];for(var M=0;M<3;M++){var q=new Ew(["Red","Green","Blue"][M],-100,100);
q.l(_.E.N,this.bp,this);this.BO.push(q);A.appendChild(q.R)}this.Ey=new EL("Preserve Luminosity");this.Ey.l(_.E.N,this.bp,this);
A.appendChild(this.Ey.R)};EX.blnc.prototype=new EX;EX.blnc.prototype.D=function(){this.QY.D()};EX.blnc.prototype.P=function(A){this.Tc=JSON.parse(JSON.stringify(A));
this.Lh()};EX.blnc.prototype.c=function(A){var M=this.Tc.BO[this.QY.c()];for(var q=0;q<3;q++)M[q]=this.BO[q].c();
this.Tc.EK=this.Ey.c();return JSON.parse(JSON.stringify(this.Tc))};EX.blnc.prototype.Lh=function(A){var M=this.Tc.BO[this.QY.c()];
for(var q=0;q<3;q++)this.BO[q].P(M[q]);this.Ey.P(this.Tc.EK)};EX.brit=function(){EX.call(this);var A=this.R;
this.Gi=new Ew([12,2],-150,150,"");this.Gi.l(_.E.N,this.bp,this);A.appendChild(this.Gi.R);this.G_=new Ew([12,3],-100,100,"");
this.G_.l(_.E.N,this.bp,this);A.appendChild(this.G_.R);this.UM=new EL("Old Way");this.UM.l(_.E.N,this.bp,this);
A.appendChild(this.UM.R)};EX.brit.prototype=new EX;EX.brit.prototype.D=function(){this.Gi.D();this.G_.D()};
EX.brit.prototype.P=function(A){this.Gi.P(A[0]);this.G_.P(A[1]);this.UM.P(A[2])};EX.brit.prototype.c=function(A){return[this.Gi.c(),this.G_.c(),this.UM.c()]};
EX.curv=function(){EX.call(this);this.value=null;var A=this.R;this.FC=new EC("...",["RGB","Red","Green","Blue"]);
this.FC.l(_.E.N,this.xH,this);A.appendChild(this.FC.R);this.QS=new EC(null,["Spline","Sketch"]);this.QS.l(_.E.N,this.EJD,this);
A.appendChild(this.QS.R);var M=new Ef("Reset");M.l("click",this.LT,this);A.appendChild(M.R);this.kc=new Ea;
this.kc.l(_.E.N,this.Lc,this);A.appendChild(this.kc.R)};EX.curv.prototype=new EX;EX.curv.prototype.D=function(){this.FC.ka(zJ.get([12,4])+": ")};
EX.curv.prototype.LT=function(A){var M=this.QS.c();this.value=[];if(M==0)for(var q=0;q<4;q++){this.value.push([Q.vC.vS(0,0,!0),Q.vC.vS(255,255,!0)])}else for(var q=0;
q<4;q++){var V=[];this.value.push(V);for(var F=0;F<256;F++)V.push(F)}this.xH();this.bp()};EX.curv.prototype.EJD=function(A){var M=this.value[0].length==256?1:0,q=this.QS.c();
if(M==q)return;this.LT()};EX.curv.prototype.Lc=function(){this.value[this.FC.c()]=this.kc.c();this.bp()};
EX.curv.prototype.xH=function(){var A=this.value[0].length==256?1:0;this.QS.P(A);this.kc.P(this.value[this.FC.c()])};
EX.curv.prototype.P=function(A){this.value=A;this.xH()};EX.curv.prototype.c=function(A){return this.value};
EX.expA=function(){EX.call(this);var A=this.R;this.GF=new Ew([12,5],-20,20,null,3);this.GF.l(_.E.N,this.bp,this);
A.appendChild(this.GF.R);this.oE=new Ew([12,6],-.5,.5,null,3);this.oE.l(_.E.N,this.bp,this);A.appendChild(this.oE.R);
this.Y$=new Ew([12,7],.1,9.99,null,3);this.Y$.l(_.E.N,this.bp,this);A.appendChild(this.Y$.R)};EX.expA.prototype=new EX;
EX.expA.prototype.D=function(){this.GF.D();this.oE.D();this.Y$.D()};EX.expA.prototype.P=function(A){this.GF.P(A[0]);
this.oE.P(A[1]);this.Y$.P(A[2])};EX.expA.prototype.c=function(A){return[this.GF.c(),this.oE.c(),this.Y$.c()]};
EX.grdm=function(){EX.call(this);var A=this.R;this.vU=new Eb(!0);A.appendChild(this.vU.R);this.vU.l(_.E.N,this.bp,this);
this.vU.parent=this;this.JC=new EL([12,23]);A.appendChild(this.JC.R);this.JC.l(_.E.N,this.bp,this)};
EX.grdm.prototype=new EX;EX.grdm.prototype.cr=function(A,M){this.vU.bq(A._c,A._A);if(M==EW.fg||M==EW.fU)this.vU.k_(A.zi)};
EX.grdm.prototype.D=function(){this.JC.D()};EX.grdm.prototype.P=function(A){this.vU.P(A[0]);this.JC.P(A[1])};
EX.grdm.prototype.c=function(A){return[this.vU.c(),this.JC.c()]};EX.selc=function(){EX.call(this);var A=this.R;
this.UA=[];this.UT=null;this.QY=new EC("Colors","Reds,Yellows,Greens,Cyans,Blues,Magentas,Whites,Neutrals,Blacks".split(","));
this.QY.l(_.E.N,this.kk,this);A.appendChild(this.QY.R);for(var M=0;M<4;M++){var q=new Ew(["Cyan","Magenta","Yellow","Black"][M],-100,100,"%");
q.l(_.E.N,this.kk,this);this.UA.push(q);A.appendChild(q.R)}this.or=new EL("Absolute");A.appendChild(this.or.R);
this.or.l(_.E.N,this.kk,this)};EX.selc.prototype=new EX;EX.selc.prototype.D=function(){this.QY.D();this.or.D();
for(var A=0;A<4;A++)this.UA[A].D()};EX.selc.prototype.P=function(A){this.UT=JSON.parse(JSON.stringify(A));
this.Lh()};EX.selc.prototype.c=function(A){return JSON.parse(JSON.stringify(this.UT))};EX.selc.prototype.kk=function(A){if(A.target!=this.QY){var M=this.UT,q=M.NO[this.QY.c()+1];
for(var V=0;V<4;V++)q[V]=this.UA[V].c();M.Nd=this.or.c()}this.Lh();this.bp()};EX.selc.prototype.Lh=function(){var A=this.UT,M=A.NO[this.QY.c()+1];
for(var q=0;q<4;q++)this.UA[q].P(M[q]);this.or.P(A.Nd)};EX.blwh=function(){EX.call(this);var A=this.R;
this.UH=new EL([12,11]);this.UH.l(_.E.N,this.bp,this);A.appendChild(this.UH.R);this.PB=new EP;this.PB.parent=this;
this.PB.l(_.E.N,this.bp,this);A.appendChild(this.PB.R);this.le=[];var M="Red Yellow Green Cyan Blue Magenta".split(" ");
for(var q=0;q<6;q++){var V=new Ew(M[q]+"s",-200,300);V.l(_.E.N,this.bp,this);this.le.push(V);A.appendChild(V.R)}};
EX.blwh.prototype=new EX;EX.blwh.prototype.P=function(A){for(var M=0;M<6;M++)this.le[M].P(A[M]);this.UH.P(A[6]);
this.PB.P(A[7])};EX.blwh.prototype.c=function(){var A=[];for(var M=0;M<6;M++)A.push(this.le[M].c());
A.push(this.UH.c());A.push(this.PB.c());return A};EX.hue2=function(){EX.call(this);this.value=null;var A=this.R;
this.QY=new EC("...","Master,Range 1,Range 2,Range 3,Range 4,Range 5,Range 6".split(","));this.QY.l(_.E.N,this.xH,this);
A.appendChild(this.QY.R);this.EB=new Ew([12,8],-180,180);this.EB.l(_.E.N,this.Lg,this);A.appendChild(this.EB.R);
this.Tm=new Ew([12,9],-100,100);this.Tm.l(_.E.N,this.Lg,this);A.appendChild(this.Tm.R);this.Ja=new Ew([12,10],-100,100);
this.Ja.l(_.E.N,this.Lg,this);A.appendChild(this.Ja.R);this.Ls=new EL([12,11]);this.Ls.l(_.E.N,this.Elc,this);
A.appendChild(this.Ls.R);this.Zi=new E$("...",!0);A.appendChild(this.Zi.R)};EX.hue2.prototype=new EX;
EX.hue2.prototype.D=function(){this.EB.D();this.Tm.D();this.Ja.D();this.Ls.D();this.QY.ka(zJ.get([12,12])+": ")};
EX.hue2.prototype.Elc=function(A){this.value.N_=this.Ls.c();this.xH();this.bp()};EX.hue2.prototype.Lg=function(A){var M=this.Lx();
M[0]=this.EB.c();var q=this.Tm.c();M[1]=this.value.N_?Math.max(0,q):q;M[2]=this.Ja.c();this.xH();this.bp()};
EX.hue2.prototype.Lx=function(){var A=this.value;if(A.N_)return A.Kr;var M=this.QY.c();return M==0?A.Nw:A.Ny[M-1].BO};
EX.hue2.prototype.xH=function(){var A=this.value,q="";this.Ls.P(A.N_);if(A.N_)this.QY.kg();else this.QY.kA();
var M=this.Lx();this.EB.P(M[0]);this.Tm.P(M[1]);this.Ja.P(M[2]);if(!A.N_){q+="Apply to hue interval: ";
var V=this.QY.c();if(V==0)q+="full";else{var F=A.Ny[V-1].Nu;q+=F}}this.Zi.P(q)};EX.hue2.prototype.P=function(A){this.value=JSON.parse(JSON.stringify(A));
this.xH()};EX.hue2.prototype.c=function(A){return JSON.parse(JSON.stringify(this.value))};EX.levl=function(){EX.call(this);
this.value=null;this.lY=null;this.yc=[new f(0,0),new f(0,0),new f(0,0),new f(0,0),new f(0,0)];this.Tn=-1;
this.WG=this.ke.bind(this);this.WT=this.kq.bind(this);var A=this.R;this.FC=new EC("Channel: ",["RGB","Red","Green","Blue"]);
this.FC.l(_.E.N,this.xH,this);A.appendChild(this.FC.R);var M=new Ef("Reset");M.l("click",this.ElG,this);
A.appendChild(M.R);var q=_.L("div","");A.appendChild(q);this.Ix=_.L("canvas");q.appendChild(this.Ix);
this.bs=this.Ix.getContext("2d");this.YZ=new f(256,120);this.Ix.setAttribute("style","display:block");
_.Sc(this.Ix,this.YZ.x,this.YZ.y,this.bs);_.Ss(this.Ix);_.SR(this.Ix,this.kK.bind(this));this.UG=new E_(null,null,3);
this.UG.l(_.E.N,this.Lf,this);q.appendChild(this.UG.R);this.eP=new E_(null,null,3);this.eP.l(_.E.N,this.Lf,this);
q.appendChild(this.eP.R);this.Jh=new E_(null,null,3);this.Jh.l(_.E.N,this.Lf,this);q.appendChild(this.Jh.R);
this.eP.R.setAttribute("style","margin: 0 4.9em");var V=_.L("div","");A.appendChild(V);this.PN=_.L("canvas","");
V.appendChild(this.PN);this.Tr=this.PN.getContext("2d");this.Lq=new f(this.YZ.x,40);this.PN.setAttribute("style","display:block");
_.Sc(this.PN,this.Lq.x,this.Lq.y,this.Tr);_.Ss(this.PN);_.SR(this.PN,this.EGR.bind(this));this.Un=new E_(null,null,3);
this.Un.l(_.E.N,this.Lf,this);V.appendChild(this.Un.R);this.oD=new E_(null,null,3);this.oD.l(_.E.N,this.Lf,this);
V.appendChild(this.oD.R);this.oD.R.setAttribute("style","margin:0 0 0 13em")};EX.levl.prototype=new EX;
EX.levl.prototype.D=function(){this.FC.ka(zJ.get([12,4])+": ")};EX.levl.prototype.ElG=function(A){var M=this.lY;
this.P([[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]]);this.LW(M);this.bp()};
EX.levl.prototype.Lf=function(A){var M=this.value[this.FC.c()];M[0]=Math.max(0,Math.min(255,parseInt(this.UG.c())));
M[1]=Math.max(0,Math.min(255,parseInt(this.Jh.c())));M[2]=Math.max(0,Math.min(255,parseInt(this.Un.c())));
M[3]=Math.max(0,Math.min(255,parseInt(this.oD.c())));M[4]=Math.max(10,Math.min(999,parseInt(this.eP.c()*100)));
this.xH();this.bp()};EX.levl.prototype.xH=function(A){var M=this.value[this.FC.c()];this.UG.P(M[0]);
this.eP.P(M[4]/100);this.Jh.P(M[1]);this.Un.P(M[2]);this.oD.P(M[3]);var q=this.YZ.x,V=this.YZ.y,F=this.bs;
F.clearRect(0,0,q,V);F.fillStyle="#cccccc";F.fillRect(8,8,q-16,V-16-8);if(this.lY){var H=this.lY[this.FC.c()],w=0;
for(var C=0;C<H.length;C++)w+=H[C];F.fillStyle="#333333";F.beginPath();F.moveTo(8,V-16);for(var C=0;
C<256;C++){var r=55*H[C]/w;F.lineTo(8+C/256*(q-16),Math.max(8,V-16-V*r))}F.lineTo(q-8,V-16);F.closePath();
F.fill()}this.yc[0].HT(8+M[0]/255*(q-16),V-14);this.yc[1].HT(8+M[1]/255*(q-16),V-14);var G=Math.log(M[4]/100)/Math.log(9.99);
G=.5-G/2;this.yc[4].HT(this.yc[0].x+G*(this.yc[1].x-this.yc[0].x),V-14);this.LP(F,this.yc[0],"#000000");
this.LP(F,this.yc[4],"#777777");this.LP(F,this.yc[1],"#ffffff");var q=this.Lq.x,V=this.Lq.y;F=this.Tr;
F.clearRect(0,0,q,V);var J=F.createLinearGradient(0,0,q-16,0);J.addColorStop(0,"black");J.addColorStop(1,"white");
F.fillStyle=J;F.fillRect(8,8,q-16,16);this.yc[2].HT(8+M[2]/255*(q-16),V-14);this.yc[3].HT(8+M[3]/255*(q-16),V-14);
this.LP(F,this.yc[2],"#000000");this.LP(F,this.yc[3],"#ffffff")};EX.levl.prototype.LP=function(A,M,q){A.fillStyle=q;
A.fillRect(M.x-5,M.y,10,10)};EX.levl.prototype.kK=function(A){var M=_.Sg(A,this.Ix);if(f.Hc(this.yc[4],M)<10)this.Tn=4;
for(var q=0;q<3;q++)if(f.Hc(this.yc[q],M)<10)this.Tn=q;this.Lt()};EX.levl.prototype.EGR=function(A){var M=_.Sg(A,this.PN);
for(var q=2;q<4;q++)if(f.Hc(this.yc[q],M)<10)this.Tn=q;this.Lt()};EX.levl.prototype.Lt=function(A){if(this.Tn==-1)return;
_.SH(document.body,this.WG);_.Sr(document.body,this.WT)};EX.levl.prototype.ke=function(A){var M=this.value[this.FC.c()],q=_.Sg(A,this.Tn==2&&this.Tn==3?this.PN:this.Ix),V=255*(q.x-8)/(this.YZ.x-16);
V=Math.max(0,Math.min(255,V));if(this.Tn==0)V=Math.min(V,M[1]-2);if(this.Tn==1)V=Math.max(V,M[0]+2);
if(this.Tn!=4)M[this.Tn]=Math.round(V);else{var F=(V-M[0])/(M[1]-M[0]);F=1-2*F;F=Math.pow(9.99,F);M[4]=Math.min(999,Math.max(10,Math.round(F*100)))}this.xH();
this.bp()};EX.levl.prototype.kq=function(A){_.Sh(document.body,this.WG);_.ST(document.body,this.WT);
this.Tn=-1};EX.levl.prototype.P=function(A){this.value=A;this.lY=null;this.xH()};EX.levl.prototype.LW=function(A){this.lY=A;
this.xH()};EX.levl.prototype.c=function(A){return JSON.parse(JSON.stringify(this.value))};EX.phfl=function(){EX.call(this);
var A=this.R;this.PB=new EP;this.PB.parent=this;this.PB.l(_.E.N,this.bp,this);A.appendChild(this.PB.R);
this.qj=new Ew([12,74],0,100,"%");this.qj.l(_.E.N,this.bp,this);A.appendChild(this.qj.R);this.Ey=new EL("Preserve Luminosity");
this.Ey.l(_.E.N,this.bp,this);A.appendChild(this.Ey.R)};EX.phfl.prototype=new EX;EX.phfl.prototype.D=function(){this.qj.D()};
EX.phfl.prototype.P=function(A){this.PB.P(A.Kr);this.qj.P(A.Nn);this.Ey.P(A.NE)};EX.phfl.prototype.c=function(){return{Nn:this.qj.c(),NE:this.Ey.c(),Kr:this.PB.c()}};
EX.vibA=function(){EX.call(this);var A=this.R;this.TR=new Ew([12,13],-100,100,null);this.TR.l(_.E.N,this.bp,this);
A.appendChild(this.TR.R);this.Tm=new Ew([12,9],-100,100,null);this.Tm.l(_.E.N,this.bp,this);A.appendChild(this.Tm.R)};
EX.vibA.prototype=new EX;EX.vibA.prototype.D=function(){this.TR.D();this.Tm.D()};EX.vibA.prototype.P=function(A){this.TR.P(A[0]);
this.Tm.P(A[1])};EX.vibA.prototype.c=function(A){return[this.TR.c(),this.Tm.c()]};EX.thrs=function(){EX.call(this);
var A=this.R;this.TR=new Ew([4,13],1,255,null);this.TR.l(_.E.N,this.bp,this);A.appendChild(this.TR.R)};
EX.thrs.prototype=new EX;EX.thrs.prototype.D=function(){this.TR.D()};EX.thrs.prototype.P=function(A){this.TR.P(A)};
EX.thrs.prototype.c=function(A){return this.TR.c()};function mn(){Es.call(this);this.R=_.L("div");this.Ig=[]}mn.prototype=new Es;
mn.prototype.P=function(A){};mn.prototype.c=function(){};mn.prototype.bp=function(A){this.t(new N(_.E.N))};
mn.prototype.D=function(){for(var A=0;A<this.Ig.length;A++)this.Ig[A].D()};mn.prototype.CF=function(){for(var A=0;
A<this.Ig.length;A++){this.Ig[A].l(_.E.N,this.bp,this);this.R.appendChild(this.Ig[A].R)}};mn["\0\0\x02\xB1"]=function(){mn.call(this);
this.Ig.push(new Ew([12,56],1,200," px"));this.CF()};mn["\0\0\x02\xB1"].prototype=new mn;mn["\0\0\x02\xB1"].prototype.P=function(A){this.Ig[0].P(A.Rds.v.val)};
mn["\0\0\x02\xB1"].prototype.c=function(){var A=Ju.DR("\0\0\x02\xB1");A.Rds.v.val=this.Ig[0].c();return A};
mn.GsnB=function(){mn.call(this);this.Ig.push(new Ew([12,56],1,200," px"));this.CF()};mn.GsnB.prototype=new mn;
mn.GsnB.prototype.P=function(A){this.Ig[0].P(A.Rds.v.val)};mn.GsnB.prototype.c=function(){var A=Ju.DR("GsnB");
A.Rds.v.val=this.Ig[0].c();return A};mn["\0\0\x02\xB5"]=function(){mn.call(this);this.Ig.push(new Ew([12,56],1,200," px"));
this.Ig.push(new Ew([4,13],1,255," px"));this.CF()};mn["\0\0\x02\xB5"].prototype=new mn;mn["\0\0\x02\xB5"].prototype.P=function(A){this.Ig[0].P(A.Rds.v.val);
this.Ig[1].P(A.Thsh.v)};mn["\0\0\x02\xB5"].prototype.c=function(){var A=Ju.DR("\0\0\x02\xB5");A.Rds.v.val=this.Ig[0].c();
A.Thsh.v=this.Ig[1].c();return A};mn.AdNs=function(){mn.call(this);this.Ig.push(new Ew([12,57],0,200," %"));
this.Ig.push(new EC([12,58],[[12,59,0],[12,59,1]]));this.Ig.push(new EL([12,60]));this.CF()};mn.AdNs.prototype=new mn;
mn.AdNs.prototype.P=function(A){this.Ig[0].P(A.Nose.v.val);this.Ig[1].P(["Unfr","Gsn"].indexOf(A.Dstr.v.Dstr));
this.Ig[2].P(A.Mnch.v)};mn.AdNs.prototype.c=function(){var A=Ju.DR("AdNs");A.Nose.v.val=this.Ig[0].c();
A.Dstr.v.Dstr=["Unfr","Gsn"][this.Ig[1].c()];A.Mnch.v=this.Ig[2].c();return A};mn.DstS=function(){mn.call(this);
this.Ig.push(new Ew([12,56],1,200," px"));this.Ig.push(new Ew([4,13],1,255," px"));this.CF()};mn.DstS.prototype=new mn;
mn.DstS.prototype.P=function(A){this.Ig[0].P(A.Rds.v);this.Ig[1].P(A.Thsh.v)};mn.DstS.prototype.c=function(){var A=Ju.DR("DstS");
A.Rds.v=this.Ig[0].c();A.Thsh.v=this.Ig[1].c();return A};mn["Mdn "]=function(){mn.call(this);this.Ig.push(new Ew([12,56],1,200," px"));
this.CF()};mn["Mdn "].prototype=new mn;mn["Mdn "].prototype.P=function(A){this.Ig[0].P(A.Rds.v.val)};
mn["Mdn "].prototype.c=function(){var A=Ju.DR("Mdn ");A.Rds.v.val=this.Ig[0].c();return A};mn.ClrH=function(){mn.call(this);
this.Ig.push(new Ew([12,56],4,100," px"));for(var A=1;A<4;A++)this.Ig.push(new Ew("Angle "+A,0,90," \xB0"));
this.CF()};mn.ClrH.prototype=new mn;mn.ClrH.prototype.P=function(A){this.Ig[0].P(A.Rds.v);for(var M=1;
M<4;M++)this.Ig[M].P(A["Ang"+M].v)};mn.ClrH.prototype.c=function(){var A=Ju.DR("ClrH");A.Rds.v=this.Ig[0].c();
for(var M=1;M<4;M++)A["Ang"+M].v=this.Ig[M].c();return A};mn.ClrH.prototype.D=function(){var A=this.Ig;
A[0].D();for(var M=1;M<4;M++)A[M].ka(zJ.get([12,15])+" "+M)};mn["Msc "]=function(){mn.call(this);this.Ig.push(new Ew([12,61],2,200," px"));
this.CF()};mn["Msc "].prototype=new mn;mn["Msc "].prototype.P=function(A){this.Ig[0].P(A.ClSz.v.val)};
mn["Msc "].prototype.c=function(){var A=Ju.DR("Msc ");A.ClSz.v.val=this.Ig[0].c();return A};mn.UnsM=function(){mn.call(this);
this.Ig.push(new Ew([12,57],1,200," %"));this.Ig.push(new Ew([12,56],0,200," px"));this.Ig.push(new Ew([4,13],0,255," "));
this.CF()};mn.UnsM.prototype=new mn;mn.UnsM.prototype.P=function(A){this.Ig[0].P(A.Amnt.v.val);this.Ig[1].P(A.Rds.v.val);
this.Ig[2].P(A.Thsh.v)};mn.UnsM.prototype.c=function(){var A=Ju.DR("UnsM");A.Amnt.v.val=this.Ig[0].c();
A.Rds.v.val=this.Ig[1].c();A.Thsh.v=this.Ig[2].c();return A};mn.HghP=function(){mn.call(this);this.Ig.push(new Ew([12,56],1,200," px"));
this.CF()};mn.HghP.prototype=new mn;mn.HghP.prototype.P=function(A){this.Ig[0].P(A.Rds.v.val)};mn.HghP.prototype.c=function(){var A=Ju.DR("HghP");
A.Rds.v.val=this.Ig[0].c();return A};mn["Mxm "]=function(){mn.call(this);this.Ig.push(new Ew([12,56],1,200," px"));
this.CF()};mn["Mxm "].prototype=new mn;mn["Mxm "].prototype.P=function(A){this.Ig[0].P(A.Rds.v.val)};
mn["Mxm "].prototype.c=function(){var A=Ju.DR("Mxm ");A.Rds.v.val=this.Ig[0].c();return A};mn["Mnm "]=function(){mn.call(this);
this.Ig.push(new Ew([12,56],1,200," px"));this.CF()};mn["Mnm "].prototype=new mn;mn["Mnm "].prototype.P=function(A){this.Ig[0].P(A.Rds.v.val)};
mn["Mnm "].prototype.c=function(){var A=Ju.DR("Mnm ");A.Rds.v.val=this.Ig[0].c();return A};mn.Ofst=function(){mn.call(this);
this.Ig.push(new Ew([22,4,0],-1024,1024," px"));this.Ig.push(new Ew([22,4,1],-1024,1024," px"));this.Ig.push(new EC([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));
this.CF()};mn.Ofst.prototype=new mn;mn.Ofst.prototype.P=function(A){var M=this.Ig;M[0].P(A.Hrzn.v);M[1].P(A.Vrtc.v);
M[2].P(["Bckg","Rpt","Wrp"].indexOf(A.Fl.v.FlMd))};mn.Ofst.prototype.c=function(){var A=Ju.DR("Ofst");
A.Hrzn.v=this.Ig[0].c();A.Vrtc.v=this.Ig[1].c();A.Fl.v.FlMd=["Bckg","Rpt","Wrp"][this.Ig[2].c()];return A};
function mE(A,M){Es.call(this);this.id=M;this.ot=A;this.HB=null;this.R=_.L("div","window "+M);this.BI=_.L("div","head");
this.R.appendChild(this.BI);this.EJq=this.EU$.bind(this);this.Z$=this.ElL.bind(this);this.a$=this.EUz.bind(this);
_.Ss(this.BI);_.SR(this.BI,this.EJq);this.He=_.L("span","cross");mE.prototype.D.call(this);_.Sr(this.He,this.Lb.bind(this));
this.body=_.L("div","body");this.R.appendChild(this.body)}mE.prototype=new Es;mE.prototype.cs=function(){return!1};
mE.prototype.LM=function(){return!1};mE.prototype.D=function(){if(this.ot==null)return;var A=typeof this.ot=="string"?this.ot:zJ.get(this.ot);
this.BI.innerHTML="<span class=\"wname\">"+A+"</span>";this.BI.appendChild(this.He);var M=PIMG.__cross==null?"filter:invert(1);":"";
this.He.setAttribute("style","background-image:url("+PIMG.cross+");"+M)};mE.prototype.cJ=function(A,M,q,V,F){};
mE.prototype.cz=function(A,M,q,V,F){};mE.prototype.cG=function(A,M,q,V,F){};mE.prototype.co=function(A,M,q,V,F){};
mE.prototype.cv=function(A,M,q,V){};mE.prototype.Lj=function(A,M){return!0};mE.prototype.La=function(A,M,q){};
mE.prototype.cr=function(A,M){};mE.prototype.LV=function(){return!1};mE.prototype.LR=function(){};mE.prototype.close=function(){this.t(new N(_.E.Sa))};
mE.prototype.EU$=function(A){this.HB=_.Sg(A,this.R);_.SH(window,this.Z$);_.Sr(window,this.a$)};mE.prototype.ElL=function(A){var M=_.Sg(A,document.body);
this.R.style.left=Math.round(M.x-this.HB.x)+"px";this.R.style.top=Math.max(0,Math.round(M.y-this.HB.y))+"px"};
mE.prototype.EUz=function(A){_.Sh(window,this.Z$);_.ST(window,this.a$)};mE.prototype.Lb=function(A){this.t(new N("closebtn"));
this.close()};function mm(){mE.call(this,[0,13,0],"account");this.W=_.L("div","form padded scrollable");
this.W.setAttribute("style","max-width:42em;  max-height:33em;");this.body.appendChild(this.W);this.Jy=[new mm.LZ,new mm.L_];
for(var A=0;A<this.Jy.length;A++)this.Jy[A].parent=this;this.l("showpage",this.EUn,this)}mm.prototype=new mE;
mm.prototype.EUn=function(A){_.CX(this.W);this.W.scrollTop=0;this.W.appendChild(this.Jy[A.data.eE].R)};
mm.prototype.D=function(){mE.prototype.D.call(this);for(var A=0;A<this.Jy.length;A++)this.Jy[A].D()};
mm.prototype.La=function(A,M,q){_.CX(this.W);var V=this.Jy[0];this.W.appendChild(V.R);V.La();this.D()};
mm.prototype.cr=function(A,M){this.La(null,null,null)};mm.LZ=function(){Es.call(this);this.R=_.L("div");
var A=this.R,M,q,V="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.ZD=_.L("div");A.appendChild(this.ZD);this.vi=new Ef([0,11],!1,null,!0);this.vi.R.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.vi.l("click",this.qh,this);A.appendChild(this.vi.R);M=_.L("h2","");M.innerHTML="Account types";
A.appendChild(M);q=_.L("table","");q.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">PSD import and export</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Advanced editing tools</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Helping us improve PP</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
A.appendChild(q);var F=[5,12,15,40,50,120,40,80,100,200,200,400];this.aA=[];for(var H=0;H<F.length;H++)this.aA.push(new Ef("Buy: $"+F[H],!1,null,!0));
for(var H=0;H<this.aA.length;H++){this.aA[H].R.setAttribute("style",V);this.aA[H].l("click",this.EJL,this)}M=_.L("h2","");
M.innerHTML="Go Premium";A.appendChild(M);this.Jc=new Ef("...",!0);this.Jc.R.setAttribute("style",V);
A.appendChild(this.Jc.R);q=this.Le(["Single user",this.aA[0],this.aA[1],"Team of 5",this.aA[2],this.aA[3],"Team of 20",this.aA[4],this.aA[5]]);
A.appendChild(q);this.rX=new EL("I accept",!0,"");A.appendChild(this.rX.R);this.Hg=new Ef([0,13,1],!1,null,!0);
this.Hg.l("click",this.EUC,this);A.appendChild(this.Hg.R);M=_.L("h2","");M.textContent="Team Settings";
A.appendChild(M);this.hx=new EL("Join a team");A.appendChild(this.hx.R);this.hx.l(_.E.N,this.LI,this);
this.hx.kO();this.vb=new E_("Email of a leader",null,14);A.appendChild(this.vb.R);A.appendChild(_.L("br"));
this.IN=new EL("Start a team");A.appendChild(this.IN.R);this.IN.l(_.E.N,this.LI,this);var w=new E$("Emails of other members:");
A.appendChild(w.R);A.appendChild(_.L("br"));this.Qb=_.L("textarea");this.Qb.setAttribute("rows",3);this.Qb.setAttribute("cols",70);
this.Qb.setAttribute("style","display:block;tab-size:4;");A.appendChild(this.Qb);var C=new Ef("Save Team Settings",!1,null,!0);
A.appendChild(C.R);C.l("click",this.EvK,this);var r=new Ef("More about Teams",!1,null,!0);A.appendChild(r.R);
r.l("click",this.Li,this);M=_.L("h2","");M.innerHTML="Distributor Account";A.appendChild(M);this.vV=new Ef("...",!0);
this.vV.R.setAttribute("style",V);A.appendChild(this.vV.R);q=this.Le(["1000 views/month",this.aA[6],this.aA[7],"5000 views/month",this.aA[8],this.aA[9],"20000 views/month",this.aA[10],this.aA[11]]);
A.appendChild(q);this.JA=new E_("Domain name (e.g. domain.com)",null,14);A.appendChild(this.JA.R);A.appendChild(_.L("br"));
var C=new Ef("Save Domain Settings",!1,null,!0);C.kO();A.appendChild(C.R);C.l("click",this.Ev$,this);
var r=new Ef("More about Distributors",!1,null,!0);A.appendChild(r.R);r.l("click",this.Li,this)};mm.LZ.prototype=new Es;
mm.LZ.prototype.EUC=function(A){var M=new N("showpage",!0);M.data={eE:1};this.t(M)};mm.LZ.prototype.D=function(){this.vi.ka(zz.N$()?zJ.get([0,11]):zJ.get([0,10]));
this.Hg.D()};mm.LZ.prototype.Li=function(){var A=new N(_.E.K,!0);A.data={H:_.u.kz,link:"https://e.photoshoponline.pro/pso/api/accounts#teams"};
this.t(A)};mm.LZ.prototype.LI=function(A){var M=A.currentTarget==this.hx;this.hx.P(M);this.IN.P(!M)};
mm.LZ.prototype.EvK=function(A){var M=this.hx.c(),q=this.vb.c().trim(),V=this.Qb.value.trim();if(q.length>60){alert("Too long email address");
return}if(V.length>600){alert("Too many team members");return}V=V.split(",").join(" ").trim();V=V.replace(/\s+/g," ");
if(V=="")V=[];else V=V.split(" ");var F=zz.PW();if(F==null)F={};if(F.acc==null)F.acc={};F.acc.team={jin:M,ldr:q,mmb:V};
zz.Wt(F,this.LB.bind(this));alert("Saved!");this.La()};mm.LZ.prototype.Ev$=function(A){var M=this.JA.c().trim();
if(M.length==0){alert("Domain is empty.");return}if(!zz.N$()){alert("You have to log in first.");return}if(zz.mP().distrib=="0"){alert("Order a distributor account first.");
return}var q=zz.PW();if(q==null)q={};if(q.acc==null)q.acc={};q.acc.dname=M;zz.Wt(q,this.LB.bind(this));
alert("Saved!");this.La()};mm.LZ.prototype.La=function(){if(zz.N$()){var A=zz.mP();if(A==null)return;
this.ZD.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+A.name+"</span> "+A.email+" <br/>"}else this.ZD.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var M=zz.N$()&&A.premium*1e3>Date.now();this.Jc.R.style.display=M?"block":"none";if(M){var q=parseInt(A.premium)-Date.now()/1e3,V=parseInt(A.ptype),F;
if(V==-1)F="member of a team";else if(V==1)F="Single user";else F="Team of "+V;this.Jc.ka("Premium active for "+Math.round(q/(60*60*24))+" more days! ("+F+")")}var H=zz.N$()&&A.distrib*1e3>Date.now();
this.vV.R.style.display=H?"block":"none";if(H){var q=parseInt(A.distrib)-Date.now()/1e3,V=parseInt(A.ptype);
this.vV.ka("Distributor active for "+Math.round(q/(60*60*24))+" more days! ("+V+" visitos)")}var w=zz.PW();
if(w&&w.acc&&w.acc.team){var C=w.acc.team;this.hx.P(C.jin);this.IN.P(!C.jin);this.vb.P(C.ldr);this.Qb.value=C.mmb.join(", ")}else{this.hx.P(!0);
this.IN.P(!1);this.vb.P("");this.Qb.value=""}if(w&&w.acc&&w.acc.dname)this.JA.P(w.acc.dname);else this.JA.P("")};
mm.LZ.prototype.Le=function(A){var M=_.L("table","");M.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> </tr>\t\t\t\t</table>\t\t\t";
for(var q=0;q<A.length;q+=3){var V=_.L("tr"),F;M.appendChild(V);F=_.L("td","left");V.appendChild(F);
F.innerHTML="<b>"+A[q]+"</b>";F=_.L("td");V.appendChild(F);F.appendChild(A[q+1].R);F=_.L("td");V.appendChild(F);
F.appendChild(A[q+2].R)}return M};mm.LZ.prototype.EJL=function(A){var M=this.aA.indexOf(A.currentTarget);
if(!zz.N$()){alert("You must log in before buying Premium");return}if(this.rX.c()==!1&&M<6){alert("You must accept Terms of Service");
return}var q=(M&1)==0?30:90,V=[1,5,20,1e3,5e3,2e4][Math.floor(M/2)],F=zz.N$()&&zz.mP().premium*1e3>Date.now();
if(F&&V<1e3){alert("You already have premium.");return}zz.order(q,V,this.LB.bind(this));this.LQ()};mm.LZ.prototype.LB=function(A){if(zz.N$()&&zz.mP().msg)alert(zz.mP().msg);
this.La();this.LQ()};mm.LZ.prototype.qh=function(A){if(zz.N$()){zz.EGY();this.LQ();this.La(null,null,null)}else zz.qh(this.EEl.bind(this))};
mm.LZ.prototype.EEl=function(){var A=new N(_.E.K,!0);A.data={H:_.u.Ezo};this.t(A)};mm.LZ.prototype.LQ=function(){var A=new N(_.E.K,!0);
A.data={H:_.u.kG};this.t(A)};mm.L_=function(){Es.call(this);this.R=_.L("div");var A=this.R,M=this.Ezv=new Ef([0,13,2],!1,null,!0);
M.l("click",this.EEH,this);A.appendChild(M.R);var q=_.L("div","");q.innerHTML=mm.L_.EEh;A.appendChild(q)};
mm.L_.prototype=new Es;mm.L_.prototype.EEH=function(A){var M=new N("showpage",!0);M.data={eE:0};this.t(M)};
mm.L_.prototype.D=function(){this.Ezv.D()};mm.L_.EEh="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function mJ(A){mE.call(this,zG.names[A],"adjust_"+A);this.BW=A;this.jE=null;this.W=_.L("div","form");
this.W.setAttribute("style","width:24em");this.body.appendChild(this.W);this.kc=new EX[A];this.kc.l(_.E.N,this.bp,this);
this.W.appendChild(this.kc.R);this.kc.parent=this;this.SW=new Ef("OK",!0,null,!0);this.SW.l("click",this.Ay,this);
this.W.appendChild(this.SW.R);this.l("closebtn",this.Lu,this)}mJ.prototype=new mE;mJ.prototype.cs=function(){return!0};
mJ.prototype.Lj=function(A,M){return A!=null};mJ.prototype.D=function(){mE.prototype.D.call(this);if(this.kc)this.kc.D()};
mJ.prototype.bp=function(A){this.Ld({H:"edit",lI:this.kc.c()})};mJ.prototype.Lu=function(A){this.Ld({H:"cancel"})};
mJ.prototype.Ay=function(A){this.jE=this.kc.c();this.Ld({H:"confirm"});this.close()};mJ.prototype.La=function(A,M,q,V){if(V.j(R.fQ)&&this.jE)this.kc.P(this.jE);
else{var F={};zG.PO(this.BW,F);var H=zG.Dm(F);this.kc.P(H)}var w=Jw.pu.getData(A),C=Q.mw(w[0]._v);this.kc.LW(C);
this.bp(null)};mJ.prototype.cr=function(A,M){this.kc.cr(A,M)};mJ.prototype.Ld=function(A){var M=new N(_.E.V,!0);
A.BW=this.BW;M.data=A;M.v=d.AU;M.Xk=!0;this.t(M)};function mz(){mE.call(this,[11,0],"camera");this.data=null;
this.W=_.L("div","form hbar");this.body.appendChild(this.W);this.Ezl=new EC(null,[]);this.Uz=new EV([21,0],[[21,2],[21,1]]);
this.W.appendChild(this.Uz.R);this.Rw=new Ef([11,0],!1,null,!0);this.Rw.l("click",this.ERi,this);this.W.appendChild(this.Rw.R);
this.stream=null;this.FS=_.L("video","");this.FS.setAttribute("autoplay","true");this.body.appendChild(this.FS);
this.Wm=new E$("");this.body.appendChild(this.Wm.R);this.mj=this.EmD.bind(this);this.IP=this.Eoa.bind(this);
this.Ezs=this.ZE.bind(this);this.l("closebtn",this.EGa,this)}mz.prototype=new mE;mz.prototype.D=function(){mE.prototype.D.call(this);
this.Uz.D();this.Rw.D();this.ZE()};mz.prototype.jv=function(){var A=this.FS.videoWidth,M=this.FS.videoHeight,q=_.L("canvas","");
q.width=A;q.height=M;var V=q.getContext("2d");V.drawImage(this.FS,0,0,A,M);var F=V.getImageData(0,0,A,M);
return{eG:new U(0,0,A,M),data:F.data.buffer}};mz.prototype.ERi=function(A){if(this.Uz.c()==0)this.EmP();
else this.EoS()};mz.prototype.EoS=function(){var A=this.jv(),M={buffer:new Uint8Array(A.data),rect:A.eG},q=new N(_.E.V,!0);
q.Xk=!0;q.v=d.AH;q.data={H:S.MW,dK:M};this.t(q);alert(zJ.get([21,4]))};mz.prototype.EmP=function(){var A=this.jv(),M=JZ.IQ("camera",[A]),q=new N(_.E.K,!0);
q.data={H:_.u.Sy,wb:M};this.t(q);alert(zJ.get([21,5]))};mz.prototype.La=function(A,M,q){var V={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(V).then(this.mj).catch(this.IP);
else navigator.webkitGetUserMedia(V,this.mj,this.IP)};mz.prototype.EmD=function(A){this.stream=A;if(this.FS.srcObject)this.FS.srcObject=A;
else this.FS.src=window.URL.createObjectURL(A);this.FS.addEventListener("loadedmetadata",this.Ezs,!1)};
mz.prototype.ZE=function(A){var M=this.FS.videoWidth,q=this.FS.videoHeight;this.Wm.P(zJ.get([21,3])+":"+M+" x "+q+" px");
this.FS.setAttribute("style","display: block; width: "+Math.round(M/2)+"px; height:"+Math.round(q/2)+"px;")};
mz.prototype.Eoa=function(A){console.log("error",A);alert(zJ.get([21,6]));this.close()};mz.prototype.EGa=function(A){if(this.stream!=null){this.stream.getTracks()[0].stop();
this.FS.src="";this.stream=null}};function mG(){mE.call(this,[7,8],"crange");this.Jg=null;this.Zr=0;
this.iZ=0;this.mM=null;this.W=_.L("div","form");this.W.setAttribute("style","width:18em");this.body.appendChild(this.W);
this.vD=new Ew("Fuzziness",0,200);this.vD.P(40);this.vD.l(_.E.N,this.Lh,this);this.W.appendChild(this.vD.R);
this.vJ=_.L("canvas");this.W.appendChild(this.vJ);this.Kb=new Ef("OK",!0,null,!0);this.Kb.l("click",this.create,this);
this.body.appendChild(this.Kb.R)}mG.prototype=new mE;mG.prototype.Lj=function(A,M){return A!=null};mG.prototype.LM=function(){return!0};
mG.prototype.cJ=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y);this.Zr=Math.max(0,Math.min(A.n-1,Math.floor(H.x)));
this.iZ=Math.max(0,Math.min(A.J-1,Math.floor(H.y)));this.Lh()};mG.prototype.D=function(){mE.prototype.D.call(this)};
mG.prototype.create=function(A){var M=new N(_.E.V,!0);M.v=d.cP;M.data={H:"setsel",KY:[7,8],q:{rect:new U(0,0,this.Jg.n,this.Jg.J),channel:this.mM}};
M.Xk=!0;this.t(M);this.close()};mG.prototype.La=function(A,M){this.Jg=A;this.Zr=0;this.iZ=0;this.Lh()};
mG.prototype.Lh=function(){var A=this.Jg,M=this.Zr,q=this.iZ,V=this.vJ,F=V.getContext("2d"),H=Math.floor(230*_.F()),w=Math.floor(H*(A.J/A.n));
V.width=H;V.height=w;_.SA(V,H,w);var C=new U(0,0,A.n,A.J),r=A.n*A.J,G=A.jv(),J=this.mM=Q.b(r),m=(q*A.n+M)*4,u=1/255,W=G[m]*u,y=G[m+1]*u,O=G[m+2]*u,h=Q.Ed(W,y,O),I=this.vD.c()/200,Z=1/I,L=1/Math.sqrt(3);
for(var Y=0;Y<r;Y++){var B=Y<<2,X=G[B]*u,E=G[B+1]*u,c=G[B+2]*u,o=Q.Ed(X,E,c),s=Q.EN(o.eU,h.eU);if(o.et==1||h.et==1)s=0;
var z=Math.abs(o.eD-h.eD),k=Math.abs(o.et-h.et),b=Math.sqrt((W-X)*(W-X)+(y-E)*(y-E)+(O-c)*(O-c))*L,T=b<=I?1-b*Z:0;
J[Y]=255*T*(1-s)}var l=Q.b(J.length*4);Q.mh(l,4294967295);for(var Y=0;Y<3;Y++)Q.mr(J,l,Y);var $=d.f.xF([l,C],new zo(H/A.n,0,0,w/A.J,0,0)),e=F.createImageData($.rect.n,$.rect.J);
Q.mc($.buffer,e.data);F.putImageData(e,0,0)};function mo(){mE.call(this,[11,1],"colorpicker");this.aN=null;
this.Cj=null;this.IK=null;this.Zl=!1;this.Uh=!1;var A=_.L("div","flexrow"),H,w;this.body.appendChild(A);
this.hd=new f;this.UF=new f;this.rU=this.ZR.bind(this);this.r_=this.Ezt.bind(this);this.Ix=_.L("canvas","");
this.bs=this.Ix.getContext("2d");this.Ix.width=this.Ix.height=256;_.Ss(this.Ix);_.SR(this.Ix,this.Ezb.bind(this));
A.appendChild(this.Ix);this.If=this.Zh.bind(this);this.WD=this.EHU.bind(this);this.PN=_.L("canvas","");
this.Tr=this.PN.getContext("2d");this.PN.width=20;this.PN.height=256;_.Ss(this.PN);_.SR(this.PN,this.EzA.bind(this));
A.appendChild(this.PN);var M=_.L("div","form");M.setAttribute("style","width:16em; margin-left:1em;");
A.appendChild(M);this.WV=_.L("div","full");M.appendChild(this.WV);this.ZI=_.L("div","full");M.appendChild(this.ZI);
var q=_.L("div","flexrow");M.appendChild(q);var V=_.L("div"),F=_.L("div");q.appendChild(V);q.appendChild(F);
H=["R","G","B"];w=V;this.Rg=[];for(var C=0;C<3;C++){var r=new Ee(H[C],0,255,null,0,!1,!0);this.Rg.push(r);
r.l(_.E.N,this.ElX,this);w.appendChild(r.R)}H=["H","S","B"];w=F;this.ZU=[];for(var C=0;C<3;C++){var G=0,J=360,m="\xB0";
if(C!=0){J=100;m="%"}var r=new Ee(H[C],G,J,m,0,!1,!0);this.ZU.push(r);r.l(_.E.N,this.EEs,this);w.appendChild(r.R)}this.NQ=new E_("Hex");
this.NQ.l(_.E.N,this.Zv,this);M.appendChild(this.NQ.R);this.oX=new ED(10);this.oX.l(_.E.N,this.Zv,this);
M.appendChild(this.oX.R);this.SW=new Ef("OK",!0,null,!0);this.SW.l("click",this.Zs,this);M.appendChild(this.SW.R);
this.l("closebtn",this.Lu,this);this.vA=!1}mo.prototype=new mE;mo.prototype.LM=function(){return!0};
mo.prototype.cJ=function(A,M,q,V,F){this.vA=!0;this.Zz(A,F)};mo.prototype.cz=function(A,M,q,V,F){if(!this.vA)return;
this.Zz(A,F)};mo.prototype.cG=function(A,M,q,V,F){this.vA=!1};mo.prototype.Zz=function(A,M){var q=d.gm.gz(A,M,1),V=q&255,F=q>>8&255,H=q>>16&255;
this.Cj={e:H/255,g:F/255,$:V/255};this.update()};mo.prototype.ElX=function(A){var M=this.Rg,q=this.as(parseInt(M[0].c())),V=this.as(parseInt(M[1].c())),F=this.as(parseInt(M[2].c()));
this.Cj={e:q/255,g:V/255,$:F/255};this.update()};mo.prototype.EEs=function(A){var M=this.ZU,q=this.Zg(parseInt(M[0].c())/360),V=this.Zg(parseInt(M[1].c())/100),F=this.Zg(parseInt(M[2].c())/100);
this.Cj=Q.mn(q,V,F);this.UF.y=(1-q)*255;this.update()};mo.prototype.Zv=function(A){var M=A.currentTarget==this.oX?this.oX.c():Q.E$(this.NQ.c());
this.Cj={e:(M>>16&255)/255,g:(M>>8&255)/255,$:(M&255)/255};this.update()};mo.prototype.Ezb=function(A){_.SH(window,this.rU);
_.Sr(window,this.r_);this.ZR(A)};mo.prototype.Ezt=function(A){_.Sh(window,this.rU);_.ST(window,this.r_)};
mo.prototype.ZR=function(A){var M=_.Sg(A,this.Ix);this.hd.HT(this.as(M.x),this.as(M.y));this.Cj=this.ZH();
this.update()};mo.prototype.ZH=function(){var A=Q.mn((255-this.as(this.UF.y))/255,this.Zg(this.hd.x/255),this.Zg(1-this.hd.y/255));
return{e:A.e,g:A.g,$:A.$}};mo.prototype.EzA=function(A){_.SH(window,this.If);_.Sr(window,this.WD);this.Zh(A)};
mo.prototype.EHU=function(A){_.Sh(window,this.If);_.ST(window,this.WD)};mo.prototype.Zh=function(A){var M=_.Sg(A,this.PN);
this.UF.HT(this.as(M.x),this.as(M.y));this.Cj=this.ZH();this.update()};mo.prototype.ZT=function(A){var M=A.e,q=A.g,V=A.$;
return Math.round(M*255)<<16|Math.round(q*255)<<8|Math.round(V*255)};mo.prototype.Zs=function(A){var M=this.ZT(this.Cj);
this.oX.P(M);this.IK(M);this.close()};mo.prototype.Lu=function(A){if(this.Zl)this.IK(this.ZT(this.aN))};
mo.prototype.La=function(A,M){this.vA=!1;this.IK=M.EnP;this.Zl=!1;this.Uh=M.EnD;var q=M.PB;this.Cj={e:(q>>16&255)/255,g:(q>>8&255)/255,$:(q>>0&255)/255};
this.aN=JSON.parse(JSON.stringify(this.Cj));this.ZI.setAttribute("style","height:3em;background-color:#"+Q.EI(q)+";");
this.update()};mo.prototype.update=function(){var A=this.Cj,M=this.ZT(A),q=this.Rg;q[0].P(Math.round(A.e*255));
q[1].P(Math.round(A.g*255));q[2].P(Math.round(A.$*255));this.NQ.P(Q.EI(M));this.WV.setAttribute("style","height:3em;background-color:#"+Q.EI(M)+";");
var V=Q.EX(A.e,A.g,A.$);if(V.lI==0)V.eD=this.hd.x/255;if(V.eD==0||V.lI==0)V.eU=(255-this.as(this.UF.y))/255;
q=this.ZU;q[0].P(Math.round(V.eU*360));q[1].P(Math.round(V.eD*100));q[2].P(Math.round(V.lI*100));if(V.lI!=0)this.hd.x=V.eD*255;
this.hd.y=(1-V.lI)*255;this.UF.y=(1-V.eU)*255;var F=this.bs.getImageData(0,0,256,256);this.Emx(F.data,256,256,V.eU);
this.bs.putImageData(F,0,0);this.bs.strokeStyle="#000000";this.bs.beginPath();this.bs.arc(this.hd.x+1,this.hd.y+1,5,0,2*Math.PI);
this.bs.stroke();this.bs.strokeStyle="#ffffff";this.bs.beginPath();this.bs.arc(this.hd.x,this.hd.y,5,0,2*Math.PI);
this.bs.stroke();var F=this.Tr.getImageData(0,0,20,256);this.EoK(F.data,20,256);this.Tr.putImageData(F,0,0);
this.Tr.strokeStyle="#ffffff";this.Tr.beginPath();this.Tr.moveTo(0,this.UF.y);this.Tr.lineTo(20,this.UF.y);
this.Tr.lineWidth=2;this.Tr.stroke();if(this.Uh){this.IK(this.ZT(this.Cj));this.Zl=!0}};mo.prototype.Emx=function(A,M,q,V){for(var F=0;
F<q;F++)for(var H=0;H<M;H++){var w=Q.mn(V,H/M,(q-F-1)/q),C=F*M+H<<2;A[C+0]=~~(w.e*255);A[C+1]=~~(w.g*255);
A[C+2]=~~(w.$*255);A[C+3]=255}};mo.prototype.EoK=function(A,M,q){for(var V=0;V<q;V++){var F=Q.mn(1-V/q,1,1);
for(var H=0;H<M;H++){var w=4*(V*M+H);A[w+0]=F.e*255;A[w+1]=F.g*255;A[w+2]=F.$*255;A[w+3]=255}}};mo.prototype.as=function(A){return Math.max(0,Math.min(255,A))};
mo.prototype.Zg=function(A){return Math.max(0,Math.min(1,A))};function mv(){mE.call(this,[11,2],"contoureditor");
this.WN=null;this.zS=null;this.response=null;this.FF=_.L("div","cell");this.body.appendChild(this.FF);
this.fI=_.L("div","cell padded");this.body.appendChild(this.fI);var A=_.L("div","bordered padded vmargin");
this.FF.appendChild(A);this.kc=new Ea;this.kc.l(_.E.N,this.Lc,this);A.appendChild(this.kc.R);this.SW=new Ef("OK",!0,null,!0);
this.SW.l("click",this.close,this);this.fI.appendChild(this.SW.R);this.coords=_.L("div","");this.coords.setAttribute("style","width:250px");
this.FF.appendChild(this.coords);this.hN=new E_("X (in)","%",4);this.hq=new E_("Y (out)","%",4);this.vm=new EL([19,3,0]);
this.hN.l(_.E.N,this.Zp,this);this.hq.l(_.E.N,this.Zp,this);this.vm.l(_.E.N,this.Zp,this);this.coords.appendChild(this.hN.R);
this.coords.appendChild(this.vm.R);this.coords.appendChild(this.hq.R);this.l("closebtn",this.gM,this)}mv.prototype=new mE;
mv.prototype.D=function(){mE.prototype.D.call(this);this.vm.D()};mv.prototype.Lc=function(A){this.zS.Crv.v=this.kc.c();
this.response(this.zS);this.Zx()};mv.prototype.gM=function(A){this.response(this.WN)};mv.prototype.La=function(A,M){this.WN=JSON.parse(JSON.stringify(M.B));
this.zS=M.B;this.response=M.response;this.kc.P(this.zS.Crv.v);this.Zx()};mv.prototype.Zx=function(){var A=this.kc.bA();
this.coords.setAttribute("class",A==-1?"disabled":"");if(A==-1)return;var M=this.zS.Crv.v[A].v;this.hN.P(Math.round(M.Hrzn.v*(100/255)));
this.hq.P(Math.round(M.Vrtc.v*(100/255)));this.vm.P(M.Cnty.v)};mv.prototype.Zp=function(A){var M=this.kc.bA(),q=this.zS.Crv.v[M];
q.v.Hrzn.v=parseFloat(this.hN.c())*(255/100);q.v.Vrtc.v=parseFloat(this.hq.c())*(255/100);q.v.Cnty.v=this.vm.c();
this.zS.Crv.v.sort(function(V,F){return V.v.Hrzn.v-F.v.Hrzn.v});this.kc.P(this.zS.Crv.v,this.zS.Crv.v.indexOf(q));
this.Zx();this.response(this.zS)};function mU(){mE.call(this,[11,3],"csize");this.vT=0;this.W=_.L("div","form");
this.W.setAttribute("style","width:22em");this.body.appendChild(this.W);this.QL=new Ei(!0);this.QL.EnS(!1);
this.W.appendChild(this.QL.R);this.vh=new EV("Align with",["Document","Offset"]);this.vh.l(_.E.N,this.EmA,this);
this.W.appendChild(this.vh.R);this.Ye=new Ex("Anchor");this.W.appendChild(this.Ye.R);this.Ye.P(4);this.vW=new EK(!1);
this.vW.EUW(new f(0,0));this.Kb=new Ef("OK",!0,null,!0);this.Kb.l("click",this.create,this);this.body.appendChild(this.Kb.R)}mU.prototype=new mE;
mU.prototype.Lj=function(A,M){return A!=null};mU.prototype.EmA=function(){var A=[this.Ye.R,this.vW.R];
this.W.removeChild(A[this.vT]);this.vT=this.vh.c();this.W.appendChild(A[this.vT])};mU.prototype.D=function(){mE.prototype.D.call(this);
this.QL.D();this.vh.D();this.Ye.D();this.vW.D()};mU.prototype.create=function(A){var M=this.QL.c(),q=M.x,V=M.y,F=new N(_.E.V,!0);
F.v=d.cC;F.data={H:"canvsize",wU:q,wl:V};if(this.vT==0)F.data.wH=this.Ye.c();else F.data._V=this.vW.EnM();
F.Xk=!0;this.t(F);this.close()};mU.prototype.La=function(A,M){this.QL.P(new f(A.n,A.J))};function ml(){mE.call(this,[11,4],"duplinto");
this.T=null;this.XV=null;this.lJ=null;this.W=_.L("div","form");this.W.setAttribute("style","width:18em");
this.body.appendChild(this.W);this.md=new EC([12,43],["abc","def"]);this.md.l(_.E.N,this.ZP,this);this.W.appendChild(this.md.R);
this.Qe=new E_([12,48]);this.W.appendChild(this.Qe.R);this.SW=new Ef("OK",!0,null,!0);this.SW.l("click",this.Zs,this);
this.W.appendChild(this.SW.R)}ml.prototype=new mE;ml.prototype.D=function(){mE.prototype.D.call(this);
this.md.D();this.Qe.D()};ml.prototype.ZP=function(A){var M=this.md.c();if(M==this.lJ.length)this.Qe.kA();
else this.Qe.kg()};ml.prototype.La=function(A,M,q){this.T=M.T;this.XV=A;this.lJ=q;this.Qe.P(M.T[M.T.length-1].getName());
var V=[];for(var F=0;F<q.length;F++)V.push(q[F].name);V.push([11,7]);this.md.bg(V);this.md.P(q.indexOf(A));
this.ZP(null)};ml.prototype.Zs=function(A){var M=this.md.c();if(M==this.lJ.length){var q=new EE(this.Qe.c()+".psd");
q.n=this.XV.n;q.J=this.XV.J;q.buffer=Q.b(q.n*q.J*4);var V=q.jD();V.Dw("Background");q.jb([V]);var F=new N(_.E.K,!0);
F.data={H:_.u.Sy,wb:q};this.t(F)}var F=new N(_.E.V,!0);F.data={H:S.MU,T:this.T,dZ:this.XV,dY:this.lJ[M]};
F.v=d.AH;F.Xk=!0;this.t(F);this.close()};function mR(A){mE.call(this,mn[A]?Ju.names[A]:zG.names[A],"filter_"+A);
this.BW=A;this.Og=null;this.W=_.L("div","form");this.W.setAttribute("style","width:20.7em");this.body.appendChild(this.W);
this.kc=mn[A]?new mn[A]:new EX[A];this.kc.l(_.E.N,this.bp,this);this.W.appendChild(this.kc.R);this.kc.parent=this;
this.SW=new Ef("OK",!0,null,!0);this.SW.l("click",this.Ay,this);this.W.appendChild(this.SW.R);this.l("closebtn",this.Lu,this)}mR.prototype=new mE;
mR.prototype.cs=function(){return!0};mR.prototype.D=function(){mE.prototype.D.call(this);if(this.kc)this.kc.D()};
mR.prototype.cr=function(A,M){if(mn[this.BW]==null)this.kc.cr(A,M)};mR.prototype.bp=function(A){var M=this.kc.c();
if(mn[this.BW]==null){var q=Ju.DR(this.BW);M=zG.PF(this.BW,M,q)}this.Ld({H:"edit",lI:M})};mR.prototype.La=function(A,M){this.Og=M.Og;
if(EX[this.BW]){var q={};zG.PO(this.BW,q);this.kc.P(zG.Dm(q))}else if(mn[this.BW])this.kc.P(Ju.DR(this.BW));
if(M.Og){var V=A.T[this.Og.Q];if(V.tJ()){var F=V.add.SoLd.filterFX.v.filterFXList.v;if(F[this.Og.index]){var H=F[this.Og.index].v.Fltr.v;
if(mn[this.BW])this.kc.P(H);else this.kc.P(zG.DE(this.BW,H))}}}this.bp()};mR.prototype.Lu=function(A){this.Ld({H:"cancel"})};
mR.prototype.Ay=function(A){this.Ld({H:"confirm"});this.close()};mR.prototype.Ld=function(A){var M=new N(_.E.V,!0);
A.filter=this.BW;A.Og=this.Og;M.data=A;M.v=d.AW;M.Xk=!0;this.t(M)};function mH(){mE.call(this,[11,5],"gradienteditor");
this.NA=null;this.uv=null;this.response=null;_.Sn(this.body,"form");this.Qq=-1;this.Mm=-1;this.lT=-1;
this.lw=-1;this.WG=this.ke.bind(this);this.WT=this.kq.bind(this);this.Ix=_.L("canvas","");this.bs=this.Ix.getContext("2d");
this.Ix.setAttribute("style","display:block");this.sO=null;_.Ss(this.Ix);_.SR(this.Ix,this.kK.bind(this));
this.oN=new Ee("Smoothness:",0,100,"%");this.oN.l(_.E.N,this.Zj,this);this.oN.parent=this;this.body.appendChild(this.oN.R);
this.body.appendChild(_.L("br"));this.hL=new E$([12,0]);this.body.appendChild(this.hL.R);this.lu=_.L("div","bordered padded noalign");
this.body.appendChild(this.lu);this.FX=new Ee([12,0],0,100,"%");this.FX.parent=this;this.FX.l(_.E.N,this.Zj,this);
this.lu.appendChild(this.FX.R);this.zU=new Ee([12,40],0,100,"%");this.zU.parent=this;this.zU.l(_.E.N,this.Zj,this);
this.lu.appendChild(this.zU.R);this.IL=new Ef([5,4],!1,null,!0);this.IL.l("click",this.EJy,this);this.lu.appendChild(this.IL.R);
this.body.appendChild(this.Ix);this.body.appendChild(_.L("br"));this.W_=new E$([13,0]);this.body.appendChild(this.W_.R);
this.CD=_.L("div","bordered padded noalign");this.body.appendChild(this.CD);this.dr=new EC([12,44],[[12,45],[12,46],[12,47]]);
this.dr.l(_.E.N,this.Zj,this);this.CD.appendChild(this.dr.R);this.Hf=new EP(!0);this.Hf.parent=this;
this.Hf.l(_.E.N,this.Zj,this);this.CD.appendChild(this.Hf.R);this.zr=new Ee([12,40],0,100,"%");this.zr.parent=this;
this.zr.l(_.E.N,this.Zj,this);this.CD.appendChild(this.zr.R);this.ex=new Ef([5,4],!1,null,!0);this.ex.l("click",this.EGi,this);
this.CD.appendChild(this.ex.R);this.SW=new Ef("OK",!0,null,!0);this.SW.l("click",this.Zs,this);this.body.appendChild(this.SW.R)}mH.prototype=new mE;
mH.prototype.D=function(){mE.prototype.D.call(this);this.hL.D();this.W_.D();this.IL.D();this.ex.D();
this.FX.D();this.zU.D();this.dr.D();this.zr.D()};mH.prototype.cr=function(A,M){this.uv=A};mH.prototype.La=function(A,M){this.NA=JSON.parse(JSON.stringify(M.r));
this.Qq=this.Mm=-1;this.xH();this.ZM();this.response=M.response};mH.prototype.Zs=function(A){var M=this.NA;
this.response(M);this.close()};mH.prototype.EJy=function(A){var M=this.NA.Trns.v;if(this.Mm==-1||M.length==2)return;
M.splice(this.Mm,1);this.Mm=-1;this.xH();this.ZM()};mH.prototype.EGi=function(A){var M=this.NA.Clrs.v;
if(this.Qq==-1||M.length==2)return;M.splice(this.Qq,1);this.Qq=-1;this.xH();this.ZM()};mH.prototype.xH=function(){var A=this.Ix,M=this.bs,q=_.F();
A.width=Math.floor(410*q);A.height=Math.floor(90*q);_.SA(A,A.width,A.height);this.sO=new U(0,0,Math.floor(380*q),Math.floor(32*q));
this.sO.x=Math.floor((this.Ix.width-this.sO.n)/2);this.sO.y=Math.floor((this.Ix.height-this.sO.J)/2);
var V=this.sO,F=V.n,H=V.J,w=V.x,C=V.y,r=new U(0,0,F,H),G=M.getImageData(0,0,F,H),J=new Uint8Array(G.data.buffer);
Q.mz(J,F,H,8,0,0);var m=Q.b(F*H*4);Q.r.Gf(this.NA,m,r,[1/F,0,0,1/H],F/2,H/2,!1,0,this.uv._c,this.uv._A);
Q.S.JW("norm",m,V,J,V,V,1);M.clearRect(0,0,A.width,A.height);M.putImageData(G,w,C);var u=this.NA.Trns.v,W=this.NA.Clrs.v,y=Q.r.GP(W,this.uv._c,this.uv._A),O=Math.round(6*_.F()),h=Math.round(14*_.F());
for(var I=0;I<u.length;I++){var Z=u[I].v,L=Math.round(255-255*Z.Opct.v.val/100);if((I==this.Mm||I==this.Mm+1||I==this.lw)&&I!=0){M.fillStyle="#000000";
M.fillRect(w-3+F*(u[I-1].v.Lctn.v+(Z.Lctn.v-u[I-1].v.Lctn.v)*Z.Mdpn.v/100)/4096,C-6-2,6,6)}if(I==this.Mm){M.fillStyle="#ffffff";
M.fillRect(w-O+F*(Z.Lctn.v/4096)-2,C-2-h-2,2*O+4,h+4)}M.fillStyle="rgb("+L+","+L+","+L+")";M.fillRect(w-O+F*(Z.Lctn.v/4096),C-2-h,2*O,h)}for(var I=0;
I<W.length;I++){var Y=W[I].v,B=y[I];if((I==this.Qq||I==this.Qq+1||I==this.lT)&&I!=0){M.fillStyle="#000000";
M.fillRect(w-3+F*(W[I-1].v.Lctn.v+(Y.Lctn.v-W[I-1].v.Lctn.v)*Y.Mdpn.v/100)/4096,C+H+2,6,6)}if(I==this.Qq){M.fillStyle="#ffffff";
M.fillRect(w-O+F*(Y.Lctn.v/4096)-2,C+H+2-2,2*O+4,h+4)}M.fillStyle="rgb("+Math.round(B.e)+", "+Math.round(B.g)+","+Math.round(B.$)+")";
M.fillRect(w-O+F*(Y.Lctn.v/4096),C+H+2,2*O,h)}};mH.prototype.ZM=function(){this.oN.P(Math.round(100*this.NA.Intr.v/4096));
var A=this.NA.Trns.v,M=this.NA.Clrs.v;if(this.Mm==-1)this.lu.setAttribute("style","opacity:0.4; pointer-events:none");
else{this.lu.setAttribute("style","");var q=A[this.Mm].v;this.zU.P(Math.round(100*q.Lctn.v/4096));this.FX.P(q.Opct.v.val)}if(this.Qq==-1)this.CD.setAttribute("style","opacity:0.4; pointer-events:none");
else{this.CD.setAttribute("style","");var V=M[this.Qq].v;this.zr.P(Math.round(100*V.Lctn.v/4096));var F=V.Type.v.Clry;
this.dr.P(["FrgC","BckC","UsrS"].indexOf(F));if(F=="FrgC")this.Hf.bJ(this.uv._c);if(F=="BckC")this.Hf.bJ(this.uv._A);
if(F=="UsrS")this.Hf.P(V.Clr.v)}};mH.prototype.Zj=function(){var A=Math.round(4096*this.oN.c()/100);
this.NA.Intr.v=A;var M=this.NA.Trns.v,q=this.NA.Clrs.v;if(this.Mm!=-1){this.lu.setAttribute("style","");
var V=M[this.Mm].v;V.Lctn.v=Math.round(4096*(this.zU.c()/100));V.Opct.v.val=this.FX.c()}if(this.Qq!=-1){this.CD.setAttribute("style","");
var F=q[this.Qq].v;F.Lctn.v=Math.round(4096*(this.zr.c()/100));var H=this.dr.c();F.Type.v.Clry=["FrgC","BckC","UsrS"][H];
if(H==2)F.Clr={t:"Objc",v:this.Hf.c()};else if(F.Clr)delete F.Clr}this.xH()};mH.prototype.kK=function(A){var M=_.Sg(A,this.Ix),q=(M.x*_.F()-this.sO.x)/this.sO.n,V=(M.y*_.F()-this.sO.y)/this.sO.J,F=this.NA.Trns.v,H=this.NA.Clrs.v,w=-1,C=-1,r=-1,G=-1;
if(V<1)for(var J=0;J<F.length;J++){var m=F[J].v;if(Math.abs(m.Lctn.v/4096-q)<.02)w=J;if(J>0)if(Math.abs((F[J-1].v.Lctn.v+(m.Lctn.v-F[J-1].v.Lctn.v)*m.Mdpn.v/100)/4096-q)<.01)r=J}if(V>0)for(var J=0;
J<H.length;J++){var u=H[J].v;if(Math.abs(u.Lctn.v/4096-q)<.02)C=J;if(J>0)if(Math.abs((H[J-1].v.Lctn.v+(u.Lctn.v-H[J-1].v.Lctn.v)*u.Mdpn.v/100)/4096-q)<.01)G=J}if(C==-1&&w==-1&&r==-1&&G==-1){if(V<0){var m={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
m.v.Lctn.v=Math.round(q*4096);F.push(m);F.sort(this.Za);w=F.indexOf(m)}if(V>1){var H=this.NA.Clrs.v,W=Q.r.GP(H,this.uv._c,this.uv._A),y=Q.r.Gj(this.NA,W,q),u={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:Q.r.Gt({e:y&255,g:y>>8&255,$:y>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
u.v.Lctn.v=Math.round(q*4096);H.push(u);H.sort(this.Za);C=H.indexOf(u)}}if(C>-1||w>-1||r>-1||G>-1){this.Mm=w;
this.Qq=C;this.lw=r;this.lT=G;this.ZM();this.xH();_.SH(document.body,this.WG);_.Sr(document.body,this.WT)}};
mH.prototype.ke=function(A){var M=_.Sg(A,this.Ix),q=_.F()*(M.x-this.sO.x)/this.sO.n,V=_.F()*(M.y-this.sO.y)/this.sO.J;
q=Math.max(0,Math.min(1,q));var F=this.NA.Trns.v,H=this.NA.Clrs.v;if(this.Mm>-1){var w=F[this.Mm].v;
w.Lctn.v=Math.round(4096*q);F.sort(this.Za);this.Mm=F.indexOf(F[this.Mm])}if(this.Qq>-1){var C=H[this.Qq].v;
C.Lctn.v=Math.round(4096*q);H.sort(this.Za);this.Qq=H.indexOf(H[this.Qq])}if(this.lw>-1){var w=F[this.lw].v;
w.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(q*4096-F[this.lw-1].v.Lctn.v)/(w.Lctn.v-F[this.lw-1].v.Lctn.v))))}if(this.lT>-1){var C=H[this.lT].v;
C.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(q*4096-H[this.lT-1].v.Lctn.v)/(C.Lctn.v-H[this.lT-1].v.Lctn.v))))}if(this.Mm>-1||this.Qq>-1||this.lw>-1||this.lT>-1){this.ZM();
this.xH()}};mH.prototype.kq=function(A){_.Sh(document.body,this.WG);_.ST(document.body,this.WT);if(A.detail==2&&this.Qq!=-1)this.Hf.bE()};
mH.prototype.Za=function(A,M){return A.v.Lctn.v-M.v.Lctn.v};function mr(){mE.call(this,[11,10],"isize");
this.W=_.L("div","form");this.W.setAttribute("style","width:18em");this.body.appendChild(this.W);this.QL=new Ei(!0);
this.W.appendChild(this.QL.R);this.QS=new EC("Interpolate",["Nearest","Bilinear"]);this.QS.P(1);this.QS.l(_.E.N,this.IT,this);
this.W.appendChild(this.QS.R);this.Kb=new Ef("OK",!0,null,!0);this.Kb.l("click",this.create,this);this.body.appendChild(this.Kb.R)}mr.prototype=new mE;
mr.prototype.Lj=function(A,M){return A!=null};mr.prototype.D=function(){mE.prototype.D.call(this);this.QS.D();
this.QL.D()};mr.prototype.create=function(A){var M=this.QL.c(),q=M.x,V=M.y,F=new N(_.E.V,!0);F.v=d.cC;
F.data={H:"imgsize",wU:q,wl:V,wR:this.QS.c()};F.Xk=!0;this.t(F);this.close()};mr.prototype.La=function(A,M){this.QL.P(new f(A.n,A.J))};
function mW(A,M,q){Es.call(this);this.R=_.L("div","");this.Dg=A;this.bG=null;this.LD=M==null?!1:M;this.im=null;
this.zP=q;this.ep=[];this.m_=[];this.YK=[];this.I=[];this.oI=0;this.bG=this.Emu(mW.I[A]);this.CF()}mW.prototype=new Es;
mW.prototype.EHR=function(){for(var A=0;A<this.I.length;A++){_.SE(this.I[A],"selected");if(this.YK[A]instanceof EL)this.YK[A].P(!1)}};
mW.prototype.ERw=function(A){var M=this.ERC.bind(this);for(var q=0;q<this.YK.length;q++){var V=_.L("div","listitem");
this.I.push(V);if(q>0)V.textContent="\u2003";V.appendChild(this.YK[q].R);if(j.EGZ.indexOf(this.Dg)!=-1){var F=new Ef("+");
F.kO();F.R.style.float="right";V.appendChild(F.R)}V.addEventListener("click",M,!1);A.appendChild(V)}};
mW.prototype.ERC=function(A){var M=A.target.tagName.toLowerCase();if(M=="input"){return}if(M=="button"){var q=new N(_.E.V,!0);
q.data={H:"st_dupsingle",Q:this.parent.data.Q,oA:this.zP};q.v=d.Ar;q.Xk=!0;this.t(q);this.t(new N("redrawall",!0));
return}A.preventDefault();A.stopPropagation();this.Zk();this.oI=this.I.indexOf(A.currentTarget);this.t(new N("showme"))};
mW.prototype.Zk=function(){if(this.bG.enab&&this.bG.enab.c()==!1)this.Ld({CB:"enab",o:!0})};mW.prototype.Ell=function(){var A=this.I[this.oI];
if(A)_.Sn(A,"selected");return this.m_[this.oI]};mW.prototype.Emu=function(A){var M={};for(var q=0;q<A.length;
q++){var V=A[q],F=null;if(V=="----")F={R:_.L("hr","")};if(V=="blOptions")F=new E$([14,10]);if(V=="brst")F=new MultiCheck([12,72],["R","G","B"]);
if(V=="knko")F=new EC("Knockout",[[13,1,0],"Shallow","Deep"]);if(V=="enab")F=new EL(j.names[j.order.indexOf(this.Dg)]);
if(V=="lrMd"||V=="Md")F=new EC([12,19],zU.Dx);if(V=="Opct")F=new EY([12,0],0,100,"%");if(V=="iOpa")F=new EY([12,26],0,100,"%");
if(V=="ShdN")F=new EY([12,68],0,100,"%");if(V=="lagl"||V=="Angl")F=new Eg([12,15]);if(V=="uglg")F=new EL([12,27]);
if(V=="Dstn")F=new EY([12,28],0,200,"px");if(V=="Ckmt")F=new EY([12,29],0,100,"%");if(V=="blur")F=new EY([12,14],0,200,"px");
if(V=="TrnS"||V=="MpgS")F=new Et([12,21]);if(V=="Nose")F=new EY([12,30],0,100,"%");if(V=="layerConceals")F=new EL([12,31]);
if(V=="AntA"||V=="antialiasGloss")F=new EL("Anti-alias");if(V=="GlwT")F=new EC([12,32],j.jF.names);if(V=="glwS")F=new EC([12,70],j.jF.ERk);
if(V=="Inpr")F=new EY([12,12],1,100,"%");if(V=="bvlS")F=new EC([12,22],j.aE.style);if(V=="bvlT")F=new EC([12,32],j.aE.ERj);
if(V=="bvlD")F=new EC(null,j.aE.dir);if(V=="srgR")F=new EY([12,34],0,1e3,"%");if(V=="Sftn")F=new EY([12,35],0,20,"px");
if(V=="Lald")F=M.lagl;if(V=="hglM"||V=="sdwM")F=new EC([12,36],zU.Dx);if(V=="hglC"||V=="sdwC")F=new EP;
if(V=="hglO"||V=="sdwO")F=new EY([12,0],0,100,"%");if(V=="Invr"||V=="InvT")F=new EL([4,11]);if(V=="Sz")F=new EY([12,14],1,200,"px");
if(V=="Styl")F=new EC([12,40],j.stroke.names);if(V=="PntT")F=new EC([12,66],j.stroke.EUl);if(V=="Clr")F=new EP(!0);
if(V=="Grad")F=new Eb(!0,[12,37]);if(V=="Rvrs")F=new EL([12,23]);if(V=="Type")F=new EC([12,22],j.r.names.slice(0,this.Dg=="FrFX"?6:5));
if(V=="Ptrn")F=new Ej([12,62]);if(V=="Scl")F=new EY([12,38],10,100,"%",0,!0);if(V=="Algn")F=new EL([12,39]);
if(V=="Ofst")F=new EK(!0);if(V=="phase")F=new EK(!1);if(V=="useShape")F=new EL([12,21]);if(V=="useTexture")F=new EL([12,67]);
if(V=="textureDepth")F=new EY("Depth",-300,300,"%");if(F!=null)M[V]=F}return M};mW.prototype.EmF=function(A){var M=this.m_[this.oI];
for(var q=0;q<A.length;q++){var V=this.bG[A[q]];if(V&&M.contains(V.R))M.removeChild(V.R)}};mW.prototype.EUw=function(A){var M=this.m_[this.oI];
for(var q=0;q<A.length;q++){var V=this.bG[A[q]];if(V&&!M.contains(V.R))M.appendChild(V.R)}};mW.prototype.cr=function(A,M){if(this.bG==null)return;
var q=M==EW.fo;if(this.bG.Grad){this.bG.Grad.bq(A._c,A._A);if(q||M==EW.fg||M==EW.fU)this.bG.Grad.k_(A.zi)}if(this.bG.Ptrn){if(q||M==EW.fW)this.bG.Ptrn.k_(A.de)}if(this.bG.TrnS){if(q||M==EW.fH)this.bG.TrnS.k_(A.oj)}if(this.bG.MpgS){if(q||M==EW.fH)this.bG.MpgS.k_(A.oj)}};
mW.prototype.D=function(){for(var A=0;A<this.ep.length;A++)this.ep[A].D();for(var M in this.bG)if(this.bG[M]instanceof Es)this.bG[M].D()};
mW.prototype.CF=function(){for(var A in this.bG){var M=this.bG[A];M.parent=this;if(M instanceof Es)M.l(_.E.N,this.EJt,this);
if(this.m_.length==0||A=="useShape"||A=="useTexture"){var q=new E$(M.bN()),V=_.L("div","bordered padded");
if(this.LD==!1){V.appendChild(q.R);V.appendChild(_.L("hr",""))}this.ep.push(q);this.m_.push(V);this.YK.push(M)}else this.m_[this.m_.length-1].appendChild(M.R)}};
mW.prototype.update=function(A,M){if(this.bG==null)return;if(this.LD)this.im=JSON.parse(JSON.stringify(M));
for(var q in M){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(q)!=-1)this.bG[q].P(M[q].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(q)!=-1){this.bG[q].P(M[q].v,A)}if(["Md","hglM","sdwM"].indexOf(q)!=-1)this.bG[q].P(zU.Dg.indexOf(M[q].v.BlnM));
if(q=="lrMd"){var V=(M.Da?["Pass Through"]:[]).concat(zU.Dx);this.bG[q].bg(V);this.bG[q].P(M[q].v)}if(q=="lagl"){var F=M.uglg&&M.uglg.v?A.js():M.lagl.v.val;
this.bG[q].P(F)}if(q=="Lald"){var F=M.uglg&&M.uglg.v?A.jA():M.Lald.v.val;this.bG[q].P(null,F)}if(q=="Type")this.bG[q].P(j.r.types.indexOf(M.Type.v.GrdT));
if(q=="Styl")this.bG[q].P(j.stroke.types.indexOf(M.Styl.v.FStl));if(q=="PntT"){var H=j.stroke.jd.indexOf(M.PntT.v.FrFl);
this.bG[q].P(H);if(!this.LD){this.EmF(j.jq.concat(j.jB.concat(j.jN)));this.EUw([j.jq,j.jB,j.jN][H])}}if(q=="GlwT")this.bG[q].P(j.jF.types.indexOf(M.GlwT.v.BETE));
if(q=="glwS")this.bG[q].P(j.jF.jX.indexOf(M.GlwT.v.IGSr));if(q=="bvlS")this.bG[q].P(j.aE.types.indexOf(M.bvlS.v.BESl));
if(q=="bvlT")this.bG[q].P(j.aE.am.indexOf(M.bvlT.v.bvlT));if(q=="bvlD")this.bG[q].P(["In","Out"].indexOf(M.bvlD.v.BESs))}};
mW.prototype.EJt=function(A){for(var M in this.bG){if(this.bG[M]!=A.target)continue;var q=null,V=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(M)!=-1)q={type:"#Prc",val:A.target.c()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(M)!=-1)q={type:"#Pxl",val:A.target.c()};if(["Angl","lagl"].indexOf(M)!=-1)q={type:"#Ang",val:A.target.c().vL};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(M)!=-1)q=A.target.c();
if(["Md","hglM","sdwM"].indexOf(M)!=-1)q={BlnM:zU.Dg[A.target.c()]};if(M=="uglg"){q=A.target.c();V=!0}if(M=="PntT"){q={FrFl:j.stroke.jd[A.target.c()]};
V=!0}if(M=="Lald")q={type:"#Ang",val:A.target.c().alt};if(M=="Type")q={GrdT:j.r.types[A.target.c()]};
if(M=="Styl")q={FStl:j.stroke.types[A.target.c()]};if(M=="GlwT")q={BETE:j.jF.types[A.target.c()]};if(M=="glwS")q={IGSr:j.jF.jX[A.target.c()]};
if(M=="bvlS")q={BESl:j.aE.types[A.target.c()]};if(M=="bvlT")q={bvlT:j.aE.am[A.target.c()]};if(M=="bvlD")q={BESs:["In","Out"][A.target.c()]};
this.Ld({CB:M,o:q});if(V){if(this.LD)this.update(null,this.im);else{var F=this.parent.wb.T[this.parent.data.Q].add.lmfx[j.jK[this.zP[0]]].v[this.zP[1]].v;
this.update(this.parent.wb,F)}}}};mW.prototype.Ld=function(A){if(this.LD){this.im[A.CB].v=A.o;this.t(new N(_.E.N))}else{A.H="changeprop";
A.Q=this.parent.data.Q;A.eE=this.zP;var M=new N(_.E.V,!0);M.data=A;M.v=d.Ar;M.Xk=!0;this.t(M)}};mW.prototype.c=function(){return JSON.parse(JSON.stringify(this.im))};
mW.I={bops:["blOptions","lrMd","Opct","iOpa"],DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose".split(" "),OrGl:"enab Md Clr Grad Opct Nose GlwT Ckmt blur TrnS AntA Inpr ShdN".split(" "),IrGl:"enab Md Clr Grad Opct Nose GlwT glwS Ckmt blur TrnS AntA Inpr ShdN".split(" "),ebbl:"enab bvlS bvlT bvlD srgR blur Sftn ---- lagl Lald uglg TrnS antialiasGloss hglM hglC hglO sdwM sdwC sdwO useShape MpgS AntA Inpr useTexture Ptrn Scl textureDepth InvT Algn phase".split(" "),SoFi:["enab","Md","Opct"].concat(j.jq),GrFl:["enab","Md","Opct"].concat(j.jB),patternFill:["enab","Md","Opct"].concat(j.jN),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS AntA Invr".split(" "),FrFX:"enab Sz Styl Md Opct PntT".split(" ").concat(j.jq.concat(j.jB.concat(j.jN)))};
function mh(){mE.call(this,[11,6],"layerstyle");this.EGA=-1;this.data={};this.wb=null;this.FP=null;this.Bh=[];
this.Gg=[];_.Sn(this.body,"flexrow");this.FF=_.L("div","bordered");this.FF.setAttribute("style","min-width:12em;");
this.body.appendChild(this.FF);this.yb=_.L("div","");this.yb.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.yb);this.fI=_.L("div","");this.fI.setAttribute("style","width: 2em; padding-left: 1em;");
this.body.appendChild(this.fI);this.SW=new Ef("OK",!1,null,!0);this.SW.l("click",this.Ay,this);this.fI.appendChild(this.SW.R);
this.l("closebtn",this.Lu,this);this.l("redrawall",this.EUK,this)}mh.prototype=new mE;mh.prototype.cs=function(){return!0};
mh.prototype.EJB=function(A){this.data.index=A.currentTarget.zP;this.Ze(A.currentTarget.zP)};mh.prototype.EUK=function(A){this.La(this.wb,this.data)};
mh.prototype.Ze=function(A,M){_.CX(this.yb);for(var q=0;q<this.Bh.length;q++)this.Bh[q].EHR();var V=A==0?this.Bh[0]:this.Gg[A[0]][A[1]];
this.yb.appendChild(V.Ell());if(M)V.Zk();var F=this.wb;if(F){var H=F.T[this.data.Q];this.Bh[0].update(F,Jw.pk.pb(F,H));
var w=H.add.lmfx;if(w==null)return;for(var q=0;q<j.order.length;q++){var C=w[j.jK[q]].v;for(var r=0;
r<C.length;r++)this.Gg[q][r].update(F,C[r].v)}}if(M)V.Zk()};mh.prototype.D=function(){mE.prototype.D.call(this);
for(var A=0;A<this.Bh.length;A++)this.Bh[A].D()};mh.prototype.La=function(A,M){var q=M.Q==null;this.data.Q=M.Q;
this.data.index=M.index;M=this.data;this.wb=A;if(q)M.Q=A.k[0];_.CX(this.FF);var V=A.T[M.Q].add.lmfx;
this.Bh=[new mW("bops",!1,0)];this.Gg=[];for(var F=0;F<j.order.length;F++){this.Gg.push([]);var H=V==null?[]:V[j.jK[F]].v;
for(var w=0;w<H.length;w++){var C=new mW(j.order[F],!1,[F,w]);this.Bh.push(C);this.Gg[F].push(C)}if(H.length==0){var C=new mW(j.order[F],!1,[F,0]);
this.Bh.push(C);this.Gg[F].push(C)}}this.D();this.cr(this.FP,EW.fo);for(var F=0;F<this.Bh.length;F++){this.Bh[F].parent=this;
this.Bh[F].ERw(this.FF);this.Bh[F].l("showme",this.EJB,this)}if(M.index==null)this.Ze(0);else this.Ze(M.index,q)};
mh.prototype.cr=function(A,M){this.FP=A;for(var q=0;q<this.Bh.length;q++)this.Bh[q].cr(A,M)};mh.prototype.Lu=function(A){this.Ld({H:"cancel"})};
mh.prototype.Ay=function(A){this.Ld({H:"confirm"});this.close()};mh.prototype.Ld=function(A){A.Q=this.data.Q;
var M=new N(_.E.V,!0);M.data=A;M.v=d.Ar;M.Xk=!0;this.t(M)};mh.Zq=function(){var A=[{name:[14,10],Ka:!0}];
for(var M=0;M<j.names.length;M++)A.push({name:j.names[M]});return A};mh.ZB=function(){var A=[{i:_.E.K,_:{H:_.u.S_,KL:"layerstyle"}}];
for(var M=0;M<j.names.length;M++)A.push({i:_.E.K,_:{H:_.u.S_,KL:"layerstyle",index:[M,0]}});return A};
mh.ZN=function(){var A=[];for(var M in zG.ready)A.push({name:zG.names[M],Ka:zG.Pu.indexOf(M)!=-1});return A};
mh.ZQ=function(){var A=[];for(var M in zG.ready)A.push({i:_.E.V,v:d.AH,_:{H:S.Mr,BW:M}});return A};function mT(){mE.call(this,"Script","script");
var A=_.L("div","form");this.body.appendChild(A);var M=new Ef("JS Reference",!1,null,!0);M.l("click",this.EGy,this);
A.appendChild(M.R);A.appendChild(new E$("Demos:").R);this.Wy=[];var q=mT.Zu;for(var V=0;V<q.length;V++){var F=new Ef(q[V].Zd,!1,null,!0);
this.Wy.push(F);A.appendChild(F.R);F.l("click",this.EoU,this)}this.Qb=_.L("textarea");this.Qb.setAttribute("rows",16);
this.Qb.setAttribute("cols",70);this.Qb.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
A.appendChild(this.Qb);this.Wu=new Ef("Run",!0,null,!0);this.Wu.l("click",this.EoJ,this);A.appendChild(this.Wu.R)}mT.prototype=new mE;
mT.prototype.La=function(A,M,q){this.Qb.value=mT.Zu[0].ZO};mT.prototype.EGy=function(A){var M=new N(_.E.K,!0);
M.data={H:_.u.kz,link:"http://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2015.pdf"};
this.t(M)};mT.prototype.EoJ=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.kU,Wd:this.Qb.value};this.t(M)};
mT.prototype.EoU=function(A){var M=this.Wy.indexOf(A.currentTarget);this.Qb.value=mT.Zu[M].ZO};mT.Zu=[{Zd:"Hello",ZO:"\nalert(\"Hello PSOnline!\");\n"},{Zd:"Process Layers",ZO:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Zd:"Clone Layers",ZO:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function ms(){mE.call(this,[11,7],"newproject");this.data=null;this.W=_.L("div","form padded");this.W.setAttribute("style","width:18em");
this.body.appendChild(this.W);this.Qe=new E_([12,48]);this.W.appendChild(this.Qe.R);this.QL=new Ei;this.QL.P(new f(1280,720));
this.W.appendChild(this.QL.R);this.lf=new EC([12,46],[[13,1,8],[13,1,9]]);this.W.appendChild(this.lf.R);
this.Kb=new Ef([12,49],!0,null,!0);this.Kb.l("click",this.create,this);this.W.appendChild(this.Kb.R)}ms.prototype=new mE;
ms.prototype.D=function(){mE.prototype.D.call(this);this.QL.D();this.Qe.D();this.lf.D();this.Kb.D()};
ms.prototype.create=function(A){var M=this.QL.c(),q=M.x,V=M.y,F=new EE(this.Qe.c()+".psd");F.n=q;F.J=V;
var H=F.jD();H.Dw("Background");F.jb([H]);if(this.lf.c()==0){H.rect=new U(0,0,q,V);H.buffer=Q.b(q*V*4);
Q.mh(H.buffer,4294967295)}F.buffer=Q.b(q*V*4);var w=new N(_.E.K,!0);w.data={H:_.u.Sy,wb:F};this.t(w);
this.close();var C=this.data.WO;if(this.data.WO)zx.EH(function(){var r=new XMLHttpRequest,G="https://e.photoshoponline.pro/pso/drive/v3/files?"+zx.EW();
r.open("POST",G,!0);r.setRequestHeader("Content-Type","application/json");r.addEventListener("load",function(A){var J=JSON.parse(A.target.response);
F.Fc={file:J,lp:"psd"};alert(F.name+" created in Google Drive")});r.send(JSON.stringify({name:F.name,EGM:[C]}))})};
ms.prototype.La=function(A,M){this.Qe.P("New Project");if(A!=null&&A.q!=null){var q=new U(0,0,A.n,A.J).vt(A.q.rect);
this.QL.P(new f(q.n,q.J))}this.data=M;this.Qe.Lm()};function mc(A,M,q){mE.call(this,M,"sel_"+A);this.H=A;
this.W=_.L("div","form");this.body.appendChild(this.W);this.Qe=new E_(M,q);this.W.appendChild(this.Qe.R);
this.Qe.P(1);this.SW=new Ef("OK",!0,null,!0);this.SW.l("click",this.Zs,this);this.W.appendChild(this.SW.R)}mc.prototype=new mE;
mc.prototype.Lj=function(A,M){if(A==null)return;if(A.q==null)alert("No selection!");return A.q!=null};
mc.prototype.Zs=function(A){var M=new N(_.E.V,!0);M.data={H:this.H,o:parseInt(this.Qe.c())};M.v=d.cP;
M.Xk=!0;this.t(M);this.close()};mc.prototype.D=function(){mE.prototype.D.call(this);if(this.Qe)this.Qe.D()};
mc.prototype.La=function(A,M){};function mA(){mE.call(this,[1,5],"open_from_url");this.Xj=null;var A=_.L("div","form");
this.body.appendChild(A);this.ZJ=new E_("URL",null,22);A.appendChild(this.ZJ.R);A.appendChild(_.L("br"));
this.Uz=new EV([21,0],[[21,2],[21,1]]);A.appendChild(this.Uz.R);this.Kb=new Ef("OK",!0,null,!0);this.Kb.l("click",this.EUH,this);
A.appendChild(this.Kb.R)}mA.prototype=new mE;mA.prototype.D=function(){mE.prototype.D.call(this);this.Uz.D()};
mA.prototype.La=function(A,M,q){this.ZJ.Lm();this.Xj=null;if(A&&q.indexOf(A)!=-1)this.Xj=q.indexOf(A)};
mA.prototype.EUH=function(A){var M=new N(_.E.K,!0),q=this.ZJ.c();M.data={H:_.u.SZ,KI:{url:q,XC:!0,Xj:this.Uz.c()==1?this.Xj:null}};
this.t(M);this.close()};function mg(){mE.call(this,[12,79],"preferences");var A=_.L("div","form");this.body.appendChild(A);
this.I=[new EL([8,2]),new EL([8,4]),new EY("Grid gap",1,100,"px")];for(var M=0;M<this.I.length;M++){var q=this.I[M];
A.appendChild(q.R);A.appendChild(_.L("br"));q.l(_.E.N,this.ZX,this)}this.Kb=new Ef("Apply",!0,null,!0);
this.Kb.l("click",this.ZX,this)}mg.prototype=new mE;mg.prototype.D=function(){mE.prototype.D.call(this);
for(var A=0;A<this.I.length;A++)this.I[A].D()};mg.prototype.La=function(A,M,q){};mg.prototype.cr=function(A,M){this.I[0].P(A.yB.Ni);
this.I[1].P(A.yB.uE);this.I[2].P(A.yB.un)};mg.prototype.ZX=function(A){var JF=this.I,M=new N(_.E.K,!0);
M.data={H:_.u.kJ,KI:EW.ff,ut:{Ni:JF[0].c(),uE:JF[1].c(),un:JF[2].c()}};this.t(M)};function mx(){mE.call(this,[11,8],"saveforweb");
this.l("closebtn",function(){this.UQ.LU()},this);this.hZ={JPG:[{Pe:new Ew([12,52],0,100,"%"),Tz:50}],WEBP:[{Pe:new Ew([12,52],0,100,"%"),Tz:50}],GIF:[{Pe:new Ew([12,52],0,100,"%"),Tz:100}],PNG:[{Pe:new Ew([12,52],0,100,"%"),Tz:100},{Pe:new EL("don't use palettes"),Tz:!1}],SVG:[{Pe:new EL("add raster graphics"),Tz:!1},{Pe:new EL("add hidden layers"),Tz:!1},{Pe:new EL("include fonts"),Tz:!1},{Pe:new EL("rasterize text"),Tz:!1},{Pe:new EL("add layer names"),Tz:!0},{Pe:new EL("pretty-print"),Tz:!0}]};
for(var A in this.hZ){var M=this.hZ[A];for(var q=0;q<M.length;q++)M[q].Pe.P(M[q].Tz)}this.wb=null;this.zG=null;
_.Sn(this.body,"flexrow");var V=_.L("div"),F=_.L("div");this.body.appendChild(V);this.body.appendChild(F);
this.CD=_.L("div","imgcont");V.appendChild(this.CD);this.UQ=new EO;this.UQ.LR(512,512);this.QV=_.L("span");
V.appendChild(this.QV);this.W=_.L("div","form cell padded");this.W.setAttribute("style","width:18em");
F.appendChild(this.W);this.hh=new EC([12,50],zm.Ex());this.W.appendChild(this.hh.R);this.hh.l(_.E.N,this.bv,this);
this.QL=new Ei(!0);this.QL.l(_.E.N,this.bv,this);this.W.appendChild(this.QL.R);this.u_=_.L("div","");
this.W.appendChild(this.u_);for(var H in this.hZ)for(var q=0;q<this.hZ[H].length;q++)this.hZ[H][q].Pe.l(_.E.N,this.bv,this);
this.je=new Ef([1,2],!0,null,!0);this.je.l("click",this.save,this);this.W.appendChild(this.je.R);this.KS=-1}mx.prototype=new mE;
mx.prototype.Lj=function(A,M){return A!=null};mx.prototype.D=function(){mE.prototype.D.call(this);this.QL.D();
this.hh.D();for(var A in this.hZ)for(var M=0;M<this.hZ[A].length;M++)this.hZ[A][M].Pe.D();this.je.D()};
mx.prototype.save=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.Sw,data:this.zG,name:this.wb.name.split(".")[0]+"."+zm.Ex()[this.hh.c()].toLowerCase()};
this.t(M);this.UQ.LU();this.close()};mx.prototype.La=function(A,M){if(M.Zt!=null)this.hh.P(M.Zt);this.wb=A;
this.QL.P(new f(A.n,A.J));this.bv()};mx.prototype.bv=function(A){this.UQ.LU();var M=this.wb,q=this.QL.c(),V=q.x,F=q.y,H=zm.Ex()[this.hh.c()],w=this.hZ[H],J="";
if(w==null)w=[];if(this.hh.c()!=this.KS){this.KS=this.hh.c();_.CX(this.u_);for(var C=0;C<w.length;C++){this.u_.appendChild(w[C].Pe.R);
this.u_.appendChild(_.L("br"))}}var r=[];for(var C=0;C<w.length;C++)r.push(w[C].Pe.c());_.CX(this.CD);
var G=zm[H];this.zG=zm.EM(M,H,V,F,r);if(G.EL){var m=V,u=F,W=512,y;if(H=="PDF"){y=URL.createObjectURL(new Blob([this.zG],{type:"application/pdf"}));
m=W;u=W}else{var y=URL.createObjectURL(new Blob([this.zG],{type:"image/svg+xml"}));m=Math.min(V+20,W);
u=Math.min(F+20,W)}this.CD.innerHTML="<iframe src=\""+y+"\"></iframe>";this.CD.firstChild.setAttribute("style","display:block; width:"+m+"px; height:"+u+"px;")}else{var O=G.Ea(this.zG),h=O[0].eG,m=h.n,u=h.J;
this.UQ.LR(Math.max(150,Math.min(m/_.F(),512)),Math.max(150,Math.min(u/_.F(),512)));this.UQ.P(O);this.CD.appendChild(this.UQ.R);
J="background: rgba(0,0,0,0);"}this.CD.setAttribute("style","display:block; background-size:"+16/_.F()+"px;"+J);
this.QV.innerHTML=H+": "+this.zG.byteLength.toLocaleString()+" B"};function mp(){mE.call(this,"Keyboard Shortcuts","shortcuts");
var A=_.L("div","scrollable"),M="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",q="";
A.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");q+="<h2 style=\"margin-top:0;\">Main Menu</h2>";
q+=M;q+=this.Yn({File:"---",Open:"Ctrl + O",Save:"Ctrl + S","Save as PSD":"Shift+Ctrl + S","Save for web":"Alt+Shift+Ctrl + S",Edit:"---","Undo / Redo":"Ctrl + Z","Step Forward":"Shift + Ctrl + Z","Step Backward":"Alt + Ctrl + Z",Cut:"Ctrl + X",Copy:"Ctrl + C",Paste:"Ctrl + V",Clear:"Delete",Fill:"Alt + Backspace","Free Transform":"Alt + Ctrl + T",Preferences:"Ctrl + K",Adjustments:"---",Levels:"Ctrl + L",Curves:"Ctrl + M","Hue / Saturation":"Ctrl + U",Invert:"Ctrl + I",Layer:"---",Duplicate:"Ctrl + J","Clipping Mask":"Alt + Ctrl + G","Group Layers":"Ctrl + G","Merge Down":"Ctrl + E",Select:"---",All:"Ctrl + A",Deselect:"Ctrl + D",View:"---","Zoom In":"Ctrl + +","Zoom Out":"Ctrl + -",Rulers:"Ctrl + R",Guides:"Ctrl + ;",Grid:"Ctrl + '",Shortcuts:"?"});
q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";q+=M;q+=this.Yn({"Vertical scroll":"Wheel","Horizontal scroll":"Ctrl + Wheel",Zooming:"Alt + Wheel"});
q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
q+=M;q+=this.Yn({Move:"Ctrl",Hand:"Spacebar",Zoom:"Ctrl + Spacebar"});q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
q+=M;q+=this.Yn(mp.YE);q+=this.Yn({abc:null,Other:"---","Default Colors":"D","Swap Frg. - Bckg.":"X","Decrease Brush Size":"[","Increase Brush Size":"]","Decrease Hardness":"{","Increase Hardness":"}"});
q+="</div>";A.innerHTML=q;this.body.appendChild(A)}mp.prototype=new mE;mp.prototype.Yn=function(A){var M="",q=!0;
for(var V in A){if(A[V]==null){q=!1;continue}if(A[V]=="---"){if(!q)M+="<br/>";M+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+V+"</div>"}else M+="<div>"+V+" <span style=\"float:right; font-weight:bold;\">"+A[V]+"</span> </div>";
q=!1}return M};mp.YE={"Move Tool":"V","Rectangle Select":"M","Ellipse Select":"M","Lasso Select":"L","Polygonal Lasso Select":"L","Magnetic Lasso Select":"L","Magic Wand":"W","Crop Tool":"C",Eyedropper:"I","Spot Healing Brush Tool":"J","Healing Brush Tool":"J","Patch Tool":"J","Brush Tool":"B","Clone Tool":"S","Eraser Tool":"E","Gradient Tool":"G","Paint Bucket Tool":"G","Blur Tool":null,"Sharpen Tool":null,"Smudge Tool":null,"Dodge Tool":"O","Burn Tool":"O","Sponge Tool":"O","Type Tool":"T",Pen:"P","Free Pen":"P","Path Select":"A","Direct Select":"A",Rectangle:"U",Ellipse:"U",Line:"U","Parametric Shape":"U","Custom Shape":"U","Hand Tool":"H","Zoom Tool":"Z"};
function mf(){mE.call(this,[14,9],"stroke");this.FP=null;this.W=_.L("div","form");this.W.setAttribute("style","width:24em");
this.body.appendChild(this.W);this.Ts=new mW("FrFX",!0);this.Ts.parent=this;var A=["Sz","Styl","Md","Opct"].concat(j.jq);
for(var M=0;M<A.length;M++){var q=this.Ts.bG[A[M]].R;this.W.appendChild(q)}this.Ip=!1;this.Kb=new Ef("OK",!0,null,!0);
this.Kb.l("click",this.Ay,this);this.body.appendChild(this.Kb.R)}mf.prototype=new mE;mf.prototype.Lj=function(A,M){return A!=null};
mf.prototype.D=function(){mE.prototype.D.call(this);this.Ts.D()};mf.prototype.Ay=function(A){var M=new N(_.E.V,!0);
M.v=d.c$;M.data={H:"stroke",ERc:this.Ts.c()};this.t(M);this.close()};mf.prototype.La=function(A,M){if(!this.Ip){var q=j.ju[j.order.indexOf("FrFX")];
q=JSON.parse(q);this.Ts.update(A,q);this.Ip=!0}var q=this.Ts.c(),V=this.FP._c;q.Clr.v=Q.r.Gt({e:V>>16&255,g:V>>8&255,$:V&255});
this.Ts.update(A,q)};mf.prototype.cr=function(A,M){this.FP=A};function mP(){mE.call(this,[11,9],"textwarp");
this.I=new Ed;this.I.l(_.E.N,this.bp,this);this.I.parent=this;this.W=_.L("div","form");this.W.setAttribute("style","width:20em");
this.body.appendChild(this.W);this.W.appendChild(this.I.hb.R);this.W.appendChild(this.I.lO.R);this.W.appendChild(this.I.mT.R);
this.W.appendChild(this.I.ms.R);this.W.appendChild(this.I.Wq.R);this.Kb=new Ef("OK",!0,null,!0);this.Kb.l("click",this.Ay,this);
this.W.appendChild(this.Kb.R);this.l("closebtn",this.Lu,this)}mP.prototype=new mE;mP.prototype.D=function(){mE.prototype.D.call(this);
this.I.D()};mP.prototype.bp=function(A){var M=this.I.c();this.Ym({H:"warp",ls:M})};mP.prototype.Ym=function(A){var M=new N(_.E.V,!0);
M.v=d.cd;M.data=A;M.Xk=!0;this.t(M)};mP.prototype.Lu=function(A){this.Ym({H:"warpCancel"})};mP.prototype.Ay=function(A){this.Ym({H:"warpConfirm"});
this.close()};mP.prototype.La=function(A,M){var q=A.T[A.k[0]];this.I.P(q.add.TySh.Nh)};function mD(){mE.call(this,"Raw PSOnline","rawpea");
this.zv=null;this.mA=null;this.Hk=null;this.EGq=0;this.hk=null;this.zl=null;this.hz=500;this.iL=500;
this.l("closebtn",this.xo.bind(this),this);_.Sn(this.body,"flexrow");var A=_.L("div"),M=_.L("div");M.setAttribute("style","padding-left: 1em");
this.body.appendChild(A);this.body.appendChild(M);this.vJ=_.L("canvas");A.appendChild(this.vJ);this.PC=_.L("canvas");
this.PC.width=256;this.PC.height=100;_.SA(this.PC,256,100);M.appendChild(this.PC);this.W=_.L("div");
this.W.setAttribute("style","width:18em;");M.appendChild(this.W);this.Z_=new E$("Hi",!0);this.W.appendChild(this.Z_.R);
this.hF=[new Ew("Temperature",2e3,13e3),new Ew("Tint",-150,150),new Ew([4,3],-4,4,null,!0),new Ew([12,2],-150,150),new Ew([12,3],-100,100)];
for(var q=0;q<this.hF.length;q++){var V=this.hF[q];V.P(0);V.l(_.E.N,this.Lh,this);this.W.appendChild(V.R)}this.Kb=new Ef("OK",!0,null,!0);
this.Kb.l("click",this.create,this);this.W.appendChild(this.Kb.R)}mD.prototype=new mE;mD.prototype.LV=function(){return!0};
mD.prototype.LR=function(A,M){this.hz=A-260;this.iL=M-40;if(this.zv)this.YJ()};mD.prototype.D=function(){mE.prototype.D.call(this);
for(var A=0;A<this.hF.length;A++)this.hF[A].D()};mD.prototype.create=function(A){var M=this.zv,q=this.mA,V=Q.b(M.width*M.height*4);
Q.mh(V,4294967295);Q.raw.lM(q,V,M,this.Gv());var M={eG:new U(0,0,q.qZ,q.qY),data:V.buffer},F=JZ.IQ("Raw Photo",[M]),H=new N(_.E.K,!0);
H.data={H:_.u.Sy,wb:F};this.t(H);this.xo();this.close()};mD.prototype.xo=function(){this.zv=null;this.mA=null;
this.hk=null;this.zl=null};mD.prototype.La=function(A,M,q,V){this.zv=M.qT;this.mA=Q.raw.Elh(this.zv);
var F=this.mA;this.Z_.P(F.qZ+" x "+F.qY+", "+(F.qZ*F.qY/1e6).toFixed(1)+" MPx");var H=Q.raw.ERe(M.qT);
this.Hk=zD.lK(H);this.hF[0].P(this.Hk.qK);this.hF[1].P(this.Hk.qe);for(var w=2;w<this.hF.length;w++)this.hF[w].P(0);
this.YJ()};mD.prototype.YJ=function(){var A=this.mA,M=A.qZ,q=A.qY,V=1;while(M/V>this.hz*_.F()||q/V>this.iL*_.F())V++;
var F=Math.floor(M/V),H=Math.floor(q/V);this.hk={ej:new Float32Array(F*H*3),qZ:F,qY:H};var w=this.vJ.getContext("2d");
this.zl=w.createImageData(F,H);Q.mh(this.zl.data,4294967295);var C=1/(V*V);for(var r=0;r<H;r++)for(var G=0;
G<F;G++){var J=0,m=0,u=0,W=(G+1)*V,y=(r+1)*V;for(var O=r*V;O<y;O++)for(var h=G*V;h<W;h++){var I=(O*M+h)*3;
J+=this.mA.ej[I];m+=this.mA.ej[I+1];u+=this.mA.ej[I+2]}var Z=(r*F+G)*3;this.hk.ej[Z]=J*C;this.hk.ej[Z+1]=m*C;
this.hk.ej[Z+2]=u*C}this.Lh()};mD.prototype.Lh=function(){var A=this.zv,M=this.hk.qZ,q=this.hk.qY,V=M*q,F=this.vJ,H=F.getContext("2d");
F.width=M;F.height=q;_.SA(F,M,q);Q.raw.lM(this.hk,new Uint8Array(this.zl.data.buffer),A,this.Gv());H.putImageData(this.zl,0,0);
var w=Q.mw(this.zl.data);F=this.PC;H=F.getContext("2d");var C=H.createImageData(F.width,F.height),r=4e3/V;
for(var G=0;G<256;G++){var J=w[1][G]*r,m=w[2][G]*r,u=w[3][G]*r;for(var W=0;W<100;W++){var y=(W*256+G)*4;
if(99-W<J){C.data[y]=255;C.data[y+3]=255}if(99-W<m){C.data[y+1]=255;C.data[y+3]=255}if(99-W<u){C.data[y+2]=255;
C.data[y+3]=255}}}H.putImageData(C,0,0)};mD.prototype.Gv=function(){var A=[];for(var M=0;M<this.hF.length;
M++)A.push(this.hF[M].c());return A};function mt(){mE.call(this,[11,11],"vbitmap");this.QI=null;this.Uj=null;
this.RB=null;this.Dj=null;this.up=null;this.W=_.L("div","form hbar");this.body.appendChild(this.W);this.iK=new EY([12,82],2,50,null);
this.iK.l(_.E.N,this.xH,this);this.W.appendChild(this.iK.R);this.LE=new EL([12,81]);this.LE.l(_.E.N,this.xH,this);
this.W.appendChild(this.LE.R);this.Kb=new Ef("OK",!1,null,!0);this.Kb.l("click",this.create,this);this.W.appendChild(this.Kb.R);
var A=_.L("div","flexrow"),M=16;this.body.appendChild(A);this.yL=new EO;this.yL.l("redraw",this.Yz,this);
this.EZ=_.L("canvas");this.EZ.setAttribute("style","margin-left: 1px; cursor:grab; cursor:-moz-grab; cursor:-webkit-grab;");
this.bs=this.EZ.getContext("2d");var q=Q.b(16*16*4);Q.mz(q,M,M,8,0,0);this.Rc=Q.scale.vv(q,M,M);this.yL.LG(this.EZ);
A.appendChild(this.yL.R);A.appendChild(this.EZ)}mt.prototype=new mE;mt.prototype.LV=function(){return!0};
mt.prototype.LR=function(A,M){M=M-100;A=Math.floor((A-50)/2);_.Sc(this.EZ,A,M);this.yL.LR(A,M)};mt.prototype.D=function(){mE.prototype.D.call(this);
this.iK.D();this.LE.D();this.Kb.D()};mt.prototype.La=function(A,M){this.up=A;var q=A.T[A.k[0]],V=Q.Rv.Rl(q.buffer.buffer,q.rect.n,q.rect.J).BE,F=V/((q.rect.n-2)*(q.rect.J-2));
this.LE.P(F<.75);var H=q.rect.clone();H.x=H.y=0;this.QI={eG:H,data:q.buffer.buffer.slice(0)};this.Uj=null;
this.yL.P([this.QI]);this.iK.P(20);this.xH()};mt.prototype.xH=function(){var A=this.QI,M=this.LE.c();
if(M&&this.Uj==null){var q=new Uint8Array(A.data.slice(0)),V=15,F=35,H=A.eG.n,w=A.eG.J,C=new Q.JU(H*w);
Q.mR(q,C);var r=new Q.JU(H*w);Q.zq.z_(C.e,C.M,r.e,H,w,V,Q.zq.zX,[F]);Q.zq.z_(C.g,C.M,r.g,H,w,V,Q.zq.zX,[F]);
Q.zq.z_(C.$,C.M,r.$,H,w,V,Q.zq.zX,[F]);Q.mc(C.M,r.M);var G=F/255,J=1-G;for(var m=0;m<H*w;m++)r.M[m]=G*r.M[m]+J*C.M[m];
Q.mU(r,q);this.Uj={eG:A.eG.clone(),data:q.buffer}}if(M)A=this.Uj;var q=new Uint8Array(A.data),H=A.eG.n,w=A.eG.J;
for(var m=0;m<q.length;m+=4){if(q[m+3]<10)q[m]=q[m+1]=q[m+2]=q[m+3]=0}var u=Q.Rv.EUO(q,H,w,this.iK.c(),M?.1:2e-4),W=u.Bn.slice(0);
for(var m=0;m<W.length;m++)W[m]++;var y=new Uint8Array((H+2)*(w+2));Q.mC(W,new U(1,1,H,w),y,new U(0,0,H+2,w+2));
var O=Math.round((H+2)*(w+2)/1e4),h=JX.Evo(y,H+2,w+2,Math.min(12,O)),I=JX.Eom(h),Z=new zo(1,0,0,1,-1,-1);
for(var m=0;m<I.length;m++)Q.O.oC(I[m].path.G,Z,I[m].path.G);this.Dj=I;this.RB=u;for(var m=0;m<I.length;
m++){var L=I[m];for(var Y=m+1;Y<I.length;Y++){var B=I[Y];if(u.qF[B.color-1].est.q[3]!=0||B.parent!=m)continue;
var X=B.path.qm.slice(1);X.reverse();X=["M"].concat(X);var E=[],h=B.path.G.length;for(var c=0;c<h;c+=2){E[c]=B.path.G[h-2-c];
E[c+1]=B.path.G[h-2-c+1]}Q.O.concat(L.path,{G:E,qm:X})}}for(var m=0;m<I.length;m++){var L=I[m],o=u.qF[L.color-1].est.q;
if(o[3]==0){I.splice(m,1);m--;continue}}for(var m=1;m<I.length;m++){var s=I[m-1],L=I[m];if(s.color==L.color){Q.O.concat(s.path,L.path);
I.splice(m,1);m--;continue}}this.Yz()};mt.prototype.Yz=function(A){if(this.Dj==null)return;var M=this.QI.eG.n,q=this.QI.eG.J,V=this.Dj,F=this.RB.qF,H=this.bs,w=this.yL.ERv();
H.setTransform(1,0,0,1,0,0);H.clearRect(0,0,H.canvas.width,H.canvas.height);H.translate(H.canvas.width/2,H.canvas.height/2);
H.scale(w.Y,w.Y);H.translate(w._V.x/w.Y-M/2,w._V.y/w.Y-q/2);H.scale(1/w.Y,1/w.Y);H.fillStyle=this.Rc;
H.fillRect(0,0,M*w.Y,q*w.Y);H.scale(w.Y,w.Y);var C=[];for(var r=0;r<F.length;r++){var G=F[r].est.q;C.push({e:Math.round(255*G[0]),g:Math.round(255*G[1]),$:Math.round(255*G[2]),M:Math.round(255*G[3])})}for(var r=0;
r<V.length;r++){var J=V[r],G=C[J.color-1];if(G.M==0)continue;H.fillStyle="rgba("+G.e+","+G.g+","+G.$+","+G.M/255+")";
H.beginPath();Typr.U.pathToContext({crds:J.path.G,cmds:J.path.qm},H);H.fill()}};mt.prototype.create=function(A){var M=this.Dj,q=M.length==1,V=this.up,F=V.k[0],H=V.T[F],w=V.T.slice(0,F);
if(!q)w.push(V.jt());for(var C=0;C<M.length;C++){var r=M[C],G=this.RB.qF[r.color-1].est.q;Q.O.oC(r.path.G,new zo(1,0,0,1,H.rect.x,H.rect.y),r.path.G);
var J=V.jD();J.Dw("Path "+C);w.push(J);J.Nj|=16;J.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.r.Gt({e:255*G[0],g:255*G[1],$:255*G[2]})}};
J.add.vmsk=new S.tP;J.add.vstk=JSON.parse(JSON.stringify(j.az.default));J.add.vstk.strokeEnabled.v=!1;
J.add.vmsk.C=[{type:6},{type:8,all:0}].concat(Q.m.UY(Typr.U.pathToSVG({crds:r.path.G,cmds:r.path.qm})));
J.DY(V)}var m=w[w.length-1];if(!q){var J=V.jD();J.Dw(H.getName());J.add.lsct=zT.ts;J.B_="pass";J.Nj=24;
w.push(J);m=J}var u=H.add.lmfx;if(u)m.add.lmfx=JSON.parse(JSON.stringify(u));for(var C=F+1;C<V.T.length;
C++)w.push(V.T[C]);var W=new N(_.E.V,!0);W.Xk=!0;W.v=d.AH;W.data={H:S.Mc,yG:w,_w:[F+M.length+(q?-1:1)],KY:"Vectorize Bitmap"};
this.t(W);this.close()};function mM(){mE.call(this,[7,11],"redge");this.QI={};this._J=null;this.wL=null;
this.up=null;this.Zw=null;this.wQ=null;var A="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX////IyMhc4gNCAAAAEElEQVR4nGNg+M+AFeEQBgB+vw/xkaQUAAAAAABJRU5ErkJggg==\" />",M="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEV5eXkrfmUiAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />",q="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEX///+nxBvIAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />",V="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEUAAACnej3aAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />";
this.W=_.L("div","form hbar");this.body.appendChild(this.W);this.hQ=new Ep;this.hQ.parent=this;this.hQ.l(_.E.N,this.Ac,this);
this.W.appendChild(this.hQ.R);this.Af=new EV(null,[q,M,V]);this.W.appendChild(this.Af.R);this.hc=new Ee([7,9],0,50,null);
this.hc.parent=this;this.hc.l(_.E.N,this.Yo,this);this.W.appendChild(this.hc.R);var F=new Ef("Help",!1,null,!0);
F.l("click",function(C){alert("Mark Foreground with White, Background with Black, and the Unknown area with Gray.",5e3)},this);
this.W.appendChild(F.R);var H=_.L("span","form");this.W.appendChild(H);H.setAttribute("style","position:absolute;  right:0px");
this.RW=new EV([12,46],[A,q,V]);this.RW.l(_.E.N,this.YU,this);H.appendChild(this.RW.R);this.Zy=new EC(null,[[6,13],[6,2],[17,2]]);
H.appendChild(this.Zy.R);this.Kb=new Ef("OK",!1,null,!0);this.Kb.l("click",this.create,this);H.appendChild(this.Kb.R);
var w=_.L("div","flexrow");this.body.appendChild(w);this.FU=new EO(!0);this.bO=new EO;this.FU.LG(this.bO.EZ);
this.bO.LG(this.FU.EZ,!0);this.FU.l("mousedown",this.AL,this);this.FU.l("mousemove",this.AZ,this);this.FU.l("mouseup",this.AY,this);
this.FU.l("zoom",this.Ac,this);w.appendChild(this.FU.R);w.appendChild(this.bO.R)}mM.prototype=new mE;
mM.prototype.Lj=function(A,M){var q=A!=null&&!A.T[A.k[0]].rect.zZ();if(!q)alert("The layer is empty.");
return q};mM.prototype.LV=function(){return!0};mM.prototype.LR=function(A,M){M=M-100;A=Math.floor((A-50)/2);
this.FU.LR(A,M);this.bO.LR(A,M)};mM.prototype.D=function(){mE.prototype.D.call(this);this.hQ.D();this.hc.D();
this.Kb.D()};mM.prototype.cr=function(A,M){this.wL=A;if(M==EW.fv){this.hQ.k_(A._h.list[0]);this.hQ.ky(EG.aB(),A._h.list[0].Nq,A._h.list[0].NB)}};
mM.prototype.cv=function(A,M,q,V){this.Zw=V;var F=d.AT.As(this.hQ.ku(),V);if(F!=null){this.hQ.ky(F);
this.Ac()}};mM.prototype.Ac=function(){var A=this.wL,M=Eo.Vr(this.hQ.ku(),A._h.list[0].Nq,this.FU.w.Y),q=_.Sf(M);
this.FU.Lz(q)};mM.prototype.AL=function(A){var M=this.wL,q=this.QI,V=this.Zw,F=this.hQ.ku(),H=this.FU.LH(),w=[16777215,8355711,0][this.Af.c()];
this._J=new Eo(F,M._h.list[0].Nq,M._h.list[0].NB,1,w,M._A,q.rect,null,null,!0);if(V!=null&&V.j(R.fq)&&this.wQ){this._J.moveTo(this.wQ.x,this.wQ.y);
this._J.lineTo(H.x,H.y)}else this._J.moveTo(H.x,H.y);this.YG()};mM.prototype.AZ=function(A){var M=this.QI,q=this.FU.LH();
this._J.lineTo(q.x,q.y);this.YG()};mM.prototype.AY=function(A){this.wQ=this.FU.LH();this.xH()};mM.prototype.YG=function(){var A=this.QI,M=this._J,q=M.VR();
if(q.zZ())return;A.mf=q;Q.S.JW("norm",M.VH(),M.Ak(),A.m$,A.rect,q,1);this.Yv()};mM.prototype.La=function(A,M){this.up=A;
var q=A.T[A.k[0]],V=q.rect.clone();this.hc.P(3);this.Af.P(A.q==null?0:1);this.Ac();if(A.q==null)this.hc.kg();
else this.hc.kA();var F=Q.b(V.X()),H=Q.b(V.X());if(A.q)Q.mC(A.q.channel,A.q.rect,F,V);V.x=V.y=0;var w=V.n,C=V.J;
for(var r=0;r<C;r++)for(var G=0;G<w;G++){var J=r*w+G,m=F[J];if(G>0&&F[J-1]!=m||G<w-1&&F[J+1]!=m||r>0&&F[J-w]!=m||r<C-1&&F[J+w]!=m)H[J]=255}var u=new Float32Array(V.X());
Q.style.vy(H,u,w,C);this.QI={rect:V,ej:q.buffer,_U:F,yS:u,O_:Q.b(V.X()*4),Ow:Q.b(V.X()*4),m$:Q.b(V.X()*4),IF:null,mf:V};
this.Yo()};mM.prototype.Yo=function(){var A=this.QI,M=A.rect.X(),q=this.hc.c(),V=A._U.slice(0);for(var F=0;
F<M;F++)if(A.yS[F]<q)V[F]=128;Q.mh(A.m$,4294967295);Q.mr(V,A.m$,0);Q.mr(V,A.m$,1);Q.mr(V,A.m$,2);this.xH()};
mM.prototype.xH=function(){var A=this.QI,M,F,H,w=0,C=0,r=0;this.Yv();if(!0)M=A.rect;else{var q=Math.min(M.n,M.J);
q=Math.max(q,50);M.hW(q,q);M=M.vt(A.rect);while((M.n&3)!=0){M.n++;if(M.n+M.x>A.rect.n)M.x--}while((M.J&3)!=0){M.J++;
if(M.J+M.y>A.rect.J)M.y--}console.log(M)}var V=Q.b(M.X());if(M.mg(A.rect)){Q.mH(A.m$,V,0);F=A.ej}else{F=Q.b(M.X()*4);
Q.mL(A.m$,A.rect,F,M);Q.mH(F,V,0);Q.mL(A.ej,A.rect,F,M)}for(var G=0;G<V.length;G++){var J=V[G];if(J==0)w++;
else if(J==255)C++;else r++}if(w*C*r!=0){H=Q.lQ.lQ(M,F,V)}else{H=F.slice(0);Q.mr(V,H,3)}if(M.mg(A.rect))A.IF=H;
else Q.mL(H,M,A.IF,A.rect);this.YU()};mM.prototype.Yv=function(A){var M=this.QI,q=M.mf;Q.mL(M.ej,M.rect,M.O_,M.rect,q,!0);
Q.S.JW("norm",M.m$,M.rect,M.O_,M.rect,q,.3);this.FU.P([{eG:M.rect,data:M.O_.buffer}])};mM.prototype.YU=function(A){var M=this.QI;
Q.mh(M.Ow,[0,4294967295,4278190080][this.RW.c()]);Q.S.JW("norm",M.IF,M.rect,M.Ow,M.rect,M.rect,1);this.bO.P([{eG:M.rect,data:M.Ow.buffer}])};
mM.prototype.create=function(A){var M=this.up,q=this.QI,V=this.Zy.c(),F=M.T[M.k[0]],H=new N(_.E.V,!0);
if(V==0&&F.Dy()||V!=0&&!F.Dy()){H.v=d.AH;H.data={H:S.ME,Q:M.k[0]};this.t(H)}if(M.q!=null){H.v=d.cP;H.data={H:"deselect"};
this.t(H)}if(V==0){var w=M.T.slice(0),C=M.jD();C.Dw(F.getName());w.splice(M.k[0]+1,0,C);C.rect=q.rect;
C.buffer=q.IF;C.U();H.v=d.AH;H.data={H:S.Mc,yG:w,_w:[M.k[0]+1],KY:[7,11]};this.t(H)}if(V==1){H.v=d.AH;
H.data={H:S.tQ};this.t(H);var r=F.tl();r.channel=Q.b(q.rect.X());r.rect=q.rect;r.color=0;r.NK=!0;Q.mH(q.IF,r.channel,3);
r.mX();F.DY()}if(V==2){var G={rect:q.rect,channel:Q.b(q.rect.X())};Q.mH(q.IF,G.channel,3);H.v=d.cP;H.data={H:"setsel",q:G,KY:this.ot};
this.t(H)}this.close()};function mj(A,M){Es.call(this);this.name=A;this.TH=_.L("div","");this.eT=_.L("div","pbody");
this.Gc=new Ef("",!1,"");this.Gc.parent=this;this.hA=_.L("span","cross");this.To=_.L("span","");this.To.addEventListener("mousedown",this.Yr.bind(this),!1);
this.hA.addEventListener("mousedown",this.YW.bind(this),!1);this.TH.appendChild(this.To);if(M)this.TH.appendChild(this.hA);
this.Of=!1;this.To.textContent=A}mj.prototype=new Es;mj.prototype.Yl=function(){return new f(0,0)};mj.prototype.D=function(){var A=this.name,M=typeof A=="string"?A:zJ.get(A);
this.To.textContent=M;var q=M.split(" "),V=q.length==2?q[0].substring(0,2)+q[1][0]:M.substring(0,3);
this.Gc.ka(V,M)};mj.prototype.enable=function(){this.eT.setAttribute("class","pbody")};mj.prototype.disable=function(){this.eT.setAttribute("class","pbody disabled")};
mj.prototype.cr=function(A,M){};mj.prototype.La=function(A,M){};mj.prototype.LR=function(A,M){};mj.prototype.YR=function(A){this.name=A;
this.To.textContent=A};mj.prototype.YH=function(){};mj.prototype.Yr=function(A){this.t(new N("select",!1))};
mj.prototype.YW=function(A){if(this.Yh())this.t(new N(_.E.Sa,!1))};mj.prototype.Yh=function(A){return!0};
mj.prototype.cJ=function(A,M,q,V,F){};mj.prototype.cz=function(A,M,q,V,F){};mj.prototype.cG=function(A,M,q,V,F){};
function ma(){mj.call(this,[9,3]);this.eT.setAttribute("style","width:380px;");this.ez=null;this.a_=null;
this._c=0;this._A=0;var A=_.L("div","");this.eT.appendChild(A);this.FF=_.L("div","bordered cell");this.FF.setAttribute("style","width:10em; height:28.5em;");
A.appendChild(this.FF);this.I=[];this.mq=null;this.hi=[];var M=this.Yc.bind(this);this.Bh=[new ma.Yf,new ma.Ya,new ma.YL,new ma.YI];
for(var q=0;q<this.Bh.length;q++){var V=_.L("div","listitem"),F=this.Bh[q].Eox,H=null;if(q==0){this.mq=new E$(F);
V.appendChild(this.mq.R)}else{H=new EL(F,!1);H.l(_.E.N,this.Ys,this);V.appendChild(H.R)}this.hi.push(H);
this.FF.appendChild(V);this.I.push(V);V.addEventListener("click",M,!1)}this.yb=_.L("div","cell padded");
A.appendChild(this.yb);for(var q=0;q<this.Bh.length;q++)this.Bh[q].l("brushchange",this.YT,this);this.setItem(0);
this.Ix=_.L("canvas","");this.Ix.width=Math.floor(380*_.F());this.Ix.height=Math.floor(80*_.F());_.SA(this.Ix,this.Ix.width,this.Ix.height);
A.appendChild(this.Ix);this.bs=this.Ix.getContext("2d");this.xH()}ma.prototype=new mj("");ma.prototype.D=function(){mj.prototype.D.call(this);
this.mq.D();for(var A=1;A<this.hi.length;A++)this.hi[A].D();for(var A=0;A<this.Bh.length;A++)this.Bh[A].D()};
ma.prototype.YT=function(A){var M=this.Bh.indexOf(A.currentTarget),q=JSON.parse(JSON.stringify(this.Bh[M].a_)),V=new N(_.E.K,!0);
V.data={H:_.u.kJ,KI:EW.fc,a_:q};this.t(V)};ma.prototype.Ys=function(A){this.YA(this.hi.indexOf(A.currentTarget),A.currentTarget.kX())};
ma.prototype.Yc=function(A){var M=this.I.indexOf(A.currentTarget);if(A.target.tagName.toLowerCase()=="input")return;
if(this.hi[M]&&!this.hi[M].kX()){this.hi[M].kO();this.YA(M,!0)}this.setItem(M)};ma.prototype.YA=function(A,M){this.Bh[A].Yx(M)};
ma.prototype.setItem=function(A){for(var M=0;M<this.Bh.length;M++)this.I[M].setAttribute("class","listitem");
if(this.yb.firstChild)this.yb.removeChild(this.yb.firstChild);this.I[A].setAttribute("class","listitem selected");
this.yb.appendChild(this.Bh[A].R)};ma.prototype.cr=function(A,M){this._c=A._c;this._A=A._A;if(M==EW.fv){this.ez=A._h.list[0];
for(var q=0;q<this.Bh.length;q++)this.Bh[q].k_(this.ez)}if(M==EW.fc){this.a_=A._h._s;this.xH()}if(M==EW.fg)this.xH()};
ma.prototype.xH=function(){if(this.a_)this.enable();else{this.disable();return}for(var A=0;A<this.Bh.length;
A++){this.Bh[A].ky(this.a_);if(this.hi[A])this.hi[A].P(this.Bh[A].kX())}var M=JSON.parse(JSON.stringify(this.a_));
M.Brsh.v.Dmtr.v.val=Math.min(M.Brsh.v.Dmtr.v.val,50);var q=new U(0,0,this.Ix.width,this.Ix.height),V=new Eo(M,this.ez?this.ez.Nq:null,this.ez?this.ez.NB:null,1,this._c,this._A,q),F=40*_.F(),H=300*_.F();
V.moveTo(F,F);for(var A=0;A<=H;A+=10)V.lineTo(F+A,F+20*Math.sin(2*Math.PI*A/H));var w=this.bs.createImageData(q.n,q.J);
Q.mL(V.VH(),V.Ak(),w.data,q);this.bs.putImageData(w,0,0)};ma.Yg=function(A){Es.call(this);this.Eox=A;
this.R=_.L("div","");this.a_=null};ma.Yg.prototype=new Es;ma.Yg.prototype.k_=function(A){};ma.Yg.prototype.ky=function(A){this.a_=JSON.parse(JSON.stringify(A));
this.R.setAttribute("class",this.kX()?"":"disabled");this.xH()};ma.Yg.prototype.Yx=function(A){};ma.Yg.prototype.kX=function(){return!1};
ma.Yg.prototype.D=function(){};ma.Yg.prototype.xH=function(){};ma.Yg.prototype.Yp=function(){this.t(new N("brushchange"))};
ma.Yf=function(){ma.Yg.call(this,[15,0]);this.ez=null;this.hp=null;this.TG=new EZ(!0);this.R.appendChild(this.TG.R);
this.TG.l(_.E.N,this.kN,this);this.TG.R.style.height="10.7em";this.PH=new Ew([12,14],1,100," px",0,!0);
this.PH.l(_.E.N,this.YP,this);this.PR=new Ew([12,15],0,359," \xB0");this.PR.l(_.E.N,this.YD,this);this.Pl=new Ew([12,16],0,100," %");
this.Pl.l(_.E.N,this.Yt,this);this.zy=new Ew([12,17],0,100," %");this.zy.l(_.E.N,this.YM,this);this.Po=new Ew([12,18],1,300," %");
this.Po.l(_.E.N,this.Yj,this);this.I=[this.PH,this.PR,this.Pl,this.zy,this.Po]};ma.Yf.prototype=new ma.Yg;
ma.Yf.prototype.D=function(){this.PH.D();this.PR.D();this.Pl.D();this.zy.D();this.Po.D()};ma.Yf.prototype.kX=function(){return!0};
ma.Yf.prototype.k_=function(A){this.ez=A;var M=[],q=Math.floor(30*_.F()),V=Math.floor(40*_.F());for(var F=0;
F<A.NN.Brsh.v.length;F++){var H=A.NN.Brsh.v[F].v,w=Eo.vQ(H,A.Nq,A.NB,q,V);M.push(w)}this.TG.bQ(M,null,q,V)};
ma.Yf.prototype.xH=function(){var A=this.a_.Brsh.v,M=A.classID!=this.hp;this.hp=A.classID;if(M)for(var q=0;
q<this.I.length;q++)if(this.R.contains(this.I[q].R))this.R.removeChild(this.I[q].R);this.PH.P(A.Dmtr.v.val);
if(M)this.R.appendChild(this.PH.R);this.PR.P(A.Angl.v.val);if(M)this.R.appendChild(this.PR.R);if(A.classID=="computedBrush"||A.classID=="sampledBrush"){this.Pl.P(A.Rndn.v.val);
if(M)this.R.appendChild(this.Pl.R)}if(A.classID=="computedBrush"){this.zy.P(A.Hrdn.v.val);if(M)this.R.appendChild(this.zy.R)}this.Po.P(A.Spcn.v.val);
if(M)this.R.appendChild(this.Po.R)};ma.Yf.prototype.kN=function(A){this.a_=this.ez.NN.Brsh.v[this.TG.c()].v;
this.Yp()};ma.Yf.prototype.YP=function(A){this.a_.Brsh.v.Dmtr.v.val=A.target.c();this.Yp()};ma.Yf.prototype.YD=function(A){this.a_.Brsh.v.Angl.v.val=A.target.c();
this.Yp()};ma.Yf.prototype.Yt=function(A){this.a_.Brsh.v.Rndn.v.val=A.target.c();this.Yp()};ma.Yf.prototype.YM=function(A){this.a_.Brsh.v.Hrdn.v.val=A.target.c();
this.Yp()};ma.Yf.prototype.Yj=function(A){this.a_.Brsh.v.Spcn.v.val=A.target.c();this.Yp()};ma.Ya=function(){ma.Yg.call(this,[15,1]);
this.IY=new Ew([15,4,0],0,100," %");this.IY.l(_.E.N,this.YV,this);this.R.appendChild(this.IY.R);this.Zm=new Ew([15,4,1],0,100," %");
this.Zm.l(_.E.N,this.YC,this);this.R.appendChild(this.Zm.R);this.lG=new Ew([15,4,2],0,100," %");this.lG.l(_.E.N,this.YS,this);
this.R.appendChild(this.lG.R);this.JE=new Ew([15,4,3],0,100," %");this.JE.l(_.E.N,this.Yk,this);this.R.appendChild(this.JE.R);
this.LF=new Ew([15,4,4],0,100," %");this.LF.l(_.E.N,this.Yb,this);this.R.appendChild(this.LF.R)};ma.Ya.prototype=new ma.Yg;
ma.Ya.prototype.D=function(){this.IY.D();this.Zm.D();this.lG.D();this.JE.D();this.LF.D()};ma.Ya.prototype.kX=function(){return this.a_.useTipDynamics.v};
ma.Ya.prototype.Yx=function(A){this.a_.useTipDynamics.v=A;EG.as.aQ(this.a_);this.Yp()};ma.Ya.prototype.xH=function(){var A=this.a_;
if(A.useTipDynamics.v==!1)return;this.IY.P(A.szVr.v.jitter.v.val);this.Zm.P(A.minimumDiameter.v.val);
this.lG.P(A.angleDynamics.v.jitter.v.val);this.JE.P(A.roundnessDynamics.v.jitter.v.val);this.LF.P(A.minimumRoundness.v.val)};
ma.Ya.prototype.YV=function(A){this.a_.szVr.v.jitter.v.val=A.target.c();this.Yp()};ma.Ya.prototype.YC=function(A){this.a_.minimumDiameter.v.val=A.target.c();
this.Yp()};ma.Ya.prototype.YS=function(A){this.a_.angleDynamics.v.jitter.v.val=A.target.c();this.Yp()};
ma.Ya.prototype.Yk=function(A){this.a_.roundnessDynamics.v.jitter.v.val=A.target.c();this.Yp()};ma.Ya.prototype.Yb=function(A){this.a_.minimumRoundness.v.val=A.target.c();
this.Yp()};ma.YL=function(){ma.Yg.call(this,[15,2]);this.JJ=new Ew([15,5,0],0,1e3," %");this.JJ.l(_.E.N,this.EJa,this);
this.R.appendChild(this.JJ.R);this.tn=new Ew([15,5,1],1,20);this.tn.l(_.E.N,this.EEt,this);this.R.appendChild(this.tn.R);
this.DO=new Ew([15,5,2],0,100," %");this.DO.l(_.E.N,this.Ene,this);this.R.appendChild(this.DO.R)};ma.YL.prototype=new ma.Yg;
ma.YL.prototype.D=function(){this.JJ.D();this.tn.D();this.DO.D()};ma.YL.prototype.kX=function(){return this.a_.useScatter.v};
ma.YL.prototype.Yx=function(A){this.a_.useScatter.v=A;EG.as.aQ(this.a_);this.Yp()};ma.YL.prototype.xH=function(){var A=this.a_;
if(A.useScatter.v==!1)return;this.JJ.P(A.scatterDynamics.v.jitter.v.val);this.tn.P(A.Cnt.v);this.DO.P(A.countDynamics.v.jitter.v.val)};
ma.YL.prototype.EJa=function(A){this.a_.scatterDynamics.v.jitter.v.val=A.target.c();this.Yp()};ma.YL.prototype.EEt=function(A){this.a_.Cnt.v=A.target.c();
this.Yp()};ma.YL.prototype.Ene=function(A){this.a_.countDynamics.v.jitter.v.val=A.target.c();this.Yp()};
ma.YI=function(){ma.Yg.call(this,[15,3]);this.UB=new Ew([15,6,0],0,100," %");this.UB.l(_.E.N,this.EJr,this);
this.R.appendChild(this.UB.R);this.EB=new Ew([15,6,1],0,100," %");this.EB.l(_.E.N,this.EGT,this);this.R.appendChild(this.EB.R);
this.Uq=new Ew([15,6,2],0,100," %");this.Uq.l(_.E.N,this.EzQ,this);this.R.appendChild(this.Uq.R);this.Ii=new Ew([15,6,3],0,100," %");
this.Ii.l(_.E.N,this.EvS,this);this.R.appendChild(this.Ii.R)};ma.YI.prototype=new ma.Yg;ma.YI.prototype.D=function(){this.UB.D();
this.EB.D();this.Uq.D();this.Ii.D()};ma.YI.prototype.kX=function(){return this.a_.useColorDynamics.v};
ma.YI.prototype.Yx=function(A){this.a_.useColorDynamics.v=A;EG.as.aQ(this.a_);this.Yp()};ma.YI.prototype.xH=function(){var A=this.a_;
if(A.useColorDynamics.v==!1)return;this.UB.P(A.clVr.v.jitter.v.val);this.EB.P(A.H.v.val);this.Uq.P(A.Strt.v.val);
this.Ii.P(A.Brgh.v.val)};ma.YI.prototype.EJr=function(A){this.a_.clVr.v.jitter.v.val=A.target.c();this.Yp()};
ma.YI.prototype.EGT=function(A){this.a_.H.v.val=A.target.c();this.Yp()};ma.YI.prototype.EzQ=function(A){this.a_.Strt.v.val=A.target.c();
this.Yp()};ma.YI.prototype.EvS=function(A){this.a_.Brgh.v.val=A.target.c();this.Yp()};function mV(){mj.call(this,[9,0]);
this.eT.setAttribute("style","min-width:200px;");this.Bi=_.L("div","hpbody scrollable");this.Bi.style.height="160px";
this.eT.appendChild(this.Bi);this.Eo$=-1;this.ZA=[]}mV.prototype=new mj("");mV.prototype.La=function(A){_.CX(this.Bi);
if(A==null)return;var M=0;for(var q=0;q<A.history.length;q++)if(q<=A.y_&&!A.history[q].OD)M=q;for(var q=0;
q<A.history.length;q++){var V=A.history[q];if(V.OD)continue;var F=new mC(V,q,M);F.parent=this;this.Bi.appendChild(F.R);
this.ZA.push(F)}if(A.y_==A.history.length-1)this.Bi.scrollTop=this.Bi.scrollHeight};mV.prototype.D=function(){mj.prototype.D.call(this);
for(var A=0;A<this.ZA.length;A++)this.ZA[A].D()};function mC(A,M,q){Es.call(this);this.index=M;this.R=_.L("div",M==q?"listitem selected":"listitem");
this.Xy=A.name;this.D();if(M>q)this.R.style.opacity=.4;this.R.addEventListener("mouseup",this.cJ.bind(this),!1)}mC.prototype=new Es;
mC.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy);this.R.textContent=A};
mC.prototype.cJ=function(A){if(this.index==this.parent.Eo$)return;this.Ld({H:"h_itemchange",index:this.index})};
mC.prototype.Ld=function(A){var M=new N(_.E.V,!0);M.data=A;M.v=d.AR;this.t(M)};function mS(){mj.call(this,[9,4]);
this.eT.setAttribute("style","min-width:240px;");this.eb=new ES;this.eb.parent=this;var A=_.L("div","marged");
this.eT.appendChild(A);A.appendChild(this.eb.oa.R);this.eT.appendChild(_.L("hr"));var M=_.L("div","marged");
this.eT.appendChild(M);M.appendChild(this.eb.oc.R);M.appendChild(this.eb.oW.R);var q=_.L("div","marged");
this.eT.appendChild(q);q.appendChild(this.eb.oz.R);this.eT.appendChild(_.L("hr"));var V=_.L("div","marged");
this.eT.appendChild(V);V.appendChild(this.eb.LJ.R);V.appendChild(this.eb.Ju.R);var F=_.L("div","marged");
this.eT.appendChild(F);F.appendChild(this.eb.zb.R);F.appendChild(this.eb.Gd.R);this.eT.appendChild(_.L("hr"));
var H=_.L("div","marged");this.eT.appendChild(H);H.appendChild(this.eb.LN.R);H.appendChild(this.eb.wg.R);
H.appendChild(this.eb.Lw.R);H.appendChild(this.eb.ws.R);H.appendChild(this.eb.Ub.R);H.appendChild(this.eb.Ly.R);
H.appendChild(this.eb.DZ.R)}mS.prototype=new mj("");mS.prototype.D=function(){mj.prototype.D.call(this);
this.eb.D()};mS.prototype.cr=function(A,M){if(M!=EW.fo&&M!=EW.fT&&M!=EW.fR&&M!=EW.fA)return;this.eb.bx(A)};
function mk(){mj.call(this,"CSS");this.KX=_.L("div","padded");this.eT.appendChild(this.KX);this.Qb=_.L("textarea");
this.Qb.setAttribute("rows",16);this.Qb.setAttribute("cols",36);this.Qb.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
this.KX.appendChild(this.Qb)}mk.prototype=new mj("");mk.prototype.La=function(A){if(A==null)return;var M=A.T[A.k[0]],q=CSS.Ck(M);
if(q.length!=0)this.Qb.value=q.join(";\n")+";";else this.Qb.value=""};function mb(){mj.call(this,"Info");
this.eT.setAttribute("style","min-width:240px;");var A=_.L("div","marged row");this.eT.appendChild(A);
var M=_.L("div","cell");M.setAttribute("style","width:10em");A.appendChild(M);var q=_.L("div","cell");
q.setAttribute("style","width:10em");A.appendChild(q);this.Eoq=new E$("R:");this.EoB=new E$("G:");this.EoN=new E$("B:");
this.eT.appendChild(_.L("hr",""));var V=_.L("div","marged row");this.eT.appendChild(V);var M=_.L("div","cell");
M.setAttribute("style","width:10em");var q=_.L("div","cell");q.setAttribute("style","width:10em");V.appendChild(M);
V.appendChild(q);this.hN=new E$("");M.appendChild(this.hN.R);M.appendChild(_.L("br"));this.hq=new E$("");
M.appendChild(this.hq.R);this.QZ=new E$("");q.appendChild(this.QZ.R);q.appendChild(_.L("br"));this.NQ=new E$("");
q.appendChild(this.NQ.R);this.hN.P("X: 100 px");this.hq.P("Y: 100 px");this.QZ.P("W: 0");this.NQ.P("H: 0")}mb.prototype=new mj("");
mb.prototype.cz=function(A,M,q,V,F){var H=A.w.jY(F.x,F.y),w=new f(Math.floor(H.x),Math.floor(H.y));if(!1){var C=0,r=0,G=0;
if(!F._Q&&!A.EmC()&&new U(0,0,A.n,A.J).hH(w)){var J=A.jv(),m=A.n*w.y+w.x<<2;C=J[m+0];r=J[m+1];G=J[m+2]}this.Eoq.P("R: "+C);
this.EoB.P("G: "+r);this.EoN.P("B: "+G)}this.hN.P("X: "+w.x);this.hq.P("Y: "+w.y);this.YB(A)};mb.prototype.YB=function(A){var M=0,q=0;
if(A.w.__){M=A.w.__.n;q=A.w.__.J}else if(A.q){M=A.q.rect.n;q=A.q.rect.J}this.QZ.P("W: "+Math.abs(M));
this.NQ.P("H: "+Math.abs(q))};mb.prototype.La=function(A){if(A)this.YB(A)};function mL(){mj.call(this,[9,1]);
this.yZ=null;this.wb=null;this.lJ=null;this.BI=_.L("div","lphead");this.Bi=_.L("div","lpbody scrollable");
this.GI=_.L("div","lpfoot");this.ml=new EC(null,zU.Dx);this.ml.l(_.E.N,this.Emr,this);this.BI.appendChild(this.ml.R);
this.Wl=new Ee("Opacity:",0,100,"%",0);this.Wl.l(_.E.N,this.EvE,this);this.Wl.parent=this;this.BI.appendChild(this.Wl.R);
this.Eou=new EL("Lock");this.Eou.R.setAttribute("style","margin-right:1.5em");this.JS=new Ee("Fill:",0,100,"%",0);
this.JS.l(_.E.N,this.ERG,this);this.JS.parent=this;this.Qf=[];this.EEj();this.eT.appendChild(this.BI);
this.eT.appendChild(this.Bi);this.eT.appendChild(this.GI);this.eT.addEventListener("contextmenu",mZ.gM,!1);
this.yk=[{name:[14,10]},{name:[6,0]},{name:[11,4]},{name:[5,4],Ka:!0},{name:[6,7],Ka:!0},{name:[6,8],Z:function(A){var M=A.T[A.k[0]];
if(M.add.TySh||M.add.SoLd||M.add.SoCo||M.add.GdFl||M.add.PtFl)return{Z:!0};return{Z:!1}}},{name:[6,34],Z:function(A){var M=A.T[A.k[0]];
return{Z:M.add.lmfx!=null}}},{name:[6,40],Ka:!0,Z:function(A){var M=A.T[A.k[0]];return{Z:M.add.TySh!=null}}},{name:[6,6],Ka:!0,Z:function(A){return{Z:A.jn(A.k[0]),Xw:A.T[A.k[0]].NM}}},{name:[11,6],Ka:!0,sub:[{name:[5,1],Z:function(A){var M=A.T[A.k[0]];
return{Z:M.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],Z:function(A){var M=A.T[A.k[0]];return{Z:M.add.lmfx!=null}}}]},{name:[6,10],Z:function(A){return{Z:A.k.length==1&&A.k[0]!=0&&!A.T[A.k[0]].Da()}}},{name:[6,12],Z:function(A){return{Z:A.k.length>1||A.T[A.k[0]].Da()}},Ka:!0},{name:[13,0],sub:function(){var A=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],M=[];
for(var q=0;q<A.length;q++)M.push({name:A[q]});return M}()}];this.KC=[null,S.ta,S.tV,S.tC,S.tS,S.tL,S.tZ,S.Mg,S.Ml,null,S.tY,S.ti,S.MA];
this.yb=new Ec(this.yk);this.yb.l("select",this.gY,this);this.ib=[{name:[6,45],Z:function(A){var M=A.T[A.k[0]];
return{Z:M.tR(A).a==null}}},{name:[6,47]}];this.EoX=[S.Mf,S.MD];this.iP=new Ec(this.ib);this.iP.l("select",this.gY,this);
this.Y_=[{name:"enab/disab",Z:function(A){return{X_:zJ.get(A.T[A.k[0]].tl().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[4,11]}];
this.Evm=[S.tI,S.te,S.tq];this.Uc=new Ec(this.Y_);this.Uc.l("select",this.gY,this);this.hD=[{name:"enab/disab",Z:function(A){return{X_:zJ.get(A.T[A.k[0]].tR(A).a.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.EvG=[S.tK,S.MP];this.Rs=new Ec(this.hD);this.Rs.l("select",this.gY,this);this.ht=[{name:"enab/disab",Z:function(A){return{X_:zJ.get(A.T[A.k[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.EvU=[S.t$,S.tN];this.Ur=new Ec(this.ht);this.Ur.l("select",this.gY,this);this.xQ=mh.ZN();this.EvH=mh.ZQ();
this.PZ=new Ec(this.xQ);this.PZ.l("select",this.gY,this);this.hM=mh.Zq();this.Evh=mh.ZB();this.me=new Ec(this.hM);
this.me.l("select",this.gY,this);this.l("rclick",this.Emt,this)}mL.prototype=new mj("");mL.prototype.Yl=function(){return new f(240,0)};
mL.prototype.gY=function(A){var M=A.target.kf(),q=M[0],V;if(A.target==this.yb)V=this.KC;if(A.target==this.iP)V=this.EoX;
if(A.target==this.Uc)V=this.Evm;if(A.target==this.Ur)V=this.EvU;if(A.target==this.Rs)V=this.EvG;if(A.target==this.PZ)V=this.EvH;
if(A.target==this.me)V=this.Evh;if(V[q]==null){if(q==0){var F=new N(_.E.K,!0);F.data={H:_.u.S_,KL:"layerstyle",Q:this.wb.k[0]};
this.t(F)}else{var H=new N(_.E.V,!0);H.v=d.Ar;H.data={H:["st_copy","st_paste","st_clear"][M[1]],Q:this.wb.k[0]};
this.t(H)}return}if(V[q].i!=null){var w=V[q],H=new N(w.i,!0);H.v=w.v;H.data=w._;A.target.t(H);return}var H=new N(_.E.V,!0);
if(A.target==this.PZ)H.data=V[q];else H.data={H:V[q]};if(V[q]==S.MA)H.data.dw=M[1];H.v=d.AH;A.target.t(H)};
mL.prototype.Emt=function(A){var M=this.wb,q=A.data,V,F;if(M.k.indexOf(q.Q)==-1){M.k=[q.Q];M.wS=!0}if(q.z==1){V=this.Uc;
F=this.Y_}else if(q.z==2){V=this.Ur;F=this.ht}else if(q.z==3){V=this.Rs;F=this.hD}else if(q.Evs){V=this.iP;
F=this.ib}else{V=this.yb;F=this.yk}V.update(M,F);V.parent=this;var H=new N(_.E.K,!0);H.data={H:_.u.SS,KH:V,x:q.au.x+1,y:q.au.y+1};
this.t(H)};mL.prototype.D=function(){mj.prototype.D.call(this);this.Wl.ka(zJ.get([12,0])+":");this.yb.D();
this.Uc.D();this.Ur.D();this.PZ.D();if(this.wb)this.La(this.wb);var A="lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var M=0;M<this.Qf.length;M++){var q=this.Qf[M];q.ka(_.SP(A[M]))}};mL.prototype.La=function(A,M){if(A==null)_.Sn(this.eT,"disabled");
else _.SE(this.eT,"disabled");this.wb=A;this.lJ=M;if(this.yZ!=null){this.Bi.removeChild(this.yZ.Bi);
this.yZ=null}if(A==null)return;this.yZ=new mZ(A.root,this,A,{PB:0});this.Bi.appendChild(this.yZ.Bi);
if(A.k.length==0||A.T.length==0){this.ml.kg();this.Wl.kg();this.JS.kg()}else{if(A.k.length==1&&A.yJ)this.yZ.iJ(A.k);
var q=A.T[A.k[A.k.length-1]];this.ml.kA();if(q.Da()){this.ml.bg(["Pass Through"].concat(zU.Dx));var V=zU.DA.indexOf(q.B_);
this.ml.P(V+1)}else{this.ml.bg(zU.Dx);var V=zU.DA.indexOf(q.B_);this.ml.P(V)}this.Wl.kA();this.Wl.P(Math.round(100*q.opacity/255));
this.JS.P(Math.round(100*(q.add.iOpa!=null?q.add.iOpa/255:1)))}};mL.prototype.LR=function(A,M){var q=this.BI.getBoundingClientRect().height,V=M-(q+34);
this.Bi.style.height=V+"px"};mL.prototype.Emr=function(A){this.Ld({H:S.td,Q:this.wb.k[this.wb.k.length-1],ut:this.ml.c()})};
mL.prototype.EvE=function(A){this.Ld({H:S.tO,Q:this.wb.k[this.wb.k.length-1],ut:Math.round(255*this.Wl.c()/100)})};
mL.prototype.ERG=function(A){this.Ld({H:S.tX,Q:this.wb.k[this.wb.k.length-1],ut:Math.round(255*this.JS.c()/100)})};
mL.prototype.Yy=function(A){this.Yd(A.currentTarget,this.PZ,this.xQ)};mL.prototype.Yu=function(A){this.Yd(A.currentTarget,this.me,this.hM)};
mL.prototype.Yd=function(A,M,q){var V=A.R.getBoundingClientRect();M.update(this.wb,q);M.parent=this;
var F=new N(_.E.K,!0);F.data={H:_.u.SS,KH:M,x:V.left,y:V.top,EvA:!0};this.t(F)};mL.prototype.YO=function(A){this.Ld({H:S.tu})};
mL.prototype.YF=function(A){this.Ld({H:S.MH})};mL.prototype.YX=function(A){this.Ld({H:S.MR})};mL.prototype.in=function(A){this.Ld({H:S.tC})};
mL.prototype.Ld=function(A){var M=new N(_.E.V,!0);M.data=A;M.v=d.AH;this.t(M)};mL.prototype.EEj=function(){var A=[[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],M=[this.Yu,this.Yy,this.YO,this.YF,this.YX,this.in];
for(var q=0;q<A.length;q++){var V=new Ef("W",!1,A[q]);this.Qf.push(V);V.l("click",M[q],this);this.GI.appendChild(V.R);
if(q==A.length-1){var F=V.R;F.addEventListener("drop",this.EGH.bind(this),!1);F.addEventListener("dragover",function(H){V.kO()}.bind(this),!1);
F.addEventListener("dragenter",mZ.gM,!1);F.addEventListener("dragleave",function(H){V.kF()}.bind(this),!1)}}};
mL.prototype.EGH=function(A){this.Qf[this.Qf.length-1].kF();var M=A.dataTransfer.getData("Text");if(M=="")return;
var M=JSON.parse(M);if(M.hO=="l")this.Ld({H:S.tC,Q:M.oA});if(M.hO=="sm"||M.hO=="s"){var q=new N(_.E.V,!0);
q.v=d.Ar;q.data={H:M.hO=="sm"?"st_clear":"st_delsingle",Q:M.oA,oA:M.es};this.t(q)}if(M.hO=="fm"||M.hO=="f"){this.Ld({H:M.hO=="fm"?S.MD:S.MM,Q:M.oA,oA:M.es})}};
function mZ(A,M,q,V){Es.call(this);this.parent=M;this.Qj=A;this.Rm=[];this.R=_.L("div","layeritem");
this.$F=this.ip.bind(this);this.hV=this.ix.bind(this);this.DD=this.iD.bind(this);var F=A.Q,J=15;this.BI=_.L("div",q.k.indexOf(A.index)!=-1?"head selected":"head");
if(A.Q.add.artb!=null)_.Sn(this.BI,"artb");this.BI.setAttribute("style","height: "+(F.OS+10)+"px");this.Ic=_.L("div","headL");
this.mv=_.L("div","headR");this.JN=_.L("div","lpineck");this.Bi=_.L("div","lpibody");this.R.appendChild(this.BI);
this.BI.appendChild(this.Ic);this.BI.appendChild(this.mv);if(F.tm()||F.tJ())if(F.Dd())this.R.appendChild(this.JN);
var H=this.BI;H.setAttribute("draggable","true");H.addEventListener("dragstart",this.io.bind(this),!1);
H.addEventListener("drop",this.iU.bind(this),!1);H.addEventListener("dragover",this.il.bind(this),!1);
H.addEventListener("dragenter",mZ.gM,!1);H.addEventListener("dragleave",this.iv.bind(this),!1);this.TA=[];
this.vd=[];this.TV=_.L("div");this.Yq=_.L("div","eye");this.TV.appendChild(this.Yq);this.Is=_.L("div","space");
this.lN=_.L("div","arrow");this.EvL=_.L("div","folder");this.EvZ=_.L("div","clipp");this.JT=_.L("div","thumb");
this.II=_.L("div","chain");this.Pm=_.L("div","thumb");this.LK=_.L("div","chain");this.L$=_.L("div","thumb");
this.z$=_.L("div","thumb");this.Pt=_.L("div","label");this.Pt.textContent=F.getName();this.mJ=_.L("div","lock");
this.EvN=_.L("div","lrfx");this.vf=_.L("div","arfx");this.BI.addEventListener("click",this.iM.bind(this),!1);
this.BI.addEventListener("contextmenu",this.DD,!1);this.z$.addEventListener("click",this.iM.bind(this),!1);
this.z$.addEventListener("contextmenu",this.DD,!1);var w=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],C=F.add.lclr==null?0:w[F.add.lclr];
if(C==0)C=V.PB;var r=[C>>16,C>>8&255,C&255];for(var G=0;G<3;G++){r[G]=Math.round(.5*r[G]+.5*220)}if(1<_.F()&&_.F()<1.5)J=J/_.F();
this.TV.setAttribute("style","background-color:rgba("+r.join(",")+","+(C==0?0:1)+");");this.Yq.setAttribute("style","background-size: "+J+"px "+J+"px;");
var m=this.ih.bind(this);this.TV.addEventListener("mousedown",m,!1);this.TV.addEventListener("mouseover",m,!1);
this.lN.addEventListener("click",this.iT.bind(this),!1);this.II.addEventListener("click",this.ic.bind(this),!1);
this.LK.addEventListener("click",this.iA.bind(this),!1);this.Pt.addEventListener("click",this.ig.bind(this),!1);
this.vf.addEventListener("click",this.Evn.bind(this),!1);this.TA[0]=this.TV;this.TA[1]=this.Is;this.TA[10]=this.Pt;
if(F.Da()){this.TA[2]=this.lN;this.TA[3]=this.EvL;if(F.add.lsct==zT.ts){for(var G=A.children.length-1;
G>=0;G--){var u=new mZ(A.children[G],M,q,{PB:C});this.Rm.push(u);this.Bi.appendChild(u.R)}this.R.appendChild(this.Bi)}this.lN.setAttribute("class",F.add.lsct==zT.ts?"open":"closed")}else{this.TA[5]=this.JT;
this.JT.appendChild(F.Ok.canvas)}var W=F.tl();if(W){this.Pm.appendChild(A.Q.Ob.canvas);this.II.style.opacity=W.NH?1:0}if(F.add.vmsk){this.L$.appendChild(A.Q.OL.canvas);
this.LK.style.opacity=F.add.vmsk.NH?1:0}if(F.tJ()&&F.tR(q).a){this.z$.appendChild(A.Q.OZ.canvas)}if(F.tm()){this.JN.addEventListener("contextmenu",this.DD,!1);
var y=new mL.ij(zJ.get([12,1]),"sm","layerstyle",A.depth,0,null);y.parent=this;this.JN.appendChild(y.R);
var O=F.add.lmfx,h=O.masterFXSwitch.v;y.tE(h);for(var G=0;G<j.order.length;G++){var I=O[j.jK[G]].v;if(I.length==0)continue;
for(var Z=0;Z<I.length;Z++){var y=new mL.ij(zJ.get(j.names[G]),"s","layerstyle",A.depth,1,[G,Z]);y.tE(h&&I[Z].v.enab.v);
y.parent=this;this.JN.appendChild(y.R)}}}if(F.tJ()){var y=new mL.ij(zJ.get([12,55]),"fm",null,A.depth,0,-1,F.tR(q).a?this.z$:null);
y.parent=this;this.JN.appendChild(y.R);this.Eu=y.R;this.Eu.addEventListener("contextmenu",this.DD,!1);
var O=F.add.SoLd.filterFX.v,L=O.filterFXList.v,h=O.enab.v;y.tE(h);for(var G=L.length-1;G>=0;G--){var Y=L[G].v,B=Y.filterID.v,X=K.rN(B);
if(zG.Pd[X])X=zG.Pd[X];var E=Y.Nm.v;if(Ju.names[X])E=zJ.get(Ju.names[X]);if(zG.names[X])E=zJ.get(zG.names[X]);
var c=mn[X]||EX[X]?"filter_"+X:null,y=new mL.ij(E,"f",c,A.depth,1,G);y.tE(h&&Y.enab.v);y.parent=this;
this.JN.appendChild(y.R)}}if(q.T.indexOf(F)==q.k[0]){if(F.z<=0)this.JT.setAttribute("class","thumb active");
if(F.z==1)this.Pm.setAttribute("class","thumb active");if(F.z==3)this.z$.setAttribute("class","thumb active");
if(F.uB)this.L$.setAttribute("class","thumb active")}this.TV.style.opacity=F.Dy()?1:.25;this.Is.setAttribute("style","width:"+Math.max(0,A.depth-1)*18+"px");
var o=F.add.lspf!=null&&F.add.lspf!=0;this.mJ.style.opacity=F.add.lspf?1:.5;var s=F.DV()&&F.add.vmsk;
this.TA[4]=F.NM?this.EvZ:null;this.TA[6]=W?this.II:null;this.TA[7]=W?this.Pm:null;this.TA[8]=F.add.vmsk&&!s?this.LK:null;
this.TA[9]=F.add.vmsk&&!s?this.L$:null;this.vd[0]=o?this.mJ:null;this.vd[1]=F.tm()?this.EvN:null;this.vd[2]=F.tm()||F.tJ()?this.vf:null;
this.vf.setAttribute("class",F.Dd()?"arfx open  gsicon":"arfx closed  gsicon");var z=this.TA;for(var G=0;
G<z.length;G++)if(z[G])this.Ic.appendChild(z[G]);z=this.vd;for(var G=0;G<z.length;G++)if(z[G])this.mv.appendChild(z[G])}mZ.prototype=new Es;
mZ.prototype.iJ=function(A){var M=this.Qj.index;if(A.indexOf(M)!=-1){if(this.R.scrollIntoView)this.R.scrollIntoView({block:"nearest"})}for(var q=0;
q<this.Rm.length;q++)this.Rm[q].iJ(A)};mZ.gM=function(A){A.stopPropagation();A.preventDefault()};mZ.EJ_=function(A){A.stopPropagation()};
mZ.iG=function(A,M){var q=M.getBoundingClientRect();return A.clientY-q.top>q.height/2};mZ.prototype.io=function(A){A.stopPropagation();
A.dataTransfer.setData("Text",JSON.stringify({hO:"l",oA:this.Qj.index}))};mZ.prototype.iv=function(A){mZ.gM(A);
this.iR()};mZ.prototype.iU=function(A){mZ.gM(A);this.iR();var M=A.dataTransfer.getData("Text"),q=mZ.iG(A,this.BI);
if(M==""){_.SD(A,this,this.parent.lJ.indexOf(this.parent.wb),this.Qj.index+(q?0:1))}else{var M=JSON.parse(M);
if(M.hO=="l")this.Ld({H:S.Mh,source:M.oA,target:this.Qj.index,dq:q})}};mZ.prototype.il=function(A){mZ.gM(A);
var M=mZ.iG(A,this.BI);this.iR();var q="border-"+(M?"bottom":"top");if(this.Qj.Q.Da()&&M)q="border";
this.BI.style[q]="0.2em solid rgba(0,0,0,0.5)"};mZ.prototype.iR=function(A){this.BI.style.border="none"};
mZ.iH=-1;mZ.ir=!1;mZ.iW=function(A){mZ.ir=!1;document.body.removeEventListener("mouseup",mZ.iW)};mZ.prototype.ih=function(A){if(A.button!=0)return;
if(A.type=="mousedown"){mZ.ir=!0;document.body.addEventListener("mouseup",mZ.iW,!1)}if(A.type=="mouseover"&&(!mZ.ir||mZ.iH==this.Qj.index))return;
A.stopPropagation();A.preventDefault();this.Ld({H:S.ME,Q:this.Qj.index});mZ.iH=this.Qj.index};mZ.prototype.iT=function(A){this.Ld({H:S.Mz,Q:this.Qj.index})};
mZ.prototype.ic=function(A){this.Ld({H:S.tw,Q:this.Qj.index})};mZ.prototype.iA=function(A){this.Ld({H:S.ty,Q:this.Qj.index})};
mZ.prototype.ig=function(A){if(A.detail==1)return;var M=this.Qj.Q,q=_.L("input","");q.setAttribute("type","text");
q.setAttribute("size","10");q.setAttribute("value",M.getName());_.CX(this.Pt);this.Pt.appendChild(q);
q.select();q.focus();this.BI.setAttribute("draggable","false");this.Pt.addEventListener("keyup",this.$F,!1);
document.body.addEventListener("mousedown",this.hV,!1)};mZ.prototype.ix=function(A){var M=A.target;if(M.tagName&&M.tagName.toLowerCase()=="input")return;
this.if(!0)};mZ.prototype.ip=function(A){if(A.key==R.f_||A.key==R.fe)this.if(A.key==R.fe)};mZ.prototype.if=function(confirm){this.Pt.removeEventListener("keyup",this.$F);
document.body.removeEventListener("mousedown",this.hV);if(confirm)this.Ld({H:S.Ms,Q:this.Qj.index,name:this.Pt.firstChild.value});
else this.Pt.innerHTML=this.Qj.Q.getName()};mZ.prototype.Evn=function(A){this.Ld({H:S.MG,Q:this.Qj.index})};
mZ.prototype.iD=function(A){if(A.button!=2)return;var M=new N("rclick",!0);M.data={Q:this.Qj.index,z:this.z(A),au:_.Sg(A,document.body),Evs:A.currentTarget==this.Eu};
this.t(M)};mZ.prototype.z=function(A){var M=A.target;return M.parentNode==this.L$?2:M.parentNode==this.Pm?1:M.parentNode==this.JT?0:M.parentNode==this.z$?3:-1};
mZ.prototype.iM=function(A){if(A.button!=0)return;var M=A.target;if(M==this.Yq||M==this.vf||M==this.II||M==this.LK||M.tagName&&M.tagName.toLowerCase()=="input")return;
var q=this.z(A);if(A.detail==2){if(M==this.Pt)return;var V=this.Qj.index,F=this.parent.wb.T[V],H=new N(_.E.K,!0);
if(q==0&&(zG.get(F.add)||F.add.SoCo||F.add.GdFl||F.add.PtFl))H.data={H:_.u.SQ,KL:"properties"};else if(q!=0&&q!=-1)H.data={H:_.u.SQ,KL:"properties"};
else if(q==0&&F.add.SoLd)H.data={H:_.u.SK};else if(q==0&&F.add.TySh)H.data={H:_.u.SX,v:d.cd};else H.data={H:_.u.S_,KL:"layerstyle",Q:V};
this.t(H);if(q==0&&F.add.TySh){var w=new N(_.E.V,!0);w.v=d.cd;w.data={H:"editCurr",wF:V};this.t(w)}return}if((A.ctrlKey||A.metaKey)&&(q==0||q==1)){if(M==this.Pt)return;
var w=new N(_.E.V,!0);w.v=d.cP;w.data={H:"fromlayer",Q:this.Qj.index,uh:q,uT:A.shiftKey};this.t(w);return}if(A.altKey){var w=new N(_.E.V,!0);
w.v=d.AH;w.data={H:S.Ml,Q:this.Qj.index};this.t(w);return}var C={H:S.MJ,Q:this.Qj.index,dV:q};this.Ld(C)};
mZ.prototype.Ld=function(A){var M=new N(_.E.V,!0);M.data=A;M.v=d.AH;this.t(M)};mL.ij=function(A,M,q,V,F,H,w){Es.call(this);
this.QM=M;this.DH=q;this.index=H;this.R=_.L("div","styleitem");this.BI=_.L("div","head");this.TV=_.L("div","eye gsicon");
this.Pt=_.L("div","label");this.R.appendChild(this.BI);this.BI.appendChild(this.TV);if(w){this.Pm=w;
this.BI.appendChild(this.Pm);this.BI.setAttribute("style","height: "+(w.firstChild.height+10)+"px")}this.BI.appendChild(this.Pt);
this.Pt.innerHTML=A;this.R.setAttribute("style","margin-left: "+(24+V*16+F*22)+"px");this.TV.addEventListener("click",this.ia.bind(this),!1);
var C=this.R;C.setAttribute("draggable","true");C.addEventListener("dragstart",this.io.bind(this),!1);
if(M=="f"){C.addEventListener("drop",this.iU.bind(this),!1);C.addEventListener("dragover",this.il.bind(this),!1);
C.addEventListener("dragenter",mZ.gM,!1);C.addEventListener("dragleave",this.iv.bind(this),!1)}this.R.addEventListener("click",this.cG.bind(this),!1)};
mL.ij.prototype=new Es;mL.ij.prototype.io=function(A){A.stopPropagation();A.dataTransfer.setData("Text",JSON.stringify({hO:this.QM,oA:this.parent.Qj.index,es:this.index}))};
mL.ij.prototype.iv=function(A){mZ.gM(A);this.iR()};mL.ij.prototype.iU=function(A){mZ.gM(A);this.iR();
var M=A.dataTransfer.getData("Text");if(M=="")return;var M=JSON.parse(M);if(M.hO=="f"&&M.oA==this.parent.Qj.index)this.parent.Ld({H:S.Mt,Q:M.oA,src:M.es,dC:this.index+(mZ.iG(A,this.BI)?0:1)})};
mL.ij.prototype.il=function(A){mZ.gM(A);var M=mZ.iG(A,this.BI);this.iR();var q="border-"+(M?"bottom":"top");
this.BI.style[q]="0.2em solid rgba(0,0,0,0.5)"};mL.ij.prototype.iR=function(A){this.BI.style.border="none"};
mL.ij.prototype.tE=function(A){var M=15;if(1<_.F()&&_.F()<1.5)M=M/_.F();this.TV.setAttribute("style","background-size: "+M+"px "+M+"px;");
this.TV.style.opacity=A?1:.2};mL.ij.prototype.cG=function(A){if(A.target==this.TV)return;if(A.detail!=1&&this.DH!=null){var M=new N(_.E.K,!0);
if(this.DH.indexOf("filter")==0)M.data={H:_.u.S_,KL:this.DH,Og:{Q:this.parent.Qj.index,index:this.index}};
else M.data={H:_.u.S_,KL:this.DH,Q:this.parent.Qj.index,index:this.index};this.t(M)}};mL.ij.prototype.ia=function(A){var M={fm:S.Mx,f:S.Mp,sm:S.Mo,s:S.Mv}[this.QM];
this.parent.Ld({H:M,Q:this.parent.Qj.index,index:this.index})};function mY(){mj.call(this,[9,5]);this.eT.setAttribute("style","min-width:240px;");
this.eb=new ES;this.eb.parent=this;var A=_.L("div","marged");this.eT.appendChild(A);A.appendChild(this.eb.Zo.R);
A.appendChild(this.eb.lb.R);A.appendChild(this.eb.lL.R);A.appendChild(this.eb.rZ.R);A.appendChild(this.eb.ah.R);
A.appendChild(this.eb.rY.R);A.appendChild(this.eb.Kw.R);this.eT.appendChild(_.L("hr"));var M=_.L("div","marged");
this.eT.appendChild(M);M.appendChild(this.eb.Iu.R);M.appendChild(this.eb.YY.R);M.appendChild(this.eb.Ps.R);
this.eT.appendChild(_.L("hr"));var q=_.L("div","marged");this.eT.appendChild(q);q.appendChild(this.eb.iE.R);
q.appendChild(this.eb.GE.R);q.appendChild(this.eb.zF.R)}mY.prototype=new mj("");mY.prototype.cr=function(A,M){if(M!=EW.fo&&M!=EW.fT&&M!=EW.fR)return;
this.eb.bx(A)};function mi(){mj.call(this,[9,2]);this.up=null;this.KX=_.L("div","padded");this.KX.style.width="20.4em";
this.eT.appendChild(this.KX);var A=_.L("span","fitem");this.KX.appendChild(A);this.Qk=[new Ef([0,3]),new Ef([12,73])];
for(var M=0;M<this.Qk.length;M++){var q=this.Qk[M];q.l("click",this.iV,this);A.appendChild(q.R)}this.KX.appendChild(_.L("hr"));
this.zn=new mi.ik;this.zn.parent=this;this.JF=new mi.iI;this.JF.parent=this;this.KX.appendChild(this.zn.R)}mi.prototype=new mj("");
mi.prototype.iV=function(A){var M=this.Qk.indexOf(A.currentTarget);this.iC(M);this.iS(M==0?-1:this.JF.vn)};
mi.prototype.iC=function(A){var M=this.zn.R,q=this.JF.R;if(A==1){var V=M;M=q;q=V}if(q.parentNode==this.KX)this.KX.removeChild(q);
if(M.parentNode!=this.KX)this.KX.appendChild(M);this.Qk[0].kF();this.Qk[1].kF();this.Qk[A].kO()};mi.prototype.iS=function(A){var M=this.up.k[0],q=this.up.T[M],V=A+1;
if(A==1&&q.uB)return;var F=new N(_.E.V,!0);F.v=d.AH;if(A!=1&&q.uB){F.data={H:S.MJ,Q:M,dV:2};this.t(F)}F.data={H:S.MJ,Q:M,dV:V};
this.t(F)};mi.prototype.D=function(){mj.prototype.D.call(this);this.La(this.up);this.Qk[0].D();this.Qk[1].D();
this.zn.D();this.JF.D()};mi.prototype.La=function(A){if(A==null)_.Sn(this.eT,"disabled");else _.SE(this.eT,"disabled");
this.up=A;if(A&&A.T.length>0){var M=A.T[A.k[0]];if(M.z<1&&!M.uB)this.iC(0);else this.iC(1)}this.zn.La(A);
this.JF.La(A);if(this.JF.vn==-1)this.Qk[1].kg();else this.Qk[1].kA()};mi.prototype.cr=function(A,M){this.zn.cr(A,M)};
mi.ik=function(){Es.call(this);this.R=_.L("div","form");this.aO=new E$("Hello");this.R.appendChild(this.aO.R);
this.LL=null;this.aF=null;this.Tx=new EP(!0);this.Tx.parent=this;this.Tx.l(_.E.N,this.EoF,this);this.Yi=_.L("div","marged hiline");
this.Yi.appendChild(this.Tx.R);this.Pi=new mW("GrFl",!0);this.Pi.parent=this;this.Pi.l(_.E.N,this.EG_,this);
this.Gw=_.L("div","marged hiline");var A="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var M=0;
M<A.length;M++){var q=this.Pi.bG[A[M]].R;this.Gw.appendChild(q)}this.PY=new mW("patternFill",!0);this.PY.parent=this;
this.PY.l(_.E.N,this.Ezg,this);this.GZ=_.L("div","marged hiline");var A=["Ptrn","Scl","Algn","phase"];
for(var M=0;M<A.length;M++){var q=this.PY.bG[A[M]].R;this.GZ.appendChild(q)}this.TJ={};for(var V in zG.names){if(EX[V]==null)continue;
this.TJ[V]=new EX[V];this.TJ[V].l(_.E.N,this.EUA,this);this.TJ[V].parent=this}};mi.ik.prototype=new Es;
mi.ik.prototype.D=function(){for(var A in this.TJ)this.TJ[A].D();this.Pi.D();this.PY.D()};mi.ik.prototype.EoF=function(A){var M=this.up,q=M.k[0],V=JSON.parse(JSON.stringify(M.T[q].add.SoCo));
V.Clr.v=this.Tx.c();this.ii(d.AH,{H:S.Ma,CB:"SoCo",o:V,wF:q})};mi.ik.prototype.EG_=function(A){this.ii(d.AH,{H:S.Ma,CB:"GdFl",o:this.Pi.c(),wF:this.up.k[0]})};
mi.ik.prototype.Ezg=function(A){this.ii(d.AH,{H:S.Ma,CB:"PtFl",o:this.PY.c(),wF:this.up.k[0]})};mi.ik.prototype.EUA=function(A){this.ii(d.AU,{H:"edit_layer",o:this.aF.c()})};
mi.ik.prototype.ii=function(A,M){var q=new N(_.E.V,!0);q.v=A;q.data=M;this.t(q)};mi.ik.prototype.La=function(A){var M=zJ.get([0,3]),q=null;
this.up=A;if(A&&A.T.length>0){var V=A.T[A.k[0]],F=zG.get(V.add);if(F!=null&&this.TJ[F]!=null){q=this.TJ[F].R;
this.aF=this.TJ[F];this.TJ[F].P(zG.Dm(V.add));M=zJ.get(zG.names[F])}if(V.add.SoCo){q=this.Yi;this.Tx.P(V.add.SoCo.Clr.v);
M=zJ.get([6,48,0,0])}if(V.add.GdFl){q=this.Gw;this.Pi.update(A,V.add.GdFl);M=zJ.get([6,48,0,1])}if(V.add.PtFl){q=this.GZ;
this.PY.update(A,V.add.PtFl);M=zJ.get([6,48,0,2])}}if(q!=this.LL){if(this.LL)this.R.removeChild(this.LL);
if(q!=null)this.R.appendChild(q);this.LL=q}this.aO.P(M)};mi.ik.prototype.cr=function(A,M){this.Pi.cr(A,M);
this.PY.cr(A,M);for(var q in this.TJ)this.TJ[q].cr(A,M)};mi.iI=function(){Es.call(this);this.R=_.L("div","form");
this.up=null;this.vn=0;var A=_.L("span","fitem");this.R.appendChild(A);this.Qk=[new Ef([6,2]),new Ef([6,3]),new Ef([6,50])];
for(var M=0;M<this.Qk.length;M++){var q=this.Qk[M];q.l("click",this.EUV,this);A.appendChild(q.R)}this.Fo=new Ew([12,74],0,255);
this.Fo.l(_.E.N,this.kk,this);this.R.appendChild(this.Fo.R);this.Fv=new Ew([7,6],0,40,"px",2,!0);this.Fv.l(_.E.N,this.kk,this);
this.R.appendChild(this.Fv.R)};mi.iI.prototype=new Es;mi.iI.prototype.kk=function(A){var M=this.Fo.c(),q=this.Fv.c(),V=new N(_.E.V,!0);
V.v=d.AH;V.data={H:S.Mb,dO:this.up.k[0],dd:{dF:this.vn,Fo:M,Fv:q}};this.t(V)};mi.iI.prototype.D=function(){for(var A=0;
A<this.Qk.length;A++)this.Qk[A].D();this.Fo.D();this.Fv.D()};mi.iI.prototype.La=function(A){this.up=A;
this.bv()};mi.iI.prototype.EUV=function(A){this.bv(this.Qk.indexOf(A.currentTarget));this.parent.iS(this.vn)};
mi.iI.prototype.bv=function(A){var M=this.up,q=this.Qk;for(var V=0;V<3;V++){var F=q[V];F.kF();F.kg()}if(M==null||M.T.length==0)return;
var H=-1,w=M.T[M.k[0]];if(w.tJ()&&w.tR(M).a!=null){q[2].kA();H=2}if(w.add.vmsk){q[1].kA();H=1}if(w.tl()){q[0].kA();
H=0}if(A!=null)H=A;else if(w.uB)H=1;else if(w.z==3)H=2;else if(w.z==1)H=0;this.vn=H;if(H==-1){this.Fo.kg();
this.Fv.kg();return}var C=w.tW(H);this.Fo.kA();this.Fv.kA();this.Fo.P(C.Fo);this.Fv.P(C.Fv);q[H].kO()};
function mI(A){mj.call(this,A.name,!0);this.wb=A;this.wL=null;this.wp=!1;this.TW={x:0,y:0,_Q:!1};this.Lk=!0;
this.LS=document.createElement("canvas");this.vl=this.LS.getContext("2d");this.EZ=document.createElement("canvas");
this.B=this.EZ.getContext("2d");var M=16,q=Q.b(16*16*4);Q.mz(q,M,M,8,0,0);this.Rc=Q.scale.vv(q,M,M);
this.EUv=this.AL.bind(this);this.JP=this.AZ.bind(this);this.jO=this.AY.bind(this);var V=this.eT;_.SR(V,this.EUv);
_.SH(V,this.JP);V.addEventListener("wheel",this.kL.bind(this),!1);V.addEventListener("contextmenu",this.EGX.bind(this),!1);
this._l=0;this.OX=4;_.Ss(V)}mI.prototype=new mj("");mI.prototype.Yh=function(){if(this.wb.jM())return window.confirm("There is unsaved work in "+this.wb.name+". Do you really want to close it?");
return!0};mI.prototype.Sp=function(A){A.preventDefault()};mI.prototype.AL=function(A){if(A.button!=null&&A.button!=0)return;
this.wp=!0;var M=new N("mouse",!0);M.action="down";this.ie(A,M);this.t(M);_.Sh(this.eT,this.JP);_.SH(window,this.JP);
_.Sr(window,this.jO)};mI.prototype.AZ=function(A){var M=new N("mouse",!0);M.action="move";this.ie(A,M);
this.t(M)};mI.prototype.AY=function(A){this.wp=!1;var M=new N("mouse",!0);M.action="up";this.ie(A,M);
this.t(M);_.Sh(window,this.JP);_.ST(window,this.jO);_.SH(this.eT,this.JP)};mI.prototype.kL=function(A){var M=new N("mouse",!0);
M.action="scroll";this.ie(A,M);this.t(M);this.Sp(A)};mI.prototype.EGX=function(A){A.stopPropagation();
A.preventDefault();var M=new N("mouse",!0);M.action="ctx";this.ie(A,M);this.t(M)};mI.prototype.ie=function(A,M){if(M.action!="up"){var q=_.F(),V=_.Sg(A,this.eT);
this.TW=M.yQ={x:q*V.x,y:q*V.y,_Q:this.wp};var F=_.Sg(A,document.body);M.yQ.ERE=F.x;M.yQ.EE$=F.y}else this.TW=M.yQ={x:this.TW.x,y:this.TW.y,_Q:this.wp};
M.yQ._g=1;if(A.pressure!=null&&A.pressure!=0)M.yQ._g=A.pressure*2;M.wC=new f(A.deltaX*.5,A.deltaY*.5)};
mI.prototype.cr=function(A,M){this.wL=A};mI.prototype.La=function(A){this.YH();this.YR(A.name+(A.jM()?" *":""));
this.Lh()};mI.prototype.LR=function(A,M){var q=this.wb,V=_.F();q.w.B.n=Math.floor(A*V);q.w.B.J=Math.floor(M*V);
_.Sc(this.EZ,A,M);_.Sc(this.LS,A,M);_.Sc(v.Rj(),A,M);if(q.w.Y==0)q.w.Y=d.xP.xt(q.n,q.J,A*V,M*V);this.Lk=!0;
this.Lh()};mI.prototype.YH=function(){var A=this.eT.firstChild;if(!v.Rx&&A==v.Rj()||v.Rx&&A==this.EZ)this.eT.removeChild(A);
this.eT.appendChild(v.Rx?v.Rj():this.EZ)};mI.prototype.Lh=function(){if(v.Rx!=this.OX){this._l=0;this.Lk=!0}this.OX=v.Rx;
if(this.wL==null)return;if(v.Rx)this.iq();else this.iN();var A=this.wb;this._l=A.w.Y;this.Lk=!1};mI.prototype.iq=function(){if(v.Rx&&mI.ha==null)mI.ha=new mI.RO(!1);
if(v.Rx&&mI.ZF==null)mI.ZF=new mI.RO(!0);var A=this.wb,C;if(A.FA==null)return;var M=A.w,q=M.B.n,V=M.B.J,F=v.vz;
this.B.clearRect(0,0,M.B.n,M.B.J);var H=this.i_(A,this.B,M);if(A.q)this.iQ();if(M.FV==null)M.FV=new v.JU(M.B.n,M.B.J);
if(A.q!=null||H)M.FV.set(this.EZ);else{v.Ra(M.FV);v.mW(0)}var w=new U(0,0,A.n*M.Y,A.J*M.Y);w.x=Math.round((q-A.n*M.Y)/2+M._V.x);
w.y=Math.round((V-A.J*M.Y)/2+M._V.y);var r=[0,0,0,0],G=[];if(A.add.artd){r=mI.iB(A);var J=A.n,m=A.J;
C=mI.ZF;for(var u=0;u<A.T.length;u++){var W=A.T[u];if(W.add.artb==null||!W.Dy())continue;var y=W.to();
G.push(y.x/J,y.y/m,y.n/J,y.J/m)}if(G.length>32*4)G=G.slice(0,32*4);while(G.length<32*4)G.push(0,0,0,0)}else C=mI.ha;
v.RV(q,V);v.mW(0);v.RV(q,V);C.RY();C.RZ(M.FV.B$,A.FA.B$,new Float32Array([w.x/q,w.y/V,w.n/q,w.J/V]),new Float32Array([8/q,8/V]),A.n,A.J,1/A.w.Y,q,V,new Float32Array(G),new Float32Array(r));
F.drawArrays(F.TRIANGLES,0,6)};mI.iB=function(A){var M=A.add.artd;if(M.canvasColor==null)return[0,0,0,0];
var q=M.canvasColor.v,V=[q.Rd.v/255,q.Grn.v/255,q.Bl.v/255,1];for(var F=0;F<4;F++)V[F]=Math.min(1,V[F]);
return V};mI.prototype.iN=function(){var A=this.wb;if(A.buffer==null)return;var M=A.w,q=M.B.n,V=M.B.J;
this.vl.clearRect(0,0,M.B.n,M.B.J);if(A.add.artd==null){this.B.clearRect(0,0,M.B.n,M.B.J)}else{var F=mI.iB(A);
this.B.fillStyle="#"+Q.EI(F[0]*255<<16|F[1]*255<<8|F[2]*255);this.B.fillRect(0,0,M.B.n,M.B.J)}var H=M.jI(),w=M.B.vt(H);
this.B.save();this.B.translate(H.x,H.y);if(A.add.artd==null){this.B.fillStyle=this.Rc;this.B.fillRect(0,0,H.n,H.J)}else{this.B.fillStyle="#ffffff";
this.B.scale(M.Y,M.Y);for(var C=0;C<A.T.length;C++){var r=A.T[C];if(r.add.artb==null||!r.Dy())continue;
var G=r.to();this.B.fillRect(G.x,G.y,G.n,G.J)}}this.B.restore();var J=A.n!=M.FD.n||A.J!=M.FD.J;if(J)M.FD.HT(0,0,A.n,A.J);
if(M.Y<=1){if(M.Y!=this._l||A.O$){if(M.Y!=this._l||M.Ft==null||J)M.Ft=this.B.createImageData(Math.max(1,H.n),Math.max(1,H.J));
if(M.Y<1){var m=Q.mV(A.buffer,new U(0,0,A.n,A.J),M.Y,new Uint8Array(M.Ft.data.buffer))}else Q.mc(A.buffer,M.Ft.data)}this.vl.putImageData(M.Ft,H.x,H.y);
this.B.drawImage(this.LS,w.x,w.y,w.n,w.J,w.x,w.y,w.n,w.J)}else{var u=M.j$(),W=new U(0,0,u.n*M.Y,u.J*M.Y);
W.x=u.x*M.Y+H.x;W.y=u.y*M.Y+H.y;if(M.Y!=this._l||this.Lk){M.FM=Q.b(u.X()*4);M.Ft=this.B.createImageData(W.n,W.J)}Q.set(M.FM,0);
Q.mL(this.wb.buffer,new U(0,0,A.n,A.J),M.FM,u);Q.scale.vr(M.FM,u.n,u.J,M.Ft.data,W.n,W.J,M.Y);this.vl.putImageData(M.Ft,W.x,W.y);
this.B.drawImage(this.LS,0,0)}this.i_(A,this.B,M);if(A.q)this.iQ()};mI.prototype.iQ=function(){var A=this.wb,M=A.w,q=M.jI(),V=M.j$(),F=0,H=0;
if(M.Y<=1){var w=A.q.rect.clone();w.x=Math.round(w.x*M.Y);w.y=Math.round(w.y*M.Y);w.n=Math.floor(w.n*M.Y);
w.J=Math.floor(w.J*M.Y);var C=A.q.channel;if(M.Y<1){var r=Q.b(A.q.rect.X()*4);Q.mr(A.q.channel,r,3);
var G=Q.mV(r,A.q.rect,M.Y);w.n=G.rect.n;w.J=G.rect.J;if(M.Fj==null||M.Fj.length<w.X())M.Fj=Q.b(w.X());
C=M.Fj;Q.mH(G.ej,C,3)}if(M.Fa==null||M.Fa.width!=w.n||M.Fa.height!=w.J)M.Fa=this.B.createImageData(Math.max(1,w.n),Math.max(1,w.J));
else Q.mh(M.Fa.data,0);F=Math.round(q.x+w.x);H=Math.round(q.y+w.y);Q.q.vg(C,M.Fa.data,w,v.Rx?65535:16777215,Math.max(-F,0),Math.max(-H,0),Math.min(M.B.n-F,w.n),Math.min(M.B.J-H,w.J));
this.vl.clearRect(0,0,M.B.n,M.B.J)}else{var J=new U(0,0,V.n*M.Y,V.J*M.Y),m=J.X();F=V.x*M.Y+q.x;H=V.y*M.Y+q.y;
if(M.Y!=this._l||M.Fa==null||M.Fa.width!=J.n||M.Fa.height!=J.J){M.Fj=Q.b(m);M.Fa=this.B.createImageData(J.n,J.J)}var u=Q.b(V.X());
Q.mC(A.q.channel,A.q.rect,u,V);Q.scale.vH(u,V.n,V.J,M.Fj,J.n,J.J,M.Y);Q.mh(M.Fa.data,0);Q.q.vg(M.Fj,M.Fa.data,J,v.Rx?65535:16777215)}this.vl.putImageData(M.Fa,F,H);
this.B.drawImage(this.LS,0,0)};mI.prototype.i_=function(A,M,q){var V=A.p.yr||A.p.wx||A.p._O,F=q.jI(),H=new zo(q.Y,0,0,q.Y,F.x+.5,F.y+.5),w=ET.kW[this.wL.he];
M.fillStyle="#333300";M.font=12*_.F()+"px sans-serif";if(A.add.artd)for(var C=0;C<A.T.length;C++){var r=A.T[C];
if(r.add.artb==null||!r.Dy())continue;var G=r.to(),J=new f(G.x,G.y);J=H.Ht(J);M.fillText(r.getName(),Math.round(J.x),Math.round(J.y-6));
V=!0}M.fillStyle=v.Rx?"rgba(0,0,255,1)":"rgba(0,0,0,0.4)";M.strokeStyle=v.Rx?"#0000ff":"#000000";var r=A.T[A.k[0]];
if(A.k.length==1&&r.add.vmsk&&(r.uB||r.DV())){var m=r.add.vmsk,u=m.C;M.lineWidth=.5;if(this.wL.yB.bu){M.beginPath();
var W=Q.O.oM(u);Q.O.oC(W.G,H,W.G);Typr.U.pathToContext({cmds:W.qm,crds:W.G},M);M.stroke()}var y=-1,O=Math.round(3*_.F());
for(var C=0;C<u.length;C++){if(u[C].type>5)continue;if(u[C].type==0||u[C].type==3){if(u[C].qz!=-1)y++;
continue}if(m.k.indexOf(y)!=-1){var h=F.x+u[C].s.x*q.Y,I=F.y+u[C].s.y*q.Y;M.fillRect(Math.round(h-O+.5),Math.round(I-O+.5),2*O-1,2*O-1)}if(m.uj.indexOf(C)!=-1){var Z=[u[C].s];
M.beginPath();M.moveTo(F.x+u[C].qo.x*q.Y,F.y+u[C].qo.y*q.Y);M.lineTo(F.x+u[C].s.x*q.Y,F.y+u[C].s.y*q.Y);
M.lineTo(F.x+u[C].qU.x*q.Y,F.y+u[C].qU.y*q.Y);M.stroke();if(!u[C].s.mg(u[C].qo))Z.push(u[C].qo);if(!u[C].s.mg(u[C].qU))Z.push(u[C].qU);
for(var L=0;L<Z.length;L++){var Y=Z[L],h=F.x+Y.x*q.Y,I=F.y+Y.y*q.Y;if(L==0&&(u[C].type==2||u[C].type==5))M.fillRect(Math.round(h-1.2*O),Math.round(I-1.2*O),Math.round(2.4*O),Math.round(2.4*O));
else{M.beginPath();M.arc(h,I,O*1.2,0,2*Math.PI);M.fill()}}}}V=!0}M.lineWidth=1;if(A.p.yr){M.beginPath();
var W=Q.O.clone(A.p.yr);Q.O.oC(W.G,H,W.G);Typr.U.pathToContext({cmds:W.qm,crds:W.G},M);M.fill()}if(A.p.wx){M.beginPath();
var W=Q.O.clone(A.p.wx);Q.O.oC(W.G,H,W.G);Typr.U.pathToContext({cmds:W.qm,crds:W.G},M);M.stroke()}M.beginPath();
var O=4*_.F(),B=A.p.wj;for(var C=0;C<B.length;C+=2){V=!0;var h=F.x+B[C]*q.Y,I=F.y+B[C+1]*q.Y;M.rect(h-O+.5,I-O+.5,2*O-1,2*O-1)}M.stroke();
M.beginPath();var O=4*_.F(),B=A.p.Fp;for(var C=0;C<B.length;C+=2){V=!0;var h=F.x+B[C]*q.Y,I=F.y+B[C+1]*q.Y;
M.moveTo(h+O-.5,I);M.arc(h,I,O-.5,0,2*Math.PI)}M.fill();if(A.p.yS){V=!0;var X=A.p.yS,E=X.y$,W={qm:[],G:[]};
for(var C=0;C<X.yI.length;C++)Q.O.concat(W,Q.O.oL(X.yI[C]));W.G=W.G.concat(E);for(var C=0;C<E.length;
C+=4)W.qm.push("M","L");M.beginPath();M.strokeStyle=v.Rx?"#dd3300":"#dd3333";Q.O.oC(W.G,H,W.G);Typr.U.pathToContext({cmds:W.qm,crds:W.G},M);
M.stroke();var c=_.F();M.font=Math.round(12*c)+"px sans-serif";for(var C=0;C<E.length;C+=4){var h=E[C],I=E[C+1],o=E[C+2],s=E[C+3],z=Math.sqrt((s-I)*(s-I)+(o-h)*(o-h))+"",k=new f((h+o)/2,(I+s)/2);
k=H.Ht(k);M.fillStyle=v.Rx?"#dd3300":"#dd3333";var b=M.measureText(z),T=b.width;M.fillRect(k.x-T/2-2.5*c,k.y-7.5*c,T+5*c,15*c);
M.fillStyle=v.Rx?"#ffff00":"#ffffff";M.fillText(z,k.x-T/2,k.y+4*c)}}if(this.wL.yq){M.lineWidth=1;var l=this.wL.yB;
if(l.uE){this.Ei(A,F,M,l.un,"#808000");V=!0}if(l.zk&&A.w.Y>7){this.Ei(A,F,M,1,"rgba(128,128,0,0.5)");
V=!0}if(l.Ni){M.beginPath();M.strokeStyle=v.Rx?"#00ff00":"#00ffff";for(var C=0;C<A.Ni[0].length;C++){var $=Math.round(A.w.ji(A.Ni[0][C],0).x)+.5;
M.moveTo($,0);M.lineTo($,A.w.B.J)}for(var C=0;C<A.Ni[1].length;C++){var e=Math.round(A.w.ji(0,A.Ni[1][C]).y)+.5;
M.moveTo(0,e);M.lineTo(A.w.B.n,e)}M.closePath();M.stroke()}}M.strokeStyle=v.Rx?"#ff0000":"#ff00ff";if(A.p._O){M.beginPath();
var W=Q.O.clone(A.p._O);Q.O.oC(W.G,H,W.G);Typr.U.pathToContext({cmds:W.qm,crds:W.G},M);M.stroke()}if(this.wL.yN){var i=window.getComputedStyle(document.body);
if(A.w.qs==null||A.w.qs.width!=A.w.B.n||A.w.qc.height!=A.w.B.J){A.w.qs=M.createImageData(A.w.B.n,Q.oy.ou);
A.w.qc=M.createImageData(Q.oy.ou,A.w.B.J)}var w=ET.kW[this.wL.he];Q.oy.Eze(A.w,w["--text-color"],w["--bg-input"]);
if(v.Rx){Q.mh(A.w.qc.data,0,4278255615);Q.mh(A.w.qs.data,0,4278255615)}M.putImageData(A.w.qc,0,0);M.putImageData(A.w.qs,0,0);
M.fillStyle="#000000"}return V||this.wL.yN||A.Ni[0].length+A.Ni[1].length>0};mI.prototype.Ei=function(A,M,q,V,F){while(V*A.w.Y<4)V*=2;
var H=M.x,w=H+M.n,C=M.y,r=C+M.J;q.beginPath();q.strokeStyle=F;for(var G=0;G<=A.n;G+=V){var J=Math.round(A.w.ji(G,0).x)+.5;
q.moveTo(J,C);q.lineTo(J,r)}for(var m=0;m<=A.J;m+=V){var u=Math.round(A.w.ji(0,m).y)+.5;q.moveTo(H,u);
q.lineTo(w,u)}q.closePath();q.stroke()};mI.RO=function(A){v.Rk.call(this);this.EUT=A;var M="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform vec4 bgClr; \t\t\t"+(A?"uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+v.Re.Ry+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); "+(A?"\t\t\t\t\tbool inr = false; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tinr = inr || ( ar.z!=0.0 && in01(nsc/ar.zw) );\t\t\t\t\t}\t\t\t\t\tvec4 BG = inr ? vec4(1.0,1.0,1.0,1.0) : bgClr; \t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b != 0.0) outc = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\tgl_FragColor = simpleBlend((1.0-src.b)*src.rgga,outc); \t\t\t\t\t\t\t}",q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.CF(M,q)};mI.RO.prototype=new v.Rk;mI.RO.prototype.RZ=function(A,M,q,V,F,H,w,C,r,G,J){this.RL("srct gsize source target imgSizeZoom cnvSize ars bgClr".split(" "));
var m=v.vz,u=this.Pa;m.uniform4fv(u.srct,q);m.uniform2fv(u.gsize,V);m.uniform3f(u.imgSizeZoom,F,H,w);
m.uniform2f(u.cnvSize,C,r);m.uniform4fv(u.bgClr,J);if(this.EUT)m.uniform4fv(u.ars,G);m.uniform1i(u.source,0);
m.uniform1i(u.target,1);m.activeTexture(m.TEXTURE0);m.bindTexture(m.TEXTURE_2D,A);m.activeTexture(m.TEXTURE1);
m.bindTexture(m.TEXTURE_2D,M);m.activeTexture(m.TEXTURE0)};function m$(){mj.call(this,"Layer Comps");
this.eT.setAttribute("style","min-width:240px;");this.up=null;this.vG=-1;this.EUc=[];this.Bi=_.L("div","scrollable");
this.Bi.style.height="160px";this.eT.appendChild(this.Bi);this.GI=_.L("div","lpfoot");this.eT.appendChild(this.GI);
this.Q$=[];var A=["reload","lrs/newlayer","lrs/bin"],M=["Update Layer Comp","New Layer Comp","Delete Layer Comp"];
for(var q=0;q<A.length;q++){var V=new Ef("<img src=\""+PIMG[A[q]]+"\" class=\"gsicon\" />",!1,M[q]);
V.l("click",this.iw,this);this.GI.appendChild(V.R);this.Q$.push(V)}}m$.prototype=new mj("");m$.prototype.Ld=function(A){var M=new N(_.E.V,!0);
M.data=A;M.v=d.Ah;this.t(M)};m$.prototype.iw=function(A){var M=this.Q$.indexOf(A.currentTarget);if(M!=1)if(this.vG==-1)return;
this.Ld({H:["updLC","addLC","delLC"][M],eE:this.vG});if(M==2)this.vG=-1};m$.prototype.La=function(A){if(A==null)_.Sn(this.eT,"disabled");
else _.SE(this.eT,"disabled");this.up=A;_.CX(this.Bi);if(A==null)return;var M=A.NI.lastAppliedComp?A.NI.lastAppliedComp.v:0,q=A.NI.list.v.slice(0);
q.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var V=0;V<q.length;
V++){var F=q[V].v,H=new mK(F.Nm.v,F.compID.v,F.capturedInfo.v,M,this.vG);H.l("activate",this.iy,this);
H.parent=this;this.Bi.appendChild(H.R);this.EUc.push(H)}};m$.prototype.iy=function(A){this.vG=A.currentTarget.eE;
this.La(this.up)};function mK(A,M,q,V,F){Es.call(this);this.eE=M;this.R=_.L("div","listitem"+(M==F?" selected":""));
var H=M==V,w=new Ef("<b>"+(H?"\u2713":"\u2014")+"</b>");if(H)w.kO();this.R.appendChild(w.R);w.l("click",this.pq,this);
var C=this.To=_.L("span");C.textContent=A;this.R.appendChild(C);this.Q$=[];if(M!=0){this.R.addEventListener("mouseup",this.iy.bind(this),!1);
this.iY=_.L("span","lpfoot");this.iY.setAttribute("style","position:absolute;  right:0;  border-top:0;");
this.R.appendChild(this.iY);var r=["lrs/eye","pos","lrs/fx"],G=["Visibility","Position","Appearance"];
for(var J=0;J<r.length;J++){var m=new Ef("<img src=\""+PIMG[r[J]]+"\" class=\"gsicon\" />",!1,G[J]);
if((q>>J&1)==0)m.R.setAttribute("style","opacity:0.3");m.l("click",this.iu,this);this.iY.appendChild(m.R);
this.Q$.push(m)}}}mK.prototype=new Es;mK.prototype.iy=function(A){if(A.target!=this.To&&A.target!=this.R)return;
if(A.detail==1)this.t(new N("activate",!1));else{var M=_.L("input","");M.setAttribute("type","text");
M.setAttribute("size","10");M.setAttribute("value",this.To.textContent);this.R.removeChild(this.To);
this.R.appendChild(M);M.select();M.focus();M.addEventListener("keyup",this.ip.bind(this),!1)}};mK.prototype.iu=function(A){var M=this.Q$.indexOf(A.currentTarget);
this.Ld({H:"editLC",Ol:M,eE:this.eE})};mK.prototype.ip=function(A){if(A.key==R.f_)this.t(new N("activate",!1));
if(A.key==R.fe)this.Ld({H:"editLC",d_:A.target.value,eE:this.eE})};mK.prototype.pq=function(A){this.Ld({H:"setLC",eE:this.eE})};
mK.prototype.Ld=function(A){var M=new N(_.E.V,!0);M.data=A;M.v=d.Ah;this.t(M)};function me(A){mj.call(this,A.name);
var M=_.L("iframe","padded");M.setAttribute("src",A.url);M.setAttribute("style","width:"+A.width+"px; height:"+A.height+"px");
this.eT.appendChild(M)}me.prototype=new mj("");function mq(){Es.call(this);this.v=0;this.QF=null;this.R=_.L("div","toolconf");
this.MN=_.L("div");this.R.appendChild(this.MN);this.body=new _.L("div","body");this.R.appendChild(this.body)}mq.prototype=new Es;
mq.prototype.iO=function(A,M){this.v=A;this.QF=M;this.MN.innerHTML="<img src=\""+PIMG[M]+"\" class=\"toolicon gsicon\" />"};
mq.prototype.cr=function(A,M){};mq.prototype.iF=function(A){};mq.prototype.D=function(){this.MN.innerHTML=_.SP(this.QF,null,"toolicon");
this.iX()};mq.prototype.iX=function(){};function mB(A){mq.call(this);if(A==null)return;this.BN={};for(var M=0;
M<A.length;M++){var q=A[M],V=null;if(q=="brush"){V=new Ep}if(q=="bmode"){V=new EC([12,19],zU.Dx)}if(q=="opacity"){V=new Ee([12,0],0,100,"%");
V.P(100)}if(q=="flow"){V=new Ee([12,63],0,100,"%");V.P(100)}if(q=="wconf"){V=new Ey}if(q=="strn"){V=new Ee([12,64],1,100,"%");
V.P(50)}if(q=="smode"){V=new EC([12,36],[[19,7,0],[19,7,1]]);V.P(1)}if(q=="pdetail"){V=new EL([12,65]);
V.kO()}if(q=="rng"){V=new EC([12,12],[[19,6,0],[19,6,1],[19,6,2]]);V.P(1)}if(q=="expo"){V=new Ee([12,5],0,100,"%");
V.P(50)}if(q=="algnd"){V=new EL([12,75]);V.P(!1)}if(q=="qsmode"){V=new EV([12,36],[[5,3],[18,1],[18,2]])}if(q=="redge"){V=new Ef([7,11],!1,null,!0)}if(q=="patch"){V=new EV("Drag to choose",[[12,70],[12,71]])}V.parent=this;
this.body.appendChild(V.R);this.BN[q]=V;if(q=="brush")V.l(_.E.N,this.IE,this);else if(q=="redge")V.l("click",this.In,this);
else V.l(_.E.N,this.Im,this)}}mB.prototype=new mq;mB.prototype.In=function(){var A=new N(_.E.K,!0);A.data={H:_.u.S_,KL:"redge"};
this.t(A)};mB.prototype.iX=function(){for(var A in this.BN)this.BN[A].D()};mB.prototype.iF=function(A){for(var M in A._W){var q=A._W[M];
if(M!="qsmode")q*=100;if(this.BN[M])this.BN[M].P(q)}};mB.prototype.cr=function(A,M){var q=this.BN.brush;
if(q==null)return;if(M==EW.fv)q.k_(A._h.list[0]);if(M==EW.fc){if(A._h.list[0])q.ky(A._h._s,A._h.list[0].Nq,A._h.list[0].NB);
else q.ky(A._h._s)}};mB.prototype.IE=function(){var A=new N(_.E.K,!0);A.data={H:_.u.kJ,KI:EW.fc,a_:this.BN.brush.ku()};
this.t(A)};mB.prototype.Im=function(){var A=new N(_.E.K,!0);A.data={H:_.u.kE,v:this.v};for(var M in this.BN){if(M=="brush"||M=="redge")continue;
A.data[M]=this.BN[M].c();if(["opacity","flow","strn","expo"].indexOf(M)!=-1)A.data[M]/=100;if(M=="bmode")A.data[M]=zU.DA[A.data[M]]}this.t(A)};
function mN(){mq.call(this);this.data={H:_.u.kE,_Y:"front",NV:0,um:{_m:!0,_E:10},_i:{l$:0,x:1,y:1}};
this.IB=new EQ;this.body.appendChild(this.IB.R);this.IB.l(_.E.N,this.kS,this);this.b_=new Ee([7,6],0,100," px");
this.b_.parent=this;this.b_.P(0);this.body.appendChild(this.b_.R);this.b_.l(_.E.N,this.kS,this);this.lX=new Ef([7,11],!1,null,!0);
this.body.appendChild(this.lX.R);this.lX.l("click",this.In,this)}mN.prototype=new mq;mN.prototype.iF=function(A){this.IB.P(A._Y)};
mN.prototype.iX=function(){this.b_.D();this.IB.D();this.lX.D()};mN.prototype.In=function(){var A=new N(_.E.K,!0);
A.data={H:_.u.S_,KL:"redge"};this.t(A)};mN.prototype.kS=function(){var A=new N(_.E.K,!0);this.data.v=this.v;
this.data._Y=this.IB.c();this.data.NV=this.b_.c();A.data=this.data;this.t(A)};function mQ(){mB.call(this,["brush","strn"])}mQ.prototype=new mB;
function m_(){mB.call(this,["brush","bmode","opacity","flow"])}m_.prototype=new mB;function mw(){mB.call(this,["brush","bmode","opacity","flow"])}mw.prototype=new mB;
function my(){mB.call(this,["brush","rng","expo"])}my.prototype=new mB;function mu(){mB.call(this,["brush","bmode","opacity","flow","algnd"])}mu.prototype=new mB;
function md(){mq.call(this);var A=_.L("span","fitem");this.body.appendChild(A);var M=[[17,0],[17,1],[11,12],[17,2]];
this.Qk=[];for(var q=0;q<M.length;q++){var V=new Ef(M[q],!1,null,!0);this.Qk.push(V);V.kO();V.l("click",this.IJ,this);
A.appendChild(V.R)}this.ML=new EC("Ratio",["Any","1 : 1","3 : 2","4 : 3","16 : 9"]);this.ML.l(_.E.N,this.Iz,this);
this.body.appendChild(this.ML.R);this.PK=new EF;this.PK.l("click",this.Lr,this)}md.prototype=new mq;
md.prototype.iX=function(){this.PK.D();for(var A=0;A<this.Qk.length;A++)this.Qk[A].D()};md.prototype.iF=function(A){var M=this.PK.R;
if(A.wv)this.body.appendChild(M);else if(this.body.contains(M))this.body.removeChild(M)};md.prototype.Lr=function(A){var M={H:_.u.kE,v:this.v,wT:this.PK.c()?"commit":"cancel"},q=new N(_.E.K,!0);
q.data=M;this.t(q)};md.prototype.IJ=function(A){A.target.R.blur();var M={H:_.u.kE,v:this.v,wT:"cropby",EEW:this.Qk.indexOf(A.target)},q=new N(_.E.K,!0);
q.data=M;this.t(q)};md.prototype.Iz=function(A){var M={H:_.u.kE,v:this.v,wT:"config",wJ:{wz:this.ML.c()}},q=new N(_.E.K,!0);
q.data=M;this.t(q)};function mO(){mB.call(this,["brush","rng","expo"])}mO.prototype=new mB;function mF(){mB.call(this,["brush","opacity","flow"])}mF.prototype=new mB;
function mX(){mN.call(this,d.cD);this._i=new EI;this._i.l(_.E.N,this.IG,this);this.body.appendChild(this._i.R)}mX.prototype=new mN;
mX.prototype.IG=function(A){this.data._i=this._i.c();this.kS()};mX.prototype.iX=function(){mN.prototype.iX.call(this);
this._i.D()};function Jn(){mq.call(this);this.vs=new EC("...",["1x1","3x3","5x5","11x11","31x31"]);this.vs.l(_.E.N,this.Im,this);
this.body.appendChild(this.vs.R)}Jn.prototype=new mq;Jn.prototype.Im=function(A){var M=new N(_.E.K,!0);
M.data={H:_.u.kE,v:this.v,wf:[1,3,5,11,31][this.vs.c()]};this.t(M)};Jn.prototype.iX=function(){this.vs.ka(zJ.get([12,20])+": ")};
function JE(){mq.call(this);this.UX=new Eb(!1);this.UX.parent=this;this.UX.l(_.E.N,this.kk,this);this.body.appendChild(this.UX.R);
this.UX.P(JSON.parse(j.jQ.jw).v);this.Jx=new EC(null,j.r.names.slice(0,5));this.Jx.l(_.E.N,this.kk,this);
this.body.appendChild(this.Jx.R);this.i$=new EC([12,19],zU.Dx);this.i$.l(_.E.N,this.kk,this);this.body.appendChild(this.i$.R);
this.hL=new Ee([12,0],0,100,"%");this.hL.parent=this;this.hL.l(_.E.N,this.kk,this);this.body.appendChild(this.hL.R);
this.hL.P(100);this.LY=new EL([12,23]);this.LY.l(_.E.N,this.kk,this);this.body.appendChild(this.LY.R)}JE.prototype=new mq;
JE.prototype.iX=function(){this.Jx.D();this.i$.D();this.hL.D();this.LY.D()};JE.prototype.cr=function(A,M){var q=M==EW.fg;
this.UX.bq(A._c,A._A);if(q||M==EW.fU)this.UX.k_(A.zi)};JE.prototype.kk=function(){var A=new N(_.E.K,!0);
A.data={H:_.u.kE,v:this.v};A.data.KI={r:this.UX.c(),style:j.r.types[this.Jx.c()],reverse:this.LY.kX(),wD:zU.DA[this.i$.c()],opacity:this.hL.c()/100};
this.t(A)};function Jm(){mq.call(this)}Jm.prototype=new mq;function JJ(){mB.call(this,["brush","algnd"])}JJ.prototype=new mB;
function Jz(){mq.call(this);this.eb=new ES;this.eb.parent=this;this.body.appendChild(this.eb.oa.R);this.body.appendChild(this.eb.oc.R);
this.body.appendChild(this.eb.Gd.R);var A=_.L("span","fitem");this.body.appendChild(A);A.appendChild(this.eb.Zo.R);
A.appendChild(this.eb.lb.R);A.appendChild(this.eb.lL.R);this.HA=new Ef([11,9],!1,null,!0);this.HA.l("click",this.Io,this);
this.body.appendChild(this.HA.R);this.PK=new EF;this.PK.l("click",this.Lr,this)}Jz.prototype=new mq;
Jz.prototype.iX=function(){this.PK.D();this.eb.D();this.HA.D()};Jz.prototype.Io=function(A){var M={H:_.u.kE,v:this.v,wT:"showwarp"},q=new N(_.E.K,!0);
q.data=M;this.t(q)};Jz.prototype.iF=function(A){if(A.wT=="showactive")this.body.appendChild(this.PK.R);
if(A.wT=="hideactive")this.body.removeChild(this.PK.R)};Jz.prototype.cr=function(A,M){if(M!=EW.fo&&M!=EW.fT&&M!=EW.fR&&M!=EW.fA)return;
this.eb.bx(A)};Jz.prototype.Lr=function(A){var M={H:_.u.kE,v:this.v,wT:this.PK.c()?"commit":"cancel"},q=new N(_.E.K,!0);
q.data=M;this.t(q)};function JG(){mN.call(this)}JG.prototype=new mN;function Jo(){mq.call(this);var A=[];
this.JM=new EL("Auto-Select");this.JM.l(_.E.N,this.Im,this);A.push(this.JM.R);this.oF=new EL([20,1]);
this.oF.l(_.E.N,this.Im,this);A.push(this.oF.R);this.ow=new EL([12,83]);this.ow.l(_.E.N,this.Im,this);
A.push(this.ow.R);this.vM=new Ef("Get PNG",!1,null,!0);this.vM.kO();A.push(this.vM.R);this.vM.l("click",this.Iv,this);
this.lP=new Ef("Get SVG",!1,null,!0);this.lP.kO();A.push(this.lP.R);this.lP.l("click",this.Iv,this);
var M=_.L("span","fitem");A.push(M);var q=_.L("span","fitem");A.push(q);this.Q$=[];for(var V=0;V<8;V++){var F=V==3||V==7?"Equal Gaps":[20,4,V<3?V:V-1],H=new Ef("Hi",!1,F);
(V<4?M:q).appendChild(H.R);H.l("click",this.Iv,this);this.Q$.push(H)}for(var V=0;V<A.length;V++)this.body.appendChild(A[V]);
this.EUi=A}Jo.prototype=new mq;Jo.prototype.iF=function(A){var M=A.EoE,q=A.EoQ;this.JM.P(M.yV);this.oF.P(M.yC);
this.ow.P(M.yS);if(q){_.CX(this.body);for(var V=0;V<q.length;V++)if(q[V]==1)this.body.appendChild(this.EUi[V])}};
Jo.prototype.Iv=function(A){var M=this.Q$.indexOf(A.target),q;if(M==-1)q={H:_.u.kE,v:this.v,wP:A.target==this.vM?"getPNG":"getSVG"};
else q={H:_.u.kE,v:this.v,wP:"algn",o:M};var V=new N(_.E.K,!0);V.data=q;this.t(V)};Jo.prototype.Im=function(A){var M=new N(_.E.K,!0);
M.data={H:_.u.kE,v:this.v,wP:"prms",yV:this.JM.kX(),yC:this.oF.kX(),yS:this.ow.kX()};this.t(M)};Jo.prototype.iX=function(){this.JM.D();
this.oF.D();this.ow.D();var A="h0 h1 h2 hG v0 v1 v2 vG".split(" ");for(var M=0;M<8;M++){this.Q$[M].ka(_.SP("align/"+A[M],null,"autoscale"))}};
function Jv(){mN.call(this);this.TE=new Ey;this.TE.l(_.E.N,this.IU,this);this.body.appendChild(this.TE.R)}Jv.prototype=new mN;
Jv.prototype.IU=function(A){this.data.um=this.TE.c();this.kS()};Jv.prototype.iX=function(){mN.prototype.iX.call(this);
this.TE.D()};function JU(){mB.call(this,["patch"])}JU.prototype=new mB;function Jl(){mB.call(this,["bmode","opacity","wconf"])}Jl.prototype=new mB;
function JR(){mN.call(this)}JR.prototype=new mN;function JH(){mN.call(this)}JH.prototype=new mN;function Jr(){mN.call(this);
this._i=new EI;this._i.l(_.E.N,this.IG,this);this.body.appendChild(this._i.R)}Jr.prototype=new mN;Jr.prototype.IG=function(A){this.data._i=this._i.c();
this.kS()};Jr.prototype.iX=function(){mN.prototype.iX.call(this);this._i.D()};function JW(){mq.call(this);
this.LC=[new E_("X",null,3),new E_("Y",null,3),new E_("W",null,3),new E_("H",null,3),new E_([12,15],null,4),new E_([12,80,0],null,4)];
for(var A=0;A<this.LC.length;A++){var M=this.LC[A];this.body.appendChild(M.R)}}JW.prototype=new mq;JW.prototype.iF=function(A){var M=A.us,q=A.uc,V=q.x-M.x,F=q.y-M.y,H=this.LC;
H[0].P(M.x);H[1].P(M.y);H[2].P(V);H[3].P(F);H[4].P((-Math.atan2(F,V)*180/Math.PI).toFixed(2));H[5].P(Math.sqrt(V*V+F*F).toFixed(2))};
JW.prototype.iX=function(){for(var A=0;A<this.LC.length;A++)this.LC[A].D()};function Jh(){mB.call(this,["brush","strn","pdetail"])}Jh.prototype=new mB;
function JT(){mB.call(this,["brush"]);this.ZK=[];var A=["Heal Selection"];for(var M=0;M<A.length;M++){var q=new Ef(A[M],!1,null,!0);
this.ZK.push(q);q.parent=this;this.body.appendChild(q.R);q.l("click",this.Il,this)}}JT.prototype=new mB;
JT.prototype.Il=function(A){var M=this.ZK.indexOf(A.currentTarget),q=new N(_.E.K,!0);q.data={H:_.u.kE,v:this.v,wT:["heal2","heal0","heal1"][M]};
this.t(q)};function Js(){mB.call(this,["brush","strn"])}Js.prototype=new mB;function Jc(){mB.call(this,["brush","flow","smode"])}Jc.prototype=new mB;
function JA(){mq.call(this);this.mx=!1;var A=_.L("span","fitem");this.body.appendChild(A);this.UJ=new Ef("<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />");
A.appendChild(this.UJ.R);this.UJ.l("click",this.IR,this);this.vZ=new Ef("<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />");
A.appendChild(this.vZ.R);this.vZ.l("click",this.IH,this);this.Dr=new Ef([20,2]);this.body.appendChild(this.Dr.R);
this.Dr.l("click",this.Ir,this);this.R_=new Ef([20,3]);this.body.appendChild(this.R_.R);this.R_.l("click",this.Ir,this);
this.UJ.kO()}JA.prototype=new mq;JA.prototype.iX=function(){this.Dr.D();this.R_.D()};JA.prototype.IR=function(A){this.UJ.kO();
this.vZ.kF();if(A)this.Im()};JA.prototype.IH=function(A){this.vZ.kO();this.UJ.kF();if(A)this.Im()};JA.prototype.Im=function(){var A={H:_.u.kE,v:this.v,Ke:this.UJ.kX()},M=new N(_.E.K,!0);
M.data=A;this.t(M)};JA.prototype.iF=function(A){if(this.mx!=A.mx){if(this.UJ.kX())this.IH();else this.IR()}this.mx=A.mx};
JA.prototype.Ir=function(A){var M={H:_.u.kE,v:this.v,action:A.target==this.Dr?"pixel":"fitscr"},q=new N(_.E.K,!0);
q.data=M;this.t(q)};function Jg(A){mq.call(this);if(A==null)return;this.BN={};for(var M=0;M<A.length;
M++){var q=A[M],V=null;if(q=="tmode"){V=new EC(null,[[12,76,0],[12,76,1],[12,76,2]]);V.P(1)}if(q=="binop")V=new EC(null,[[18,1],[18,2],[18,3],[18,4]]);
if(q=="pshape")V=new EC(null,["Polygon","Star","Spiral"]);if(q=="shape")V=new EB([12,76,1]);if(q=="crad"){V=new Ee("Corner Radius",0,50,"px");
V.P(0)}if(q=="cstr"){V=new EI}if(q=="irad"){V=new Ee("Inner Radius",0,100,"%");V.P(40)}if(q=="length"){V=new Ee("Length",4,40);
V.P(4)}if(q=="sides"){V=new Ee([12,78],3,30);V.P(5)}if(q=="width"){V=new Ee([12,41],1,100,"px");V.P(5)}if(q=="tolr"){V=new Ee([12,24],0,100);
V.P(5)}if(q=="sstyle"){V=new EN}V.parent=this;this.body.appendChild(V.R);this.BN[q]=V;V.l(_.E.N,this.Im,this)}}Jg.prototype=new mq;
Jg.prototype.IW=function(A){return null};Jg.prototype.Ih=function(){if(this.BN.pshape==null)return;var A=this.IW(this.BN.pshape.c());
if(A==null)return;_.CX(this.body);for(var M=0;M<A.length;M++){var q=A[M];this.body.appendChild(this.BN[q].R)}};
Jg.prototype.iX=function(){for(var A in this.BN)this.BN[A].D()};Jg.prototype.Im=function(A){var M=new N(_.E.K,!0);
if(A.target==this.BN.sstyle){M.data={H:_.u.kJ,KI:EW.fs,uP:this.BN.sstyle.c()};this.t(M);return}if(this.BN.tmode&&this.BN.binop){if(this.BN.tmode.c()==0)this.BN.binop.kA();
else this.BN.binop.kg()}M.data={H:_.u.kE,v:this.v};for(var q in this.BN)if(q!="sstyle")M.data[q]=this.BN[q].c();
this.t(M);if(A.target==this.BN.pshape)this.Ih()};Jg.prototype.cr=function(A,M){if(this.BN.sstyle)this.BN.sstyle.cr(A,M);
if(M==EW.fo||M==EW.fh)if(A.uY.length!=0&&this.BN.shape)this.BN.shape.k_(A.uY);if(M==EW.fo||M==EW.fs)if(this.BN.sstyle)this.BN.sstyle.P(null,A.uP,A.Rq)};
function Jx(){Jg.call(this,["tmode","sstyle"])}Jx.prototype=new Jg;function Jp(){Jg.call(this,["tmode","sstyle","binop","tolr"])}Jp.prototype=new Jg;
function Jf(){Jg.call(this,["sstyle"]);this.EU_=null;this.ZY=null;this.RC=new EC("Path",[[18,1],[18,2],[18,3],[18,4]]);
this.yY=new Ef("\u25BC");this.yY.kO();this.oq=new Ef("\u25B2");this.oq.kO();this.RU=[this.RC,this.yY,this.oq];
for(var A=0;A<this.RU.length;A++){var M=this.RU[A];this.body.appendChild(M.R);M.parent=this;M.l(A==0?_.E.N:"click",this.bW,this)}}Jf.prototype=new Jg;
Jf.prototype.iF=function(A){if(A.wT=="main"){var M=this.RU,q=A.uQ;if(q&&q.k.length==1){this.ZY=q.clone();
var V=q.k[0],F=Q.m.U_(q.C);this.RC.kA();if(V>0)this.yY.kA();else this.yY.kg();if(V<F-1)this.oq.kA();
else this.oq.kg();var H=Q.m.Uw(q.C,V),w=q.C[H];this.RC.ka("Path "+(V+1));this.RC.P([3,0,1,2][w.qz])}else{for(var C=0;
C<M.length;C++)M[C].kg()}}};Jf.prototype.iX=function(){Jg.prototype.iX.call(this);this.RC.D()};Jf.prototype.bW=function(A){if(A.target==this.RC||A.target==this.yY||A.target==this.oq){var M={},q=this.ZY,V=q.C,F=q.k[0],H=Q.m.Uw(V,F),w=V[H];
if(A.target==this.RC)w.qz=[1,2,3,0][this.RC.c()];else{var C=A.target==this.yY?-1:1,r=Math.min(F,F+C),G=Math.max(F,F+C),J=Q.m.Uw(V,r),m=Q.m.Uw(V,G);
if(J==-1||m==-1)return;var u=m+Q.m.EEd(V,G),W=V.slice(0,J),y=V.slice(J,m),O=V.slice(m,u),h=V.slice(u);
q.C=W.concat(O.concat(y.concat(h)));q.k[0]+=C}M.uQ=q;var I=new N(_.E.K,!0);I.data={H:_.u.kE,v:this.v,u_:M};
this.t(I)}};function JP(){Jg.call(this,["sstyle"])}JP.prototype=new Jg;function JD(){Jg.call(this,["tmode","sstyle","binop","cstr","crad"])}JD.prototype=new Jg;
function Jt(){Jg.call(this,["tmode","sstyle","binop","cstr"])}Jt.prototype=new Jg;function JM(){Jg.call(this,"tmode sstyle binop pshape sides irad crad length".split(" "));
this.EUF=[["sides","crad"],["sides","irad","crad"],["length"]];this.Ih()}JM.prototype=new Jg;JM.prototype.IW=function(A){return["tmode","sstyle","binop","pshape"].concat(this.EUF[A])};
function Jj(){Jg.call(this,["tmode","sstyle","binop","width"])}Jj.prototype=new Jg;function Ja(){Jg.call(this,["tmode","sstyle","binop","cstr","shape"])}Ja.prototype=new Jg;
function JV(){mB.call(this,["brush","qsmode","redge"])}JV.prototype=new mB;function JC(){mq.call(this);
if(window.Typr==null)return;this.yE=null;this.rQ=_.L("span","");this.rB=_.L("span","");this.dz={hN:new E_("X","px",3),hq:new E_("Y","px",3),QZ:new E_("W","%",3),NQ:new E_("H","%",3),ElE:new E_("\u2221","\xB0",3),Elm:new E_("Skew X","\xB0",3),ElJ:new E_("Skew Y","\xB0",3)};
for(var A in this.dz){this.rQ.appendChild(this.dz[A].R);this.dz[A].l(_.E.N,this.IT,this)}this.TE=new Ed(!0,!0,!0);
this.TE.l(_.E.N,this.Evk,this);this.TE.parent=this;var M=this.rB,q=this.TE;M.appendChild(q.hb.R);M.appendChild(q.lO.R);
M.appendChild(q.mT.R);M.appendChild(q.ms.R);M.appendChild(q.Wq.R);this.HA=new Ef([11,9]);this.HA.l("click",this.Evt,this);
this.QS=new EC(null,["Nearest","Bilinear"]);this.QS.P(1);this.QS.l(_.E.N,this.IT,this);this.PK=new EF;
this.PK.l("click",this.Lr,this)}JC.prototype=new mq;JC.prototype.iF=function(A){_.CX(this.body);this.yE=A;
if(A.dz){var M=A.dz.GO.clone(),q=Math.atan2(-M.$,M.M),V=new zo;V.rotate(-q);M.concat(V);var F=this.dz;
F.hN.P(A.dz.dG.x.toFixed(2));F.hq.P(A.dz.dG.y.toFixed(2));F.QZ.P((M.M*100).toFixed(2));F.NQ.P((M.e$*100).toFixed(2));
F.ElE.P((-q*180/Math.PI).toFixed(2));F.Elm.P((0*180/Math.PI).toFixed(2));F.ElJ.P((Math.atan(M.ei)*180/Math.PI).toFixed(2));
this.body.appendChild(this.rQ);this.HA.kF()}if(A.dJ){this.TE.P(A.dJ);this.body.appendChild(this.rB);
this.HA.kO()}this.body.appendChild(this.QS.R);this.body.appendChild(this.PK.R);if(A.dv)this.body.appendChild(this.HA.R)};
JC.prototype.IT=function(A){var M=this.dz,q=[];for(var V in M){var F=parseFloat(M[V].c());if(isNaN(F))return;
q.push(F)}var H=new zo(q[2]/100,Math.tan(q[5]*Math.PI/180),Math.tan(q[6]*Math.PI/180),q[3]/100,this.yE.dz.GO.eI,this.yE.dz.GO.eK),w=new zo;
w.rotate(-q[4]*Math.PI/180);H.concat(w);this.IA({wT:"trn",dz:{GO:H,dG:new f(q[0],q[1])},wR:this.QS.c()})};
JC.prototype.Evk=function(A){this.IA({wT:"wrp",dJ:this.TE.c()})};JC.prototype.Evt=function(A){this.IA({wT:"switchWarp"})};
JC.prototype.Lr=function(A){this.IA({wT:this.PK.c()?"commit":"cancel"})};JC.prototype.IA=function(A){A.H=_.u.kE;
A.v=this.v;var M=new N(_.E.K,!0);M.data=A;this.t(M)};JC.prototype.iX=function(){this.PK.D();this.TE.D()};
function JS(){JC.call(this)}JS.prototype=new JC;function Jk(){JC.call(this)}Jk.prototype=new JC;function Jb(){Es.call(this);
this.R=_.L("div","cmanager");this.ev=0;this.eU=0;this.JX=[];this.Lp=_.L("div","droparea");var A=_.L("div","dropbox");
A.innerHTML="Insert into current project";var M=_.L("div","dropbox");M.innerHTML="Open as new projects";
this.Lp.appendChild(A);this.Lp.appendChild(M);this.tM={};this.la=_.L("div","alertcont");this.R.appendChild(this.la);
this.rL=_.L("div","alertcont");this.R.appendChild(this.rL);this.Zb=0;_.SR(document.body,this.EzT.bind(this))}Jb.prototype=new Es;
Jb.prototype.EJI=function(){this.R.appendChild(this.Lp)};Jb.prototype.EnU=function(){this.R.removeChild(this.Lp)};
Jb.prototype.LR=function(A,M){this.ev=A;this.eU=M;var q=this.Lp;q.setAttribute("style","left:"+(A-600)/2+"px; top:"+(M-300)/2+"px;")};
Es.prototype.ks=function(){var A=this.R;return A.offsetHeight+A.clientTop};Jb.prototype.EGI=function(A){var M=_.L("div","alertpanel");
M.textContent=typeof A=="string"?A:zJ.get(A);this.la.appendChild(M);this.tM[JSON.stringify(A)]=M};Jb.prototype.Eza=function(A){var M=this.tM[JSON.stringify(A)];
this.la.removeChild(M);delete this.tM[JSON.stringify(A)]};Jb.prototype.alert=function(A,M){var q=this.rL,V=_.L("div","alertpanel tpanel");
V.textContent=A;q.appendChild(V);if(M==null)M=1500;var F=M,H=Math.max(Date.now()+F,this.Zb+F);setTimeout(function(){V.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){q.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},H-Date.now()-30);
setTimeout(function(){q.removeChild(q.firstChild);q.setAttribute("style","transition: transform 0.7s;  margin-top: 0em;  transform: translateY(0em);")},H-Date.now());
this.Zb=H};Jb.prototype.EzT=function(A){var M=this.JX;for(var q=M.length-1;q>=0;q--){var V=M[q],F=A.target;
while(F!=null){if(F==V.R){this.ID(V);return}F=F.parentNode}}this.ID()};Jb.prototype.ID=function(A){var M=this.JX;
for(var q=0;q<M.length;q++){if(A&&A.kh(M[q]))continue;var V=M[q].R;V.style.height="auto";_.SE(V,"scrollable");
this.R.removeChild(V);M.splice(q,1);q--}};Jb.prototype.EEY=function(A){this.ID(A.KH);var M=A.KH,q=M.R;
if(this.JX.indexOf(M)!=-1)return;this.JX.push(M);this.R.appendChild(M.R);var V=this.ev,F=this.eU,H=A.x,w=A.y,C=this.R.getBoundingClientRect();
if(M instanceof Ec){var r=M.kT(),G=M.ks();r=Math.min(r,200);if(w+G<F){H=Math.min(H,V-r-5)}else{if(H+r<V){w=Math.min(w,F-G-5)}else if(G<w){w=w-G-2;
H=Math.min(H,V-r-5)}else{H=H-r;w=Math.min(w,F-G-5)}}if(A.EvA)w=Math.max(2,A.y-G-2)}w=Math.max(2,w);var top=Math.round(w-C.y+this.R.offsetTop);
q.style.position="absolute";q.style["z-index"]=10;q.style.left=Math.round(H)+"px";q.style.top=top+"px";
if(top+M.ks()>F-5){q.style.height=F-5-top+"px";_.Sn(q,"scrollable")}};Jb.prototype.ERd=function(A){var M=A.KH,q=this.JX.indexOf(M);
if(q==-1)return;this.JX.splice(q,1);var V=M.R;this.R.removeChild(M.R)};function JL(){Es.call(this);this.R=_.L("div","confbar")}JL.prototype=new Es;
JL.prototype.Ems=function(A){A.parent=this;_.CX(this.R);this.R.appendChild(A.R)};function JZ(){Es.call(this);
this.mQ=_.L("input","");this.mQ.setAttribute("type","file");this.mQ.setAttribute("multiple","");this.mQ.addEventListener("change",function(A){this.Ib(A.target.files)}.bind(this),!1);
document.body.appendChild(this.mQ);this.mQ.setAttribute("style","display:none");this.rk=[];this.lj=!1;
this.rC={}}JZ.prototype=new Es;JZ.prototype.Ia=function(A){if(A==null)A=[23,5];var M=JSON.stringify(A),q=this.rC;
if(q[M]==null)q[M]=0;if(q[M]==0){var V=new N(_.E.K,!0);V.data={H:_.u.ko,lt:A};this.t(V)}q[M]++};JZ.prototype.IV=function(A){if(A==null)A=[23,5];
var M=JSON.stringify(A),q=this.rC;if(q[M]==null)q[M]=0;q[M]--;if(q[M]==0){var V=new N(_.E.K,!0);V.data={H:_.u.kv,lt:A};
this.t(V)}};JZ.prototype.Elq=function(A){var M=document.createEvent("MouseEvents");M.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.mQ.dispatchEvent(M)};JZ.prototype.IS=function(A){this.rk.push(A);this.Ik()};JZ.prototype.Ik=function(){var A=this.rk;
if(A.length==0||this.lj)return;this.lj=!0;var M=A.shift();this.Ia();if(M.Fh==null)M.Fh={};var q=new XMLHttpRequest;
q.Dh=M;var V=M.url;if(M.XC)V="mirror.php?url="+encodeURIComponent(V);q.open("GET",V);q.responseType="arraybuffer";
q.onload=this.Ie.bind(this);q.send()};JZ.prototype.Ib=function(A,M,q,V){for(var F=0;F<A.length;F++){this.Ia();
var H=A[F],w=new FileReader;w.Dh=H;w.Dh.Xj=q;w.Dh.XS=V;w.Els=M;w.onload=this.Ie.bind(this);w.readAsArrayBuffer(H)}this.mQ.value=null};
JZ.prototype.EGG=function(A){var M=A.Fc.lp,q=zm.EM(A,M);zx.EH(function(){var V=new XMLHttpRequest,F="https://e.photoshoponline.pro/pso/upload/drive/v3/files/"+A.Fc.file.id+"?uploadType=media"+"&"+zx.EW();
V.open("PATCH",F,!0);V.addEventListener("load",function(H){var w=JSON.parse(H.target.response);alert(w.name+" updated")});
V.send(q);alert("Saving \""+A.Fc.file.name+"\" to Google Drive ...")})};JZ.prototype.EEi=function(A,M){var q=A.jv(),V=M[0],F=zm.EM(A,V.toUpperCase());
if(window.parent!=window)window.parent.postMessage(F,"*")};JZ.prototype.Eoj=function(A){this.Ia("Saving ...");
setTimeout(JZ.Eoi.bind({XV:A,caller:this}),50)};JZ.Eoi=function(){var A=this.XV,M=this.caller,q=A.Fh.LA,V=new JY,F=0,H="",w=encodeURIComponent;
H="p="+w("{ \"source\": \""+A.FT+"\", \"versions\": [");K.WU(V,F,H);F+=H.length;var C=Date.now(),r=A.jv(),G=q.formats;
for(var J=0;J<G.length;J++){var m=G[J].split(":"),u=m[0],W=m.length==2&&(u=="jpg"||u=="webp")?[Math.round(100*parseFloat(m[1]))]:null,y,y=zm.EM(A,u.toUpperCase(),null,null,W);
H=w(" {\"format\": \""+u+"\", \"data\": \"");K.WU(V,F,H);F+=H.length;var O=new Uint8Array(JZ.EzD(y)),h=O.length;
V.I_(F,h);for(var I=0;I<h;I++){V.I_(F,3);var Z=O[I];if(Z==43){V.data[F]=37;V.data[F+1]=50;V.data[F+2]=66;
F+=3}else if(Z==47){V.data[F]=37;V.data[F+1]=50;V.data[F+2]=70;F+=3}else if(Z==61){V.data[F]=37;V.data[F+1]=51;
V.data[F+2]=68;F+=3}else{V.data[F]=Z;F++}}H=w("\" }"+(J+1<G.length?", ":""));K.WU(V,F,H);F+=H.length}H=w("] }");
K.WU(V,F,H);F+=H.length;var L=new XMLHttpRequest;L.open("POST",q.url,!0);L.setRequestHeader("Content-type","application/x-www-form-urlencoded");
L.addEventListener("load",JZ.Evi.bind(M));L.send(V.data.buffer.slice(0,F))};JZ.Evi=function(A){this.IV("Saving ...");
alert("Saved. Response: "+A.target.response,1500)};JZ.I$=function(A){var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q=new Uint8Array(A),V=q.length,F=V%3,H=V-F,w=[],C=0,r=0,G=0;
for(var J=0;J<H;J+=3){C=q[J];r=q[J+1];G=q[J+2];w.push(M[C>>2]+M[(C&3)<<4|r>>4]+M[(r&15)<<2|G>>6]+M[G&63])}if(F==1){C=q[H];
w.push(M[C>>2]+M[(C&3)<<4]+"==")}if(F==2){C=q[H];r=q[H+1];w.push(M[C>>2]+M[(C&3)<<4|r>>4]+M[(r&15)<<2]+"=")}var m=w.join("");
return m};JZ.EzD=function(A){var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q=new Uint8Array(64),G=0,J=0,m=0,u=0;
for(var V=0;V<64;V++)q[V]=M.charCodeAt(V);var F=new Uint8Array(A),H=F.length,w=H%3,C=H-w,r=[],r=new Uint8Array(Math.floor(H/3)*4+(w==0?0:4));
for(var V=0;V<C;V+=3){G=F[V];J=F[V+1];m=F[V+2];r[u]=q[G>>2];r[u+1]=q[(G&3)<<4|J>>4];r[u+2]=q[(J&15)<<2|m>>6];
r[u+3]=q[m&63];u+=4}if(w==1){G=F[C];r[u]=q[G>>2];r[u+1]=q[(G&3)<<4];r[u+2]=61;r[u+3]=61}if(w==2){G=F[C];
J=F[C+1];r[u]=q[G>>2];r[u+1]=q[(G&3)<<4|J>>4];r[u+2]=q[(J&15)<<2];r[u+3]=61}return r.buffer};JZ.prototype.Ie=function(A){var M,q=A.target.Dh;
if(A.target instanceof XMLHttpRequest)M=A.target.response;else M=A.target.result;JZ.Iq(q,M,this,A.target.Els);
this.IV();if(A.target instanceof XMLHttpRequest){this.lj=!1;this.Ik()}};JZ.Iq=function(A,M,q,V){var F;
if(A.name)F=A.name.split(".")[0];else{if(A.url.substring(0,5)=="data:"||A.url.indexOf("googleapis")!=-1)F="image";
else F=A.url.substring(A.url.lastIndexOf("/")+1).split(".")[0];F=F.slice(0,50)}var H=new Uint8Array(M),w=zm.Ec(M);
if(w==null)w=K.Wo(H,0,4);if(w=="json"){var C="";for(var r=0;r<H.length;r++)C+=String.fromCharCode(H[r]);
C=decodeURIComponent(escape(C));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(C));return}if(w=="html"){var C=zt.sD(H,0,H.length),G=new DOMParser,J=G.parseFromString(C,"text/html"),m=J.getElementsByTagName("meta");
for(var r=0;r<m.length;r++){var u=m[r],W=u.getAttribute("property"),y=u.getAttribute("content"),O=null;
if(W=="og:image")O=y;if(W==null&&y&&y.startsWith("0;url=/imgres?")){var h=y.slice(14).split("&");for(var I=0;
I<h.length;I++)if(h[I].startsWith("imgurl"))O=decodeURIComponent(h[I].slice(7))}if(O==null)continue;
var Z=new N(_.E.K,!0);Z.data={H:_.u.SZ,KI:{url:O,XC:!0,Xj:A.Xj}};q.t(Z)}return}if(zm.Eg(w)){var L,Y=zm.Eg(w);
if(Y.EL){L=new EE(F+(w=="psd"?"":"-"+w)+".psd");Y.Ea(M,L)}else{var B=Y.Ea(M);if(B[0].t33421){var Z=new N(_.E.K,!0);
Z.data={H:_.u.Sd,qT:B[0]};q.t(Z);return}L=JZ.IQ(F,B)}L.Fh=A.Fh;L.FT=A.url;L.Fs=A.Fs;L.Fc=A.Fc;if(L.Fc)L.Fc.lp=w;
if(V)V(L.T[0].buffer,L.T[0].rect);else{var Z=new N(_.E.K,!0);Z.data={H:A.Xj==null?_.u.Sy:_.u.Su,target:A.Xj,wF:A.XS,wb:L};
q.t(Z)}return}var X={pat:[EJ.H$,EW.fW],abr:[zb.H$,EW.fv],grd:[El.H$,EW.fU],csh:[zk.H$,EW.fh],acv:[zS.H$,EW.fl],shc:[zZ.H$,EW.fH],alv:[zV.H$,EW.fr],ttf:[Typr.parse,EW.fR],otf:[Typr.parse,EW.fR]};
if(X[w]){var E=X[w][0](M),Z=new N(_.E.K,!0);Z.data={H:_.u.kJ,KI:X[w][1],hX:E};q.t(Z);return}alert("Unknown file format: "+JSON.stringify(w))};
JZ.prototype.EUp=function(A){var M=new XMLHttpRequest;M.open("POST","https://api.imgur.com/3/image",!0);
M.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");M.setRequestHeader("Content-type","application/x-www-form-urlencoded");
M.setRequestHeader("Accept","application/json");M.addEventListener("load",this.Ezm);M.send("type=base64&image="+encodeURIComponent(JZ.I$(A)));
alert("Saving to Imgur ...",4e3)};JZ.prototype.Ezm=function(A){var M=JSON.parse(A.target.response);if(M.success)window.open(M.data.link,"Imgur")};
JZ.IQ=function(A,M){var q=new EE(A+".psd"),V=new U(0,0,1,1);for(var F=0;F<M.length;F++){var H=M[F];V=V.vP(H.eG);
var w=q.jD();w.tE(F==0);w.Dw("Layer "+F);if(H.eo)w.Dw(H.eo);w.rect=H.eG.clone();w.buffer=new Uint8Array(H.data);
Q.Jn(w);q.T.push(w)}q.k=[0];q.n=V.n;q.J=V.J;q.buffer=Q.b(V.X()*4);q.U();return q};JZ.save=function(A,M){var q=new Uint8Array(A),V=document.createElement("a");
if(typeof V.download=="string"){var F=new Blob([q]),H=window.URL.createObjectURL(F);V.href=H;V.download=M;
document.body.appendChild(V);V.click();document.body.removeChild(V)}else{var w="data:application/octet-stream;base64,"+JZ.I$(A);
window.open(w)}};function JY(){this.size=16;this.data=Q.b(16)}JY.prototype.I_=function(A,M){if(A+M<=this.size)return;
var q=this.size;while(A+M>this.size)this.size*=2;var V=Q.b(this.size);for(var F=0;F<q;F++)V[F]=this.data[F];
this.data=V};function Ji(A){Es.call(this);this.vq=A;this.Elx=this.$m.bind(this);this.rp=this.$J.bind(this);
this.Elf=this.$z.bind(this);this.Jj=0;this.rx=0;this.R=_.L("div","panelblock");this.Gx=_.L("div","block");
this.vO=_.L("div","collapsed");this.R.appendChild(this.Gx);this.aH=-1;this.Of=-1;this.Uf=!0;this.vw=_.L("div","panelhead");
this.Gx.appendChild(this.vw);this.Bi=_.L("div","");this.Gx.appendChild(this.Bi);this.I=[];this.Us=null;
this.PL=null}Ji.prototype=new Es;Ji.prototype.Iw=function(){return null};Ji.prototype.Iy=function(){if(this.Iw()){this.PL=this.Iw();
this.Bi.appendChild(this.PL)}};Ji.prototype.EED=function(){if(this.PL){this.Bi.removeChild(this.PL);
this.PL=null}};Ji.prototype.Id=function(){for(var A=0;A<this.I.length;A++)this.I[A].Gc.kF()};Ji.prototype.Yl=function(){var A=new f(0,0);
for(var M=0;M<this.I.length;M++){var q=this.I[M].Yl();A.x=Math.max(A.x,q.x);A.y=Math.max(A.y,q.y)}return A};
Ji.prototype.IO=function(){return this.Of};Ji.prototype.EoW=function(){return this.aH};Ji.prototype.IX=function(){this.Uf=!0;
this.R.removeChild(this.vO);this.R.appendChild(this.Gx)};Ji.prototype.collapse=function(){this.Uf=!1;
this.R.appendChild(this.vO);this.R.removeChild(this.Gx)};Ji.prototype.$n=function(){return 26+this.Bi.getBoundingClientRect().height};
Ji.prototype.LR=function(A,M){this.vw.setAttribute("style","max-width: "+A+"px");var q=this.vw.getBoundingClientRect().height;
q=26;if(this.Of!=-1)this.I[this.Of].LR(A,M-q)};Ji.prototype.cr=function(A,M){this.I[this.Of].cr(A,M)};
Ji.prototype.La=function(A){this.I[this.Of].La(A)};Ji.prototype.$E=function(A){this.EED();if(this.I.indexOf(A)!=-1){this.$v(this.I.indexOf(A));
return}A.parent=this;this.I.push(A);this.vw.appendChild(A.TH);A.TH.addEventListener("mouseover",this.Elx,!1);
this.vO.appendChild(A.Gc.R);A.Gc.l("click",this.$R,this);A.l("select",this.$U,this);A.l(_.E.Sa,this.$l,this);
this.$v(this.I.length-1)};Ji.prototype.$m=function(A){if(A.buttons==0)return;var M=A.currentTarget,q=M,V=0;
while((q=q.previousSibling)!=null)V++;this.rx=V;M.addEventListener("mouseout",this.rp,!1);this.Jj=setTimeout(this.Elf,700)};
Ji.prototype.$J=function(A){var M=A.currentTarget,q=M,V=0;while((q=q.previousSibling)!=null)V++;M.removeEventListener("mouseout",this.rp);
clearTimeout(this.Jj)};Ji.prototype.$z=function(A){this.t(new N(_.E.SV,!1))};Ji.prototype.$G=function(A){return this.rx};
Ji.prototype.$o=function(A){this.aH=A;this.t(new N(_.E.Sa,!1));var M=this.I[A];this.I.splice(A,1);this.vw.removeChild(M.TH);
this.vO.removeChild(M.Gc.R);M.TH.setAttribute("class","");M.Gc.removeEventListener("click",this.$R,this);
M.Gc.kF();M.removeEventListener("activate",this.$U);M.removeEventListener(_.E.Sa,this.$l);var q=this.Of;
if(A<q)q--;else if(A==q&&A==this.I.length)q--;this.$v(q);if(this.I.length==0)this.Iy()};Ji.prototype.$v=function(A,M){if(M==null)M=!0;
for(var q=0;q<this.I.length;q++)this.I[q].TH.setAttribute("class","");if(this.Us)this.Bi.removeChild(this.Us);
this.Us=null;this.Of=A;if(A==-1)return;var V=this.I[this.Of];this.Us=V.eT;this.Bi.appendChild(V.eT);
V.TH.setAttribute("class","active");V.YH();if(!this.Uf){this.t(new N("showFloat"));this.I[A].Gc.kO()}if(M)this.t(new N(_.E.N,!1))};
Ji.prototype.$U=function(A){if(this.vq&&!this.vq.$Q())return;var M=this.I.indexOf(A.currentTarget);this.$v(M)};
Ji.prototype.$l=function(A){if(this.vq&&!this.vq.$Q())return;var M=this.I.indexOf(A.currentTarget);this.$o(M)};
Ji.prototype.$R=function(A){var M=this.I.indexOf(A.currentTarget.parent);if(this.I[M].Gc.kX())this.t(new N("hideFloat"));
else this.$v(M)};Ji.prototype.ERJ=function(A){this.t(A)};function JI(A){Ji.call(this,A);this.zI=[];this.yn=[];
this.ElI=this.$h.bind(this);this.rc=this.$T.bind(this);this.iU=this.$c.bind(this);this.$s(this.Bi);this.$s(this.vw);
this.fK=_.L("div","intro");this.we="default;";this.Eli="";var M=_.L("ul");M.setAttribute("style","margin:0;padding: 150px 195px 0 5px;font-size: 1.5em;");M.setAttribute("class","ulintro");
this.fK.appendChild(M);this.Q$=[];var q=[[11,7],[1,6],"psonline.psd",""],V=_.L("li");for(var F=0;
F<q.length;F++){if(F==2){var H=new Ef("Demo: ");V.appendChild(H.R)}var w=q[F],C=new Ef(w);C.l("click",this.$W,this);
V.appendChild(C.R);this.Q$.push(C);if(F==0||F==1||F==3||F==q.length-1){M.appendChild(V);V=_.L("li")}}var r=_.L("div");
r.setAttribute("style","margin:0;  padding:30px 22px 0 26px; font-size:1.1em");this.fK.appendChild(r);
this.KP={};var G=["en"],J=navigator.languages;if(J)for(var F=0;F<J.length;F++){var m=J[F].split("-")[0].toLowerCase();
if(G.indexOf(m)==-1)G.push(m)}for(var F=0;F<G.length;F++){var m=G[F],C=new Ef((zJ.Ev(m)==-1?"*":"")+m.toUpperCase());
C.l("click",this.$r,this);C._t=m;r.appendChild(C.R);this.KP[m]=C}var u=_.L("span");u.setAttribute("style","float:right");
r.appendChild(u);for(var F=0;F<ET.kW.length;F++){var W=ET.kW[F],C=new Ef("<span style=\"display:inline-block; width:10px; height:10px; background-color:#"+Q.EI(W["--bg-color"])+";\"></span>");
C.l("click",this.$r,this);C.VJ=F;u.appendChild(C.R)}}JI.prototype=new Ji;JI.prototype.$r=function(A){var M=A.currentTarget,q;
if(M._t!=null){var V=zJ.Ev(M._t);if(V!=-1)q={H:_.u.kJ,KI:EW.fV,lang:V};else q={H:_.u.kz,link:"https://e.photoshoponline.pro/pso/translate?lang="+M._t}}else q={H:_.u.kJ,KI:EW.fC,he:M.VJ};
var F=new N(_.E.K,!0);F.data=q;this.t(F)};JI.prototype.Lz=function(A){A="cursor:"+A+";";if(this.we==A)return;
this.we=A;this.Bi.setAttribute("style",this.we+" "+this.rs)};JI.prototype.$W=function(A){var M=this.Q$.indexOf(A.target),q=new N(_.E.K,!0);
if(M==0)q.data={H:_.u.S_,KL:"newproject"};if(M==1)q.data={H:_.u.SY};if(M>1)q.data={H:_.u.SZ,KI:{url:["images/psonline.psd"/*,"images/milk.sketch"*/][M-2]}};
this.t(q)};JI.prototype.D=function(){for(var A=0;A<this.Q$.length;A++)this.Q$[A].D()};JI.prototype.Iw=function(){return this.fK};
JI.gM=function(A){A.stopPropagation();A.preventDefault()};JI.prototype.$h=function(A){JI.gM(A);var M=A.currentTarget,q=this.zI.indexOf(M);
this.yn[q]++;_.Sn(M,"highlight")};JI.prototype.$T=function(A){JI.gM(A);var M=A.currentTarget,q=this.zI.indexOf(M);
this.yn[q]--;if(this.yn[q]==0)_.SE(M,"highlight")};JI.prototype.LR=function(A,M){M--;Ji.prototype.LR.call(this,A,M);
this.rs="height:"+(M-(this.I.length==0?3:25))+"px; width:"+A+"px; overflow:hidden;";this.Bi.setAttribute("style",this.we+" "+this.rs);
var q=505,V=420,F=1,H="";if(A<q||M<V){if(A/q<M/V)F=A/q;else F=M/V}H+="background-image:url("+PIMG.intro+"); background-size: "+q+"px "+V+"px;";
H+="position:relative; top:"+Math.round((M-V)/2)+"px;  left: "+Math.round((A-q)/2)+"px; width:"+q+"px; height:"+V+"px;";
if(F!=1)H+="transform: scale("+F+","+F+");";if(this.fK)this.fK.setAttribute("style",H)};JI.prototype.$s=function(A){if(this.zI.indexOf(A)!=-1)return;
this.zI.push(A);this.yn.push(0);A.addEventListener("dragenter",this.ElI,!1);A.addEventListener("dragleave",this.rc,!1);
A.addEventListener("dragover",JI.gM,!1);A.addEventListener("drop",this.iU,!1)};JI.prototype.$c=function(A){this.rc(A);
var M=null,q=A.currentTarget;if(q==this.Bi&&this.Of!=-1)M=this.Of;else if(q==this.vw)M=null;else for(var V=0;
V<this.I.length;V++)if(this.I[V].TH==q)M=V;_.SD(A,this,M)};JI.prototype.$E=function(A){Ji.prototype.$E.call(this,A);
this.$s(A.TH)};JI.prototype.$o=function(A){var M=this.I[A],q=this.zI.indexOf(M.TH);this.zI.splice(q,1);
this.yn.splice(q,1);Ji.prototype.$o.call(this,A)};function J$(){Es.call(this);ET.kr(1);this.R=_.L("div","flexrow photopea");
this.IC=_.L("div");this.R.appendChild(this.IC);this.TW={x:0,y:0,_Q:!1};this.rT=!1;this.Rt=null;this.rh=0;
this.rW=0;this.Rz=0;if(_.SJ(27))_.Sm=window;else _.Sm=this.R;window.alert=function(J,m){this.mG.alert(J,m);
console.log("Alert: "+J)}.bind(this);window.onmessage=function(J){if(J.data instanceof ArrayBuffer){var m=zm.Ec(J.data),u=zm.Eg(m);
JZ.Iq({url:"file"},J.data,this);if(u==null)this.$A()}else if(J.data.charAt(0)=="{"){}else{var W=new N(_.E.K,!0);
W.data={H:_.u.kU,Wd:J.data};this.t(W);this.$A()}}.bind(this);window.onbeforeunload=this.$t.bind(this);
this.YE={rr:[{v:d.cf,RJ:!0,Kj:[R.fB]},{v:d.Az,RJ:!1,Kj:[R.fw]},{v:d.AG,RJ:!1,Kj:[R.fB,R.fw]}],Ge:[[{v:new d.gS,uv:new Jo}],[{v:new d.xs,uv:new Jr},{v:new d.gn,uv:new mX}],[{v:new d.gC,uv:new JG},{v:new d.xG,uv:new JR},{v:new d.xv,uv:new JH}],[{v:new d.pU,uv:new JV},{v:new d.gX,uv:new Jv}],[{v:new d.AB,uv:new md}],[{v:new d.gm,uv:new Jn},{v:new d.xA,uv:new JW}],"---",[{v:new d.xx,uv:new JT},{v:new d.gl,uv:new JJ},{v:new d.xm,uv:new JU}],[{v:new d.A$,uv:new m_},{v:new d.AK,uv:new mw}],[{v:new d.Aq,uv:new mu}],[{v:new d.AO,uv:new mF}],[{v:new d.gG,uv:new JE},{v:new d.xz,uv:new Jl}],[{v:new d.AI,uv:new mQ},{v:new d.xg,uv:new Jh},{v:new d.xp,uv:new Js}],[{v:new d.Ad,uv:new mO},{v:new d.Ae,uv:new my},{v:new d.xf,uv:new Jc}],"---",[{v:new d.gR,uv:new Jz}],[{v:new d.x$,uv:new Jx},{v:new d.xK,uv:new Jp}],[{v:new d.xe,uv:new Jf},{v:new d.xq,uv:new JP}],[{v:new d.Rect,uv:new JD},{v:new d.lh,uv:new Jt},{v:new d.lW,uv:new Jj},{v:new d.xB,uv:new JM},{v:new d.xN,uv:new Ja}],"---",[{v:new d.gv,uv:new Jm}],[{v:new d.xP,uv:new JA}]],keys:[R.PV,R.Pp,R.Px,R.EGw,R.fz,R.Pc,"---",R.PA,R.Ph,R.Pj,R.E,R.PT,null,R.PP,"---",R.A,R.PD,R.u,R.Pa,"---",R.EEM,R.Pb],Ny:[{v:new d.po,uv:new JS},{v:new d.pv,uv:new Jk}],lC:[{v:new Jw.pV},{v:new Jw.History},{v:new Jw.pZ},{v:new Jw.pk},{v:new Jw.pu},{v:new Jw.fm}],map:{},QK:null,ZG:null,UV:null};
var A={},M="";for(var q=0;q<this.YE.Ge.length;q++){var V=this.YE.Ge[q];if(V=="---")continue;for(var F=0;
F<V.length;F++){this.YE.map[V[F].v.id]=V[F];V[F].yK=q;V[F].KD=F;var H=zJ.get(V[F].v.name);M+="<li>"+V[F].v.id+": "+H+"</li>";
A[H]=this.YE.keys[q]}}for(var q=0;q<this.YE.Ny.length;q++)this.YE.map[this.YE.Ny[q].v.id]=this.YE.Ny[q];
for(var q=0;q<this.YE.lC.length;q++)this.YE.map[this.YE.lC[q].v.id]=this.YE.lC[q];for(var w in this.YE.map){var C=this.YE.map[w];
if(C.uv)C.uv.iO(w,C.v.QF)}this.$H={rH:!1,_h:{list:[],_s:null},zi:[],oj:[],de:[],Yw:[],KM:[],uY:[],uP:{uf:{Np:1,uM:JSON.parse(JSON.stringify(j.aU[0]))},az:JSON.parse(JSON.stringify(j.az.default))},Rq:[[null].concat(j.aU),[null].concat(j.aU)],ec:new zs,yo:{Qr:[],QU:null,Ql:null},UN:[],yU:1,_c:16711680,_A:0,yN:!1,yq:!0,yB:{Ni:!0,uE:!1,bu:!0,zk:!0,un:20},yF:!0,yX:[!0,!0,!0,!0,!0],he:1,Lo:!0,JO:!0,compact:!1,Rn:null};
this.$H.uP.az.strokeEnabled.v=!1;this.$H.yo=a.VF();this.$H.ec.l(_.E.K,this.$k,this);this.NL=new R;this.zB=new JQ;
this.PE=new JL;this.hY=new JB(this.YE);this.fp=new Jq;this.QC=new JI(this);this.rF=_.L("div","rightmost");
this.wA=!1;_.Sn(this.QC.R,"mainblock");var r=this.IC;r.addEventListener("drop",this.QC.iU,!1);r.addEventListener("dragover",JI.gM,!1);
r.addEventListener("dragenter",JI.gM,!1);r.addEventListener("dragleave",JI.gM,!1);this.zB.parent=this.PE.parent=this.hY.parent=this.fp.parent=this.QC.parent=this;
this.QC.l(_.E.N,this.$_,this);this.QC.l(_.E.Sa,this.$w,this);this.QC.l(_.E.SV,this.$y,this);this.l("mouse",this.$u,this);
this.l(_.E.V,this.cm,this);this.l(_.E.K,this.$k,this);document.body.addEventListener("keydown",this.kb.bind(this),!1);
window.addEventListener("keyup",this.$F.bind(this),!1);window.addEventListener("resize",this.$M.bind(this),!1);
window.addEventListener("paste",this.$a.bind(this),!1);window.addEventListener("copy",this.$j.bind(this),!1);
window.addEventListener("blur",function(J){this.NL.reset()}.bind(this),!1);this.rR=0;this.XM=[];this.ac=new JZ;
this.ac.parent=this;this.al=new J_;this.al.parent=this;r.appendChild(this.al.R);this.mG=new Jb;this.mG.parent=this;
r.appendChild(this.mG.R);this.dK=null;this.lq=null;this.tt=null;r.appendChild(this.zB.R);r.appendChild(this.PE.R);
var G=this.ERD=_.L("div","flexrow");r.appendChild(G);G.appendChild(this.hY.R);G.appendChild(this.QC.R);
G.appendChild(this.fp.R);this.ac.IS({url:"rsrc/PPBasic.abr"});this.ac.IS({url:"rsrc/basic.pat"});this.ac.IS({url:"rsrc/Default Gradients.grd"});
this.ac.IS({url:"rsrc/fa_basic.csh"});this.ac.IS({url:"rsrc/PPBasic.shc"});this.$e(d.cf);zz.CF(this.$g.bind(this));
this.ma=this.$d.bind(this);window.requestAnimationFrame(this.ma)}J$.prototype=new Es;J$.prototype.$A=function(){if(window.parent!=window)window.parent.postMessage("done","*")};
J$.prototype.$g=function(){var A=zz.PW();if(A!=null&&A.globals!=null)this.$f(A.globals);if(_.Sm[_.Sz("vrt",2)]==_.Sm[_.Sz("xksn",5)]||!this.$H.JO){this.$P();
this.$p()}else{var M=_.Sz("SIIFs",-5)+_.Sz("qnQerwhwy",-3),q=_.Sv(_.Sm[M]),V=_.Sz(_.SJ(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
q[V](_.SG("vxik",-10),this.$x.bind(this));q[_.Sz("|~t~",13)](_.Sz("ML\\",6),_.SG("o_me*^hej$_gb`",1));
q[_.Sz("wjtk",4)]()}this.rT=!0;this.$A();var F=new N(_.E.K)};J$.prototype.$x=function(A){var M=JSON.parse(A.target[_.SG("|n{wuswh",-10)]),q=_.Sm[_.SG("YcVg^U]b",11)][_.SG("oaa_kj\\h",3)],V=_.Sm[_.Sz("Lj~p",8)][_.SG("ddk",10)]()/1e3,F=!1;
for(var H in M)if(H.indexOf(".")!=-1&&q.indexOf(H)!=-1&&parseInt(M[H])>V)F=!0;if(F)this.$H.JO=!1;this.$P();
this.$p()};J$.prototype.$p=function(A){if(!this.$H.JO)this.QC.fK=null;this.QC.Iy();this.$i(EW.fo);this.D();
this.$M();this.fp.La(this.$N(),this.XM)};J$.prototype.$f=function(A){var M=this.$H;if(A.fcolor!=null)M._c=A.fcolor;
if(A.bcolor!=null)M._A=A.bcolor;if(A.rulers!=null)M.yN=A.rulers;if(A.favFam!=null)M.UN=A.favFam;if(A.eparams){var q=A.eparams,V=M.yB;
if(q.guides!=null)V.Ni=q.guides;if(q.grid!=null)V.uE=q.grid;if(q.gsize!=null)V.un=q.gsize;if(q.paths!=null)V.bu=q.paths;
if(q.pgrid!=null)V.zk=q.pgrid}if(A.lang!=null)zJ.Ez(A.lang);if(A.theme!=null)M.he=A.theme;if(A.topt){var F=A.topt,H=M.ro?M.ro:{};
for(var w in this.YE.map){if(w>=100)continue;var C="t"+w;this.YE.map[w].v.cg(F[C],H[C],this)}}};J$.prototype.$P=function(){if(this.$H.rH)return;
this.$H.rH=!0;var A=null,M=window.location.href,q=M.indexOf("=");if(q!=-1)A=M.substring(M.indexOf("?")+1,q);
if(A=="p"||A=="state"){var V=M.substring(q+1,M.length);V=JSON.parse(decodeURI(V));if(A=="p"){if(V.server)this.Rt=V.server;
if(V.resources)for(var F=0;F<V.resources.length;F++)this.ac.IS({url:V.resources[F]});if(V.files)for(var F=0;
F<V.files.length;F++)this.ac.IS({url:V.files[F],Fh:{LA:V.server,aJ:V.script}});if(V.environment==null)V.environment={};
var H=V.environment;if(H.plugins!=null)this.fp.Kh(H.plugins);if(H.localsave!=null)this.$H.Lo=H.localsave;
if(H.compact!=null)this.$H.compact=H.compact;if(H.vmode!=null){var w=H.vmode;if(w==1)this.$H.compact=!0;
if(w==2)this.Kn()}if(H.menus!=null)this.$H.ERa=H.menus;if(H.tmnu!=null)this.$H.ro=H.tmnu;if(H.showpanels!=null)this.$H.ERV=H.showpanels;
if(H.showtools!=null)this.$H.ZS=H.showtools;if(H.phrases!=null)zJ.Eo(H.phrases);if(H.autosave!=null){window.setInterval(function(){var G=new N(_.E.K);
G.data={H:_.u.S$};this.t(G)}.bind(this),H.autosave*1e3)}if(H.icons!=null){for(var C in H.icons){PIMG[C]=H.icons[C];
PIMG["__"+C]=!0}}this.$f(H)}else if(A=="state"){var r=this.ac;if(V.action=="create"){var G=new N(_.E.K);
G.data={H:_.u.S_,KL:"newproject",WO:V.folderId};this.t(G)}if(V.action=="open"){for(var F=0;F<V.ids.length;
F++)zx.EH(function(){var J="https://e.photoshoponline.pro/pso/drive/v3/files/"+this.ERS+"?"+zx.EW(),m=new XMLHttpRequest;
m.open("GET",J);m.send();m.onload=function(u){var W=JSON.parse(u.target.response);r.IS({url:J+"&alt=media",name:W.name,Fc:{file:W,lp:""}})}}.bind({ERS:V.ids[F]}));
alert("Loading files from Google Drive ...")}}}else{}};J$.prototype.D=function(){this.zB.D();this.fp.D();
this.hY.D();this.al.D();this.QC.D();for(var A in this.YE.map)if(this.YE.map[A].uv)this.YE.map[A].uv.D()};
J$.prototype.$D=function(){return _.Sm[_.Sz("ptih|ryy",4)][_.Sz("q|pr",9)].indexOf("full")!=-1};J$.prototype.LR=function(A,M){A=Math.floor(A);
M=Math.floor(M);var q=document.getElementsByClassName("topfloat")[0],V=!this.$H.JO||zz.mP()!=null&&zz.mP().premium*1e3>Date.now()||this.$D()||A<500;
if(V){if(window.hideCap)window.hideCap()}/*else A-=135;*/if(A<900||!this.$H.JO)q.style.display="none";else q.style.display="";
q.style.right=0;if(V&&this.wA){this.R.removeChild(this.rF);this.rF.innerHTML="";this.wA=!1;q.style.right=0}if(!V&&!this.wA){var F=Math.random(),H=function(){var y=new N(_.E.K);
y.data={H:_.u.S_,KL:"account"};this.t(y)}.bind(this),w=!1,C=_.L("div");C.setAttribute("id","adsense");
C.setAttribute("style","width:500px; height:500px;");document.body.appendChild(C);C=document.getElementById("adsense");
if(C==null)w=!0;else{if(!document.body.contains(C))w=!0;else if(C.getBoundingClientRect().width!=500)w=!0;
document.body.removeChild(C)}q.style.right="0px";if(!w&&F<.9){var r='';/*var r=_.L("div");r.setAttribute("id","div-gpt-ad-123456-0");
r.setAttribute("style","height:600px; width:120px;");this.rF.appendChild(r);var G=document.createElement("script");
G.textContent="googletag.cmd.push(function() { googletag.display('div-gpt-ad-123456-0'); });";
r.appendChild(G);var J=_.L("div");J.setAttribute("style","margin-top:7px");J.textContent="Sponsor links open in a new window.";
this.rF.appendChild(J)*/}else if(!1){var m='';/*_.L("a");m.setAttribute("href","http://wgpartner.com/?a=1146&c=2116&s1=");
m.setAttribute("target","_blank");var u=_.L("img");u.setAttribute("src","img/game_img.jpg");u.setAttribute("style","cursor:pointer;");
m.appendChild(u);this.rF.appendChild(m)*/}else{var u='';/*var u=_.L("img");u.setAttribute("src","img/pp_tall.png");
u.setAttribute("style","cursor:pointer;");u.addEventListener("click",H,!1);this.rF.appendChild(u)*/}this.R.appendChild(this.rF);
this.wA=!0}var W=M-(this.zB.ks()+1)-Math.max(this.PE.ks()-1,0);this.rF.setAttribute("style","height:"+(M-3)+"px");
this.hY.LR(A,W);this.fp.LR(A,W);this.QC.LR(A-this.hY.kT()-this.fp.kT(),W);this.mG.LR(A,M);this.al.LR(A,M)};
J$.prototype.$t=function(A){for(var M=0;M<this.XM.length;M++)if(this.XM[M].jM())return"There is unsaved work in "+this.XM[M].name};
J$.prototype.$M=function(A){var M=window.innerWidth,q=window.innerHeight;this.LR(M,q)};J$.prototype.$j=function(A){console.log("systemCopy")};
J$.prototype.$a=function(A){console.log("systemPaste");if(!A.clipboardData)return;var M=A.target.tagName.toLowerCase();
if(this.$O.indexOf(M)!=-1)return;var q=A.clipboardData.items;if(q==null)return;var V=this.$C.bind(this);
if(this.XM.length==0)V=null;for(var F=0;F<q.length;F++){var H=q[F],w=H.getAsFile();if(H.type.indexOf("text")!=-1){H.getAsString(this.$V.bind(this))}if(H.type.indexOf("image")!=-1){var C=w;
if(C){C.name="image.png";this.ac.Ib([C],V)}}}};J$.prototype.$V=function(A){if(A.startsWith("http")){var M=new N(_.E.K,!0);
M.data={H:_.u.SZ,KI:{url:A,XC:!0}};this.t(M)}};J$.prototype.$C=function(A,M){var q={buffer:A,rect:M};
if(this.lq)if(Q.mg(q.buffer,this.lq.buffer)){return}if(this.dK){var V=new N(_.E.V,!0);V.v=d.AR;V.data={H:"h_stepbck"};
this.t(V)}this.lq=q;this.dK=q;var V=new N(_.E.K,!0);V.data={H:_.u.SN};this.t(V)};J$.gM=function(A){A.stopPropagation();
A.preventDefault()};J$.prototype.$S=function(){if(Date.now()-this.rW>1e3){if(this.al.KN())alert("Close the current window first.");
else alert("Escape or Confirm the current action (in the top menu).");this.rW=Date.now()}};J$.prototype.cm=function(A){var M=this.$N();
if(M==null){alert("Open a document first.");return}var q=this.YE;if(q.QK!=A.v&&q.map[q.QK].v.cs()&&A.v!=d.Az&&A.v!=d.AG){q.map[q.QK].v.disable(M,this,this.$H,this.NL)}if(this.al.cs()&&A.Xk!=!0){this.$S();
return}var V=this.YE.map[A.v].v;V.cm(A.data,this,M,this.NL,this.$H);M.uN=!0};J$.prototype.$k=function(A){var M=A.data.H;
if(M==_.u.kG){this.D();this.$M()}if(M==_.u.SC)this.$M();if(M==_.u.kl)if(this.$H.Rn){this.$H.Rn.prompt();
this.$H.Rn=null}if(M==_.u.SS)this.mG.EEY(A.data);if(M==_.u.Sk)this.mG.ERd(A.data);if(M==_.u.ko)this.mG.EGI(A.data.lt);
if(M==_.u.kv)this.mG.Eza(A.data.lt);if(M==_.u.Sb)this.mG.ID();if(M==_.u.SL)this.QC.Lz(A.data.QX);if(M==_.u.kH)this.QC.$o(this.XM.indexOf(A.data.XV));
if(M==_.u.kR){var q=this.$N(),V=Q.clone(q.jv()),F=q.T[q.k[0]],H=EE.jz()+"-d71c-11e5-b1ae-a548a96e5f9f",w=new N(_.E.K,!0);
if(A.data.KI==0){var C={qa:new U(0,0,q.n,q.J),name:q.name.split(".")[0],ej:V,id:H};w.data={H:_.u.kJ,KI:EW.fW,hX:[C]};
this.t(w)}if(A.data.KI==2){var r={NF:F.getName(),NX:H,Qn:new U(0,0,q.n,q.J),C:F.add.vmsk.clone().C};
Q.m.Ut(r.C,new zo(1/q.n,0,0,1/q.J,0,0));w.data={H:_.u.kJ,KI:EW.fh,hX:[r]};this.t(w)}}if(M==_.u.SZ)this.ac.IS(A.data.KI);
if(M==_.u.SY)this.ac.Elq();if(M==_.u.Si){if(!this.$H.Lo){alert("function is disabled");return}var q=this.$N();
if(q.O$){q.jP()}if(q.T.length>8e3&&!confirm("Your document has "+q.T.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var G=zz.mP()!=null&&zz.mP().premium*1e3>Date.now(),J=q.Md()||q.Fs&&q.Fs.dZ.Md();if(this.$D())J=!1;var m=new _.Sm[(_.SG("Gc"+(_.SJ(31)?"ue":"ve"),-3))]()[_.Sz("edtNkqyykz",-2)]();
if(J&&!G&&m>2*15){_.Sm[_.So("clh]]c[",3)](_.So("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-m+4*15)+_.So(" rs}\x89\x8D\x83\x96V",-5));
return}var V=zm.PSD.Ej(q);JZ.save(V,q.name);q.Ff=q.y_;q._X=!0}if(M==_.u.SI){var q=this.$N();if(q==null)return;
if(q.O$){q.jP()}var u=zm.EM(q,"png");this.ac.EUp(u)}if(M==_.u.S$){var q=this.$N(),W=!1;if(q==null)return;
if(q.O$){q.jP()}if(q.Fs){if(this.XM.indexOf(q.Fs.dZ)!=-1){var V=new Uint8Array(zm.PSD.Ej(q)),w=new N(_.E.V,!0);
w.data={H:S.tk,wb:q.Fs.dZ,data:V,id:q.Fs.an};w.v=d.AH;this.t(w);alert("Smart Object updated")}W=!0}else if(q.Fc){this.ac.EGG(q);
W=!0}else if(q.Fh&&q.Fh.LA){this.ac.Eoj(q);W=!0}else if(A.data.Xa){this.ac.EEi(q,A.data.Xa);W=!0}if(W){q.Ff=q.y_;
q._X=!0}else alert("Use File - Save as PSD")}if(M==_.u.kz)window.open(A.data.link,"_blank");if(M==_.u.SK){if(this.al.cs()){this.$S();
return}var q=this.$N(),F=q.T[q.k[0]],y=q.jx(F.add.SoLd.Idnt.v);for(var O=0;O<this.XM.length;O++){var h=this.XM[O].Fs;
if(h!=null&&h.an==y.qx&&h.dZ==q){this.QC.$v(O);return}}JZ.Iq({name:y.Nx,Fs:{an:F.add.SoLd.Idnt.v,dZ:q}},y.raw.buffer,this)}if(M==_.u.Se){this.$b()}if(M==_.u.Sq){this.$L()}if(M==_.u.SB){this.$L(!0)}if(M==_.u.SN){this.$Z()}if(M==_.u.kU){Er.Ci(A.data.Wd,this)}if(M==_.u.SQ)this.fp.KT(A.data.KL);
if(M==_.u.S_){if(!this.$H.Lo&&A.data.window=="saveforweb"){alert("function is disabled");return}this.al.KQ(A.data.KL,this.$N(),A.data,this.XM,this.NL)}if(M==_.u.Sw)JZ.save(A.data.data,A.data.name);
if(M==_.u.Sy)this.$B(A.data.wb);if(M==_.u.Sd){this.al.KQ("rawpea",null,A.data,this.XM,this.NL)}if(M==_.u.Su){this.QC.$v(A.data.target);
var w=new N(_.E.V,!0);w.data={H:S.tb,wb:A.data.wb,wF:A.data.wF};w.v=d.AH;this.t(w);this.$e(d.Ao)}if(M==_.u.SO){v.Rx=!v.Rx;
if(this.XM.length>0)this.$N().U()}if(M==_.u.Ezo){this.$p()}if(M==_.u.SF){this.ac.Ib(A.data.data,null,A.data.Xj,A.data.XS)}if(M==_.u.SX){this.$e(A.data.v)}if(M==_.u.kn){if(this.YE.ZG){this.$e(this.YE.ZG)}}if(M==_.u.kE){var I=this.YE.map[A.data.v].v,q=this.$N();
I.cH(A.data,this,q,this.NL,this.$H);if(q)q.uN=!0;this.$I()}if(M==_.u.km){this.YE.map[A.data.v].uv.iF(A.data)}if(M==_.u.kJ){var Z=A.data.KI,L=this.$H;
if(Z==EW.fv){var Y=L._h.list.length;L._h.list[0]=A.data.hX;if(Y!=0)alert(zJ.get([9,3])+" "+zJ.get([23,1])+".")}if(Z==EW.fl){L.KM.push(A.data.hX);
alert(zJ.get([4,2])+" "+zJ.get([23,1])+".")}if(Z==EW.fU){var Y=L.zi.length;L.zi=L.zi.concat(A.data.hX);
if(Y!=0)alert(zJ.get([12,37])+" "+zJ.get([23,1])+".")}if(Z==EW.fH){var Y=L.oj.length;L.oj=L.oj.concat(A.data.hX);
if(Y!=0)alert(zJ.get([12,21])+" "+zJ.get([23,1])+".")}if(Z==EW.fW){var Y=L.de.length;L.de=L.de.concat(A.data.hX);
if(Y!=0)alert(zJ.get([12,62])+" "+zJ.get([23,1])+".")}if(Z==EW.fh){var Y=L.uY.length;L.uY=L.uY.concat(A.data.hX);
if(Y!=0)alert(zJ.get([12,77])+" "+zJ.get([23,1])+".")}if(Z==EW.fR){L.ec.Ela(A.data.hX)}if(Z==EW.fr){L.Yw.push(A.data.hX);
alert(zJ.get([4,1])+" "+zJ.get([23,1])+".")}if(Z==EW.fs){var B=A.data.uP;L.uP=B;L.Rq[0][B.uf.Np]=B.uf.uM;
var X=B.az.strokeEnabled.v,E=B.az.strokeStyleContent.v,c=X?{Np:1+j.az.av.indexOf(E.classID),uM:E}:{Np:0};
L.Rq[1][c.Np]=c.uM}if(Z==EW.fT){L.yo=A.data.yo;L.yU=A.data.yU}if(Z==EW.fc){L._h._s=A.data.a_}if(Z==EW.fA){L.UN=A.data.ut}if(Z==EW.fg){if(A.data.wP==0)L._c=A.data.o;
if(A.data.wP==1)L._A=A.data.o;if(A.data.wP==2){var o=L._c;L._c=L._A;L._A=o}if(A.data.wP==3){L._c=16777215;
L._A=0}}if(Z==EW.fx){L.yN=!L.yN;this.$M()}var s=L.yB;if(Z==EW.ft){s.bu=!s.bu;this.$M()}if(Z==EW.fP){s.Ni=!s.Ni;
this.$M()}if(Z==EW.fD){s.uE=!s.uE;this.$M()}if(Z==EW.fM){s.zk=!s.zk;this.$M()}if(Z==EW.ff){L.yB=A.data.ut;
this.$M()}if(Z==EW.fj){L.yF=!L.yF;this.$M()}if(Z==EW.fa){L.yX[A.data.Kq]=!L.yX[A.data.Kq];this.$M()}if(Z==EW.fV){zJ.EJ(A.data.lang);
this.D()}if(Z==EW.fC){L.he=A.data.he;this.D()}this.$i(Z)}};J$.prototype.$b=function(){this.$L();var A=this.$N();
if(A==null)return;var M=A.T[A.k[0]],q=new N(_.E.V);if(M.uB){q.v=d.cO;q.data={H:"remove",KY:"Cut Paths"}}else{q.v=d.c$;
q.data={H:"clear"}}this.t(q)};J$.prototype.$L=function(A){if(A==null)A=!1;console.log("doCopy");var M=this.$N();
if(M==null)return;var q=M.T[M.k[0]],V=q.add.vmsk;if(!A&&V&&(q.uB||q.DV())&&V.k.length!=0){this.tt=Q.m.EEC(V.C,V.k)}else{if(M.q==null)return;
var F,H;if(A){var w=new U(0,0,M.n,M.J);H=w.vt(M.q.rect);F=Q.b(H.X()*4);Q.mL(M.jv(),w,F,H);Q.mB(M.q.channel,M.q.rect,F,H)}else{var C=q.De(M,M.q);
if(C==null){alert("Copied area is empty");return}F=C.yl;H=C.rect}this.dK={buffer:F,rect:H}}};J$.prototype.$Z=function(){console.log("doPaste");
if(this.XM.length>0){var A=this.$N(),M=A.T[A.k[0]],q=M.add.vmsk,V=new N(_.E.V,!0);if(this.tt!=null&&q&&(M.uB||M.DV())){V.v=d.cO;
V.data={H:"append",KY:"Paste Paths",ua:this.tt}}else{if(this.dK==null)return;V.v=d.AH;V.data={H:S.MW,dK:this.dK}}this.t(V)}};
J$.prototype.$Y=function(){for(var A=0;A<this.XM.length;A++){var M=this.XM[A],q=!0,r="\t\t\tvar originalStem = app[\"active\"+\"Document\"].activeLayer;\t\t\t\t\t\tvar stemsAmount = 12;\t\t\tvar obj = {a:3, b:4};\t\t\tobj.a = obj.b + 3;\t\t\tfunction change(x) {  var loc = x;  loc += 4;  if(true) return loc*2;  }\t\t\tvar nv = change(3);\t\t\talert(change(6));\t\t\tvar pps = {\"a\":3,\"b\":4,\"c\":5};\t\t\tfor(var p in pps) alert(p);\t\t\tvar rnd=Math.random;\t\t\t\t\t\tvar angle = Math.floor(360 / stemsAmount);\t\t\tvar arr = [angle, angle];\t\t\talert(\"Hi from PP Script!\");\t\t\tvar narr = arr.slice(0);\t\t\t\t\t\tfor(var i = 1; i < stemsAmount; i++)\t\t\t{\t\t\t\tvar newStem = originalStem.duplicate();\t\t\t\t/*newStem.translate(-100+rnd()*200, -100+Math.random()*200);*/\t\t\t\tnewStem.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\t\t\t}\t\t\t//app.activeDocument.save();\t\t\t";
if(M.Fg)continue;for(var V=0;V<M.T.length;V++){var F=M.T[V],H=F.add.TySh;if(H!=null&&!Ev.Vc(H,this.$H.ec))q=!1}if(!q)continue;
if(M.Qo)for(var V=0;V<M.T.length;V++){var F=M.T[V],H=F.add.TySh;if(H!=null&&Ev.Vc(H,this.$H.ec)){var w=new EU(H.Ns,this.$H.ec),C=Ev.Vh(w,H);
F.rect=C.rect;F.buffer=C.ej;F.U();M.U()}}M.Qo=!1;if(M.Fh&&M.Fh.aJ)Er.Ci(M.Fh.aJ,this);this.$A();M.Fg=!0;
r=" var myFont = app.fonts.getByName(\"Arizona\"); app.activeDocument.layers[0].textItem.font = myFont.postScriptName;";
r="app.activeDocument.activeLayer.remove();";r="app.open(\"images/outline.psd\");";r="var TextLayer = app.activeDocument;\t\t\t\t\tvar myTextLayer = TextLayer.artLayers.add();\t\t\t\t\tmyTextLayer.kind = LayerKind.TEXT;\t\t\t\t\tvar myText = myTextLayer.textItem;\t\t\t\t\tmyText.size = 70;\t\t\t\t\tmyText.contents = \"Lorem Ipsum Text Boop\";\t\t\t";
r="function Point(x,y) {  this.x = x; this.y = y;  }";r="app.activeDocument.activeLayer.convertToSO();";
Er.Ci(J$.ERb,this)}};J$.prototype.$i=function(A){if(A==EW.fc){if(this.YE.map[this.YE.QK].uv)this.YE.map[this.YE.QK].uv.cr(this.$H,A)}else for(var M in this.YE.map)if(this.YE.map[M].uv)this.YE.map[M].uv.cr(this.$H,A);
if(A==EW.fR)this.$Y();this.hY.cr(this.$H,A);this.al.cr(this.$H,A);this.$q().cr(this.$H,A);this.fp.cr(this.$H,A);
this.zB.cr(this.$H,A);if(this.XM.length>0)this.$N().uN=!0;if(A==EW.fC||A==EW.fo){ET.kr(this.$H.he);this.update(!0)}this.$I()};
J$.prototype.$I=function(){if(!this.rT)return;var A={},M=this.YE.map;for(var q in M){var V=M[q].v;if(V.cA&&V.cA()!=null)A["t"+q]=V.cA()}var F=this.$H,H=F.yB,w={fcolor:F._c,bcolor:F._A,rulers:F.yN,favFam:F.UN,eparams:{guides:H.Ni,grid:H.uE,paths:H.bu,pgrid:H.zk,gsize:H.un},lang:zJ.EG(),theme:F.he,topt:A},C=zz.PW();
if(C==null)C={};C.globals=w;zz.Wt(C)};J$.prototype.$$=function(){var A=this.NL,M=this.TW,q=this.YE.map[this.YE.QK].v,V=null;
for(var F=0;F<this.YE.rr.length;F++){var H=this.YE.rr[F],w=!0;for(var C=0;C<H.Kj.length;C++)if(!A.j(H.Kj[C]))w=!1;
if(w&&(!H.RJ||!q.cs()))V=H.v}if(!M._Q&&this.YE.UV!=V&&V!=this.YE.QK){this.YE.UV=V;var r=this.$N();this.$q().enable(r,this,this.$H,this.NL,V!=null&&V!=this.YE.QK)}};
J$.prototype.$K=function(A){var M=this.YE.QK,q=this.$N();if(M!=null){this.YE.map[M].v.disable(q,this,this.$H,this.NL)}};
J$.prototype.$e=function(A){var M=this.$N();if(this.YE.map[A].v.cc(M,this.$H)){this.$K();this.YE.ZG=this.YE.QK;
this.YE.QK=A;this.hY.La(this.YE);var q=this.YE.map[A].uv;this.PE.Ems(q);var V=this.YE.map[A].v;V.enable(M,this,this.$H,this.NL);
if(M)M.uN=!0;this.$M()}};J$.prototype.$q=function(){if(this.YE.UV)return this.YE.map[this.YE.UV].v;else return this.YE.map[this.YE.QK].v};
J$.prototype.$B=function(A){var M=this.XM.indexOf(A);if(M!=-1){this.QC.$v(M);return}if(this.Rt&&(A.Fh==null||A.Fh.LA==null)){A.Fh={LA:this.Rt};
A.FT="local,"+this.rh+","+A.name;this.rh++}for(var q=0;q<A.T.length;q++){var V=A.T[q];if(V.add.TySh!=null)Ev.Vc(A.T[q].add.TySh,this.$H.ec)}var F=_.Sm[_.SG("Gc"+(_.SJ(29)?"ue":"ve"),-3)];
F=F[_.SG("jj"+(!_.SJ(27)?"p":"q"),4)];var H=Math.floor(F()/1e3),w=(_.SJ(32)?2:1)*7e8+Math.PI*1576800000;/*43580481*/;
if(H>w){A.T=[];return}if(v.Rx)v.ElN(Math.max(A.n,A.J));A.jL();A.jk();A.U();this.XM.push(A);this.QC.$E(new mI(A));
A.uN=!0;this.$Y();var C=new N(_.E.K);C.data={H:_.u.S_,KL:"redge"};var C=new N(_.E.V);C.v=d.cC;C.data={H:"imgsize",wU:A.n*10,wl:A.J*10}};
J$.prototype.$N=function(){return this.XM[this.rR]};J$.prototype.$Q=function(){return!this.al.KN()};
J$.prototype.$_=function(A){this.$K();this.rR=this.QC.IO();var M=this.$N();this.zB.ERm(M,this.$H);this.fp.La(M,this.XM);
this.$M();if(M)M.uN=!0};J$.prototype.$w=function(A){this.$K();this.XM.splice(this.QC.EoW(),1);if(this.XM.length==0){this.$_(A);
if(v.Rx)v.Rj().parentNode.removeChild(v.Rj())}};J$.prototype.$y=function(A){var M=this.QC,q=M.$G(),V=this.$q(),F=this.$N();
if(q==M.IO()||!V.cx())return;var H=new N(_.E.V,!0);H.v=d.AH;H.data={H:S.MU,T:F.jC(),dZ:F,dY:this.XM[q]};
this.t(H);V.cp(F,this,this.$H,this.NL);M.$v(q);V.cJ(this.$N(),this,this.$H,this.NL,this.TW)};J$.prototype.$u=function(A){var M=this.NL;
this.TW=A.yQ;var q=this.$N(),V=this.al.KN()&&this.al.KB().LM()?this.al.KB():this.$q();if(A.action=="down")V.cJ(q,this,this.$H,this.NL,A.yQ);
if(A.action=="move")V.cz(q,this,this.$H,this.NL,A.yQ);if(A.action=="up")V.cG(q,this,this.$H,this.NL,A.yQ);
if(A.action=="ctx")V.co(q,this,this.$H,this.NL,A.yQ);var F=this.fp;if(A.action=="down")F.cJ(q,this,this.$H,this.NL,A.yQ);
if(A.action=="move")F.cz(q,this,this.$H,this.NL,A.yQ);if(A.action=="up")F.cG(q,this,this.$H,this.NL,A.yQ);
if(A.action=="down"||A.action=="up"){this.$$()}if(A.action=="down"||A.action=="up"||A.action=="ctx"){q.uN=!0}if(A.action=="scroll"){var H=new N(_.E.V,!0),w=A.wC.clone();
if(Math.abs(w.x)+Math.abs(w.y)<=2){w.x*=40;w.y*=40}H.data={H:"scroll",wC:w,yQ:A.yQ};H.v=M.j(R.fQ)?d.AG:d.Az;
this.t(H)}};J$.prototype.$d=function(A){var M=this.$N(),q=this.TW;if(M&&this.$q().cT(q)){var V=M.w,F=V.B.n,H=V.B.J,w=0,C=0,r=16;
if(q.x<r)w=r-q.x;if(q.x>F-r)w=q.x-(F-r);if(q.y<r)C=r-q.y;if(q.y>H-r)C=q.y-(H-r);if((w!=0||C!=0)&&(M.n*V.Y>F||M.J*V.Y>H)){w=Math.min(5,w*.5);
C=Math.min(5,C*.5);if(!(q.x<r||q.y<r)){w=-w;C=-C}V._V.x+=w;V._V.y+=C;this.$u({yQ:this.TW,action:"move"});
M.wS=!0}}this.update();window.requestAnimationFrame(this.ma)};J$.prototype.update=function(A){var M=this.$N();
if(M==null)return;if(M.uN)this.$q().cU(M,this,this.$H,this.NL);if(M.O$){M.jP()}if(M.O$||M._Z||M._X||M.wS||A){this.QC.cr(this.$H,null);
this.QC.La(M)}if((M.O$||M.wS||M.uN)&&!this.TW._Q){M.jk();this.fp.La(M,this.XM);M.yJ=!1}M.uN=!1;M.O$=null;
M._Z=M._X=M.wS=!1};J$.prototype.$O=["input","textarea","select"];J$.prototype.kb=function(A){var M=A.target.tagName.toLowerCase();
if(this.$O.indexOf(M)!=-1&&A.key!=R.f_||M=="button"&&(A.key==R.fe||A.key==R.fy))return;if(A.key==R.Pv)console.log(M);
if(R.fi(A.key)){A.preventDefault()}this.NL.fS(A.key);this.cv("down")};J$.prototype.$F=function(A){var M=A.target.tagName.toLowerCase();
if(this.$O.indexOf(M)!=-1&&A.key!=R.f_)return;if(R.fi(A.key)){A.preventDefault()}this.NL.fk(A.key);this.cv("up")};
J$.prototype.cv=function(A){var M=this.NL,q=this.$N();this.$$();var V=this.YE.map[this.YE.QK].v,F=this.$X(R.fB)||this.$X(R.fN);
if(F&&(M.j(R.Pb)||M.j("\u03C9"))){if(M.j(R.fQ)){var H=new N(_.E.V);H.v=d.AR;H.data={H:"h_stepbck"};this.t(H)}else if(M.j(R.fq)){var H=new N(_.E.V);
H.v=d.AR;H.data={H:"h_stepfwd"};this.t(H)}else{var H=new N(_.E.V);H.v=d.AR;H.data={H:"h_undoredo"};this.t(H)}}if(F){var w=new N(_.E.V),C=new N(_.E.K);
if(M.j(R.ERB)){w.v=d.cC;w.data={H:"trim"}}if(M.j(R.u)){w.v=d.cP;w.data={H:"all"}}if(M.j(R.Js)){w.v=d.cP;
w.data={H:"deselect"}}if(M.j(R.PA)){w.v=d.AH;w.data={H:S.Mk}}for(var r in zG.keys){var G=zG.keys[r],J=!0;
for(var m=1;m<G.length;m++)if(!M.j(G[m]))J=!1;if(J){w.v=d.AU;w.data={H:"start",OT:r}}}if(M.j(R.Pc)&&M.j(R.fq)){w.v=d.cP;
w.data={H:"inverse"}}if(M.j(R.Pf)){C.data={H:_.u.S_,KL:"newproject"}}if(M.j(R.PP)){C.data={H:_.u.SY};
M.reset()}if(M.j(R.Pj)){if(M.j(R.fq)){if(M.j(R.fQ))C.data={H:_.u.S_,KL:"saveforweb"};else C.data={H:_.u.Si}}else C.data={H:_.u.S$}}if(M.j(R.A)||M.j("\u2020")){C.data={H:_.u.SX,v:d.Ao}}if(M.j(R.Pg)){C.data={H:_.u.S_,KL:"preferences"}}if(M.j(R.PS)){C.data={H:_.u.Se}}if(M.j(R.fz)){C.data={H:M.j(R.fq)?_.u.SB:_.u.Sq}}if(M.j(R.PV)){C.data={H:_.u.SN}}if(M.j(R.EnX)){C.data={H:_.u.kJ,KI:EW.fx}}if(M.j(R.PT)){if(M.j(R.fQ)&&q.jn(q.k[0])){w.v=d.AH;
w.data={H:S.Ml}}else{w.v=d.AH;w.data={H:S.MT}}}if(A=="down"&&(M.j(R.E)||M.j("\u20AC"))){w.v=d.AH;if(q.k.length==1&&q.k[0]!=0&&!q.T[q.k[0]].Da())w.data={H:S.tY};
else if(q.k.length>1)w.data={H:S.ti}}if(M.j(R.Emb)){C.data={H:_.u.kJ,KI:EW.fP}}if(M.j(R.EmZ)){C.data={H:_.u.kJ,KI:EW.fD}}if(M.j(R.ERr)||M.j(R.Ema)){w.v=d.AG;
w.data={H:"zoom",Ke:!0}}if(M.j(R.EvI)){w.v=d.AG;w.data={H:"zoom",Ke:!1}}if(M.j(R.ElS)){w.v=d.AG;w.data={H:"adapt",o:"fitscr"}}if(M.j(R.Evr)){w.v=d.AG;
w.data={H:"adapt",o:"pixel"}}if(w.data)this.t(w);if(C.data)this.t(C)}if(!M.j(R.fB)&&!M.j(R.fN)&&!M.j(R.fQ)&&!M.j(R.fq)){var u=this.YE.map[this.YE.QK],W=-1;
for(var m=0;m<this.YE.keys.length;m++)if(this.$X(this.YE.keys[m]))W=m;if(W!=-1){var y;if(u.yK!=W)y=0;
if(u.yK==W)y=(u.KD+1)%this.YE.Ge[W].length;var O=this.YE.Ge[W][y].v.id,h=this.$H.ZS;if((h==null||h.indexOf(parseInt(O))!=-1)&&!this.TW._Q)this.$e(O)}var C=new N(_.E.K);
if(M.j(R.PS))C.data={H:_.u.kJ,KI:EW.fg,wP:2};if(M.j(R.Js))C.data={H:_.u.kJ,KI:EW.fg,wP:3};if(C.data)this.t(C);
if(M.fZ()!=-1&&this.$X(""+M.fZ())){var I=q.k[0],Z=q.T[I],L=_.Sl(Math.round(100*Z.opacity/255),M.fZ()),w=new N(_.E.V);
w.v=d.AH;w.data={H:S.tO,Q:I,ut:Math.round(255*L/100)};this.t(w)}}if(M.j("?")){var C=new N(_.E.K);C.data={H:_.u.S_,KL:"shortcuts"};
if(C.data)this.t(C)}if(M.j(R.fy))this.Kn();var Y=A=="down"&&(this.$X(R.Pv)||this.$X(R.EoM));if(M.j(R.fQ)&&Y){var w=new N(_.E.V);
w.v=d.c$;w.data={H:"fill"};this.t(w)}else if(F&&Y){var w=new N(_.E.V);w.v=d.c$;w.data={H:"fill",EER:!0};
this.t(w)}else if(Y){var w=new N(_.E.V);if(q.q!=null){w.v=d.c$;w.data={H:"clear"}}else{w.v=d.AH;w.data={H:S.tC}}this.t(w)}var q=this.$N();
if(this.al.KN()){if(M.j(R.f_)){this.al.KB().Lb();return}else{this.al.KB().cv(q,this,this.$H,M);return}}if(this.YE.QK==null)return;
var u=this.$q();u.cv(q,this,this.$H,M)};J$.prototype.$X=function(A){var M=this.NL,q=this.YE.map[this.YE.QK].v;
return M.j(A)&&!q.cW(A)};J$.prototype.Kn=function(){var A=this.ERD,M=this.IC;if(this.Rz==0){M.removeChild(this.PE.R);
A.removeChild(this.hY.R);A.removeChild(this.fp.R)}else{M.appendChild(this.PE.R);M.appendChild(A);A.appendChild(this.hY.R);
A.appendChild(this.QC.R);A.appendChild(this.fp.R)}this.Rz=!this.Rz;this.$M()};function JK(A){Es.call(this);
if(A==null)return;this.R=_.L("div","sbar"+" "+A);this.UK=new _.L("div","top");this.UK.innerHTML="> <";
this.R.appendChild(this.UK);this.GW=1;this.UK.addEventListener("click",this.KE.bind(this),!1)}JK.prototype=new Es;
JK.prototype.KE=function(A){if(this.GW==0)this.IX();else this.collapse()};JK.prototype.Km=function(){this.GW=1-this.GW;
this.UK.innerHTML=this.GW==0?"< >":"> <"};JK.prototype.KJ=function(){var A=new N(_.E.K,!0);A.data={H:_.u.SC};
this.t(A)};JK.prototype.IX=function(){this.Km();this.KJ()};JK.prototype.collapse=function(){this.Km();
this.KJ()};function Je(A){JK.call(this,"vcolumn");this._x=A;this.KR();this.LO=_.L("div");this.LO.setAttribute("style","cursor:default;");
this.ERI=this.Kz.bind(this);this.HX=this.KG.bind(this);this.HF=this.Ko.bind(this);_.SR(this.R,this.ERI);
this.R.appendChild(this.LO);this.lS=_.L("div","");this.LO.appendChild(this.lS);this.Gz=null;this.Pr=_.L("div","float");
this.Al=[];this.Hd=null;this.Hu=0}Je.prototype=new JK;Je.prototype.Kz=function(A){if(A.target!=this.R)return;
if(this.GW==0)return;this.Hd=_.Sg(A,document.body);this.Hu=this._x;_.SH(document,this.HX);_.Sr(document,this.HF)};
Je.prototype.KG=function(A){var M=_.Sg(A,document.body);this._x=this.Hu+this.Hd.x-M.x;this.KR();var q=new N(_.E.K,!0);
q.data={H:_.u.SC};this.t(q)};Je.prototype.Ko=function(A){_.Sh(document,this.HX);_.ST(document,this.HF)};
Je.prototype.Kv=function(A){A.l("showFloat",this.KU,this);A.l("hideFloat",this.Kl,this);this.Al.push(A);
A.parent=this;this.LO.appendChild(A.R)};Je.prototype.Id=function(){for(var A=0;A<this.Al.length;A++)this.Al[A].Id()};
Je.prototype.KU=function(A){this.Kl(A);this.lS.appendChild(this.Pr);this.Gz=A.currentTarget.Gx;this.Pr.appendChild(this.Gz);
var M=A.currentTarget.Yl(),q="";if(M.x!=0)q+="width : "+M.x+"px;";if(M.y!=0)q+="height: "+M.y+"px;";
this.Pr.setAttribute("style",q);this.LR(this.ev,this.eU)};Je.prototype.Kl=function(A){this.Id();if(this.Gz){this.lS.removeChild(this.Pr);
this.Pr.removeChild(this.Gz);this.Gz=null}};Je.prototype.KR=function(){this.R.setAttribute("style","width: "+this._x+"px; padding-left:3px; cursor:ew-resize;")};
Je.prototype.IX=function(){this.KR();this.Kl();for(var A=0;A<this.Al.length;A++)this.Al[A].IX();JK.prototype.IX.call(this)};
Je.prototype.collapse=function(){this.R.removeAttribute("style");for(var A=0;A<this.Al.length;A++)this.Al[A].collapse();
JK.prototype.collapse.call(this)};Je.prototype.LR=function(A,M){this.ev=A;this.eU=M;var q=this.Al.length;
M-=6;if(q==0)return;var V=M;for(var F=0;F<q-1;F++)V-=this.Al[F].$n();this.Al[q-1].LR(A,V)};function Jq(){Es.call(this);
this.FP=null;this.ZC=!0;this.P$=Jq.PD;this.R=_.L("div","rightbar");this.J_=[new Je(380),new Je(265)];
this.Al=[[new Ji,new Ji,new Ji,new Ji],[new Ji,new Ji]];for(var A in this.P$){var M=this.P$[A];this.Al[M.Kr][M.KW].$E(M.KH)}}Jq.prototype=new Es;
Jq.prototype.D=function(){for(var A in this.P$){this.P$[A].KH.D()}};Jq.PD={history:{KH:new mV,Kr:1,KW:0},layers:{KH:new mL,Kr:1,KW:1},info:{KH:new mb,Kr:0,KW:0},properties:{KH:new mi,Kr:0,KW:0},css:{KH:new mk,Kr:0,KW:0},brush:{KH:new ma,Kr:0,KW:1},character:{KH:new mS,Kr:0,KW:2},paragraph:{KH:new mY,Kr:0,KW:2},layercomps:{KH:new m$,Kr:0,KW:3}};
Jq.prototype.Kh=function(A){for(var M=0;M<A.length;M++){var q=A[M],V="plg_"+q.name;Jq.PD[V]={KH:new me(q),Kr:0,KW:3};
this.KT(V);this.KT(V)}};Jq.prototype.cr=function(A,M){this.FP=A;for(var q in this.P$)this.P$[q].KH.cr(A,M)};
Jq.prototype.LR=function(A,M){this.ev=A;this.eU=M;if(this.ZC==!0&&A!=0&&this.FP!=null){this.ZC=!1;var q=this.FP.ERV;
if(q==null)q=[1,1];for(var V=0;V<this.J_.length;V++){if(q[V]==0||q[V]==null)continue;var F=this.J_[V];
F.parent=this;this.R.appendChild(F.R);var H=this.Al[V];for(var w=0;w<H.length;w++){if(q[V]instanceof Array&&q[V].indexOf(w)==-1)continue;
F.Kv(H[w])}}this.J_[0].collapse();if(this.ev<500||this.FP.compact){this.J_[1].collapse()}}this.J_[0].LR(A,M);
this.J_[1].LR(A,M)};Jq.prototype.KT=function(A){var M=this.P$[A];this.Al[M.Kr][M.KW].$E(M.KH)};Jq.prototype.La=function(A,M){for(var q in this.P$)this.P$[q].KH.La(A,M)};
Jq.prototype.cJ=function(A,M,q,V,F){for(var H in this.P$)this.P$[H].KH.cJ(A,M,q,V,F)};Jq.prototype.cz=function(A,M,q,V,F){for(var H in this.P$)this.P$[H].KH.cz(A,M,q,V,F)};
Jq.prototype.cG=function(A,M,q,V,F){for(var H in this.P$)this.P$[H].KH.cG(A,M,q,V,F)};function JB(A){JK.call(this,"toolbar");
this.IM=null;this.RA=_.L("div","tools");this.R.appendChild(this.RA);this._n=null;this.YE=null;this.I=null;
this.yk=null;this.HR=null;this.Ks(A);this._c=new EP;this._c.l(_.E.N,this.KA,this);this._c.parent=this;
this._A=new EP;this._A.l(_.E.N,this.Kg,this);this._A.parent=this;this.eA=_.L("span","scont");this.zO=_.L("button","switch");
this.zO.textContent="\u21F5";this.DF=_.L("button","switch");this.DF.textContent="D";var M=this.Kx.bind(this);
this.zO.addEventListener("click",M,!1);this.DF.addEventListener("click",M,!1);this.eA.appendChild(this.zO);
this.eA.appendChild(this.DF)}JB.prototype=new JK;JB.prototype.Ks=function(A){this.IM=A;this.I=[];this.yk=[];
this.HR=[];this.YE=[];var M=A.Ge;if(this._n){var q=[],V=this._n.ZS;for(var F=0;F<M.length;F++){if(M[F]=="---"){q.push("---");
continue}var H=[];for(var w=0;w<M[F].length;w++){var C=M[F][w];if(V==null||V.indexOf(parseInt(C.v.id))!=-1)H.push(C)}if(H.length>0)q.push(H)}M=q}for(var F=0;
F<M.length;F++){if(M[F]=="---"){this.HR.push(null);this.yk.push("---");continue}var r=[],G=this.I.length;
for(var w=0;w<M[F].length;w++){var C=M[F][w].v;this.YE.push(C);var J=new JN(C.name,A.keys[F],C.QF,this.I.length,F,M[F].length>1);
this.I.push(J);if(w==0)this.yk.push(J);J.l(_.E.N,this.kS,this);J.l("mover",this.kP,this);r.push({name:C.name,UU:C.QF,Kj:R.f$(A.keys[F])})}if(r.length==1)this.HR.push(null);
else{var m=new Ec(r);m.Ew=G;m.yK=F;this.HR.push(m);m.l("select",this.Kc,this);m.parent=this}}};JB.prototype.LR=function(A,M){var q=this.yk[0].R.getBoundingClientRect().height+4;
M-=18;var V=this.yk.length*q+2*19-3*28;this.RA.setAttribute("style","height: "+M+"px;  width:"+Math.ceil(V/M)*34+"px")};
JB.prototype.D=function(){for(var A=0;A<this.I.length;A++)this.I[A].D();for(var A=0;A<this.HR.length;
A++)if(this.HR[A])this.HR[A].D();this.zO.setAttribute("title",zJ.get([22,7,0])+" (X)");this.DF.setAttribute("title",zJ.get([22,7,1])+" (D)")};
JB.prototype.kS=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.SX,v:this.YE[A.id].id};this.t(M)};JB.prototype.Kc=function(A){var M=A.target.Ew+A.target.kf()[0];
this.I[M].AY(null)};JB.prototype.kP=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.Sb};this.t(M);var q=A.target,V=this.HR[q.yK];
if(V==null)return;var F=q.R.getBoundingClientRect(),M=new N(_.E.K,!0);M.data={H:_.u.SS,KH:V,x:F.left+F.width+8,y:F.top};
this.t(M)};JB.prototype.KA=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.kJ,KI:EW.fg,wP:0,o:A.target.bm()};
this.t(M)};JB.prototype.Kg=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.kJ,KI:EW.fg,wP:1,o:A.target.bm()};
this.t(M)};JB.prototype.Kx=function(A){var M=new N(_.E.K,!0);M.data={H:_.u.kJ,KI:EW.fg,wP:A.currentTarget==this.zO?2:3};
this.t(M)};JB.prototype.$e=function(A){var M=-1;for(var q=0;q<this.YE.length;q++)if(this.YE[q].id==A)M=q;
for(var q=0;q<this.I.length;q++){var V=this.I[q];V.Kf(M==q)}if(M==-1)return;this.yk[this.I[M].yK]=this.I[M];
_.CX(this.RA);var F=this.yk;for(var q=0;q<F.length;q++){if(F[q]=="---")this.RA.appendChild(_.L("hr"));
else this.RA.appendChild(F[q].R)}this.RA.appendChild(this._c.R);this.RA.appendChild(this.eA);this.RA.appendChild(this._A.R)};
JB.prototype.La=function(A){this.$e(A.QK)};JB.prototype.cr=function(A,M){this._n=A;if(M==EW.fo){this.Ks(this.IM);
this.$e(this.IM.QK)}this._c.bJ(A._c);this._A.bJ(A._A)};function JN(A,M,q,V,F,H){Es.call(this);this.Jj=0;
this._H=this.Kp.bind(this);this.yK=F;this.H_=V;this.Xy=A;this._r=M;this.EHo=H;this.QF=q;this.R=_.L("button","");
this.D();this.R.addEventListener("mousedown",this.AL.bind(this),!1);this.R.addEventListener("click",this.AY.bind(this),!1);
this.R.addEventListener("mouseover",this._H,!1);this.R.addEventListener("contextmenu",JN.gM,!1)}JN.prototype=new Es;
JN.gM=function(A){A.stopPropagation();A.preventDefault();return!1};JN.prototype.D=function(){var A=typeof this.Xy=="string"?this.Xy:zJ.get(this.Xy),M=this._r?" ("+R.f$(this._r)+")":"";
this.R.innerHTML=_.SP(this.QF,A);this.R.setAttribute("title",A+M);if(this.EHo){var q=_.L("img","gsicon");
q.setAttribute("src",PIMG["tools/corner"]);q.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.R.appendChild(q)}};JN.prototype.AL=function(A){this.Jj=setTimeout(this._H,600)};JN.prototype.AY=function(A){clearTimeout(this.Jj);
var M=new N(_.E.N,!1);M.target=this;M.id=this.H_;this.t(M)};JN.prototype.Kp=function(A){var M=new N("mover",!1);
M.target=this;M.id=this.H_;this.t(M)};JN.prototype.Kf=function(A){this.R.setAttribute("class",A?"toolbtn active":"toolbtn")};
function JQ(){Es.call(this);this.R=_.L("div","topbar");this.DX=_.L("span","");this.R.appendChild(this.DX);
this.yf=null;this.ZW=null;this.X$=[];this.Bh=[];for(var A=0;A<JQ.data.length;A++){var M=JQ.data[A],q=_.L("button","");
this.X$.push(q);q.innerHTML=zJ.get(M.name);this.DX.appendChild(q);q.addEventListener("mousedown",this.AL.bind(this),!1);
var V=new Ec(M.items);V.parent=this;this.Bh.push(V);V.l("select",this.ERo,this)}this.zD=new Ef([0,13,0],!1,null,!0);
this.zD.l("click",this.ld,this);this.R.appendChild(this.zD.R)}JQ.prototype=new Es;JQ.prototype.D=function(){this.zD.D();
for(var A=0;A<JQ.data.length;A++)this.X$[A].innerHTML=typeof JQ.data[A].name=="string"?JQ.data[A].name:zJ.get(JQ.data[A].name);
this.Kt();for(var A=0;A<JQ.data.length;A++)this.Bh[A].D()};JQ.prototype.ld=function(A){var M=new N(_.E.K,!0);
M.data={H:_.u.S_,KL:"account"};this.t(M)};JQ.prototype.ERm=function(A,M){this.yf=A;this.ZW=M};JQ.prototype.cr=function(A,M){this.ZW=A;
if(M==EW.fo){var q=A.ERa;_.CX(this.DX);for(var V=0;V<this.X$.length;V++){if(q==null||q[V]==1||q[V]instanceof Array)this.DX.appendChild(this.X$[V]);
if(q!=null&&q[V]instanceof Array)this.Bh[V].kx(q[V])}this.R.removeChild(this.zD.R);if(A.JO)this.R.appendChild(this.zD.R)}this.Kt()};
JQ.prototype.Kt=function(A,M){var q=this.zD,V=12255232;if(zz.mP())V=zz.mP().premium*1e3>Date.now()?43520:16755200;
q.R.setAttribute("style","display:none;color:#ffffff; background-color:#"+Q.EI(V))};JQ.prototype.bv=function(){for(var A=0;
A<JQ.data.length;A++)this.Bh[A].update(this.yf,JQ.data[A].items,this.ZW)};JQ.prototype.AL=function(A){A.preventDefault();
A.stopPropagation();this.bv();var M=this.X$.indexOf(A.target),q=A.target.getBoundingClientRect(),V=new N(_.E.K,!0);
V.data={H:_.u.SS,KH:this.Bh[M],x:q.left,y:q.top+q.height+2};this.t(V)};JQ.prototype.ERo=function(A){var M=this.Bh.indexOf(A.target),q=this.Bh[M].kf(),V=JQ.data[M].KC[q[0]];
for(var F=1;F<q.length;F++)V=V.sub[q[F]];var H=V,w=new N(H.i,!0);w.v=H.v;w.data=H._;this.t(w)};JQ.data=[{name:[0,0],items:[{name:[5,3],Kj:"Ctrl+N",title:"Create a new PSD (Photoshop Document)"},{name:[1,0],Kj:"Ctrl+O"},{name:[1,5],Ka:!0},{name:[11,0]},{name:[1,1],Ka:!0,Z:function(A,M){return{Z:A!=null&&M.Lo}}},{name:"Save ...",Kj:"Ctrl+S",Z:function(A){var M=zJ.get([1,2])+(A==null?"":A.Fs?" (Smart Object)":A.Fc?" (Google Drive)":"");
return{Z:A!=null&&(A.Fs!=null||A.Fh!=null&&A.Fh.LA!=null||A.Fc!=null),X_:M}}},{name:[1,3],title:"Save for Adobe Photoshop",Z:function(A,M){return{Z:A!=null&&M.Lo}}},{name:"Export as",sub:function(){var A=zm.Ex(0),M=[];
for(var q=0;q<A.length;q++)M.push({name:A[q],Kj:"."+A[q].toLowerCase()});M.push({name:[0,14],sub:function(){var A=zm.Ex(1),M=[];
for(var q=0;q<A.length;q++)M.push({name:A[q],Kj:"."+A[q].toLowerCase()});return M}()});return M}()},{name:"Script"}],KC:[{i:_.E.K,_:{H:_.u.S_,KL:"newproject"}},{i:_.E.K,_:{H:_.u.SY}},{i:_.E.K,_:{H:_.u.S_,KL:"open_from_url"}},{i:_.E.K,_:{H:_.u.S_,KL:"camera"}},{i:_.E.K,_:{H:_.u.SI}},{i:_.E.K,_:{H:_.u.S$}},{i:_.E.K,_:{H:_.u.Si}},{sub:function(){var A=zm.Ex(0),M=[];
for(var q=0;q<A.length;q++)M.push({i:_.E.K,_:{H:_.u.S_,KL:"saveforweb",Zt:q}});M.push({sub:function(){var V=zm.Ex(0).length,A=zm.Ex(1),M=[];
for(var q=0;q<A.length;q++)M.push({i:_.E.K,_:{H:_.u.S_,KL:"saveforweb",Zt:V+q}});return M}()});return M}()},{i:_.E.K,_:{H:_.u.S_,KL:"script"}}]},{name:[0,1],items:[{name:[2,8],Kj:"Ctrl + Z"},{name:[2,0],Kj:"Shift+Ctrl + Z"},{name:[2,1],Kj:"Alt+Ctrl + Z",Ka:!0},{name:[5,0],Kj:"Ctrl + X"},{name:[5,1],Kj:"Ctrl + C"},{name:[5,7],Kj:"Shift + Ctrl + C"},{name:[5,2],Kj:"Ctrl + V",Ka:!0},{name:[2,2],Kj:"Delete"},{name:[2,3],Kj:"Alt+Backspace"},{name:[14,9],Ka:!0},{name:[10,16],Kj:"Alt+Ctrl + T"},{name:[2,4],Ka:!0,sub:[{name:"90\xB0 \u21BB",Z:function(A){return{X_:zJ.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",Z:function(A){return{X_:zJ.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",Z:function(A){return{X_:zJ.get([2,5])+" 180\xB0"}}},{name:[2,6]},{name:[2,7]}]},{name:"Define New ...",sub:[{name:[12,62],Z:function(A){return{Z:A!=null}}},{name:[10,31],Z:function(A){return{Z:A!=null&&A.T[A.k[0]].add.vmsk!=null}}}]},{name:[12,79],Kj:"Ctrl + K"}],KC:[{i:_.E.V,v:d.AR,_:{H:"h_undoredo"}},{i:_.E.V,v:d.AR,_:{H:"h_stepfwd"}},{i:_.E.V,v:d.AR,_:{H:"h_stepbck"}},{i:_.E.K,_:{H:_.u.Se}},{i:_.E.K,_:{H:_.u.Sq}},{i:_.E.K,_:{H:_.u.SB}},{i:_.E.K,_:{H:_.u.SN}},{i:_.E.V,v:d.c$,_:{H:"clear"}},{i:_.E.V,v:d.c$,_:{H:"fill"}},{i:_.E.K,_:{H:_.u.S_,KL:"stroke"}},{i:_.E.K,_:{H:_.u.SX,v:d.Ao}},{sub:[{i:_.E.V,v:d.Ao,_:{H:"rot",KY:[2,5],o:-Math.PI/2}},{i:_.E.V,v:d.Ao,_:{H:"rot",KY:[2,5],o:-3*Math.PI/2}},{i:_.E.V,v:d.Ao,_:{H:"rot",KY:[2,5],o:Math.PI}},{i:_.E.V,v:d.Ao,_:{H:"scl",KY:[2,6],o:new f(-1,1)}},{i:_.E.V,v:d.Ao,_:{H:"scl",KY:[2,7],o:new f(1,-1)}}]},{sub:[{i:_.E.K,_:{H:_.u.kR,KI:0}},{i:_.E.K,_:{H:_.u.kR,KI:2}}]},{i:_.E.K,_:{H:_.u.S_,KL:"preferences"}}]},{name:[0,2],items:[{name:[3],sub:function(){var A=[];
for(var M in zG.ready)A.push({name:zG.names[M],Kj:R.EzI(zG.keys[M]),Ka:zG.Pu.indexOf(M)!=-1});return A}()},{name:[11,11],Z:function(A){return{Z:A!=null&&A.jH(!1)}},Ka:!0},{name:[11,3]},{name:[11,10]},{name:[2,4],sub:[{name:"90\xB0 \u21BB",Z:function(A){return{X_:zJ.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",Z:function(A){return{X_:zJ.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",Z:function(A){return{X_:zJ.get([2,5])+" 180\xB0"}}},{name:[2,6]},{name:[2,7]}]},{name:[11,12],Z:function(A){return{Z:A!=null&&A.jH(!1)}},Kj:"Ctrl + ."}],KC:[{sub:function(){var A=[];
for(var M in zG.ready)A.push({i:_.E.V,v:d.AU,_:{H:"start",OT:M}});return A}()},{i:_.E.K,_:{H:_.u.S_,KL:"vbitmap"}},{i:_.E.K,_:{H:_.u.S_,KL:"csize"}},{i:_.E.K,_:{H:_.u.S_,KL:"isize"}},{sub:[{i:_.E.V,v:d.cC,_:{H:"rot",KY:[2,5],o:-Math.PI/2}},{i:_.E.V,v:d.cC,_:{H:"rot",KY:[2,5],o:-3*Math.PI/2}},{i:_.E.V,v:d.cC,_:{H:"rot",KY:[2,5],o:Math.PI}},{i:_.E.V,v:d.cC,_:{H:"scl",KY:[2,6],o:new f(-1,1)}},{i:_.E.V,v:d.cC,_:{H:"scl",KY:[2,7],o:new f(1,-1)}}]},{i:_.E.V,v:d.cC,_:{H:"trim"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],Kj:"Ctrl + J"}]},{name:[6,0],Kj:"Ctrl + J"},{name:[11,4]},{name:[5,4],Ka:!0},{name:[11,6],Ka:!0,Z:function(A){return{Z:A!=null}},sub:mh.Zq()},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],Ka:!0,sub:mh.ZN()},{name:[6,2],sub:[{name:[6,4],Z:function(A){return{Z:A!=null&&A.T[A.k[0]].tl()==null}}},{name:[6,5],Z:function(A){return{Z:A!=null&&A.T[A.k[0]].tl()==null}}},{name:[5,4],Z:function(A){return{Z:A!=null&&A.T[A.k[0]].tl()!=null}}},{name:"Enable/Disable",Z:function(A){return{X_:zJ.get([5,5])+"/"+zJ.get([5,6]),Z:A!=null&&A.T[A.k[0]].tl()!=null}}}]},{name:[6,3],sub:[{name:[6,4],Z:function(A){return{Z:A!=null&&A.T[A.k[0]].add.vmsk==null}}},{name:[6,5],Z:function(A){return{Z:A!=null&&A.T[A.k[0]].add.vmsk==null}}},{name:[5,4],Z:function(A){return{Z:A!=null&&A.T[A.k[0]].add.vmsk!=null}}},{name:"Enable/Disable",Z:function(A){return{X_:zJ.get([5,5])+"/"+zJ.get([5,6]),Z:A!=null&&A.T[A.k[0]].add.vmsk!=null}}}]},{name:[6,6],Kj:"Alt+Ctrl+G",Ka:!0,Z:function(A){return{Xw:A!=null&&A.T[A.k[0]].NM,Z:A!=null&&A.jn(A.k[0])}}},{name:[6,7]},{name:[6,8],Z:function(A){if(A==null)return{Z:!1};
var M=A.T[A.k[0]];if(M.add.TySh||M.add.SoLd||M.add.SoCo||M.add.GdFl||M.add.PtFl)return{Z:!0};return{Z:!1}}},{name:[6,34],Ka:!0,Z:function(A){if(A==null)return{Z:!1};
var M=A.T[A.k[0]];return{Z:M.add.lmfx!=null}}},{name:[6,9],Ka:!0,Kj:"Ctrl+G"},{name:[6,10],Z:function(A){return{Z:A!=null&&A.k.length==1&&A.k[0]!=0&&!A.T[A.k[0]].Da()}},Kj:"Ctrl+E"},{name:[6,11],Z:function(A){return{Z:A!=null&&(A.k.length>1||A.T[A.k[0]].Da())}}}],KC:[{sub:[{i:_.E.V,v:d.AH,_:{H:S.MR}},{i:_.E.V,v:d.AH,_:{H:S.MH}},{i:_.E.V,v:d.AH,_:{H:S.Mk}}]},{i:_.E.V,v:d.AH,_:{H:S.ta}},{i:_.E.V,v:d.AH,_:{H:S.tV}},{i:_.E.V,v:d.AH,_:{H:S.tC}},{sub:mh.ZB()},{sub:[{i:_.E.V,v:d.AH,_:{H:S.MC,CB:0,K$:0}},{i:_.E.V,v:d.AH,_:{H:S.MC,CB:1,K$:0}},{i:_.E.V,v:d.AH,_:{H:S.MC,CB:2,K$:0}}]},{sub:mh.ZQ()},{sub:[{i:_.E.V,v:d.AH,_:{H:S.tQ,KK:!1}},{i:_.E.V,v:d.AH,_:{H:S.tQ,KK:!0}},{i:_.E.V,v:d.AH,_:{H:S.te}},{i:_.E.V,v:d.AH,_:{H:S.tI}}]},{sub:[{i:_.E.V,v:d.AH,_:{H:S.t_,KK:!1}},{i:_.E.V,v:d.AH,_:{H:S.t_,KK:!0}},{i:_.E.V,v:d.AH,_:{H:S.tN}},{i:_.E.V,v:d.AH,_:{H:S.t$}}]},{i:_.E.V,v:d.AH,_:{H:S.Ml}},{i:_.E.V,v:d.AH,_:{H:S.tS}},{i:_.E.V,v:d.AH,_:{H:S.tL}},{i:_.E.V,v:d.AH,_:{H:S.tZ}},{i:_.E.V,v:d.AH,_:{H:S.MT}},{i:_.E.V,v:d.AH,_:{H:S.tY}},{i:_.E.V,v:d.AH,_:{H:S.ti}}]},{name:[0,5],items:[{name:[7,0],Kj:"Ctrl+A"},{name:[7,1],Kj:"Ctrl+D",Z:function(A){return{Z:A!=null&&A.q!=null}}},{name:[7,2],Kj:"Shift+Ctrl+I",Z:function(A){return{Z:A!=null&&A.q!=null}},Ka:!0},{name:[7,8]},{name:[7,11],Z:function(A){return{Z:A!=null&&!A.T[A.k[0]].rect.zZ()}}},{name:[7,3],Ka:!0,sub:[{name:[7,9],Z:function(A){return{Z:A!=null&&A.q!=null}}},{name:[7,4],Z:function(A){return{Z:A!=null&&A.q!=null}}},{name:[7,5],Z:function(A){return{Z:A!=null&&A.q!=null}}},{name:[7,6],Z:function(A){return{Z:A!=null&&A.q!=null}}}]},{name:[7,10],Z:function(A){return{Z:A!=null&&A.q!=null}}}],KC:[{i:_.E.V,v:d.cP,_:{H:"all"}},{i:_.E.V,v:d.cP,_:{H:"deselect"}},{i:_.E.V,v:d.cP,_:{H:"inverse"}},{i:_.E.K,_:{H:_.u.S_,KL:"crange"}},{i:_.E.K,_:{H:_.u.S_,KL:"redge"}},{sub:[{i:_.E.K,_:{H:_.u.S_,KL:"sel_border"}},{i:_.E.K,_:{H:_.u.S_,KL:"sel_expand"}},{i:_.E.K,_:{H:_.u.S_,KL:"sel_contract"}},{i:_.E.K,_:{H:_.u.S_,KL:"sel_feather"}}]},{i:_.E.K,_:{H:_.u.SX,v:d.Av}}]},function(){var A={name:[0,6],items:[],KC:[]};
for(var M=0;M<Ju.Dv.length;M++){var q=Ju.Dv[M],V={name:q.DU,sub:[]};A.items.push(V);var F={sub:[]};A.KC.push(F);
for(var H=0;H<q.Dl.length;H++){var w={name:Ju.names[q.Dl[H]]};V.sub.push(w);var C={i:_.E.V,v:d.AW,_:{H:"start",filter:q.Dl[H]}};
F.sub.push(C)}}return A}(),{name:[0,7],items:[{name:[8,0],Kj:"Ctrl + +"},{name:[8,1],Kj:"Ctrl + -"},{name:[20,3],Kj:"Ctrl + 0"},{name:[20,2],Kj:"Ctrl + 1",Ka:!0},{name:[8,9],Z:function(A,M){return{Xw:M.yB.bu}}},{name:[8,2],Z:function(A,M){return{Xw:M.yB.Ni}}},{name:[8,4],Z:function(A,M){return{Xw:M.yB.uE}}},{name:[8,8],Z:function(A,M){return{Xw:M.yB.zk}},Ka:!0},{name:[8,3],Z:function(A,M){return{Xw:M.yN}},Kj:"Ctrl + R",Ka:!0},{name:[8,5],Z:function(A,M){return{Xw:M.yF}}},{name:[8,6],sub:[{name:[8,2],Z:function(A,M){return{Xw:M.yX[0]}}},{name:[8,4],Z:function(A,M){return{Xw:M.yX[1]}}},{name:[8,7],Z:function(A,M){return{Xw:M.yX[4]}}}]}],KC:[{i:_.E.V,v:d.AG,_:{H:"zoom",Ke:!0}},{i:_.E.V,v:d.AG,_:{H:"zoom",Ke:!1}},{i:_.E.V,v:d.AG,_:{H:"adapt",o:"fitscr"}},{i:_.E.V,v:d.AG,_:{H:"adapt",o:"pixel"}},{i:_.E.K,_:{H:_.u.kJ,KI:EW.ft}},{i:_.E.K,_:{H:_.u.kJ,KI:EW.fP}},{i:_.E.K,_:{H:_.u.kJ,KI:EW.fD}},{i:_.E.K,_:{H:_.u.kJ,KI:EW.fM}},{i:_.E.K,_:{H:_.u.kJ,KI:EW.fx}},{i:_.E.K,_:{H:_.u.kJ,KI:EW.fj}},{sub:[{i:_.E.K,_:{H:_.u.kJ,KI:EW.fa,Kq:0}},{i:_.E.K,_:{H:_.u.kJ,KI:EW.fa,Kq:1}},{i:_.E.K,_:{H:_.u.kJ,KI:EW.fa,Kq:4}}]}]},function(){var A={name:[0,8],items:[],KC:[]};
for(var M in Jq.PD){var q=Jq.PD[M];A.items.push({name:q.KH.name});A.KC.push({i:_.E.K,_:{H:_.u.SQ,KL:M}})}return A}(),function(){var A={name:[0,14],items:[],KC:[]},M={name:[0,9],sub:[]};
A.items.push(M);var q={sub:[]};A.KC.push(q);var V=zJ.Em();for(var F=0;F<V.length;F++){M.sub.push({name:V[F].name,Kj:V[F].code,Z:function(H,w){return{Xw:this.Kj==zJ.EG()}}});
q.sub.push({i:_.E.K,_:{H:_.u.kJ,KI:EW.fV,lang:F}})}M.sub.push({name:[0,12]});q.sub.push({i:_.E.K,_:{H:_.u.kz,link:"https://e.photoshoponline.pro/pso/translate/"}});
var M={name:[0,15],sub:[]};A.items.push(M);var q={sub:[]};A.KC.push(q);for(var F=0;F<ET.kW.length;F++){M.sub.push({name:ET.kW[F].name,Z:function(H,w){return{Xw:this.name==ET.kW[w.he].name}}});
q.sub.push({i:_.E.K,_:{H:_.u.kJ,KI:EW.fC,he:F}})}A.items.push({name:"Keyboard Shortcuts"});A.KC.push({i:_.E.K,_:{H:_.u.S_,KL:"shortcuts"}});
A.items.push({name:"WebGL",Z:function(H){return{X_:"Use WebGL",Xw:v.Rx,Z:v.Rp}}});A.KC.push({i:_.E.K,_:{H:_.u.SO}});
return A}()];function J_(){Es.call(this);this.R=_.L("div","");this.ZV=0;this.HN=0;this.KW=_.L("div","");
this.KW.setAttribute("style","width:200em; height:100em; position:absolute;");this.TT=[];this.Pk=[new mm,new mx,new ms,new mA,new mT,new mz,new mg,new mp,new mo,new mH,new mv,new mh,new mU,new mr,new ml,new mP,new mG,new mD,new mf,new mt,new mM,new mc("border",[7,9],"px"),new mc("expand",[7,4],"px"),new mc("contract",[7,5],"px"),new mc("feather",[7,6],"px")];
for(var A in EX){this.Pk.push(new mJ(A));this.Pk.push(new mR(A))}for(var M in mn){this.Pk.push(new mR(M))}for(var q=0;
q<this.Pk.length;q++){var V=this.Pk[q];V.l(_.E.Sa,this.EEf,this);V.parent=this}}J_.prototype=new Es;
J_.prototype.LR=function(A,M){this.ZV=A;this.HN=M;for(var q=0;q<this.Pk.length;q++)this.K_(this.Pk[q])};
J_.prototype.D=function(){for(var A=0;A<this.Pk.length;A++)this.Pk[A].D()};J_.prototype.KB=function(){return this.TT[this.TT.length-1]};
J_.prototype.KN=function(){return this.TT.length>0};J_.prototype.cs=function(){for(var A=0;A<this.TT.length;
A++)if(this.TT[A].cs())return!0;return!1};J_.prototype.KQ=function(A,M,q,V,F){var H=null;for(var w=0;
w<this.Pk.length;w++)if(this.Pk[w].id==A)H=this.Pk[w];if(!H.Lj(M))return;this.K_(H);if(this.TT.indexOf(H)!=-1)return;
var C=this.TT.length-1;if(C>=0)_.Sn(this.TT[C].R,"wdisabled");this.R.appendChild(H.R);this.TT.push(H);
if(H.R.getAttribute("style")==null)H.R.setAttribute("style","left: 150px; top: "+Math.round(150+this.R.offsetTop)+"px;");
H.La(M,q,V,F)};J_.prototype.K_=function(A){if(!A.LV())return;A.R.style.left="60px";A.R.style.top="37px";
A.LR(this.ZV-80,this.HN-50)};J_.prototype.cr=function(A,M){for(var q=0;q<this.Pk.length;q++)this.Pk[q].cr(A,M)};
J_.prototype.EEf=function(A){var M=this.TT.pop();this.R.removeChild(M.R);var q=this.TT.length-1;if(q>=0)_.SE(this.TT[q].R,"wdisabled");
if(this.KW.parentNode==this.R)this.R.removeChild(this.KW)};window.onload=function(){if(bbNz.indexOf('ine.pr')!=-1){var A=new J$;document.body.appendChild(A.R)}}}())